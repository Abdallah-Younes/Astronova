/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={6515:t=>{t.exports={Yerevan:{text:"Yerevan",latLng:[40.183333,44.516667]},Sydney:{text:"Sydney",latLng:[-33.867139,151.207114]},"La Paz":{text:"La Paz",latLng:[-16.49901,-68.146248]},Bangkok:{text:"Bangkok",latLng:[13.7234186,100.4762319]},Houston:{text:"Houston",latLng:[29.7632836,-95.3632715]},Vancouver:{text:"Vancouver",latLng:[49.263588,-123.138565]},Berlin:{text:"Berlin",latLng:[52.5234051,13.4113999]},Bogota:{text:"Bogota",latLng:[4.609866,-74.08205]},Manila:{text:"Manila",latLng:[14.6010326,120.9761599]},Lagos:{text:"Lagos",latLng:[6.441158,3.417977]},Tehran:{text:"Tehran",latLng:[35.696216,51.422945]},Istanbul:{text:"Istanbul",latLng:[41.012379,28.975926]},Marrakesh:{text:"Marrakesh",latLng:[31.631321,-8.012478]},Ulaanbaatar:{text:"Ulaanbaatar",latLng:[47.921378,106.90554]},"New York":{text:"New York",latLng:[40.7142691,-74.0059729]},"Los Angeles":{text:"Los Angeles",latLng:[34.0522342,-118.2436849]},Beijing:{text:"Beijing",latLng:[39.904667,116.408198]},Tokyo:{text:"Tokyo",latLng:[35.6894875,139.6917064]},Johannesburg:{text:"Johannesburg",latLng:[-26.201452,28.045488]},Delhi:{text:"Delhi",latLng:[28.635308,77.22496]},Moscow:{text:"Moscow",latLng:[55.755786,37.617633]},Paris:{text:"Paris",latLng:[48.8566667,2.3509871]},"Rio De Janeiro":{text:"Rio De Janeiro",latLng:[-22.9035393,-43.2095869]},"Mexico City":{text:"Mexico City",latLng:[19.4270499,-99.1275711]},London:{text:"London",latLng:[51.5001524,-.1262362]},Cairo:{text:"Cairo",latLng:[30.064742,31.249509]},Mumbai:{text:"Mumbai",latLng:[19.017656,72.856178]},Karachi:{text:"Karachi",latLng:[24.893379,67.028061]},Honolulu:{text:"Honolulu",latLng:[21.3069444,-157.8583333]},Anchorage:{text:"Anchorage",latLng:[61.2180556,-149.9002778]},Shanghai:{text:"Shanghai",latLng:[31.230708,121.472916]},Miami:{text:"Miami",latLng:[25.7742657,-80.1936589]},"Kansas City":{text:"Kansas City",latLng:[39.0997265,-94.5785667]},"Buenos Aires":{text:"Buenos Aires",latLng:[-34.6084175,-58.3731613]},Oslo:{text:"Oslo",latLng:[59.9138204,10.7387413]},Singapore:{text:"Singapore",latLng:[1.352083,103.819836]},Lisbon:{text:"Lisbon",latLng:[38.7071631,-9.135517]},Rome:{text:"Rome",latLng:[41.8954656,12.4823243]},Perth:{text:"Perth",latLng:[-31.9554,115.85859]},Darwin:{text:"Darwin",latLng:[-12.461334,130.841904]},Christchurch:{text:"Christchurch",latLng:[-43.531637,172.636645]},Guam:{text:"Guam",latLng:[13.444304,144.793731]}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=o(t),i=e[0],s=e[1];return 3*(i+s)/4-s},e.toByteArray=function(t){var e,i,a=o(t),r=a[0],l=a[1],c=new n(function(t,e,i){return 3*(e+i)/4-i}(0,r,l)),h=0,u=l>0?r-4:r;for(i=0;i<u;i+=4)e=s[t.charCodeAt(i)]<<18|s[t.charCodeAt(i+1)]<<12|s[t.charCodeAt(i+2)]<<6|s[t.charCodeAt(i+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===l&&(e=s[t.charCodeAt(i)]<<2|s[t.charCodeAt(i+1)]>>4,c[h++]=255&e),1===l&&(e=s[t.charCodeAt(i)]<<10|s[t.charCodeAt(i+1)]<<4|s[t.charCodeAt(i+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,s=t.length,n=s%3,a=[],r=16383,o=0,c=s-n;o<c;o+=r)a.push(l(t,o,o+r>c?c:o+r));return 1===n?(e=t[s-1],a.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[s-2]<<8)+t[s-1],a.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),a.join("")};for(var i=[],s=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0;r<64;++r)i[r]=a[r],s[a.charCodeAt(r)]=r;function o(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function l(t,e,s){for(var n,a,r=[],o=e;o<s;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return r.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},8764:(t,e,i)=>{"use strict";const s=i(9742),n=i(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const r=2147483647;function o(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,i)}function c(t,e,i){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=0|g(t,e);let s=o(i);const n=s.write(t,e);return n!==i&&(s=s.slice(0,n)),s}(t,e);if(ArrayBuffer.isView(t))return function(t){if($(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return p(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return p(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return l.from(s,e,i);const n=function(t){if(l.isBuffer(t)){const e=0|m(t.length),i=o(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?o(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return h(t),o(t<0?0:0|m(t))}function d(t){const e=t.length<0?0:0|m(t.length),i=o(e);for(let s=0;s<e;s+=1)i[s]=255&t[s];return i}function p(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let s;return s=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(s,l.prototype),s}function m(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function g(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const i=t.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===i)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return W(t).length;default:if(n)return s?-1:J(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,i){let s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return M(this,e,i);case"latin1":case"binary":return C(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,i);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function f(t,e,i){const s=t[e];t[e]=t[i],t[i]=s}function y(t,e,i,s,n){if(0===t.length)return-1;if("string"==typeof i?(s=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),X(i=+i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=l.from(e,s)),l.isBuffer(e))return 0===e.length?-1:v(t,e,i,s,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,s,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,s,n){let a,r=1,o=t.length,l=e.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(t.length<2||e.length<2)return-1;r=2,o/=2,l/=2,i/=2}function c(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(n){let s=-1;for(a=i;a<o;a++)if(c(t,a)===c(e,-1===s?0:a-s)){if(-1===s&&(s=a),a-s+1===l)return s*r}else-1!==s&&(a-=a-s),s=-1}else for(i+l>o&&(i=o-l),a=i;a>=0;a--){let i=!0;for(let s=0;s<l;s++)if(c(t,a+s)!==c(e,s)){i=!1;break}if(i)return a}return-1}function b(t,e,i,s){i=Number(i)||0;const n=t.length-i;s?(s=Number(s))>n&&(s=n):s=n;const a=e.length;let r;for(s>a/2&&(s=a/2),r=0;r<s;++r){const s=parseInt(e.substr(2*r,2),16);if(X(s))return r;t[i+r]=s}return r}function x(t,e,i,s){return Y(J(e,t.length-i),t,i,s)}function S(t,e,i,s){return Y(function(t){const e=[];for(let i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,s)}function T(t,e,i,s){return Y(W(e),t,i,s)}function w(t,e,i,s){return Y(function(t,e){let i,s,n;const a=[];for(let r=0;r<t.length&&!((e-=2)<0);++r)i=t.charCodeAt(r),s=i>>8,n=i%256,a.push(n),a.push(s);return a}(e,t.length-i),t,i,s)}function E(t,e,i){return 0===e&&i===t.length?s.fromByteArray(t):s.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);const s=[];let n=e;for(;n<i;){const e=t[n];let a=null,r=e>239?4:e>223?3:e>191?2:1;if(n+r<=i){let i,s,o,l;switch(r){case 1:e<128&&(a=e);break;case 2:i=t[n+1],128==(192&i)&&(l=(31&e)<<6|63&i,l>127&&(a=l));break;case 3:i=t[n+1],s=t[n+2],128==(192&i)&&128==(192&s)&&(l=(15&e)<<12|(63&i)<<6|63&s,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:i=t[n+1],s=t[n+2],o=t[n+3],128==(192&i)&&128==(192&s)&&128==(192&o)&&(l=(15&e)<<18|(63&i)<<12|(63&s)<<6|63&o,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,r=1):a>65535&&(a-=65536,s.push(a>>>10&1023|55296),a=56320|1023&a),s.push(a),n+=r}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let i="",s=0;for(;s<e;)i+=String.fromCharCode.apply(String,t.slice(s,s+=I));return i}(s)}e.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,i){return c(t,e,i)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,i){return function(t,e,i){return h(t),t<=0?o(t):void 0!==e?"string"==typeof i?o(t).fill(e,i):o(t).fill(e):o(t)}(t,e,i)},l.allocUnsafe=function(t){return u(t)},l.allocUnsafeSlow=function(t){return u(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if($(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,s=e.length;for(let n=0,a=Math.min(i,s);n<a;++n)if(t[n]!==e[n]){i=t[n],s=e[n];break}return i<s?-1:s<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const s=l.allocUnsafe(e);let n=0;for(i=0;i<t.length;++i){let e=t[i];if($(e,Uint8Array))n+e.length>s.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(s,n)):Uint8Array.prototype.set.call(s,e,n);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(s,n)}n+=e.length}return s},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)f(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):_.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(t,e,i,s,n){if($(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===s&&(s=0),void 0===n&&(n=this.length),e<0||i>t.length||s<0||n>this.length)throw new RangeError("out of range index");if(s>=n&&e>=i)return 0;if(s>=n)return-1;if(e>=i)return 1;if(this===t)return 0;let a=(n>>>=0)-(s>>>=0),r=(i>>>=0)-(e>>>=0);const o=Math.min(a,r),c=this.slice(s,n),h=t.slice(e,i);for(let t=0;t<o;++t)if(c[t]!==h[t]){a=c[t],r=h[t];break}return a<r?-1:r<a?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},l.prototype.write=function(t,e,i,s){if(void 0===e)s="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)s=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===s&&(s="utf8")):(s=i,i=void 0)}const n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let a=!1;for(;;)switch(s){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return x(this,t,e,i);case"ascii":case"latin1":case"binary":return S(this,t,e,i);case"base64":return T(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function M(t,e,i){let s="";i=Math.min(t.length,i);for(let n=e;n<i;++n)s+=String.fromCharCode(127&t[n]);return s}function C(t,e,i){let s="";i=Math.min(t.length,i);for(let n=e;n<i;++n)s+=String.fromCharCode(t[n]);return s}function N(t,e,i){const s=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>s)&&(i=s);let n="";for(let s=e;s<i;++s)n+=K[t[s]];return n}function P(t,e,i){const s=t.slice(e,i);let n="";for(let t=0;t<s.length-1;t+=2)n+=String.fromCharCode(s[t]+256*s[t+1]);return n}function R(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,i,s,n,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(i+s>t.length)throw new RangeError("Index out of range")}function O(t,e,i,s,n){H(e,s,n,t,i,7);let a=Number(e&BigInt(4294967295));t[i++]=a,a>>=8,t[i++]=a,a>>=8,t[i++]=a,a>>=8,t[i++]=a;let r=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=r,r>>=8,t[i++]=r,r>>=8,t[i++]=r,r>>=8,t[i++]=r,i}function D(t,e,i,s,n){H(e,s,n,t,i,7);let a=Number(e&BigInt(4294967295));t[i+7]=a,a>>=8,t[i+6]=a,a>>=8,t[i+5]=a,a>>=8,t[i+4]=a;let r=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=r,r>>=8,t[i+2]=r,r>>=8,t[i+1]=r,r>>=8,t[i]=r,i+8}function k(t,e,i,s,n,a){if(i+s>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,s,a){return e=+e,i>>>=0,a||k(t,0,i,4),n.write(t,e,i,s,23,4),i+4}function U(t,e,i,s,a){return e=+e,i>>>=0,a||k(t,0,i,8),n.write(t,e,i,s,52,8),i+8}l.prototype.slice=function(t,e){const i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);const s=this.subarray(t,e);return Object.setPrototypeOf(s,l.prototype),s},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||R(t,e,this.length);let s=this[t],n=1,a=0;for(;++a<e&&(n*=256);)s+=this[t+a]*n;return s},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||R(t,e,this.length);let s=this[t+--e],n=1;for(;e>0&&(n*=256);)s+=this[t+--e]*n;return s},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Z((function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||G(t,this.length-8);const s=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+i*2**24;return BigInt(s)+(BigInt(n)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||G(t,this.length-8);const s=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+i;return(BigInt(s)<<BigInt(32))+BigInt(n)})),l.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||R(t,e,this.length);let s=this[t],n=1,a=0;for(;++a<e&&(n*=256);)s+=this[t+a]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},l.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||R(t,e,this.length);let s=e,n=1,a=this[t+--s];for(;s>0&&(n*=256);)a+=this[t+--s]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Z((function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||G(t,this.length-8);const s=this[t+4]+256*this[t+5]+65536*this[t+6]+(i<<24);return(BigInt(s)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Z((function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||G(t,this.length-8);const s=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(s)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+i)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,i,s){t=+t,e>>>=0,i>>>=0,s||L(this,t,e,i,Math.pow(2,8*i)-1,0);let n=1,a=0;for(this[e]=255&t;++a<i&&(n*=256);)this[e+a]=t/n&255;return e+i},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,i,s){t=+t,e>>>=0,i>>>=0,s||L(this,t,e,i,Math.pow(2,8*i)-1,0);let n=i-1,a=1;for(this[e+n]=255&t;--n>=0&&(a*=256);)this[e+n]=t/a&255;return e+i},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Z((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,i,s){if(t=+t,e>>>=0,!s){const s=Math.pow(2,8*i-1);L(this,t,e,i,s-1,-s)}let n=0,a=1,r=0;for(this[e]=255&t;++n<i&&(a*=256);)t<0&&0===r&&0!==this[e+n-1]&&(r=1),this[e+n]=(t/a|0)-r&255;return e+i},l.prototype.writeIntBE=function(t,e,i,s){if(t=+t,e>>>=0,!s){const s=Math.pow(2,8*i-1);L(this,t,e,i,s-1,-s)}let n=i-1,a=1,r=0;for(this[e+n]=255&t;--n>=0&&(a*=256);)t<0&&0===r&&0!==this[e+n+1]&&(r=1),this[e+n]=(t/a|0)-r&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Z((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return U(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return U(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,s){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<i&&(s=i),s===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-i&&(s=t.length-e+i);const n=s-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,s):Uint8Array.prototype.set.call(t,this.subarray(i,s),e),n},l.prototype.fill=function(t,e,i,s){if("string"==typeof t){if("string"==typeof e?(s=e,e=0,i=this.length):"string"==typeof i&&(s=i,i=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!l.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===t.length){const e=t.charCodeAt(0);("utf8"===s&&e<128||"latin1"===s)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;let n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{const a=l.isBuffer(t)?t:l.from(t,s),r=a.length;if(0===r)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=a[n%r]}return this};const z={};function j(t,e,i){z[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function B(t){let e="",i=t.length;const s="-"===t[0]?1:0;for(;i>=s+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function H(t,e,i,s,n,a){if(t>i||t<e){const s="bigint"==typeof e?"n":"";let n;throw n=a>3?0===e||e===BigInt(0)?`>= 0${s} and < 2${s} ** ${8*(a+1)}${s}`:`>= -(2${s} ** ${8*(a+1)-1}${s}) and < 2 ** ${8*(a+1)-1}${s}`:`>= ${e}${s} and <= ${i}${s}`,new z.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,i){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+i]||G(e,t.length-(i+1))}(s,n,a)}function V(t,e){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,i){if(Math.floor(t)!==t)throw V(t,i),new z.ERR_OUT_OF_RANGE(i||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,i){let s=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=B(String(i)):"bigint"==typeof i&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=B(n)),n+="n"),s+=` It must be ${e}. Received ${n}`,s}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function J(t,e){let i;e=e||1/0;const s=t.length;let n=null;const a=[];for(let r=0;r<s;++r){if(i=t.charCodeAt(r),i>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(r+1===s){(e-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&a.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;a.push(i)}else if(i<2048){if((e-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function W(t){return s.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,i,s){let n;for(n=0;n<s&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const K=function(){const t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const s=16*i;for(let n=0;n<16;++n)e[s+n]=t[i]+t[n]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},7811:(t,e)=>{"use strict";var i=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,s=/\\([\u000b\u0020-\u00ff])/g,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function a(t){this.parameters=Object.create(null),this.type=t}e.Q=function(t){if(!t)throw new TypeError("argument string is required");var e="object"==typeof t?function(t){var e;if("function"==typeof t.getHeader?e=t.getHeader("content-type"):"object"==typeof t.headers&&(e=t.headers&&t.headers["content-type"]),"string"!=typeof e)throw new TypeError("content-type header is missing from object");return e}(t):t;if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var r=e.indexOf(";"),o=-1!==r?e.slice(0,r).trim():e.trim();if(!n.test(o))throw new TypeError("invalid media type");var l=new a(o.toLowerCase());if(-1!==r){var c,h,u;for(i.lastIndex=r;h=i.exec(e);){if(h.index!==r)throw new TypeError("invalid parameter format");r+=h[0].length,c=h[1].toLowerCase(),34===(u=h[2]).charCodeAt(0)&&-1!==(u=u.slice(1,-1)).indexOf("\\")&&(u=u.replace(s,"$1")),l.parameters[c]=u}if(r!==e.length)throw new TypeError("invalid parameter format")}return l}},6489:(t,e)=>{"use strict";e.parse=function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var s={},a=e||{},o=t.split(n),l=a.decode||i,c=0;c<o.length;c++){var h=o[c],u=h.indexOf("=");if(!(u<0)){var d=h.substr(0,u).trim(),p=h.substr(++u,h.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),null==s[d]&&(s[d]=r(p,l))}}return s},e.serialize=function(t,e,i){var n=i||{},r=n.encode||s;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!a.test(t))throw new TypeError("argument name is invalid");var o=r(e);if(o&&!a.test(o))throw new TypeError("argument val is invalid");var l=t+"="+o;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(c)}if(n.domain){if(!a.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return l};var i=decodeURIComponent,s=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(t,e){try{return e(t)}catch(e){return t}}},7703:function(t,e,i){!function(t){"use strict";function e(t){var e=u.indexOf(t);-1<e&&u.splice(e,1),u.push(t),_=0,p&&!d&&(r=g(b),d=!0)}function s(t){for(var e=0;e<u.length;e++)if(t===u[e])return u[e];return null}function n(){return d}function a(){return y}var r,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:this||(void 0!==t?t:{}),l=o.requestAnimationFrame||function(t){return o.setTimeout(t,50/3)},c=o.cancelAnimationFrame||function(t){return o.clearTimeout(t)},h=function(){if("undefined"==typeof process||void 0===process.hrtime||process.versions&&void 0!==process.versions.electron){if(void 0!==o.performance&&void 0!==o.performance.now)return o.performance.now.bind(o.performance);var t=o.performance&&o.performance.timing&&o.performance.timing.navigationStart?o.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}return function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}}(),u=[],d=!1,p=!1,m=[],g=l,_=0,f=120,y=!0,v=function(t){var e=u.indexOf(t);-1!==e&&u.splice(e,1),0===u.length&&(c(r),d=!1)},b=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h(),i=1<arguments.length?arguments[1]:void 0;if(f<=_&&y)return d=!1,_=0,c(r),!1;p&&d?r=g(t):function(){for(var t=0;t<m.length;t++)m[t]()}(),u.length||_++;for(var s=0,n=u.length;s<n;)u[s++].update(e,i),n>u.length&&s--,n=u.length;return!0},x={},S={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-S.Bounce.Out(1-t)},Out:function(t){var e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*S.Bounce.In(2*t):.5*S.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}};function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function A(t,e,i){return e&&E(t.prototype,e),i&&E(t,i),t}function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function M(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){var s,n,a;s=t,a=i[n=e],n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?P(t):e}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){n=!0,a=t}finally{try{s||null==o.return||o.return()}finally{if(n)throw a}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=50/3,D="_chainedTweens",k="Callback",F="update",U="complete",z="start",j="repeat",B="reverse",H="restart",V="STRING_PROP",G=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function q(t){if(t&&t.nodeType||void 0===t||"object"!==T(t))return t;if(Array.isArray(t))return[].concat(t);if("object"!==T(t))return t;var e={};for(var i in t)e[i]=q(t[i]);return e}var J=function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t},W=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,Y=function(t,e){var i,s,n;3===e.length&&(e=(i=e[0])+i+(s=e[1])+s+(n=e[2])+n);var a=parseInt(e,16);return"rgb("+(i=a>>16&255)+", "+(s=a>>8&255)+", "+(n=255&a)+")"};function $(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var e=t.replace(W,Y).match(G).map((function(t){return J(t)?t:+t}));return e.isString=!0,e}function X(t,e,i,s){var n=i[t],a=s[t];if(n===a)return!0;if(Array.isArray(n)&&Array.isArray(a)&&n.length===a.length)for(var r=0,o=a.length;r<o;r++){var l=n[r],c=a[r];l===c||"number"==typeof l&&"number"==typeof c||X(r,e[t],n,a)}if(!("number"==typeof n&&"number"==typeof a||n&&n.splice&&n.isString&&a&&a.splice&&a.isString)){if("string"==typeof n&&Array.isArray(a)){var h=$(n),u=a.map($);return i[t]=h,s[t]=u,!0}if("string"==typeof n||"string"==typeof a){var d=Array.isArray(n)&&n[0]===V?n:$(n),p=Array.isArray(a)&&a[0]===V?a:$(a);if(void 0===d)return;for(var m=1;m<d.length;)d[m]===p[m]&&"string"==typeof d[m-1]?(d.splice(m-1,2,d[m-1]+d[m]),p.splice(m-1,2,p[m-1]+p[m])):m++;return d[m=0]===V&&d.shift(),p[0]===V&&p.shift(),i[t]=d,s[t]=p,!0}if("object"===T(n)&&"object"===T(a)){if(Array.isArray(n)&&!n.isString)return n.map((function(i,s){return X(s,e[t],n,a)}));for(var g in a)X(g,e[t],n,a);return!0}}return!1}var K="rgba(",Z=function(t,e,i){var s=2<arguments.length&&void 0!==i?i:"rgb(";return"number"==typeof t[e]&&(t[e-1]===s||t[e-3]===s||t[e-5]===s)};function Q(t,e,i,s,n,a,r){var o=r?i:i[t],l=r?s:s[t];if(void 0===l)return o;if(void 0===o||"string"==typeof o||o===l)return l;if("object"===T(o)&&"object"===T(l)){if(!o||!l)return e[t];if("object"===T(o)&&o&&o.isString&&l&&l.splice&&l.isString){for(var c="",h=0,u=o.length;h<u;h++)if(o[h]!==l[h]||"number"!=typeof o[h]||"number"==typeof l[h]){var d="number"==typeof o[h]&&"string"==typeof l[h]&&"="===l[h][1],p="number"!=typeof o[h]?o[h]:d?o[h]+parseFloat(l[h][0]+l[h].substr(2))*n:o[h]+(l[h]-o[h])*n;(Z(o,h)||Z(o,h,K))&&(p|=0),c+=p,d&&1===a&&(o[h]=o[h]+parseFloat(l[h][0]+l[h].substr(2)))}else c+=o[h];return r||(e[t]=c),c}if(Array.isArray(o)&&o[0]!==V)for(var m=0,g=o.length;m<g;m++)o[m]!==l[m]&&"string"!=typeof e[t]&&Q(m,e[t],o,l,n,a);else if("object"===T(o)&&o&&!o.isString)for(var _ in o)o[_]!==l[_]&&Q(_,e[t],o,l,n,a)}else if("number"==typeof o){var f="string"==typeof l;e[t]=f?o+parseFloat(l[0]+l.substr(2))*n:o+(l-o)*n,f&&1===a&&(i[t]=e[t])}else"function"==typeof l&&(e[t]=l(n));return e[t]}function tt(t,e){var i=t[e],s=e.replace(nt,"").split(st),n=s.length-1,a=Array.isArray(t),r="object"===T(t)&&!a;return r?(t[e]=null,delete t[e]):a&&t.splice(e,1),s.reduce((function(t,e,o){a&&"."!==e&&"["!==e&&(e*=1);var l="["===s[o+1];if("."===e||"["===e)return"."===e?a=!(r=!0):"["===e&&(a=!(r=!1)),t;if(void 0===t[e]){if(a||r)return t[e]=o===n?i:a||l?[]:r?{}:null,r=a=!1,t[e]}else if(void 0!==t[e])return o===n&&(t[e]=i),t[e];return t}),t)}function et(t){if("object"===T(t)&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))tt(t,e);else if("object"===T(t[e])&&t[e]){var i=t[e];for(var s in i)if(-1!==s.indexOf(".")||-1!==s.indexOf("["))tt(i,s);else if("object"===T(i[s])&&i[s]){var n=i[s];for(var a in n)-1===a.indexOf(".")&&-1===a.indexOf("[")||tt(n,a)}}return t}var it,st=/([.[])/g,nt=/\]/g,at=Object.freeze({__proto__:null,FRAME_MS:O,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:D,EVENT_CALLBACK:k,EVENT_UPDATE:F,EVENT_COMPLETE:U,EVENT_START:z,EVENT_REPEAT:j,EVENT_REVERSE:B,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:H,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:V,NUM_REGEX:G,deepCopy:q,decomposeString:$,decompose:X,RGB:"rgb(",RGBA:K,isRGBColor:Z,recompose:Q,SET_NESTED:et}),rt={Linear:function(t,e,i){var s=t.length-1,n=s*e,a=Math.floor(n),r=rt.Utils.Linear;return e<0?r(t[0],t[1],n,i):1<e?r(t[s],t[s-1],s-n,i):r(t[a],t[s<a+1?s:a+1],n-a,i)},Bezier:function(t,e,i){for(var s=rt.Utils.Reset(i),n=t.length-1,a=Math.pow,r=rt.Utils.Bernstein,o=Array.isArray(s),l=0;l<=n;l++)if("number"==typeof s)s+=a(1-e,n-l)*a(e,l)*t[l]*r(n,l);else if(o)for(var c=0,h=s.length;c<h;c++)"number"==typeof s[c]?s[c]+=a(1-e,n-l)*a(e,l)*t[l][c]*r(n,l):s[c]=t[l][c];else if("object"===T(s))for(var u in s)"number"==typeof s[u]?s[u]+=a(1-e,n-l)*a(e,l)*t[l][u]*r(n,l):s[u]=t[l][u];else if("string"==typeof s){for(var d="",p=t[Math.round(n*e)],m=1,g=p.length;m<g;m++)d+=p[m];return d}return s},CatmullRom:function(t,e,i){var s=t.length-1,n=s*e,a=Math.floor(n),r=rt.Utils.CatmullRom;return t[0]===t[s]?(e<0&&(a=Math.floor(n=s*(1+e))),r(t[(a-1+s)%s],t[a],t[(a+1)%s],t[(a+2)%s],n-a,i)):e<0?r(t[1],t[1],t[0],t[0],-e,i):1<e?r(t[s-1],t[s-1],t[s],t[s],(0|e)-e,i):r(t[a?a-1:0],t[a],t[s<a+1?s:a+1],t[s<a+2?s:a+2],n-a,i)},Utils:{Linear:function(t,e,i,s){if(t===e||"string"==typeof t){if(e.length&&e.splice&&e.isString){e="";for(var n=0,a=t.length;n<a;n++)e+=t[n]}return e}if("number"==typeof t)return"function"==typeof t?t(i):t+(e-t)*i;if("object"===T(t)){if(void 0!==t.length){var r="string"==typeof t[0]||t.isString;if(r||t[0]===V){for(var o="",l=r?0:1,c=t.length;l<c;l++){var h=0===i?t[l]:1!==i&&"number"==typeof t[l]?t[l]+(e[l]-t[l])*i:e[l];(0<i&&i<1&&Z(t,l)||Z(t,l,K))&&(h|=0),o+=h}return o}if(s&&s.length&&s.splice)for(var u=0,d=s.length;u<d;u++)s[u]=rt.Utils.Linear(t[u],e[u],i,s[u])}else for(var p in s)s[p]=rt.Utils.Linear(t[p],e[p],i,s[p]);return s}},Reset:function(t){if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)t[e]=rt.Utils.Reset(t[e]);return t}if("object"!==T(t))return"number"==typeof t?0:t;for(var s in t)t[s]=rt.Utils.Reset(t[s]);return t},Bernstein:function(t,e){var i=rt.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(it=[1],function(t){var e=1;if(it[t])return it[t];for(var i=t;1<i;i--)e*=i;return it[t]=e}),CatmullRom:function(t,e,i,s,n,a){if("string"==typeof t)return e;if("number"==typeof t){var r=.5*(i-t),o=.5*(s-e),l=n*n;return(2*e-2*i+r+o)*(n*l)+(-3*e+3*i-2*r-o)*l+r*n+e}if("object"===T(t)){if(void 0!==t.length){if(t[0]===V){for(var c="",h=1,u=t.length;h<u;h++){var d="number"==typeof t[h]?rt.Utils.CatmullRom(t[h],e[h],i[h],s[h],n):s[h];(Z(t,h)||Z(t,h,K))&&(d|=0),c+=d}return c}for(var p=0,m=a.length;p<m;p++)a[p]=rt.Utils.CatmullRom(t[p],e[p],i[p],s[p],n,a[p])}else for(var g in a)a[g]=rt.Utils.CatmullRom(t[g],e[g],i[g],s[g],n,a[g]);return a}}}},ot={};function lt(t,e,i){if(!t||!t.nodeType)return e;var s=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=s);var n=ot[s];if(n){if(n.object===e&&t===n.tween.node&&i._startTime===n.tween._startTime)v(n.tween);else if("object"===T(e)&&e&&n.object){for(var a in e)a in n.object&&(i._startTime===n.tween._startTime?delete n.object[a]:n.propNormaliseRequired=!0);Object.assign(n.object,e)}return n.object}return"object"===T(e)&&e?(ot[s]={tween:i,object:e,propNormaliseRequired:!1},ot[s].object):e}function ct(t,e,i){return e?t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?[t]:"string"==typeof t?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:i?t:[]:null:t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?t:"string"==typeof t?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType||i?t:null:null}var ht=0,ut=S.Linear.None,dt=function(){function t(e,i){return w(this,t),this.id=ht++,!e||"object"!==T(e)||i||e.nodeType?e&&(e.nodeType||e.length||"string"==typeof e)&&(e=this.node=ct(e),i=this.object=lt(e,i,this)):(i=this.object=e,e=null),this._valuesEnd=null,this._valuesStart=Array.isArray(i)?[]:{},this._duration=1e3,this._easingFunction=ut,this._easingReverse=ut,this._interpolationFunction=rt.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return A(t,null,[{key:"fromTo",value:function(e,i,s,n){var a=3<arguments.length&&void 0!==n?n:{};a.quickRender=a.quickRender?a.quickRender:!s;var r=new t(e,i).to(s,a);return a.quickRender&&(r.render().update(r._startTime),r._rendered=!1,r._onStartCallbackFired=!1),r}},{key:"to",value:function(e,i,s){return t.fromTo(e,null,i,s)}},{key:"from",value:function(e,i,s){return t.fromTo(e,i,null,s)}}]),A(t,[{key:"setMaxListener",value:function(t){var e=0<arguments.length&&void 0!==t?t:15;return this._maxListener=e,this}},{key:"on",value:function(t,e){for(var i=this._maxListener,s=t+k,n=0;n<i;n++){var a=s+n;if(!this[a]){this[a]=e;break}}return this}},{key:"once",value:function(t,e){for(var i=this,s=this._maxListener,n=t+k,a=function(t){var s=n+t;if(!i[s])return i[s]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.apply(i,n),i[s]=null},"break"},r=0;r<s&&"break"!==a(r);r++);return this}},{key:"off",value:function(t,e){for(var i=this._maxListener,s=t+k,n=0;n<i;n++){var a=s+n;this[a]===e&&(this[a]=null)}return this}},{key:"emit",value:function(t,e,i,s){var n=this._maxListener,a=t+k;if(!this[a+0])return this;for(var r=0;r<n;r++){var o=a+r;this[o]&&this[o](e,i,s)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(t){var e=this._reversed;return this._reversed=void 0!==t?t:!e,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,v(this),this._pausedTime=h(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=h()-this._pausedTime,this._initTime=this._startTime,e(this),this._pausedTime=h(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),e(this),this.emit(H,this.object)}},{key:"seek",value:function(t,e){var i=this._duration,s=this._initTime,n=this._startTime,a=this._reversed,r=s+t;return this._isPlaying=!0,r<n&&s<=n&&(this._startTime-=i,this._reversed=!a),this.update(t,!1),this.emit("seek",t,this.object),e?this:this.pause()}},{key:"duration",value:function(t){return this._duration="function"==typeof t?t(this._duration):t,this}},{key:"to",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:1e3;if(this._valuesEnd=t,"number"==typeof i||"function"==typeof i)this._duration="function"==typeof i?i(this._duration):i;else if("object"===T(i))for(var s in i)if("function"==typeof this[s]){var n=L(Array.isArray(i[s])?i[s]:[i[s]],4),a=n[0],r=void 0===a?null:a,o=n[1],l=void 0===o?null:o,c=n[2],h=void 0===c?null:c,u=n[3],d=void 0===u?null:u;this[s](r,l,h,d)}return this}},{key:"render",value:function(){if(this._rendered)return this;var e=this._valuesStart,i=this._valuesEnd,s=this.object,n=this.node,a=this.InitialValues;if(et(s),et(i),n&&n.queueID&&ot[n.queueID]){var r=ot[n.queueID];if(r.propNormaliseRequired&&r.tween!==this){for(var o in i)r.tween._valuesEnd[o];r.normalisedProp=!0,r.propNormaliseRequired=!1}}if(n&&a&&(s&&0!==Object.keys(s).length?i&&0!==Object.keys(i).length||(i=this._valuesEnd=a(n,s)):s=this.object=lt(n,a(n,i),this)),!e.processed){for(var l in i){var c=s&&s[l]&&q(s[l]),h=i[l];if(!(x[l]&&x[l].init&&(x[l].init.call(this,c,h,l,s),void 0===c&&e[l]&&(c=e[l]),x[l].skipProcess)||"number"==typeof c&&isNaN(c)||null===c||null===h||!1===c||!1===h||void 0===c||void 0===h||c===h)){if(e[l]=c,Array.isArray(h))if(Array.isArray(c))h.isString&&s[l].isString&&!c.isString?c.isString=!0:X(l,s,e,i);else{h.unshift(c);for(var u=0,d=h.length;u<d;u++)"string"==typeof h[u]&&(h[u]=$(h[u]))}else X(l,s,e,i);"number"!=typeof c||"string"!=typeof h||h[1]}}e.processed=!0}return t.Renderer&&this.node&&t.Renderer.init&&(t.Renderer.init.call(this,s,e,i),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(t){return this._startTime=void 0!==t?"string"==typeof t?h()+parseFloat(t):t:h(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,e(this),this}},{key:"stop",value:function(){var t=this._isPlaying,e=this._isFinite,i=this.object,s=this._startTime,n=this._duration,a=this._r,r=this._yoyo,o=this._reversed;if(!t)return this;var l=e?(a+1)%2==1:!o;return this._reversed=!1,r&&l?this.update(s):this.update(s+n),v(this),this.emit("stop",i)}},{key:"delay",value:function(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var t=0,e=this._chainedTweensCount;t<e;t++)this[D+t]=arguments[t];return this}},{key:"repeat",value:function(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}},{key:"reverseDelay",value:function(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}},{key:"yoyo",value:function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||null,this}},{key:"easing",value:function(t){return this._easingFunction=t,this}},{key:"interpolation",value:function(t){return"function"==typeof t&&(this._interpolationFunction=t),this}},{key:"reassignValues",value:function(t){var i=this._valuesStart,s=this.object,n=this._delayTime;for(var a in this._isPlaying=!0,this._startTime=void 0!==t?t:h(),this._startTime+=n,this._reversed=!1,e(this),i){var r=i[a];s[a]=r}return this}},{key:"update",value:function(e,i,s){var r,o,l,c=this._onStartCallbackFired,u=this._easingFunction,d=this._interpolationFunction,p=this._easingReverse,m=this._repeat,g=this._delayTime,_=this._reverseDelayTime,f=this._yoyo,y=this._reversed,b=this._startTime,S=this._prevTime,T=this._duration,w=this._valuesStart,E=this._valuesEnd,A=this.object,I=this._isFinite,M=this._isPlaying,C=this.__render,N=this._chainedTweensCount,P=0;if(T){var R=(e=void 0!==e?e:h())-S;if(this._prevTime=e,250<R&&n()&&a()&&(e-=R-O),!M||e<b&&!s)return!0;r=1<(r=(e-b)/T)?1:r,r=y?1-r:r}else r=1,m=0;if(c||(this._rendered||(this.render(),this._rendered=!0),this.emit(z,A),this._onStartCallbackFired=!0),o=y&&p||u,!A)return!0;for(l in E){var L=w[l];if(null!=L||x[l]&&x[l].update){var k=E[l],H=o[l]?o[l](r):("function"==typeof o?o:ut)(r),V=d[l]?d[l]:"function"==typeof d?d:rt.Linear;"number"==typeof k?A[l]=L+(k-L)*H:!Array.isArray(k)||k.isString||Array.isArray(L)?k&&k.update?k.update(H):"function"==typeof k?A[l]=k(H):"string"==typeof k&&"number"==typeof L?A[l]=L+parseFloat(k[0]+k.substr(2))*H:Q(l,A,w,E,H,r):A[l]=V(k,H,A[l]),x[l]&&x[l].update&&x[l].update.call(this,A[l],L,k,H,r,l),P++}}if(!P)return v(this),!1;if(C&&t.Renderer&&t.Renderer.update&&t.Renderer.update.call(this,A,r),this.emit(F,A,r,e),1===r||y&&0===r){if(0<m&&0<T){if(I&&this._repeat--,f)this._reversed=!y;else for(l in E){var G=E[l];"string"==typeof G&&"number"==typeof w[l]&&(w[l]+=parseFloat(G[0]+G.substr(2)))}return this.emit(f&&!y?B:j,A),this._startTime=y&&_?e-_:e+g,!0}if(i||(this._isPlaying=!1,v(this),ht--),this.emit(U,A),this._repeat=this._r,N)for(var q=0;q<N;q++)this[D+q].start(e+T);return!1}return!0}}]),t}(),pt=function(){function t(){w(this,t),this.totalTime=0,this.labels=[],this.offsets=[]}return A(t,[{key:"parseLabel",value:function(t,e){var i=this.offsets,s=this.labels,n=s.indexOf(t);if("string"==typeof t&&-1!==t.indexOf("=")&&!e&&-1===n){var a=t.substr(t.indexOf("=")-1,2),r=t.split(a);e=2===r.length?a+r[1]:null,t=r[0],n=s.indexOf(t)}if(-1!==n&&t){var o=i[n]||0;if("number"==typeof e)o=e;else if("string"==typeof e&&-1!==e.indexOf("=")){var l=e.charAt(0);e=Number(e.substr(2)),"+"===l||"-"===l?o+=parseFloat(l+e):"*"===l?o*=e:"/"===l?o/=e:"%"===l&&(o*=e/100)}return o}return"number"==typeof e?e:0}},{key:"addLabel",value:function(t,e){return this.labels.push(t),this.offsets.push(this.parseLabel(t,e)),this}},{key:"setLabel",value:function(t,e){var i=this.labels.indexOf(t);return-1!==i&&this.offsets.splice(i,1,this.parseLabel(t,e)),this}},{key:"eraseLabel",value:function(t){var e=this.labels.indexOf(t);return-1!==e&&(this.labels.splice(e,1),this.offsets.splice(e,1)),this}}]),t}(),mt=0,gt=function(){function t(e){var i;return w(this,t),(i=R(this,C(t).call(this)))._duration=0,i._startTime=e&&void 0!==e.startTime?e.startTime:h(),i._tweens=[],i.elapsed=0,i._id=mt++,i._defaultParams=e,i.position=new pt,i.position.addLabel("afterLast",i._duration),i.position.addLabel("afterInit",i._startTime),i._onStartCallbackFired=!1,R(i,P(i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(t,dt),A(t,[{key:"mapTotal",value:function(t){return t.call(this,this._tweens),this}},{key:"timingOrder",value:function(t){var e=t(this._tweens.map((function(t){return t._startTime})));return this._tweens.map((function(t,i){t._startTime=e[i]})),this}},{key:"getTiming",value:function(t,e,i,s){var n=3<arguments.length&&void 0!==s?s:0;if("reverse"===t){var a=i.stagger,r=(a||0)*(e.length-1);return e.map((function(t,e){return r-(a||0)*e+n}))}if("async"===t)return e.map((function(t){return n}));if("sequence"===t||"delayed"===t){var o=i.stagger;return o=o||(i.duration||1e3)/(e.length-1),e.map((function(t,e){return o*e+n}))}if("oneByOne"===t)return e.map((function(t){return i.duration}));if("shuffle"===t){var l=i.stagger;return function(t){var e,i,s;for(s=t.length;s;--s)e=Math.floor(Math.random()*s),i=t[s-1],t[s-1]=t[e],t[e]=i;return t}(e.map((function(t,e){return(l||0)*e+n})))}var c=i.stagger;return e.map((function(t,e){return(c||0)*e+n}))}},{key:"fromTo",value:function(t,e,i,s){if((t=ct(t,!0,!0))&&t.length){this._defaultParams&&(s=s?M({},this._defaultParams,{},s):this._defaultParams);for(var n,a=s.label,r="number"==typeof a?a:this.position.parseLabel(void 0!==a?a:"afterLast",null),o=this.getTiming(s.mode,t,s,r),l=0,c=t.length;l<c;l++)n=t[l],this.add(dt.fromTo(n,"function"==typeof e?e(l,t.length):"object"===T(e)&&e?M({},e):null,"function"==typeof i?i(l,t.length):i,"function"==typeof s?s(l,t.length):s),o[l])}return this.start()}},{key:"from",value:function(t,e,i){return this.fromTo(t,e,null,i)}},{key:"to",value:function(t,e,i){return this.fromTo(t,null,e,i)}},{key:"addLabel",value:function(t,e){return this.position.addLabel(t,e),this}},{key:"map",value:function(t){for(var e=0,i=this._tweens.length;e<i;e++){var s=this._tweens[e];t(s,e),this._duration=Math.max(this._duration,s._duration+s._startTime)}return this}},{key:"add",value:function(t,e){var i=this;if(Array.isArray(t))return t.map((function(t){i.add(t,e)})),this;"object"!==T(t)||t instanceof dt||(t=new dt(t.from).to(t.to,t));var s=this._defaultParams,n=this._duration;if(s)for(var a in s)"function"==typeof t[a]&&t[a](s[a]);var r="number"==typeof e?e:this.position.parseLabel(void 0!==e?e:"afterLast",null);return t._startTime=Math.max(this._startTime,t._delayTime,r),t._delayTime=r,t._isPlaying=!0,this._duration=Math.max(n,Math.max(t._startTime+t._delayTime,t._duration)),this._tweens.push(t),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=h(),e(this),this.emit(H)}},{key:"easing",value:function(t){return this.map((function(e){return e.easing(t)}))}},{key:"interpolation",value:function(t){return this.map((function(e){return e.interpolation(t)}))}},{key:"update",value:function(t){var e,i=this._tweens,s=this._duration,r=this._reverseDelayTime,o=this._startTime,l=this._reversed,c=this._yoyo,u=this._repeat,d=this._isFinite,p=this._isPlaying,m=this._prevTime,g=this._onStartCallbackFired,_=(t=void 0!==t?t:h())-m;if(this._prevTime=t,250<_&&n()&&a()&&(t-=_-O),!p||t<o)return!0;e=1<(e=(t-o)/s)?1:e,e=l?1-e:e,this.elapsed=e,g||(this.emit(z),this._onStartCallbackFired=!0);for(var f=t-o,y=l?s-f:f,b=0;b<i.length;)i[b].update(y),b++;if(this.emit(F,e,f),1===e||l&&0===e){if(u){for(d&&this._repeat--,this.emit(l?B:j),c&&(this._reversed=!l,this.timingOrder((function(t){return t.reverse()}))),this._startTime=l&&r?t+r:t,b=0;b<i.length;)i[b].reassignValues(t),b++;return!0}return this.emit(U),this._repeat=this._r,v(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(t){return void 0!==t?this.update(t*this._duration):this.elapsed}}]),t}();t.Easing=S,t.FrameThrottle=function(t){f=1.05*(0<arguments.length&&void 0!==t?t:120)},t.Interpolation=rt,t.Interpolator=function(t,e){var i=Array.isArray(t)&&!t.isString,s="string"==typeof t?t:i?t.slice():M({},t);if(i)for(var n=0,a=t.length;n<a;n++)t[n]===e[n]&&"number"==typeof t[n]&&"number"!=typeof e[n]||X(n,s,t,e);else if("object"===T(t))for(var r in t)t[r]===e[r]&&"number"==typeof t[r]&&"number"!=typeof e[r]||X(r,s,t,e);else if("string"==typeof t){t=$(t),e=$(e);for(var o=1;o<t.length;)t[o]===e[o]&&"string"==typeof t[o-1]?(t.splice(o-1,2,t[o-1]+t[o]),e.splice(o-1,2,e[o-1]+e[o])):o++}return function(n){if(i)for(var a=0,r=t.length;a<r;a++)Q(a,s,t,e,n);else if("object"===T(s))for(var o in t)Q(o,s,t,e,n);else"string"==typeof s&&(s=Q(0,0,t,e,n,n,!0));return s}},t.Plugins=x,t.Selector=ct,t.Timeline=gt,t.ToggleLagSmoothing=function(t){y=!(0<arguments.length&&void 0!==t)||t},t.Tween=dt,t.add=e,t.autoPlay=function(t){p=t},t.get=s,t.getAll=function(){return u},t.has=function(t){return null!==s(t)},t.isRunning=n,t.now=h,t.onRequestTick=function(t){m.push(t)},t.onTick=function(t){return u.push({update:t})},t.remove=v,t.removeAll=function(){u.length=0,c(r),d=!1},t.update=b,t.utils=at,Object.defineProperty(t,"__esModule",{value:!0})}(e)},7187:t=>{"use strict";var e,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};e=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(i,s){function n(i){t.removeListener(e,a),s(i)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",n),i([].slice.call(arguments))}g(t,e,a,{once:!0}),"error"!==e&&function(t,e,i){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,n)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var r=10;function o(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,i,s){var n,a,r,c;if(o(i),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),a=t._events),r=a[e]),void 0===r)r=a[e]=i,++t._eventsCount;else if("function"==typeof r?r=a[e]=s?[i,r]:[r,i]:s?r.unshift(i):r.push(i),(n=l(t))>0&&r.length>n&&!r.warned){r.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=r.length,c=h,console&&console.warn&&console.warn(c)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,i){var s={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=h.bind(s);return n.listener=i,s.wrapFn=n,n}function d(t,e,i){var s=t._events;if(void 0===s)return[];var n=s[e];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(n):m(n,n.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,e){for(var i=new Array(e),s=0;s<e;++s)i[s]=t[s];return i}function g(t,e,i,s){if("function"==typeof t.on)s.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(a){s.once&&t.removeEventListener(e,n),i(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");r=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}var l=a[t];if(void 0===l)return!1;if("function"==typeof l)s(l,this,e);else{var c=l.length,h=m(l,c);for(i=0;i<c;++i)s(h[i],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){return o(e),this.on(t,u(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return o(e),this.prependListener(t,u(this,t,e)),this},a.prototype.removeListener=function(t,e){var i,s,n,a,r;if(o(e),void 0===(s=this._events))return this;if(void 0===(i=s[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(n=-1,a=i.length-1;a>=0;a--)if(i[a]===e||i[a].listener===e){r=i[a].listener,n=a;break}if(n<0)return this;0===n?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,n),1===i.length&&(s[t]=i[0]),void 0!==s.removeListener&&this.emit("removeListener",t,r||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,i,s;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var n,a=Object.keys(i);for(s=0;s<a.length;++s)"removeListener"!==(n=a[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(s=e.length-1;s>=0;s--)this.removeListener(t,e[s]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},4070:function(t){t.exports=function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=i(1),r=i(7),o=r.get,l=(r.deepValue,r.isArray),c=function(){function t(e,i){var s=i.location,n=void 0===s?0:s,a=i.distance,r=void 0===a?100:a,l=i.threshold,c=void 0===l?.6:l,h=i.maxPatternLength,u=void 0===h?32:h,d=i.caseSensitive,p=void 0!==d&&d,m=i.tokenSeparator,g=void 0===m?/ +/g:m,_=i.findAllMatches,f=void 0!==_&&_,y=i.minMatchCharLength,v=void 0===y?1:y,b=i.id,x=void 0===b?null:b,S=i.keys,T=void 0===S?[]:S,w=i.shouldSort,E=void 0===w||w,A=i.getFn,I=void 0===A?o:A,M=i.sortFn,C=void 0===M?function(t,e){return t.score-e.score}:M,N=i.tokenize,P=void 0!==N&&N,R=i.matchAllTokens,L=void 0!==R&&R,O=i.includeMatches,D=void 0!==O&&O,k=i.includeScore,F=void 0!==k&&k,U=i.verbose,z=void 0!==U&&U;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:n,distance:r,threshold:c,maxPatternLength:u,isCaseSensitive:p,tokenSeparator:g,findAllMatches:f,minMatchCharLength:v,id:x,keys:T,includeMatches:D,includeScore:F,shouldSort:E,getFn:I,sortFn:C,verbose:z,tokenize:P,matchAllTokens:L},this.setCollection(e),this._processKeys(T)}var e,i;return e=t,(i=[{key:"setCollection",value:function(t){return this.list=t,t}},{key:"_processKeys",value:function(t){if(this._keyWeights={},this._keyNames=[],t.length&&"string"==typeof t[0])for(var e=0,i=t.length;e<i;e+=1){var s=t[e];this._keyWeights[s]=1,this._keyNames.push(s)}else{for(var n=null,a=null,r=0,o=0,l=t.length;o<l;o+=1){var c=t[o];if(!c.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var h=c.name;if(this._keyNames.push(h),!c.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var u=c.weight;if(u<0||u>1)throw new Error('"weight" property in key must bein the range of [0, 1)');a=null==a?u:Math.max(a,u),n=null==n?u:Math.min(n,u),this._keyWeights[h]=u,r+=u}if(r>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(t,'"'));var i=this._prepareSearchers(t),s=i.tokenSearchers,n=i.fullSearcher,a=this._search(s,n);return this._computeScore(a),this.options.shouldSort&&this._sort(a),e.limit&&"number"==typeof e.limit&&(a=a.slice(0,e.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[];if(this.options.tokenize)for(var i=t.split(this.options.tokenSeparator),s=0,n=i.length;s<n;s+=1)e.push(new a(i[s],this.options));return{tokenSearchers:e,fullSearcher:new a(t,this.options)}}},{key:"_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=this.list,s={},n=[];if("string"==typeof i[0]){for(var a=0,r=i.length;a<r;a+=1)this._analyze({key:"",value:i[a],record:a,index:a},{resultMap:s,results:n,tokenSearchers:t,fullSearcher:e});return n}for(var o=0,l=i.length;o<l;o+=1)for(var c=i[o],h=0,u=this._keyNames.length;h<u;h+=1){var d=this._keyNames[h];this._analyze({key:d,value:this.options.getFn(c,d),record:c,index:o},{resultMap:s,results:n,tokenSearchers:t,fullSearcher:e})}return n}},{key:"_analyze",value:function(t,e){var i=this,s=t.key,n=t.arrayIndex,a=void 0===n?-1:n,r=t.value,o=t.record,c=t.index,h=e.tokenSearchers,u=void 0===h?[]:h,d=e.fullSearcher,p=e.resultMap,m=void 0===p?{}:p,g=e.results,_=void 0===g?[]:g;!function t(e,n,a,r){if(null!=n)if("string"==typeof n){var o=!1,c=-1,h=0;i._log("\nKey: ".concat(""===s?"--":s));var p=d.search(n);if(i._log('Full text: "'.concat(n,'", score: ').concat(p.score)),i.options.tokenize){for(var g=n.split(i.options.tokenSeparator),f=g.length,y=[],v=0,b=u.length;v<b;v+=1){var x=u[v];i._log('\nPattern: "'.concat(x.pattern,'"'));for(var S=!1,T=0;T<f;T+=1){var w=g[T],E=x.search(w),A={};E.isMatch?(A[w]=E.score,o=!0,S=!0,y.push(E.score)):(A[w]=1,i.options.matchAllTokens||y.push(1)),i._log('Token: "'.concat(w,'", score: ').concat(A[w]))}S&&(h+=1)}c=y[0];for(var I=y.length,M=1;M<I;M+=1)c+=y[M];c/=I,i._log("Token score average:",c)}var C=p.score;c>-1&&(C=(C+c)/2),i._log("Score average:",C);var N=!i.options.tokenize||!i.options.matchAllTokens||h>=u.length;if(i._log("\nCheck Matches: ".concat(N)),(o||p.isMatch)&&N){var P={key:s,arrayIndex:e,value:n,score:C};i.options.includeMatches&&(P.matchedIndices=p.matchedIndices);var R=m[r];R?R.output.push(P):(m[r]={item:a,output:[P]},_.push(m[r]))}}else if(l(n))for(var L=0,O=n.length;L<O;L+=1)t(L,n[L],a,r)}(a,r,o,c)}},{key:"_computeScore",value:function(t){this._log("\n\nComputing score:\n");for(var e=this._keyWeights,i=!!Object.keys(e).length,s=0,n=t.length;s<n;s+=1){for(var a=t[s],r=a.output,o=r.length,l=1,c=0;c<o;c+=1){var h=r[c],u=h.key,d=i?e[u]:1,p=0===h.score&&e&&e[u]>0?Number.EPSILON:h.score;l*=Math.pow(p,d)}a.score=l,this._log(a)}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e=[];if(this.options.verbose){var i=[];this._log("\n\nOutput:\n\n",JSON.stringify(t,(function(t,e){if("object"===s(e)&&null!==e){if(-1!==i.indexOf(e))return;i.push(e)}return e}),2)),i=null}var n=[];this.options.includeMatches&&n.push((function(t,e){var i=t.output;e.matches=[];for(var s=0,n=i.length;s<n;s+=1){var a=i[s];if(0!==a.matchedIndices.length){var r={indices:a.matchedIndices,value:a.value};a.key&&(r.key=a.key),a.hasOwnProperty("arrayIndex")&&a.arrayIndex>-1&&(r.arrayIndex=a.arrayIndex),e.matches.push(r)}}})),this.options.includeScore&&n.push((function(t,e){e.score=t.score}));for(var a=0,r=t.length;a<r;a+=1){var o=t[a];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),n.length){for(var l={item:o.item},c=0,h=n.length;c<h;c+=1)n[c](o,l);e.push(l)}else e.push(o.item)}return e}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}])&&n(e.prototype,i),t}();t.exports=c},function(t,e,i){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=i(2),a=i(3),r=i(6),o=function(){function t(e,i){var s=i.location,n=void 0===s?0:s,a=i.distance,o=void 0===a?100:a,l=i.threshold,c=void 0===l?.6:l,h=i.maxPatternLength,u=void 0===h?32:h,d=i.isCaseSensitive,p=void 0!==d&&d,m=i.tokenSeparator,g=void 0===m?/ +/g:m,_=i.findAllMatches,f=void 0!==_&&_,y=i.minMatchCharLength,v=void 0===y?1:y,b=i.includeMatches,x=void 0!==b&&b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:n,distance:o,threshold:c,maxPatternLength:u,isCaseSensitive:p,tokenSeparator:g,findAllMatches:f,includeMatches:x,minMatchCharLength:v},this.pattern=p?e:e.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=r(this.pattern))}var e,i;return e=t,(i=[{key:"search",value:function(t){var e=this.options,i=e.isCaseSensitive,s=e.includeMatches;if(i||(t=t.toLowerCase()),this.pattern===t){var r={isMatch:!0,score:0};return s&&(r.matchedIndices=[[0,t.length-1]]),r}var o=this.options,l=o.maxPatternLength,c=o.tokenSeparator;if(this.pattern.length>l)return n(t,this.pattern,c);var h=this.options,u=h.location,d=h.distance,p=h.threshold,m=h.findAllMatches,g=h.minMatchCharLength;return a(t,this.pattern,this.patternAlphabet,{location:u,distance:d,threshold:p,findAllMatches:m,minMatchCharLength:g,includeMatches:s})}}])&&s(e.prototype,i),t}();t.exports=o},function(t,e){var i=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,n=new RegExp(e.replace(i,"\\$&").replace(s,"|")),a=t.match(n),r=!!a,o=[];if(r)for(var l=0,c=a.length;l<c;l+=1){var h=a[l];o.push([t.indexOf(h),h.length-1])}return{score:r?.5:1,isMatch:r,matchedIndices:o}}},function(t,e,i){var s=i(4),n=i(5);t.exports=function(t,e,i,a){for(var r=a.location,o=void 0===r?0:r,l=a.distance,c=void 0===l?100:l,h=a.threshold,u=void 0===h?.6:h,d=a.findAllMatches,p=void 0!==d&&d,m=a.minMatchCharLength,g=void 0===m?1:m,_=a.includeMatches,f=void 0!==_&&_,y=o,v=t.length,b=u,x=t.indexOf(e,y),S=e.length,T=[],w=0;w<v;w+=1)T[w]=0;if(-1!==x){var E=s(e,{errors:0,currentLocation:x,expectedLocation:y,distance:c});if(b=Math.min(E,b),-1!==(x=t.lastIndexOf(e,y+S))){var A=s(e,{errors:0,currentLocation:x,expectedLocation:y,distance:c});b=Math.min(A,b)}}x=-1;for(var I=[],M=1,C=S+v,N=1<<(S<=31?S-1:30),P=0;P<S;P+=1){for(var R=0,L=C;R<L;)s(e,{errors:P,currentLocation:y+L,expectedLocation:y,distance:c})<=b?R=L:C=L,L=Math.floor((C-R)/2+R);C=L;var O=Math.max(1,y-L+1),D=p?v:Math.min(y+L,v)+S,k=Array(D+2);k[D+1]=(1<<P)-1;for(var F=D;F>=O;F-=1){var U=F-1,z=i[t.charAt(U)];if(z&&(T[U]=1),k[F]=(k[F+1]<<1|1)&z,0!==P&&(k[F]|=(I[F+1]|I[F])<<1|1|I[F+1]),k[F]&N&&(M=s(e,{errors:P,currentLocation:U,expectedLocation:y,distance:c}))<=b){if(b=M,(x=U)<=y)break;O=Math.max(1,2*y-x)}}if(s(e,{errors:P+1,currentLocation:y,expectedLocation:y,distance:c})>b)break;I=k}var j={isMatch:x>=0,score:0===M?.001:M};return f&&(j.matchedIndices=n(T,g)),j}},function(t,e){t.exports=function(t,e){var i=e.errors,s=void 0===i?0:i,n=e.currentLocation,a=void 0===n?0:n,r=e.expectedLocation,o=void 0===r?0:r,l=e.distance,c=void 0===l?100:l,h=s/t.length,u=Math.abs(o-a);return c?h+u/c:u?1:h}},function(t,e){t.exports=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],s=-1,n=-1,a=0,r=t.length;a<r;a+=1){var o=t[a];o&&-1===s?s=a:o||-1===s||((n=a-1)-s+1>=e&&i.push([s,n]),s=-1)}return t[a-1]&&a-s>=e&&i.push([s,a-1]),i}},function(t,e){t.exports=function(t){for(var e={},i=t.length,s=0;s<i;s+=1)e[t.charAt(s)]=0;for(var n=0;n<i;n+=1)e[t.charAt(n)]|=1<<i-n-1;return e}},function(t,e){var i=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},s=function(t){return null==t?"":function(t){if("string"==typeof t)return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)},n=function(t){return"string"==typeof t},a=function(t){return"number"==typeof t};t.exports={get:function(t,e){var r=[];return function t(e,o){if(o){var l=o.indexOf("."),c=o,h=null;-1!==l&&(c=o.slice(0,l),h=o.slice(l+1));var u=e[c];if(null!=u)if(h||!n(u)&&!a(u))if(i(u))for(var d=0,p=u.length;d<p;d+=1)t(u[d],h);else h&&t(u,h);else r.push(s(u))}else r.push(e)}(t,e),r},isArray:i,isString:n,isNum:a,toString:s}}])},8679:(t,e,i)=>{"use strict";var s=i(9864),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(t){return s.isMemo(t)?r:o[t.$$typeof]||n}o[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[s.Memo]=r;var c=Object.defineProperty,h=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;t.exports=function t(e,i,s){if("string"!=typeof i){if(m){var n=p(i);n&&n!==m&&t(e,n,s)}var r=h(i);u&&(r=r.concat(u(i)));for(var o=l(e),g=l(i),_=0;_<r.length;++_){var f=r[_];if(!(a[f]||s&&s[f]||g&&g[f]||o&&o[f])){var y=d(i,f);try{c(e,f,y)}catch(t){}}}}return e}},9804:t=>{t.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},6982:(t,e,i)=>{var s,n,a,r=i(3412),o="html",l="head",c="body",h=/<([a-zA-Z]+[0-9]?)/,u=/<head.*>/i,d=/<body.*>/i,p=/<(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)(.*?)\/?>/gi,m=r.isIE(9),g=m||r.isIE();if("function"==typeof window.DOMParser){var _=new window.DOMParser,f=m?"text/xml":"text/html";s=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),m&&(t=t.replace(p,"<$1$2$3/>")),_.parseFromString(t,f)}}if("object"==typeof document.implementation){var y=document.implementation.createHTMLDocument(g?"HTML_DOM_PARSER_TITLE":void 0);n=function(t,e){if(e)return y.documentElement.getElementsByTagName(e)[0].innerHTML=t,y;try{return y.documentElement.innerHTML=t,y}catch(e){if(s)return s(t)}}}var v=document.createElement("template");v.content&&(a=function(t){return v.innerHTML=t,v.content.childNodes});var b=n||s;t.exports=function(t){var e,i,n,r,p=t.match(h);switch(p&&p[1]&&(e=p[1].toLowerCase()),e){case o:if(s)return i=s(t),u.test(t)||(n=i.getElementsByTagName(l)[0])&&n.parentNode.removeChild(n),d.test(t)||(n=i.getElementsByTagName(c)[0])&&n.parentNode.removeChild(n),i.getElementsByTagName(o);break;case l:case c:if(b)return r=b(t).getElementsByTagName(e),d.test(t)&&u.test(t)?r[0].parentNode.childNodes:r;break;default:if(a)return a(t);if(b)return b(t,c).getElementsByTagName(c)[0].childNodes}return[]}},5057:(t,e,i)=>{var s=i(6982),n=i(3412),a=n.formatDOM,r=n.isIE(9),o=/<(![a-zA-Z\s]+)>/;t.exports=function(t){if("string"!=typeof t)throw new TypeError("First argument must be a string");if(!t)return[];var e,i=t.match(o);return i&&i[1]&&(e=i[1],r&&(t=t.replace(i[0],""))),a(s(t),null,e)}},3412:(t,e,i)=>{for(var s,n=i(9804).CASE_SENSITIVE_TAG_NAMES,a={},r=0,o=n.length;r<o;r++)s=n[r],a[s.toLowerCase()]=s;function l(t){for(var e,i={},s=0,n=t.length;s<n;s++)i[(e=t[s]).name]=e.value;return i}function c(t){return function(t){return a[t]}(t=t.toLowerCase())||t}t.exports={formatAttributes:l,formatDOM:function t(e,i,s){i=i||null;for(var n,a,r,o=[],h=0,u=e.length;h<u;h++){switch(n=e[h],r={next:null,prev:o[h-1]||null,parent:i},(a=o[h-1])&&(a.next=r),"#"!==n.nodeName[0]&&(r.name=c(n.nodeName),r.attribs={},n.attributes&&n.attributes.length&&(r.attribs=l(n.attributes))),n.nodeType){case 1:"script"===r.name||"style"===r.name?r.type=r.name:r.type="tag",r.children=t(n.childNodes,r);break;case 3:r.type="text",r.data=n.nodeValue;break;case 8:r.type="comment",r.data=n.nodeValue}o.push(r)}return s&&(o.unshift({name:s.substring(0,s.indexOf(" ")).toLowerCase(),data:s,type:"directive",next:o[0]?o[0]:null,prev:null,parent:i}),o[1]&&(o[1].prev=o[0])),o},isIE:function(t){return t?document.documentMode===t:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},488:(t,e,i)=>{var s=i(3670),n=i(5057),a={decodeEntities:!0,lowerCaseAttributeNames:!1};function r(t,e){if("string"!=typeof t)throw new TypeError("First argument must be a string");return s(n(t,a),e)}r.domToReact=s,r.htmlToDOM=n,t.exports=r},484:(t,e,i)=>{var s=i(2686),n=i(7848),a=i(4606),r=a.camelCase,o=s.html,l=s.svg,c=s.isCustomAttribute,h=Object.prototype.hasOwnProperty;t.exports=function(t){var e,i,s,u;t=t||{};var d={};for(e in t)s=t[e],c(e)?d[e]=s:(i=e.toLowerCase(),h.call(o,i)?d[(u=o[i]).propertyName]=!!(u.hasBooleanValue||u.hasOverloadedBooleanValue&&!s)||s:h.call(l,e)?d[(u=l[e]).propertyName]=s:a.PRESERVE_CUSTOM_ATTRIBUTES&&(d[e]=s));return null!=t.style&&(d.style=function(t){if("string"!=typeof t)throw new TypeError("First argument must be a string.");var e={};return n(t,(function(t,i){t&&i&&(e[r(t)]=i)})),e}(t.style)),d}},3670:(t,e,i)=>{var s=i(7294),n=i(484),a=i(4606),r=s.cloneElement,o=s.createElement,l=s.isValidElement;function c(t){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===t.type&&a.isCustomComponent(t.name,t.attribs)}t.exports=function t(e,i){for(var s,a,h,u,d=[],p="function"==typeof(i=i||{}).replace,m=0,g=e.length;m<g;m++)if(s=e[m],p&&(a=i.replace(s),l(a)))g>1&&(a=r(a,{key:a.key||m})),d.push(a);else if("text"!==s.type){if(h=s.attribs,c(s)||(h=n(s.attribs)),u=null,"script"===s.type||"style"===s.type)s.children[0]&&(h.dangerouslySetInnerHTML={__html:s.children[0].data});else{if("tag"!==s.type)continue;"textarea"===s.name&&s.children[0]?h.defaultValue=s.children[0].data:s.children&&s.children.length&&(u=t(s.children,i))}g>1&&(h.key=m),d.push(o(s.name,h,u))}else d.push(s.data);return 1===d.length?d[0]:d}},4606:(t,e,i)=>{var s=i(7294),n=/-([a-z])/g,a=/^--[a-zA-Z0-9-]+$|^[^-]+$/,r=s.version.split(".")[0]>=16;t.exports={PRESERVE_CUSTOM_ATTRIBUTES:r,camelCase:function(t){if("string"!=typeof t)throw new TypeError("First argument must be a string");return a.test(t)?t:t.toLowerCase().replace(n,(function(t,e){return e.toUpperCase()}))},invertObject:function(t,e){if(!t||"object"!=typeof t)throw new TypeError("First argument must be an object");var i,s,n="function"==typeof e,a={},r={};for(i in t)s=t[i],n&&(a=e(i,s))&&2===a.length?r[a[0]]=a[1]:"string"==typeof s&&(r[s]=i);return r},isCustomComponent:function(t,e){if(-1===t.indexOf("-"))return e&&"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}}},5449:(t,e,i)=>{function s(t){this._cbs=t||{},this.events=[]}t.exports=s;var n=i(3719).EVENTS;Object.keys(n).forEach((function(t){if(0===n[t])t="on"+t,s.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===n[t])t="on"+t,s.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==n[t])throw Error("wrong number of arguments");t="on"+t,s.prototype[t]=function(e,i){this.events.push([t,e,i]),this._cbs[t]&&this._cbs[t](e,i)}}})),s.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},s.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var i=this.events[t].length;1===i?this._cbs[this.events[t][0]]():2===i?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},3870:(t,e,i)=>{var s=i(9730),n=i(9443);function a(t,e){this.init(t,e)}function r(t,e){return n.getElementsByTagName(t,e,!0)}function o(t,e){return n.getElementsByTagName(t,e,!0,1)[0]}function l(t,e,i){return n.getText(n.getElementsByTagName(t,e,i,1)).trim()}function c(t,e,i,s,n){var a=l(i,s,n);a&&(t[e]=a)}i(5717)(a,s),a.prototype.init=s;var h=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};a.prototype.onend=function(){var t,e,i={},n=o(h,this.dom);n&&("feed"===n.name?(e=n.children,i.type="atom",c(i,"id","id",e),c(i,"title","title",e),(t=o("link",e))&&(t=t.attribs)&&(t=t.href)&&(i.link=t),c(i,"description","subtitle",e),(t=l("updated",e))&&(i.updated=new Date(t)),c(i,"author","email",e,!0),i.items=r("entry",e).map((function(t){var e,i={};return c(i,"id","id",t=t.children),c(i,"title","title",t),(e=o("link",t))&&(e=e.attribs)&&(e=e.href)&&(i.link=e),(e=l("summary",t)||l("content",t))&&(i.description=e),(e=l("updated",t))&&(i.pubDate=new Date(e)),i}))):(e=o("channel",n.children).children,i.type=n.name.substr(0,3),i.id="",c(i,"title","title",e),c(i,"link","link",e),c(i,"description","description",e),(t=l("lastBuildDate",e))&&(i.updated=new Date(t)),c(i,"author","managingEditor",e,!0),i.items=r("item",n.children).map((function(t){var e,i={};return c(i,"id","guid",t=t.children),c(i,"title","title",t),c(i,"link","link",t),c(i,"description","description",t),(e=l("pubDate",t))&&(i.pubDate=new Date(e)),i})))),this.dom=i,s.prototype._handleCallback.call(this,n?null:Error("couldn't find root of feed"))},t.exports=a},763:(t,e,i)=>{var s=i(9889),n={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:n,input:n,output:n,button:n,datalist:n,textarea:n,option:{option:!0},optgroup:{optgroup:!0}},r={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},c=/\s|\//;function h(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(s=this._options.Tokenizer),this._tokenizer=new s(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}i(5717)(h,i(7187).EventEmitter),h.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},h.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},h.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in a)for(var e;(e=this._stack[this._stack.length-1])in a[t];this.onclosetag(e));!this._options.xmlMode&&t in r||(this._stack.push(t),t in o?this._foreignContext.push(!0):t in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},h.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in r&&this._cbs.onclosetag(this._tagname),this._tagname=""},h.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in o||t in l)&&this._foreignContext.pop(),!this._stack.length||t in r&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},h.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},h.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},h.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},h.prototype.onattribdata=function(t){this._attribvalue+=t},h.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},h.prototype._getInstructionName=function(t){var e=t.search(c),i=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(i=i.toLowerCase()),i},h.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},h.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},h.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},h.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},h.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},h.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},h.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},h.prototype.parseComplete=function(t){this.reset(),this.end(t)},h.prototype.write=function(t){this._tokenizer.write(t)},h.prototype.end=function(t){this._tokenizer.end(t)},h.prototype.pause=function(){this._tokenizer.pause()},h.prototype.resume=function(){this._tokenizer.resume()},h.prototype.parseChunk=h.prototype.write,h.prototype.done=h.prototype.end,t.exports=h},6321:(t,e,i)=>{function s(t){this._cbs=t||{}}t.exports=s;var n=i(3719).EVENTS;Object.keys(n).forEach((function(t){if(0===n[t])t="on"+t,s.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===n[t])t="on"+t,s.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==n[t])throw Error("wrong number of arguments");t="on"+t,s.prototype[t]=function(e,i){this._cbs[t]&&this._cbs[t](e,i)}}}))},9924:(t,e,i)=>{t.exports=n;var s=i(3621);function n(t){s.call(this,new a(this),t)}function a(t){this.scope=t}i(5717)(n,s),n.prototype.readable=!0;var r=i(3719).EVENTS;Object.keys(r).forEach((function(t){if(0===r[t])a.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===r[t])a.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==r[t])throw Error("wrong number of arguments!");a.prototype["on"+t]=function(e,i){this.scope.emit(t,e,i)}}}))},9889:(t,e,i)=>{t.exports=_t;var s=i(8894),n=i(3042),a=i(317),r=i(1373),o=0,l=o++,c=o++,h=o++,u=o++,d=o++,p=o++,m=o++,g=o++,_=o++,f=o++,y=o++,v=o++,b=o++,x=o++,S=o++,T=o++,w=o++,E=o++,A=o++,I=o++,M=o++,C=o++,N=o++,P=o++,R=o++,L=o++,O=o++,D=o++,k=o++,F=o++,U=o++,z=o++,j=o++,B=o++,H=o++,V=o++,G=o++,q=o++,J=o++,W=o++,Y=o++,$=o++,X=o++,K=o++,Z=o++,Q=o++,tt=o++,et=o++,it=o++,st=o++,nt=o++,at=o++,rt=o++,ot=o++,lt=o++,ct=0,ht=ct++,ut=ct++,dt=ct++;function pt(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function mt(t,e,i){var s=t.toLowerCase();return t===s?function(t){t===s?this._state=e:(this._state=i,this._index--)}:function(n){n===s||n===t?this._state=e:(this._state=i,this._index--)}}function gt(t,e){var i=t.toLowerCase();return function(s){s===i||s===t?this._state=e:(this._state=h,this._index--)}}function _t(t,e){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ht,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}_t.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ht&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=nt,this._sectionStart=this._index)},_t.prototype._stateBeforeTagName=function(t){"/"===t?this._state=d:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ht||pt(t)?this._state=l:"!"===t?(this._state=S,this._sectionStart=this._index+1):"?"===t?(this._state=w,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?h:U,this._sectionStart=this._index)},_t.prototype._stateInTagName=function(t){("/"===t||">"===t||pt(t))&&(this._emitToken("onopentagname"),this._state=g,this._index--)},_t.prototype._stateBeforeCloseingTagName=function(t){pt(t)||(">"===t?this._state=l:this._special!==ht?"s"===t||"S"===t?this._state=z:(this._state=l,this._index--):(this._state=p,this._sectionStart=this._index))},_t.prototype._stateInCloseingTagName=function(t){(">"===t||pt(t))&&(this._emitToken("onclosetag"),this._state=m,this._index--)},_t.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=l,this._sectionStart=this._index+1)},_t.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===t?this._state=u:pt(t)||(this._state=_,this._sectionStart=this._index)},_t.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):pt(t)||(this._state=g,this._index--)},_t.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||pt(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=f,this._index--)},_t.prototype._stateAfterAttributeName=function(t){"="===t?this._state=y:"/"===t||">"===t?(this._cbs.onattribend(),this._state=g,this._index--):pt(t)||(this._cbs.onattribend(),this._state=_,this._sectionStart=this._index)},_t.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=v,this._sectionStart=this._index+1):"'"===t?(this._state=b,this._sectionStart=this._index+1):pt(t)||(this._state=x,this._sectionStart=this._index,this._index--)},_t.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},_t.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},_t.prototype._stateInAttributeValueNoQuotes=function(t){pt(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},_t.prototype._stateBeforeDeclaration=function(t){this._state="["===t?C:"-"===t?E:T},_t.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},_t.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},_t.prototype._stateBeforeComment=function(t){"-"===t?(this._state=A,this._sectionStart=this._index+1):this._state=T},_t.prototype._stateInComment=function(t){"-"===t&&(this._state=I)},_t.prototype._stateAfterComment1=function(t){this._state="-"===t?M:A},_t.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==t&&(this._state=A)},_t.prototype._stateBeforeCdata1=mt("C",N,T),_t.prototype._stateBeforeCdata2=mt("D",P,T),_t.prototype._stateBeforeCdata3=mt("A",R,T),_t.prototype._stateBeforeCdata4=mt("T",L,T),_t.prototype._stateBeforeCdata5=mt("A",O,T),_t.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=D,this._sectionStart=this._index+1):(this._state=T,this._index--)},_t.prototype._stateInCdata=function(t){"]"===t&&(this._state=k)},_t.prototype._stateAfterCdata1=function(t){this._state="]"===t?F:D},_t.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==t&&(this._state=D)},_t.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=j:"t"===t||"T"===t?this._state=X:(this._state=h,this._index--)},_t.prototype._stateBeforeSpecialEnd=function(t){this._special!==ut||"c"!==t&&"C"!==t?this._special!==dt||"t"!==t&&"T"!==t?this._state=l:this._state=tt:this._state=q},_t.prototype._stateBeforeScript1=gt("R",B),_t.prototype._stateBeforeScript2=gt("I",H),_t.prototype._stateBeforeScript3=gt("P",V),_t.prototype._stateBeforeScript4=gt("T",G),_t.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||pt(t))&&(this._special=ut),this._state=h,this._index--},_t.prototype._stateAfterScript1=mt("R",J,l),_t.prototype._stateAfterScript2=mt("I",W,l),_t.prototype._stateAfterScript3=mt("P",Y,l),_t.prototype._stateAfterScript4=mt("T",$,l),_t.prototype._stateAfterScript5=function(t){">"===t||pt(t)?(this._special=ht,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=l},_t.prototype._stateBeforeStyle1=gt("Y",K),_t.prototype._stateBeforeStyle2=gt("L",Z),_t.prototype._stateBeforeStyle3=gt("E",Q),_t.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||pt(t))&&(this._special=dt),this._state=h,this._index--},_t.prototype._stateAfterStyle1=mt("Y",et,l),_t.prototype._stateAfterStyle2=mt("L",it,l),_t.prototype._stateAfterStyle3=mt("E",st,l),_t.prototype._stateAfterStyle4=function(t){">"===t||pt(t)?(this._special=ht,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=l},_t.prototype._stateBeforeEntity=mt("#",at,rt),_t.prototype._stateBeforeNumericEntity=mt("X",lt,ot),_t.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?r:n;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},_t.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var i=this._buffer.substr(t,e);if(a.hasOwnProperty(i))return this._emitPartial(a[i]),void(this._sectionStart+=e+1);e--}},_t.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},_t.prototype._decodeNumericEntity=function(t,e){var i=this._sectionStart+t;if(i!==this._index){var n=this._buffer.substring(i,this._index),a=parseInt(n,e);this._emitPartial(s(a)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},_t.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},_t.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},_t.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},_t.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},_t.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===c?this._stateBeforeTagName(t):this._state===h?this._stateInTagName(t):this._state===d?this._stateBeforeCloseingTagName(t):this._state===p?this._stateInCloseingTagName(t):this._state===m?this._stateAfterCloseingTagName(t):this._state===u?this._stateInSelfClosingTag(t):this._state===g?this._stateBeforeAttributeName(t):this._state===_?this._stateInAttributeName(t):this._state===f?this._stateAfterAttributeName(t):this._state===y?this._stateBeforeAttributeValue(t):this._state===v?this._stateInAttributeValueDoubleQuotes(t):this._state===b?this._stateInAttributeValueSingleQuotes(t):this._state===x?this._stateInAttributeValueNoQuotes(t):this._state===S?this._stateBeforeDeclaration(t):this._state===T?this._stateInDeclaration(t):this._state===w?this._stateInProcessingInstruction(t):this._state===E?this._stateBeforeComment(t):this._state===A?this._stateInComment(t):this._state===I?this._stateAfterComment1(t):this._state===M?this._stateAfterComment2(t):this._state===C?this._stateBeforeCdata1(t):this._state===N?this._stateBeforeCdata2(t):this._state===P?this._stateBeforeCdata3(t):this._state===R?this._stateBeforeCdata4(t):this._state===L?this._stateBeforeCdata5(t):this._state===O?this._stateBeforeCdata6(t):this._state===D?this._stateInCdata(t):this._state===k?this._stateAfterCdata1(t):this._state===F?this._stateAfterCdata2(t):this._state===U?this._stateBeforeSpecial(t):this._state===z?this._stateBeforeSpecialEnd(t):this._state===j?this._stateBeforeScript1(t):this._state===B?this._stateBeforeScript2(t):this._state===H?this._stateBeforeScript3(t):this._state===V?this._stateBeforeScript4(t):this._state===G?this._stateBeforeScript5(t):this._state===q?this._stateAfterScript1(t):this._state===J?this._stateAfterScript2(t):this._state===W?this._stateAfterScript3(t):this._state===Y?this._stateAfterScript4(t):this._state===$?this._stateAfterScript5(t):this._state===X?this._stateBeforeStyle1(t):this._state===K?this._stateBeforeStyle2(t):this._state===Z?this._stateBeforeStyle3(t):this._state===Q?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===it?this._stateAfterStyle3(t):this._state===st?this._stateAfterStyle4(t):this._state===nt?this._stateBeforeEntity(t):this._state===at?this._stateBeforeNumericEntity(t):this._state===rt?this._stateInNamedEntity(t):this._state===ot?this._stateInNumericEntity(t):this._state===lt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},_t.prototype.pause=function(){this._running=!1},_t.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},_t.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},_t.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},_t.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===D||this._state===k||this._state===F?this._cbs.oncdata(t):this._state===A||this._state===I||this._state===M?this._cbs.oncomment(t):this._state!==rt||this._xmlMode?this._state!==ot||this._xmlMode?this._state!==lt||this._xmlMode?this._state!==h&&this._state!==g&&this._state!==y&&this._state!==f&&this._state!==_&&this._state!==b&&this._state!==v&&this._state!==x&&this._state!==p&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},_t.prototype.reset=function(){_t.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},_t.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},_t.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},_t.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},_t.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)}},3621:(t,e,i)=>{t.exports=o;var s=i(763),n=i(247).Writable,a=i(8645).s,r=i(8764).Buffer;function o(t,e){var i=this._parser=new s(t,e),r=this._decoder=new a;n.call(this,{decodeStrings:!1}),this.once("finish",(function(){i.end(r.end())}))}i(5717)(o,n),o.prototype._write=function(t,e,i){t instanceof r&&(t=this._decoder.write(t)),this._parser.write(t),i()}},3719:(t,e,i)=>{var s=i(763),n=i(9730);function a(e,i){return delete t.exports[e],t.exports[e]=i,i}t.exports={Parser:s,Tokenizer:i(9889),ElementType:i(2391),DomHandler:n,get FeedHandler(){return a("FeedHandler",i(3870))},get Stream(){return a("Stream",i(9924))},get WritableStream(){return a("WritableStream",i(3621))},get ProxyHandler(){return a("ProxyHandler",i(6321))},get DomUtils(){return a("DomUtils",i(9443))},get CollectingHandler(){return a("CollectingHandler",i(5449))},DefaultHandler:n,get RssHandler(){return a("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var i=new n(e);return new s(i,e).end(t),i.dom},parseFeed:function(e,i){var n=new t.exports.FeedHandler(i);return new s(n,i).end(e),n.dom},createDomStream:function(t,e,i){var a=new n(t,e,i);return new s(a,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},8066:(t,e,i)=>{var s=i(2570),n=i(1137),a=i(9004);a.elementNames.__proto__=null,a.attributeNames.__proto__=null;var r={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var i="",n=0;n<t.length;n++){var a=t[n];"root"===a.type?i+=l(a.children,e):s.isTag(a)?i+=h(a,e):a.type===s.Directive?i+=u(a):a.type===s.Comment?i+=m(a):a.type===s.CDATA?i+=p(a):i+=d(a,e)}return i},c=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function h(t,e){"foreign"===e.xmlMode&&(t.name=a.elementNames[t.name]||t.name,t.parent&&c.indexOf(t.parent.name)>=0&&(e=Object.assign({},e,{xmlMode:!1}))),!e.xmlMode&&["svg","math"].indexOf(t.name)>=0&&(e=Object.assign({},e,{xmlMode:"foreign"}));var i="<"+t.name,s=function(t,e){if(t){var i,s="";for(var r in t)i=t[r],s&&(s+=" "),"foreign"===e.xmlMode&&(r=a.attributeNames[r]||r),s+=r,(null!==i&&""!==i||e.xmlMode)&&(s+='="'+(e.decodeEntities?n.encodeXML(i):i.replace(/\"/g,"&quot;"))+'"');return s}}(t.attribs,e);return s&&(i+=" "+s),!e.xmlMode||t.children&&0!==t.children.length?(i+=">",t.children&&(i+=l(t.children,e)),o[t.name]&&!e.xmlMode||(i+="</"+t.name+">")):i+="/>",i}function u(t){return"<"+t.data+">"}function d(t,e){var i=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in r||(i=n.encodeXML(i)),i}function p(t){return"<![CDATA["+t.children[0].data+"]]>"}function m(t){return"\x3c!--"+t.data+"--\x3e"}},2570:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(i=e.ElementType||(e.ElementType={})),e.isTag=function(t){return t.type===i.Tag||t.type===i.Script||t.type===i.Style},e.Root=i.Root,e.Text=i.Text,e.Directive=i.Directive,e.Comment=i.Comment,e.Script=i.Script,e.Style=i.Style,e.Tag=i.Tag,e.CDATA=i.CDATA,e.Doctype=i.Doctype},162:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHTML=e.decodeHTMLStrict=e.decodeXML=void 0;var n=s(i(3082)),a=s(i(3195)),r=s(i(1210)),o=s(i(4914)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function c(t){var e=u(t);return function(t){return String(t).replace(l,e)}}e.decodeXML=c(r.default),e.decodeHTMLStrict=c(n.default);var h=function(t,e){return t<e?1:-1};function u(t){return function(e){if("#"===e.charAt(1)){var i=e.charAt(2);return"X"===i||"x"===i?o.default(parseInt(e.substr(3),16)):o.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}e.decodeHTML=function(){for(var t=Object.keys(a.default).sort(h),e=Object.keys(n.default).sort(h),i=0,s=0;i<e.length;i++)t[s]===e[i]?(e[i]+=";?",s++):e[i]+=";";var r=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=u(n.default);function l(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(r,l)}}()},4914:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(3523)),a=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+String.fromCharCode(t)};e.default=function(t){return t>=55296&&t<=57343||t>1114111?"":(t in n.default&&(t=n.default[t]),a(t))}},670:function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=void 0;var n=h(s(i(1210)).default),a=u(n);e.encodeXML=_(n);var r,o,l=h(s(i(3082)).default),c=u(l);function h(t){return Object.keys(t).sort().reduce((function(e,i){return e[t[i]]="&"+i+";",e}),{})}function u(t){for(var e=[],i=[],s=0,n=Object.keys(t);s<n.length;s++){var a=n[s];1===a.length?e.push("\\"+a):i.push(a)}e.sort();for(var r=0;r<e.length-1;r++){for(var o=r;o<e.length-1&&e[o].charCodeAt(1)+1===e[o+1].charCodeAt(1);)o+=1;var l=1+o-r;l<3||e.splice(r,l,e[r]+"-"+e[o])}return i.unshift("["+e.join("")+"]"),new RegExp(i.join("|"),"g")}e.encodeHTML=(r=l,o=c,function(t){return t.replace(o,(function(t){return r[t]})).replace(d,m)}),e.encodeNonAsciiHTML=_(l);var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function m(t){return"&#x"+(t.length>1?p(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var g=new RegExp(a.source+"|"+d.source,"g");function _(t){return function(e){return e.replace(g,(function(e){return t[e]||m(e)}))}}e.escape=function(t){return t.replace(g,m)},e.escapeUTF8=function(t){return t.replace(a,m)}},1137:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var s=i(162),n=i(670);e.decode=function(t,e){return(!e||e<=0?s.decodeXML:s.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?s.decodeXML:s.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?n.encodeXML:n.encodeHTML)(t)};var a=i(670);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var r=i(162);Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return r.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return r.decodeXML}})},2391:t=>{t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},9730:(t,e,i)=>{var s=i(2391),n=/\s+/g,a=i(6805),r=i(7359);function o(t,e,i){"object"==typeof t?(i=e,e=t,t=null):"function"==typeof e&&(i=e,e=l),this._callback=t,this._options=e||l,this._elementCB=i,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};o.prototype.onparserinit=function(t){this._parser=t},o.prototype.onreset=function(){o.call(this,this._callback,this._options,this._elementCB)},o.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},o.prototype._handleCallback=o.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},o.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},o.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;for(var i in e="tag"===t.type?Object.create(r):Object.create(a),t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},o.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],i=e?e.children:this.dom,s=i[i.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),s?(t.prev=s,s.next=t):t.prev=null,i.push(t),t.parent=e||null},o.prototype.onopentag=function(t,e){var i={type:"script"===t?s.Script:"style"===t?s.Style:s.Tag,name:t,attribs:e,children:[]},n=this._createDomElement(i);this._addDomElement(n),this._tagStack.push(n)},o.prototype.ontext=function(t){var e,i=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===s.Text)i?e.data=(e.data+t).replace(n," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===s.Text)i?e.data=(e.data+t).replace(n," "):e.data+=t;else{i&&(t=t.replace(n," "));var a=this._createDomElement({data:t,type:s.Text});this._addDomElement(a)}},o.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===s.Comment)e.data+=t;else{var i={data:t,type:s.Comment},n=this._createDomElement(i);this._addDomElement(n),this._tagStack.push(n)}},o.prototype.oncdatastart=function(){var t={children:[{data:"",type:s.Text}],type:s.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},o.prototype.oncommentend=o.prototype.oncdataend=function(){this._tagStack.pop()},o.prototype.onprocessinginstruction=function(t,e){var i=this._createDomElement({name:t,data:e,type:s.Directive});this._addDomElement(i)},t.exports=o},7359:(t,e,i)=>{var s=i(6805),n=t.exports=Object.create(s),a={tagName:"name"};Object.keys(a).forEach((function(t){var e=a[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})}))},6805:t=>{var e=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return s[this.type]||s.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach((function(t){var s=i[t];Object.defineProperty(e,t,{get:function(){return this[s]||null},set:function(t){return this[s]=t,t}})}))},9443:(t,e,i)=>{var s=t.exports;[i(2178),i(1699),i(6167),i(6754),i(5355),i(9256)].forEach((function(t){Object.keys(t).forEach((function(e){s[e]=t[e].bind(s)}))}))},9256:(t,e)=>{e.removeSubsets=function(t){for(var e,i,s,n=t.length;--n>-1;){for(e=i=t[n],t[n]=null,s=!0;i;){if(t.indexOf(i)>-1){s=!1,t.splice(n,1);break}i=i.parent}s&&(t[n]=e)}return t};var i=e.compareDocumentPosition=function(t,e){var i,s,n,a,r,o,l=[],c=[];if(t===e)return 0;for(i=t;i;)l.unshift(i),i=i.parent;for(i=e;i;)c.unshift(i),i=i.parent;for(o=0;l[o]===c[o];)o++;return 0===o?1:(n=(s=l[o-1]).children,a=l[o],r=c[o],n.indexOf(a)>n.indexOf(r)?s===e?20:4:s===t?10:2)};e.uniqueSort=function(t){var e,s,n=t.length;for(t=t.slice();--n>-1;)e=t[n],(s=t.indexOf(e))>-1&&s<n&&t.splice(n,1);return t.sort((function(t,e){var s=i(t,e);return 2&s?-1:4&s?1:0})),t}},5355:(t,e,i)=>{var s=i(2391),n=e.isTag=s.isTag;e.testElement=function(t,e){for(var i in t)if(t.hasOwnProperty(i))if("tag_name"===i){if(!n(e)||!t.tag_name(e.name))return!1}else if("tag_type"===i){if(!t.tag_type(e.type))return!1}else if("tag_contains"===i){if(n(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[i](e.attribs[i]))return!1;return!0};var a={tag_name:function(t){return"function"==typeof t?function(e){return n(e)&&t(e.name)}:"*"===t?n:function(e){return n(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!n(e)&&t(e.data)}:function(e){return!n(e)&&e.data===t}}};function r(t,e){return"function"==typeof e?function(i){return i.attribs&&e(i.attribs[t])}:function(i){return i.attribs&&i.attribs[t]===e}}function o(t,e){return function(i){return t(i)||e(i)}}e.getElements=function(t,e,i,s){var n=Object.keys(t).map((function(e){var i=t[e];return e in a?a[e](i):r(e,i)}));return 0===n.length?[]:this.filter(n.reduce(o),e,i,s)},e.getElementById=function(t,e,i){return Array.isArray(e)||(e=[e]),this.findOne(r("id",t),e,!1!==i)},e.getElementsByTagName=function(t,e,i,s){return this.filter(a.tag_name(t),e,i,s)},e.getElementsByTagType=function(t,e,i,s){return this.filter(a.tag_type(t),e,i,s)}},6167:(t,e)=>{e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var i=e.prev=t.prev;i&&(i.next=e);var s=e.next=t.next;s&&(s.prev=e);var n=e.parent=t.parent;if(n){var a=n.children;a[a.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var i=t.children[t.children.length-2];i.next=e,e.prev=i,e.next=null}},e.append=function(t,e){var i=t.parent,s=t.next;if(e.next=s,e.prev=t,t.next=e,e.parent=i,s){if(s.prev=e,i){var n=i.children;n.splice(n.lastIndexOf(s),0,e)}}else i&&i.children.push(e)},e.prepend=function(t,e){var i=t.parent;if(i){var s=i.children;s.splice(s.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=i,e.prev=t.prev,e.next=t,t.prev=e}},6754:(t,e,i)=>{var s=i(2391).isTag;function n(t,e,i,s){for(var a,r=[],o=0,l=e.length;o<l&&!(t(e[o])&&(r.push(e[o]),--s<=0))&&(a=e[o].children,!(i&&a&&a.length>0&&(a=n(t,a,i,s),r=r.concat(a),(s-=a.length)<=0)));o++);return r}t.exports={filter:function(t,e,i,s){return Array.isArray(e)||(e=[e]),"number"==typeof s&&isFinite(s)||(s=1/0),n(t,e,!1!==i,s)},find:n,findOneChild:function(t,e){for(var i=0,s=e.length;i<s;i++)if(t(e[i]))return e[i];return null},findOne:function t(e,i){for(var n=null,a=0,r=i.length;a<r&&!n;a++)s(i[a])&&(e(i[a])?n=i[a]:i[a].children.length>0&&(n=t(e,i[a].children)));return n},existsOne:function t(e,i){for(var n=0,a=i.length;n<a;n++)if(s(i[n])&&(e(i[n])||i[n].children.length>0&&t(e,i[n].children)))return!0;return!1},findAll:function(t,e){for(var i=[],n=e.slice();n.length;){var a=n.shift();s(a)&&(a.children&&a.children.length>0&&n.unshift.apply(n,a.children),t(a)&&i.push(a))}return i}}},2178:(t,e,i)=>{var s=i(2391),n=i(8066),a=s.isTag;t.exports={getInnerHTML:function(t,e){return t.children?t.children.map((function(t){return n(t,e)})).join(""):""},getOuterHTML:n,getText:function t(e){return Array.isArray(e)?e.map(t).join(""):a(e)?"br"===e.name?"\n":t(e.children):e.type===s.CDATA?t(e.children):e.type===s.Text?e.data:""}}},1699:(t,e)=>{var i=e.getChildren=function(t){return t.children},s=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=s(t);return e?i(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},8894:(t,e,i)=>{var s=i(2968);t.exports=function(t){if(t>=55296&&t<=57343||t>1114111)return"";t in s&&(t=s[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+String.fromCharCode(t)}},8645:(t,e,i)=>{"use strict";var s=i(9509).Buffer,n=s.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(s.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=h,this.end=u,e=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var s=i.charCodeAt(i.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function h(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.s=a,a.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},a.prototype.text=function(t,e){var i=function(t,e,i){var s=e.length-1;if(s<i)return 0;var n=r(e[s]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--s<i||-2===n?0:(n=r(e[s]))>=0?(n>0&&(t.lastNeed=n-2),n):--s<i||-2===n?0:(n=r(e[s]))>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var s=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,s),t.toString("utf8",e,s)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},645:(t,e)=>{e.read=function(t,e,i,s,n){var a,r,o=8*n-s-1,l=(1<<o)-1,c=l>>1,h=-7,u=i?n-1:0,d=i?-1:1,p=t[e+u];for(u+=d,a=p&(1<<-h)-1,p>>=-h,h+=o;h>0;a=256*a+t[e+u],u+=d,h-=8);for(r=a&(1<<-h)-1,a>>=-h,h+=s;h>0;r=256*r+t[e+u],u+=d,h-=8);if(0===a)a=1-c;else{if(a===l)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,s),a-=c}return(p?-1:1)*r*Math.pow(2,a-s)},e.write=function(t,e,i,s,n,a){var r,o,l,c=8*a-n-1,h=(1<<c)-1,u=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:a-1,m=s?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,r=h):(r=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-r))<1&&(r--,l*=2),(e+=r+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(r++,l/=2),r+u>=h?(o=0,r=h):r+u>=1?(o=(e*l-1)*Math.pow(2,n),r+=u):(o=e*Math.pow(2,u-1)*Math.pow(2,n),r=0));n>=8;t[i+p]=255&o,p+=m,o/=256,n-=8);for(r=r<<n|o,c+=n;c>0;t[i+p]=255&r,p+=m,r/=256,c-=8);t[i+p-m]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},8139:t=>{var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,s=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function h(t){return t?t.replace(l,c):c}t.exports=function(t,l){if("string"!=typeof t)throw new TypeError("First argument must be a string");if(!t)return[];l=l||{};var u=1,d=1;function p(t){var e=t.match(i);e&&(u+=e.length);var s=t.lastIndexOf("\n");d=~s?t.length-s:d+t.length}function m(){var t={line:u,column:d};return function(e){return e.position=new g(t),v(),e}}function g(t){this.start=t,this.end={line:u,column:d},this.source=l.source}g.prototype.content=t;var _=[];function f(e){var i=new Error(l.source+":"+u+":"+d+": "+e);if(i.reason=e,i.filename=l.source,i.line=u,i.column=d,i.source=t,!l.silent)throw i;_.push(i)}function y(e){var i=e.exec(t);if(i){var s=i[0];return p(s),t=t.slice(s.length),i}}function v(){y(s)}function b(t){var e;for(t=t||[];e=x();)!1!==e&&t.push(e);return t}function x(){var e=m();if("/"==t.charAt(0)&&"*"==t.charAt(1)){for(var i=2;c!=t.charAt(i)&&("*"!=t.charAt(i)||"/"!=t.charAt(i+1));)++i;if(i+=2,c===t.charAt(i-1))return f("End of comment missing");var s=t.slice(2,i-2);return d+=2,p(s),t=t.slice(i),d+=2,e({type:"comment",comment:s})}}function S(){var t=m(),i=y(n);if(i){if(x(),!y(a))return f("property missing ':'");var s=y(r),l=t({type:"declaration",property:h(i[0].replace(e,c)),value:s?h(s[0].replace(e,c)):c});return y(o),l}}return v(),function(){var t,e=[];for(b(e);t=S();)!1!==t&&(e.push(t),b(e));return e}()}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(t){s[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,n){for(var a,r,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))i.call(a,c)&&(o[c]=a[c]);if(e){r=e(a);for(var h=0;h<r.length;h++)s.call(a,r[h])&&(o[r[h]]=a[r[h]])}}return o}},2703:(t,e,i)=>{"use strict";var s=i(414);function n(){}function a(){}a.resetWarningCache=n,t.exports=function(){function t(t,e,i,n,a,r){if(r!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:n};return i.PropTypes=i,i}},5697:(t,e,i)=>{t.exports=i(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1768:(t,e,i)=>{"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(i(6489)),a=r(i(7418));function r(t){return t&&t.__esModule?t:{default:t}}var o="undefined"==typeof document||"undefined"!=typeof process&&process.env&&!1,l={},c=void 0;function h(){return c&&!c.headersSent}function u(t){l=t?n.default.parse(t):{}}e.ZP={setRawCookie:u,load:function(t,e){var i=o?l:n.default.parse(document.cookie),s=i&&i[t];if(void 0===e&&(e=!s||"{"!==s[0]&&"["!==s[0]),!e)try{s=JSON.parse(s)}catch(t){}return s},loadAll:function(t){var e=o?l:n.default.parse(document.cookie);if(void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]),!t)try{e=JSON.parse(e)}catch(t){}return e},select:function(t){var e=o?l:n.default.parse(document.cookie);return e?t?Object.keys(e).reduce((function(i,s){if(!t.test(s))return i;var n={};return n[s]=e[s],(0,a.default)({},i,n)}),{}):e:{}},save:function(t,e,i){l[t]=e,"object"===(void 0===e?"undefined":s(e))&&(l[t]=JSON.stringify(e)),o||(document.cookie=n.default.serialize(t,l[t],i)),h()&&c.cookie&&c.cookie(t,e,i)},remove:function(t,e){delete l[t],e=void 0===e?{}:"string"==typeof e?{path:e}:(0,a.default)({},e),"undefined"!=typeof document&&(e.expires=new Date(1970,1,1,0,0,1),e.maxAge=0,document.cookie=n.default.serialize(t,"",e)),h()&&c.clearCookie&&c.clearCookie(t,e)},plugToRequest:function(t,e){return t.cookie?l=t.cookie:t.cookies?l=t.cookies:t.headers&&t.headers.cookie?u(t.headers.cookie):l={},c=e,function(){c=null,l={}}}}},8698:(t,e,i)=>{"use strict";var s=i(7418),n=i(7294);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,h=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,g=r?Symbol.for("react.suspense"):60113,_=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.scope"):60119;function S(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case l:return"Fragment";case o:return"Portal";case h:return"Profiler";case c:return"StrictMode";case g:return"Suspense";case _:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case d:return"Context.Consumer";case u:return"Context.Provider";case m:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case f:return S(t.type);case v:return S(t.render);case y:if(t=1===t._status?t._result:null)return S(t)}return null}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;T.hasOwnProperty("ReactCurrentDispatcher")||(T.ReactCurrentDispatcher={current:null}),T.hasOwnProperty("ReactCurrentBatchConfig")||(T.ReactCurrentBatchConfig={suspense:null});var w={};function E(t,e){for(var i=0|t._threadCount;i<=e;i++)t[i]=t._currentValue2,t._threadCount=i+1}for(var A=new Uint16Array(16),I=0;15>I;I++)A[I]=I+1;A[15]=0;var M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C=Object.prototype.hasOwnProperty,N={},P={};function R(t){return!!C.call(P,t)||!C.call(N,t)&&(M.test(t)?P[t]=!0:(N[t]=!0,!1))}function L(t,e,i,s,n,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=a}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){O[t]=new L(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];O[e]=new L(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){O[t]=new L(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){O[t]=new L(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){O[t]=new L(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){O[t]=new L(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){O[t]=new L(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){O[t]=new L(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){O[t]=new L(t,5,!1,t.toLowerCase(),null,!1)}));var D=/[\-:]([a-z])/g;function k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(D,k);O[e]=new L(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(D,k);O[e]=new L(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(D,k);O[e]=new L(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){O[t]=new L(t,1,!1,t.toLowerCase(),null,!1)})),O.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){O[t]=new L(t,1,!1,t.toLowerCase(),null,!0)}));var F=/["'&<>]/;function U(t){if("boolean"==typeof t||"number"==typeof t)return""+t;t=""+t;var e=F.exec(t);if(e){var i,s="",n=0;for(i=e.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}n!==i&&(s+=t.substring(n,i)),n=i+1,s+=e}t=n!==i?s+t.substring(n,i):s}return t}function z(t,e){var i,s=O.hasOwnProperty(t)?O[t]:null;return(i="style"!==t)&&(i=null!==s?0===s.type:2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])),i||function(t,e,i,s){if(null==e||function(t,e,i,s){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t;default:return!1}}(t,e,i))return!0;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(t,e,s)?"":null!==s?(t=s.attributeName,3===(i=s.type)||4===i&&!0===e?t+'=""':(s.sanitizeURL&&(e=""+e),t+'="'+U(e)+'"')):R(t)?t+'="'+U(e)+'"':""}var j="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},B=null,H=null,V=null,G=!1,q=!1,J=null,W=0;function Y(){if(null===B)throw Error(a(321));return B}function $(){if(0<W)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function X(){return null===V?null===H?(G=!1,H=V=$()):(G=!0,V=H):null===V.next?(G=!1,V=V.next=$()):(G=!0,V=V.next),V}function K(t,e,i,s){for(;q;)q=!1,W+=1,V=null,i=t(e,s);return H=B=null,W=0,V=J=null,i}function Z(t,e){return"function"==typeof e?e(t):e}function Q(t,e,i){if(B=Y(),V=X(),G){var s=V.queue;if(e=s.dispatch,null!==J&&void 0!==(i=J.get(s))){J.delete(s),s=V.memoizedState;do{s=t(s,i.action),i=i.next}while(null!==i);return V.memoizedState=s,[s,e]}return[V.memoizedState,e]}return t=t===Z?"function"==typeof e?e():e:void 0!==i?i(e):e,V.memoizedState=t,t=(t=V.queue={last:null,dispatch:null}).dispatch=tt.bind(null,B,t),[V.memoizedState,t]}function tt(t,e,i){if(!(25>W))throw Error(a(301));if(t===B)if(q=!0,t={action:i,next:null},null===J&&(J=new Map),void 0===(i=J.get(e)))J.set(e,t);else{for(e=i;null!==e.next;)e=e.next;e.next=t}}function et(){}var it=0,st={readContext:function(t){var e=it;return E(t,e),t[e]},useContext:function(t){Y();var e=it;return E(t,e),t[e]},useMemo:function(t,e){if(B=Y(),e=void 0===e?null:e,null!==(V=X())){var i=V.memoizedState;if(null!==i&&null!==e){t:{var s=i[1];if(null===s)s=!1;else{for(var n=0;n<s.length&&n<e.length;n++)if(!j(e[n],s[n])){s=!1;break t}s=!0}}if(s)return i[0]}}return t=t(),V.memoizedState=[t,e],t},useReducer:Q,useRef:function(t){B=Y();var e=(V=X()).memoizedState;return null===e?(t={current:t},V.memoizedState=t):e},useState:function(t){return Q(Z,t)},useLayoutEffect:function(){},useCallback:function(t){return t},useImperativeHandle:et,useEffect:et,useDebugValue:et,useResponder:function(t,e){return{props:e,responder:t}},useDeferredValue:function(t){return Y(),t},useTransition:function(){return Y(),[function(t){t()},!1]}},nt="http://www.w3.org/1999/xhtml";function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var rt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ot=s({menuitem:!0},rt),lt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(lt).forEach((function(t){ct.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lt[e]=lt[t]}))}));var ht=/([A-Z])/g,ut=/^ms-/,dt=n.Children.toArray,pt=T.ReactCurrentDispatcher,mt={listing:!0,pre:!0,textarea:!0},gt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_t={},ft={},yt=Object.prototype.hasOwnProperty,vt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function bt(t,e){if(void 0===t)throw Error(a(152,S(e)||"Component"))}var xt=function(){function t(t,e){n.isValidElement(t)?t.type!==l?t=[t]:(t=t.props.children,t=n.isValidElement(t)?[t]:dt(t)):t=dt(t),t={type:null,domNamespace:nt,children:t,childIndex:0,context:w,footer:""};var i=A[0];if(0===i){var s=A,r=2*(i=s.length);if(!(65536>=r))throw Error(a(304));var o=new Uint16Array(r);for(o.set(s),(A=o)[0]=i+1,s=i;s<r-1;s++)A[s]=s+1;A[r-1]=0}else A[0]=A[i];this.threadID=i,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=e,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var e=t.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;A[t]=A[0],A[0]=t}},e.pushProvider=function(t){var e=++this.contextIndex,i=t.type._context,s=this.threadID;E(i,s);var n=i[s];this.contextStack[e]=i,this.contextValueStack[e]=n,i[s]=t.props.value},e.popProvider=function(){var t=this.contextIndex,e=this.contextStack[t],i=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,e[this.threadID]=i},e.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},e.read=function(t){if(this.exhausted)return null;var e=it;it=this.threadID;var i=pt.current;pt.current=st;try{for(var s=[""],n=!1;s[0].length<t;){if(0===this.stack.length){this.exhausted=!0;var r=this.threadID;A[r]=A[0],A[0]=r;break}var o=this.stack[this.stack.length-1];if(n||o.childIndex>=o.children.length){var l=o.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===o.type)this.currentSelectValue=null;else if(null!=o.type&&null!=o.type.type&&o.type.type.$$typeof===u)this.popProvider(o.type);else if(o.type===g){this.suspenseDepth--;var c=s.pop();if(n){n=!1;var h=o.fallbackFrame;if(!h)throw Error(a(303));this.stack.push(h),s[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}s[this.suspenseDepth]+=c}s[this.suspenseDepth]+=l}else{var d=o.children[o.childIndex++],p="";try{p+=this.render(d,o.context,o.domNamespace)}catch(t){if(null!=t&&"function"==typeof t.then)throw Error(a(294));throw t}s.length<=this.suspenseDepth&&s.push(""),s[this.suspenseDepth]+=p}}return s[0]}finally{pt.current=i,it=e}},e.render=function(t,e,i){if("string"==typeof t||"number"==typeof t)return""==(i=""+t)?"":this.makeStaticMarkup?U(i):this.previousWasTextNode?"\x3c!-- --\x3e"+U(i):(this.previousWasTextNode=!0,U(i));if(t=(e=function(t,e,i){function r(n,r){var o=r.prototype&&r.prototype.isReactComponent,l=function(t,e,i,s){if(s&&"object"==typeof(s=t.contextType)&&null!==s)return E(s,i),s[i];if(t=t.contextTypes){for(var n in i={},t)i[n]=e[n];e=i}else e=w;return e}(r,e,i,o),c=[],h=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(t,e){h=!0,c=[e]},enqueueSetState:function(t,e){if(null===c)return null;c.push(e)}};if(o){if(o=new r(n.props,l,u),"function"==typeof r.getDerivedStateFromProps){var d=r.getDerivedStateFromProps.call(null,n.props,o.state);null!=d&&(o.state=s({},o.state,d))}}else if(B={},o=r(n.props,l,u),null==(o=K(r,n.props,o,l))||null==o.render)return void bt(t=o,r);if(o.props=n.props,o.context=l,o.updater=u,void 0===(u=o.state)&&(o.state=u=null),"function"==typeof o.UNSAFE_componentWillMount||"function"==typeof o.componentWillMount)if("function"==typeof o.componentWillMount&&"function"!=typeof r.getDerivedStateFromProps&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&"function"!=typeof r.getDerivedStateFromProps&&o.UNSAFE_componentWillMount(),c.length){u=c;var p=h;if(c=null,h=!1,p&&1===u.length)o.state=u[0];else{d=p?u[0]:o.state;var m=!0;for(p=p?1:0;p<u.length;p++){var g=u[p];null!=(g="function"==typeof g?g.call(o,d,n.props,l):g)&&(m?(m=!1,d=s({},d,g)):s(d,g))}o.state=d}}else c=null;if(bt(t=o.render(),r),"function"==typeof o.getChildContext&&"object"==typeof(n=r.childContextTypes)){var _=o.getChildContext();for(var f in _)if(!(f in n))throw Error(a(108,S(r)||"Unknown",f))}_&&(e=s({},e,_))}for(;n.isValidElement(t);){var o=t,l=o.type;if("function"!=typeof l)break;r(o,l)}return{child:t,context:e}}(t,e,this.threadID)).child,e=e.context,null===t||!1===t)return"";if(!n.isValidElement(t)){if(null!=t&&null!=t.$$typeof){if((i=t.$$typeof)===o)throw Error(a(257));throw Error(a(258,i.toString()))}return t=dt(t),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),""}var r=t.type;if("string"==typeof r)return this.renderDOM(t,e,i);switch(r){case c:case p:case h:case _:case l:return t=dt(t.props.children),this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),"";case g:throw Error(a(294))}if("object"==typeof r&&null!==r)switch(r.$$typeof){case m:B={};var v=r.render(t.props,t.ref);return v=K(r.render,t.props,v,t.ref),v=dt(v),this.stack.push({type:null,domNamespace:i,children:v,childIndex:0,context:e,footer:""}),"";case f:return t=[n.createElement(r.type,s({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),"";case u:return i={type:t,domNamespace:i,children:r=dt(t.props.children),childIndex:0,context:e,footer:""},this.pushProvider(t),this.stack.push(i),"";case d:r=t.type,v=t.props;var T=this.threadID;return E(r,T),r=dt(v.children(r[T])),this.stack.push({type:t,domNamespace:i,children:r,childIndex:0,context:e,footer:""}),"";case b:throw Error(a(338));case y:switch(function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r=t.type),r._status){case 1:return t=[n.createElement(r._result,s({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:i,children:t,childIndex:0,context:e,footer:""}),"";case 2:throw r._result;default:throw Error(a(295))}case x:throw Error(a(343))}throw Error(a(130,null==r?r:typeof r,""))},e.renderDOM=function(t,e,i){var r=t.type.toLowerCase();if(i===nt&&at(r),!_t.hasOwnProperty(r)){if(!gt.test(r))throw Error(a(65,r));_t[r]=!0}var o=t.props;if("input"===r)o=s({type:void 0},o,{defaultChecked:void 0,defaultValue:void 0,value:null!=o.value?o.value:o.defaultValue,checked:null!=o.checked?o.checked:o.defaultChecked});else if("textarea"===r){var l=o.value;if(null==l){l=o.defaultValue;var c=o.children;if(null!=c){if(null!=l)throw Error(a(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(a(93));c=c[0]}l=""+c}null==l&&(l="")}o=s({},o,{value:void 0,children:""+l})}else if("select"===r)this.currentSelectValue=null!=o.value?o.value:o.defaultValue,o=s({},o,{value:void 0});else if("option"===r){c=this.currentSelectValue;var h=function(t){if(null==t)return t;var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(o.children);if(null!=c){var u=null!=o.value?o.value+"":h;if(l=!1,Array.isArray(c)){for(var d=0;d<c.length;d++)if(""+c[d]===u){l=!0;break}}else l=""+c===u;o=s({selected:void 0,children:void 0},o,{selected:l,children:h})}}if(l=o){if(ot[r]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(a(137,r,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(a(60));if("object"!=typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=l.style&&"object"!=typeof l.style)throw Error(a(62,""))}for(b in l=o,c=this.makeStaticMarkup,h=1===this.stack.length,u="<"+t.type,l)if(yt.call(l,b)){var p=l[b];if(null!=p){if("style"===b){d=void 0;var m="",g="";for(d in p)if(p.hasOwnProperty(d)){var _=0===d.indexOf("--"),f=p[d];if(null!=f){if(_)var y=d;else if(y=d,ft.hasOwnProperty(y))y=ft[y];else{var v=y.replace(ht,"-$1").toLowerCase().replace(ut,"-ms-");y=ft[y]=v}m+=g+y+":",g=d,m+=_=null==f||"boolean"==typeof f||""===f?"":_||"number"!=typeof f||0===f||lt.hasOwnProperty(g)&&lt[g]?(""+f).trim():f+"px",g=";"}}p=m||null}d=null;t:if(_=r,f=l,-1===_.indexOf("-"))_="string"==typeof f.is;else switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":_=!1;break t;default:_=!0}_?vt.hasOwnProperty(b)||(d=R(d=b)&&null!=p?d+'="'+U(p)+'"':""):d=z(b,p),d&&(u+=" "+d)}}c||h&&(u+=' data-reactroot=""');var b=u;l="",rt.hasOwnProperty(r)?b+="/>":(b+=">",l="</"+t.type+">");t:{if(null!=(c=o.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break t}}else if("string"==typeof(c=o.children)||"number"==typeof c){c=U(c);break t}c=null}return null!=c?(o=[],mt.hasOwnProperty(r)&&"\n"===c.charAt(0)&&(b+="\n"),b+=c):o=dt(o.children),t=t.type,i=null==i||"http://www.w3.org/1999/xhtml"===i?at(t):"http://www.w3.org/2000/svg"===i&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":i,this.stack.push({domNamespace:i,type:r,children:o,childIndex:0,context:e,footer:l}),this.previousWasTextNode=!1,b},t}(),St={renderToString:function(t){t=new xt(t,!1);try{return t.read(1/0)}finally{t.destroy()}},renderToStaticMarkup:function(t){t=new xt(t,!0);try{return t.read(1/0)}finally{t.destroy()}},renderToNodeStream:function(){throw Error(a(207))},renderToStaticNodeStream:function(){throw Error(a(208))},version:"16.14.0"};t.exports=St.default||St},4448:(t,e,i)=>{"use strict";var s=i(7294),n=i(7418),a=i(4142);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!s)throw Error(r(227));function o(t,e,i,s,n,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(t){this.onError(t)}}var l=!1,c=null,h=!1,u=null,d={onError:function(t){l=!0,c=t}};function p(t,e,i,s,n,a,r,h,u){l=!1,c=null,o.apply(d,arguments)}var m=null,g=null,_=null;function f(t,e,i){var s=t.type||"unknown-event";t.currentTarget=_(i),function(t,e,i,s,n,a,o,d,m){if(p.apply(this,arguments),l){if(!l)throw Error(r(198));var g=c;l=!1,c=null,h||(h=!0,u=g)}}(s,e,void 0,t),t.currentTarget=null}var y=null,v={};function b(){if(y)for(var t in v){var e=v[t],i=y.indexOf(t);if(!(-1<i))throw Error(r(96,t));if(!S[i]){if(!e.extractEvents)throw Error(r(97,t));for(var s in S[i]=e,i=e.eventTypes){var n=void 0,a=i[s],o=e,l=s;if(T.hasOwnProperty(l))throw Error(r(99,l));T[l]=a;var c=a.phasedRegistrationNames;if(c){for(n in c)c.hasOwnProperty(n)&&x(c[n],o,l);n=!0}else a.registrationName?(x(a.registrationName,o,l),n=!0):n=!1;if(!n)throw Error(r(98,s,t))}}}}function x(t,e,i){if(w[t])throw Error(r(100,t));w[t]=e,E[t]=e.eventTypes[i].dependencies}var S=[],T={},w={},E={};function A(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var s=t[e];if(!v.hasOwnProperty(e)||v[e]!==s){if(v[e])throw Error(r(102,e));v[e]=s,i=!0}}i&&b()}var I=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),M=null,C=null,N=null;function P(t){if(t=g(t)){if("function"!=typeof M)throw Error(r(280));var e=t.stateNode;e&&(e=m(e),M(t.stateNode,t.type,e))}}function R(t){C?N?N.push(t):N=[t]:C=t}function L(){if(C){var t=C,e=N;if(N=C=null,P(t),e)for(t=0;t<e.length;t++)P(e[t])}}function O(t,e){return t(e)}function D(t,e,i,s,n){return t(e,i,s,n)}function k(){}var F=O,U=!1,z=!1;function j(){null===C&&null===N||(k(),L())}function B(t,e,i){if(z)return t(e,i);z=!0;try{return F(t,e,i)}finally{z=!1,j()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,G={},q={};function J(t,e,i,s,n,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=a}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){W[t]=new J(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];W[e]=new J(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){W[t]=new J(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){W[t]=new J(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){W[t]=new J(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){W[t]=new J(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){W[t]=new J(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){W[t]=new J(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){W[t]=new J(t,5,!1,t.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Y,$);W[e]=new J(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Y,$);W[e]=new J(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Y,$);W[e]=new J(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){W[t]=new J(t,1,!1,t.toLowerCase(),null,!1)})),W.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){W[t]=new J(t,1,!1,t.toLowerCase(),null,!0)}));var X=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(t,e,i,s){var n=W.hasOwnProperty(e)?W[e]:null;(null!==n?0===n.type:!s&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,i,s){if(null==e||function(t,e,i,s){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,n,s)&&(i=null),s||null===n?function(t){return!!V.call(q,t)||!V.call(G,t)&&(H.test(t)?q[t]=!0:(G[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=null===i?3!==n.type&&"":i:(e=n.attributeName,s=n.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,s?t.setAttributeNS(s,e,i):t.setAttribute(e,i))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,it=Q?Symbol.for("react.fragment"):60107,st=Q?Symbol.for("react.strict_mode"):60108,nt=Q?Symbol.for("react.profiler"):60114,at=Q?Symbol.for("react.provider"):60109,rt=Q?Symbol.for("react.context"):60110,ot=Q?Symbol.for("react.concurrent_mode"):60111,lt=Q?Symbol.for("react.forward_ref"):60112,ct=Q?Symbol.for("react.suspense"):60113,ht=Q?Symbol.for("react.suspense_list"):60120,ut=Q?Symbol.for("react.memo"):60115,dt=Q?Symbol.for("react.lazy"):60116,pt=Q?Symbol.for("react.block"):60121,mt="function"==typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=mt&&t[mt]||t["@@iterator"])?t:null}function _t(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case nt:return"Profiler";case st:return"StrictMode";case ct:return"Suspense";case ht:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case rt:return"Context.Consumer";case at:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ut:return _t(t.type);case pt:return _t(t.render);case dt:if(t=1===t._status?t._result:null)return _t(t)}return null}function ft(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var s=t._debugOwner,n=t._debugSource,a=_t(t.type);i=null,s&&(i=_t(s.type)),s=a,a="",n?a=" (at "+n.fileName.replace(Z,"")+":"+n.lineNumber+")":i&&(a=" (created by "+i+")"),i="\n    in "+(s||"Unknown")+a}e+=i,t=t.return}while(t);return e}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var n=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(t){s=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=vt(t)?t.checked?"true":"false":t.value),(t=s)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Tt(t,e){var i=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;i=yt(null!=e.value?e.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function wt(t,e){null!=(e=e.checked)&&K(t,"checked",e,!1)}function Et(t,e){wt(t,e);var i=yt(e.value),s=e.type;if(null!=i)"number"===s?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,i):e.hasOwnProperty("defaultValue")&&It(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function At(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function It(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Mt(t,e){return t=n({children:void 0},e),(e=function(t){var e="";return s.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ct(t,e,i,s){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&s&&(t[i].defaultSelected=!0)}else{for(i=""+yt(i),e=null,n=0;n<t.length;n++){if(t[n].value===i)return t[n].selected=!0,void(s&&(t[n].defaultSelected=!0));null!==e||t[n].disabled||(e=t[n])}null!==e&&(e.selected=!0)}}function Nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(r(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(r(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:yt(i)}}function Rt(t,e){var i=yt(e.value),s=yt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=s&&(t.defaultValue=""+s)}function Lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function Ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var kt,Ft,Ut=(Ft=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((kt=kt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction((function(){return Ft(t,e)}))}:Ft);function zt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function jt(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Bt={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},Ht={},Vt={};function Gt(t){if(Ht[t])return Ht[t];if(!Bt[t])return t;var e,i=Bt[t];for(e in i)if(i.hasOwnProperty(e)&&e in Vt)return Ht[t]=i[e];return t}I&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var qt=Gt("animationend"),Jt=Gt("animationiteration"),Wt=Gt("animationstart"),Yt=Gt("transitionend"),$t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"==typeof WeakMap?WeakMap:Map);function Kt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Zt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function te(t){if(Zt(t)!==t)throw Error(r(188))}function ee(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(r(188));return e!==t?null:t}for(var i=t,s=e;;){var n=i.return;if(null===n)break;var a=n.alternate;if(null===a){if(null!==(s=n.return)){i=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===i)return te(n),t;if(a===s)return te(n),e;a=a.sibling}throw Error(r(188))}if(i.return!==s.return)i=n,s=a;else{for(var o=!1,l=n.child;l;){if(l===i){o=!0,i=n,s=a;break}if(l===s){o=!0,s=n,i=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===i){o=!0,i=a,s=n;break}if(l===s){o=!0,s=a,i=n;break}l=l.sibling}if(!o)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(r(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function se(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var ne=null;function ae(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var s=0;s<e.length&&!t.isPropagationStopped();s++)f(t,e[s],i[s]);else e&&f(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function re(t){if(null!==t&&(ne=ie(ne,t)),t=ne,ne=null,t){if(se(t,ae),ne)throw Error(r(95));if(h)throw t=u,h=!1,u=null,t}}function oe(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!I)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function ue(t,e,i,s){if(ce.length){var n=ce.pop();return n.topLevelType=t,n.eventSystemFlags=s,n.nativeEvent=e,n.targetInst=i,n}return{topLevelType:t,eventSystemFlags:s,nativeEvent:e,targetInst:i,ancestors:[]}}function de(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var s=i;if(3===s.tag)s=s.stateNode.containerInfo;else{for(;s.return;)s=s.return;s=3!==s.tag?null:s.stateNode.containerInfo}if(!s)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Ni(s)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var n=oe(t.nativeEvent);s=t.topLevelType;var a=t.nativeEvent,r=t.eventSystemFlags;0===i&&(r|=64);for(var o=null,l=0;l<S.length;l++){var c=S[l];c&&(c=c.extractEvents(s,e,a,n,r))&&(o=ie(o,c))}re(o)}}function pe(t,e,i){if(!i.has(t)){switch(t){case"scroll":We(e,"scroll",!0);break;case"focus":case"blur":We(e,"focus",!0),We(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":le(t)&&We(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$t.indexOf(t)&&Je(t,e)}i.set(t,null)}}var me,ge,_e,fe=!1,ye=[],ve=null,be=null,xe=null,Se=new Map,Te=new Map,we=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ae="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,i,s,n){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:n,container:s}}function Me(t,e){switch(t){case"focus":case"blur":ve=null;break;case"dragenter":case"dragleave":be=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function Ce(t,e,i,s,n,a){return null===t||t.nativeEvent!==a?(t=Ie(e,i,s,n,a),null!==e&&null!==(e=Pi(e))&&ge(e),t):(t.eventSystemFlags|=s,t)}function Ne(t){var e=Ni(t.target);if(null!==e){var i=Zt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Qt(i)))return t.blockedOn=e,void a.unstable_runWithPriority(t.priority,(function(){_e(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Pe(t){if(null!==t.blockedOn)return!1;var e=Ke(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Pi(e);return null!==i&&ge(i),t.blockedOn=e,!1}return!0}function Re(t,e,i){Pe(t)&&i.delete(e)}function Le(){for(fe=!1;0<ye.length;){var t=ye[0];if(null!==t.blockedOn){null!==(t=Pi(t.blockedOn))&&me(t);break}var e=Ke(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ye.shift()}null!==ve&&Pe(ve)&&(ve=null),null!==be&&Pe(be)&&(be=null),null!==xe&&Pe(xe)&&(xe=null),Se.forEach(Re),Te.forEach(Re)}function Oe(t,e){t.blockedOn===e&&(t.blockedOn=null,fe||(fe=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Le)))}function De(t){function e(e){return Oe(e,t)}if(0<ye.length){Oe(ye[0],t);for(var i=1;i<ye.length;i++){var s=ye[i];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==ve&&Oe(ve,t),null!==be&&Oe(be,t),null!==xe&&Oe(xe,t),Se.forEach(e),Te.forEach(e),i=0;i<we.length;i++)(s=we[i]).blockedOn===t&&(s.blockedOn=null);for(;0<we.length&&null===(i=we[0]).blockedOn;)Ne(i),null===i.blockedOn&&we.shift()}var ke={},Fe=new Map,Ue=new Map,ze=["abort","abort",qt,"animationEnd",Jt,"animationIteration",Wt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yt,"transitionEnd","waiting","waiting"];function je(t,e){for(var i=0;i<t.length;i+=2){var s=t[i],n=t[i+1],a="on"+(n[0].toUpperCase()+n.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[s],eventPriority:e},Ue.set(s,e),Fe.set(s,a),ke[n]=a}}je("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),je("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),je(ze,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),He=0;He<Be.length;He++)Ue.set(Be[He],0);var Ve=a.unstable_UserBlockingPriority,Ge=a.unstable_runWithPriority,qe=!0;function Je(t,e){We(e,t,!1)}function We(t,e,i){var s=Ue.get(e);switch(void 0===s?2:s){case 0:s=Ye.bind(null,e,1,t);break;case 1:s=$e.bind(null,e,1,t);break;default:s=Xe.bind(null,e,1,t)}i?t.addEventListener(e,s,!0):t.addEventListener(e,s,!1)}function Ye(t,e,i,s){U||k();var n=Xe,a=U;U=!0;try{D(n,t,e,i,s)}finally{(U=a)||j()}}function $e(t,e,i,s){Ge(Ve,Xe.bind(null,t,e,i,s))}function Xe(t,e,i,s){if(qe)if(0<ye.length&&-1<Ee.indexOf(t))t=Ie(null,t,e,i,s),ye.push(t);else{var n=Ke(t,e,i,s);if(null===n)Me(t,s);else if(-1<Ee.indexOf(t))t=Ie(n,t,e,i,s),ye.push(t);else if(!function(t,e,i,s,n){switch(e){case"focus":return ve=Ce(ve,t,e,i,s,n),!0;case"dragenter":return be=Ce(be,t,e,i,s,n),!0;case"mouseover":return xe=Ce(xe,t,e,i,s,n),!0;case"pointerover":var a=n.pointerId;return Se.set(a,Ce(Se.get(a)||null,t,e,i,s,n)),!0;case"gotpointercapture":return a=n.pointerId,Te.set(a,Ce(Te.get(a)||null,t,e,i,s,n)),!0}return!1}(n,t,e,i,s)){Me(t,s),t=ue(t,s,null,e);try{B(de,t)}finally{he(t)}}}}function Ke(t,e,i,s){if(null!==(i=Ni(i=oe(s)))){var n=Zt(i);if(null===n)i=null;else{var a=n.tag;if(13===a){if(null!==(i=Qt(n)))return i;i=null}else if(3===a){if(n.stateNode.hydrate)return 3===n.tag?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}t=ue(t,s,i,e);try{B(de,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","ms","Moz","O"];function ti(t,e,i){return null==e||"boolean"==typeof e||""===e?"":i||"number"!=typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function ei(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var s=0===i.indexOf("--"),n=ti(i,e[i],s);"float"===i&&(i="cssFloat"),s?t.setProperty(i,n):t[i]=n}}Object.keys(Ze).forEach((function(t){Qe.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var ii=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function si(t,e){if(e){if(ii[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(r(62,""))}}function ni(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai="http://www.w3.org/1999/xhtml";function ri(t,e){var i=Kt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var s=0;s<e.length;s++)pe(e[s],t,i)}function oi(){}function li(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hi(t,e){var i,s=ci(t);for(t=0;s;){if(3===s.nodeType){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ci(s)}}function ui(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ui(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=li();e instanceof t.HTMLIFrameElement;){try{var i="string"==typeof e.contentWindow.location.href}catch(t){i=!1}if(!i)break;e=li((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mi="$",gi="/$",_i="$?",fi="$!",yi=null,vi=null;function bi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function xi(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Si="function"==typeof setTimeout?setTimeout:void 0,Ti="function"==typeof clearTimeout?clearTimeout:void 0;function wi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Ei(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if(i===mi||i===fi||i===_i){if(0===e)return t;e--}else i===gi&&e++}t=t.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Ii="__reactInternalInstance$"+Ai,Mi="__reactEventHandlers$"+Ai,Ci="__reactContainere$"+Ai;function Ni(t){var e=t[Ii];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ci]||i[Ii]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Ei(t);null!==t;){if(i=t[Ii])return i;t=Ei(t)}return e}i=(t=i).parentNode}return null}function Pi(t){return!(t=t[Ii]||t[Ci])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function Li(t){return t[Mi]||null}function Oi(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Di(t,e){var i=t.stateNode;if(!i)return null;var s=m(i);if(!s)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(i&&"function"!=typeof i)throw Error(r(231,e,typeof i));return i}function ki(t,e,i){(e=Di(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ie(i._dispatchListeners,e),i._dispatchInstances=ie(i._dispatchInstances,t))}function Fi(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Oi(e);for(e=i.length;0<e--;)ki(i[e],"captured",t);for(e=0;e<i.length;e++)ki(i[e],"bubbled",t)}}function Ui(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Di(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ie(i._dispatchListeners,e),i._dispatchInstances=ie(i._dispatchInstances,t))}function zi(t){t&&t.dispatchConfig.registrationName&&Ui(t._targetInst,null,t)}function ji(t){se(t,Fi)}var Bi=null,Hi=null,Vi=null;function Gi(){if(Vi)return Vi;var t,e,i=Hi,s=i.length,n="value"in Bi?Bi.value:Bi.textContent,a=n.length;for(t=0;t<s&&i[t]===n[t];t++);var r=s-t;for(e=1;e<=r&&i[s-e]===n[a-e];e++);return Vi=n.slice(t,1<e?1-e:void 0)}function qi(){return!0}function Ji(){return!1}function Wi(t,e,i,s){for(var n in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(n)&&((e=t[n])?this[n]=e(i):"target"===n?this.target=s:this[n]=i[n]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qi:Ji,this.isPropagationStopped=Ji,this}function Yi(t,e,i,s){if(this.eventPool.length){var n=this.eventPool.pop();return this.call(n,t,e,i,s),n}return new this(t,e,i,s)}function $i(t){if(!(t instanceof this))throw Error(r(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Xi(t){t.eventPool=[],t.getPooled=Yi,t.release=$i}n(Wi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){this.isPersistent=qi},isPersistent:Ji,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ji,this._dispatchInstances=this._dispatchListeners=null}}),Wi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wi.extend=function(t){function e(){}function i(){return s.apply(this,arguments)}var s=this;e.prototype=s.prototype;var a=new e;return n(a,i.prototype),i.prototype=a,i.prototype.constructor=i,i.Interface=n({},s.Interface,t),i.extend=s.extend,Xi(i),i},Xi(Wi);var Ki=Wi.extend({data:null}),Zi=Wi.extend({data:null}),Qi=[9,13,27,32],ts=I&&"CompositionEvent"in window,es=null;I&&"documentMode"in document&&(es=document.documentMode);var is=I&&"TextEvent"in window&&!es,ss=I&&(!ts||es&&8<es&&11>=es),ns=String.fromCharCode(32),as={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rs=!1;function os(t,e){switch(t){case"keyup":return-1!==Qi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ls(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var cs=!1,hs={eventTypes:as,extractEvents:function(t,e,i,s){var n;if(ts)t:{switch(t){case"compositionstart":var a=as.compositionStart;break t;case"compositionend":a=as.compositionEnd;break t;case"compositionupdate":a=as.compositionUpdate;break t}a=void 0}else cs?os(t,i)&&(a=as.compositionEnd):"keydown"===t&&229===i.keyCode&&(a=as.compositionStart);return a?(ss&&"ko"!==i.locale&&(cs||a!==as.compositionStart?a===as.compositionEnd&&cs&&(n=Gi()):(Hi="value"in(Bi=s)?Bi.value:Bi.textContent,cs=!0)),a=Ki.getPooled(a,e,i,s),(n||null!==(n=ls(i)))&&(a.data=n),ji(a),n=a):n=null,(t=is?function(t,e){switch(t){case"compositionend":return ls(e);case"keypress":return 32!==e.which?null:(rs=!0,ns);case"textInput":return(t=e.data)===ns&&rs?null:t;default:return null}}(t,i):function(t,e){if(cs)return"compositionend"===t||!ts&&os(t,e)?(t=Gi(),Vi=Hi=Bi=null,cs=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ss&&"ko"!==e.locale?null:e.data}}(t,i))?((e=Zi.getPooled(as.beforeInput,e,i,s)).data=t,ji(e)):e=null,null===n?e:null===e?n:[n,e]}},us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ds(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!us[t.type]:"textarea"===e}var ps={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ms(t,e,i){return(t=Wi.getPooled(ps.change,t,e,i)).type="change",R(i),ji(t),t}var gs=null,_s=null;function fs(t){re(t)}function ys(t){if(xt(Ri(t)))return t}function vs(t,e){if("change"===t)return e}var bs=!1;function xs(){gs&&(gs.detachEvent("onpropertychange",Ss),_s=gs=null)}function Ss(t){if("value"===t.propertyName&&ys(_s))if(t=ms(_s,t,oe(t)),U)re(t);else{U=!0;try{O(fs,t)}finally{U=!1,j()}}}function Ts(t,e,i){"focus"===t?(xs(),_s=i,(gs=e).attachEvent("onpropertychange",Ss)):"blur"===t&&xs()}function ws(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ys(_s)}function Es(t,e){if("click"===t)return ys(e)}function As(t,e){if("input"===t||"change"===t)return ys(e)}I&&(bs=le("input")&&(!document.documentMode||9<document.documentMode));var Is={eventTypes:ps,_isInputEventSupported:bs,extractEvents:function(t,e,i,s){var n=e?Ri(e):window,a=n.nodeName&&n.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===n.type)var r=vs;else if(ds(n))if(bs)r=As;else{r=ws;var o=Ts}else(a=n.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===n.type||"radio"===n.type)&&(r=Es);if(r&&(r=r(t,e)))return ms(r,i,s);o&&o(t,n,e),"blur"===t&&(t=n._wrapperState)&&t.controlled&&"number"===n.type&&It(n,"number",n.value)}},Ms=Wi.extend({view:null,detail:null}),Cs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cs[t])&&!!e[t]}function Ps(){return Ns}var Rs=0,Ls=0,Os=!1,Ds=!1,ks=Ms.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ps,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Rs;return Rs=t.screenX,Os?"mousemove"===t.type?t.screenX-e:0:(Os=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ls;return Ls=t.screenY,Ds?"mousemove"===t.type?t.screenY-e:0:(Ds=!0,0)}}),Fs=ks.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Us={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zs={eventTypes:Us,extractEvents:function(t,e,i,s,n){var a="mouseover"===t||"pointerover"===t,r="mouseout"===t||"pointerout"===t;if(a&&!(32&n)&&(i.relatedTarget||i.fromElement)||!r&&!a)return null;if(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,r?(r=e,null!==(e=(e=i.relatedTarget||i.toElement)?Ni(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):r=null,r===e)return null;if("mouseout"===t||"mouseover"===t)var o=ks,l=Us.mouseLeave,c=Us.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(o=Fs,l=Us.pointerLeave,c=Us.pointerEnter,h="pointer");if(t=null==r?a:Ri(r),a=null==e?a:Ri(e),(l=o.getPooled(l,r,i,s)).type=h+"leave",l.target=t,l.relatedTarget=a,(i=o.getPooled(c,e,i,s)).type=h+"enter",i.target=a,i.relatedTarget=t,h=e,(s=r)&&h)t:{for(c=h,r=0,t=o=s;t;t=Oi(t))r++;for(t=0,e=c;e;e=Oi(e))t++;for(;0<r-t;)o=Oi(o),r--;for(;0<t-r;)c=Oi(c),t--;for(;r--;){if(o===c||o===c.alternate)break t;o=Oi(o),c=Oi(c)}o=null}else o=null;for(c=o,o=[];s&&s!==c&&(null===(r=s.alternate)||r!==c);)o.push(s),s=Oi(s);for(s=[];h&&h!==c&&(null===(r=h.alternate)||r!==c);)s.push(h),h=Oi(h);for(h=0;h<o.length;h++)Ui(o[h],"bubbled",l);for(h=s.length;0<h--;)Ui(s[h],"captured",i);return 64&n?[l,i]:[l]}},js="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Bs=Object.prototype.hasOwnProperty;function Hs(t,e){if(js(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++)if(!Bs.call(e,i[s])||!js(t[i[s]],e[i[s]]))return!1;return!0}var Vs=I&&"documentMode"in document&&11>=document.documentMode,Gs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qs=null,Js=null,Ws=null,Ys=!1;function $s(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Ys||null==qs||qs!==li(i)?null:(i="selectionStart"in(i=qs)&&pi(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ws&&Hs(Ws,i)?null:(Ws=i,(t=Wi.getPooled(Gs.select,Js,t,e)).type="select",t.target=qs,ji(t),t))}var Xs={eventTypes:Gs,extractEvents:function(t,e,i,s,n,a){if(!(a=!(n=a||(s.window===s?s.document:9===s.nodeType?s:s.ownerDocument)))){t:{n=Kt(n),a=E.onSelect;for(var r=0;r<a.length;r++)if(!n.has(a[r])){n=!1;break t}n=!0}a=!n}if(a)return null;switch(n=e?Ri(e):window,t){case"focus":(ds(n)||"true"===n.contentEditable)&&(qs=n,Js=e,Ws=null);break;case"blur":Ws=Js=qs=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ys=!1,$s(i,s);case"selectionchange":if(Vs)break;case"keydown":case"keyup":return $s(i,s)}return null}},Ks=Wi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zs=Wi.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qs=Ms.extend({relatedTarget:null});function tn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var en={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nn=Ms.extend({key:function(t){if(t.key){var e=en[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=tn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?sn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ps,charCode:function(t){return"keypress"===t.type?tn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),an=ks.extend({dataTransfer:null}),rn=Ms.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ps}),on=Wi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ln=ks.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),cn={eventTypes:ke,extractEvents:function(t,e,i,s){var n=Fe.get(t);if(!n)return null;switch(t){case"keypress":if(0===tn(i))return null;case"keydown":case"keyup":t=nn;break;case"blur":case"focus":t=Qs;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=rn;break;case qt:case Jt:case Wt:t=Ks;break;case Yt:t=on;break;case"scroll":t=Ms;break;case"wheel":t=ln;break;case"copy":case"cut":case"paste":t=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Fs;break;default:t=Wi}return ji(e=t.getPooled(n,e,i,s)),e}};if(y)throw Error(r(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),m=Li,g=Pi,_=Ri,A({SimpleEventPlugin:cn,EnterLeaveEventPlugin:zs,ChangeEventPlugin:Is,SelectEventPlugin:Xs,BeforeInputEventPlugin:hs});var hn=[],un=-1;function dn(t){0>un||(t.current=hn[un],hn[un]=null,un--)}function pn(t,e){un++,hn[un]=t.current,t.current=e}var mn={},gn={current:mn},_n={current:!1},fn=mn;function yn(t,e){var i=t.type.contextTypes;if(!i)return mn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in i)a[n]=e[n];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function vn(t){return null!=t.childContextTypes}function bn(){dn(_n),dn(gn)}function xn(t,e,i){if(gn.current!==mn)throw Error(r(168));pn(gn,e),pn(_n,i)}function Sn(t,e,i){var s=t.stateNode;if(t=e.childContextTypes,"function"!=typeof s.getChildContext)return i;for(var a in s=s.getChildContext())if(!(a in t))throw Error(r(108,_t(e)||"Unknown",a));return n({},i,{},s)}function Tn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,fn=gn.current,pn(gn,t),pn(_n,_n.current),!0}function wn(t,e,i){var s=t.stateNode;if(!s)throw Error(r(169));i?(t=Sn(t,e,fn),s.__reactInternalMemoizedMergedChildContext=t,dn(_n),dn(gn),pn(gn,t)):dn(_n),pn(_n,i)}var En=a.unstable_runWithPriority,An=a.unstable_scheduleCallback,In=a.unstable_cancelCallback,Mn=a.unstable_requestPaint,Cn=a.unstable_now,Nn=a.unstable_getCurrentPriorityLevel,Pn=a.unstable_ImmediatePriority,Rn=a.unstable_UserBlockingPriority,Ln=a.unstable_NormalPriority,On=a.unstable_LowPriority,Dn=a.unstable_IdlePriority,kn={},Fn=a.unstable_shouldYield,Un=void 0!==Mn?Mn:function(){},zn=null,jn=null,Bn=!1,Hn=Cn(),Vn=1e4>Hn?Cn:function(){return Cn()-Hn};function Gn(){switch(Nn()){case Pn:return 99;case Rn:return 98;case Ln:return 97;case On:return 96;case Dn:return 95;default:throw Error(r(332))}}function qn(t){switch(t){case 99:return Pn;case 98:return Rn;case 97:return Ln;case 96:return On;case 95:return Dn;default:throw Error(r(332))}}function Jn(t,e){return t=qn(t),En(t,e)}function Wn(t,e,i){return t=qn(t),An(t,e,i)}function Yn(t){return null===zn?(zn=[t],jn=An(Pn,Xn)):zn.push(t),kn}function $n(){if(null!==jn){var t=jn;jn=null,In(t)}Xn()}function Xn(){if(!Bn&&null!==zn){Bn=!0;var t=0;try{var e=zn;Jn(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),zn=null}catch(e){throw null!==zn&&(zn=zn.slice(t+1)),An(Pn,$n),e}finally{Bn=!1}}}function Kn(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function Zn(t,e){if(t&&t.defaultProps)for(var i in e=n({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var Qn={current:null},ta=null,ea=null,ia=null;function sa(){ia=ea=ta=null}function na(t){var e=Qn.current;dn(Qn),t.type._context._currentValue=e}function aa(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ra(t,e){ta=t,ia=ea=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Lr=!0),t.firstContext=null)}function oa(t,e){if(ia!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(ia=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ea){if(null===ta)throw Error(r(308));ea=e,ta.dependencies={expirationTime:0,firstContext:e,responders:null}}else ea=ea.next=e;return t._currentValue}var la=!1;function ca(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ua(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function da(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function pa(t,e){var i=t.alternate;null!==i&&ha(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ma(t,e,i,s){var a=t.updateQueue;la=!1;var r=a.baseQueue,o=a.shared.pending;if(null!==o){if(null!==r){var l=r.next;r.next=o.next,o.next=l}r=o,a.shared.pending=null,null!==(l=t.alternate)&&null!==(l=l.updateQueue)&&(l.baseQueue=o)}if(null!==r){l=r.next;var c=a.baseState,h=0,u=null,d=null,p=null;if(null!==l)for(var m=l;;){if((o=m.expirationTime)<s){var g={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};null===p?(d=p=g,u=c):p=p.next=g,o>h&&(h=o)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),bl(o,m.suspenseConfig);t:{var _=t,f=m;switch(o=e,g=i,f.tag){case 1:if("function"==typeof(_=f.payload)){c=_.call(g,c,o);break t}c=_;break t;case 3:_.effectTag=-4097&_.effectTag|64;case 0:if(null==(o="function"==typeof(_=f.payload)?_.call(g,c,o):_))break t;c=n({},c,o);break t;case 2:la=!0}}null!==m.callback&&(t.effectTag|=32,null===(o=a.effects)?a.effects=[m]:o.push(m))}if(null===(m=m.next)||m===l){if(null===(o=a.shared.pending))break;m=r.next=o.next,o.next=l,a.baseQueue=r=o,a.shared.pending=null}}null===p?u=c:p.next=d,a.baseState=u,a.baseQueue=p,xl(h),t.expirationTime=h,t.memoizedState=c}}function ga(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],n=s.callback;if(null!==n){if(s.callback=null,s=n,n=i,"function"!=typeof s)throw Error(r(191,s));s.call(n)}}}var _a=X.ReactCurrentBatchConfig,fa=(new s.Component).refs;function ya(t,e,i,s){i=null==(i=i(s,e=t.memoizedState))?e:n({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var va={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var s=ol(),n=_a.suspense;(n=ua(s=ll(s,t,n),n)).payload=e,null!=i&&(n.callback=i),da(t,n),cl(t,s)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var s=ol(),n=_a.suspense;(n=ua(s=ll(s,t,n),n)).tag=1,n.payload=e,null!=i&&(n.callback=i),da(t,n),cl(t,s)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=ol(),s=_a.suspense;(s=ua(i=ll(i,t,s),s)).tag=2,null!=e&&(s.callback=e),da(t,s),cl(t,i)}};function ba(t,e,i,s,n,a,r){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,a,r):!(e.prototype&&e.prototype.isPureReactComponent&&Hs(i,s)&&Hs(n,a))}function xa(t,e,i){var s=!1,n=mn,a=e.contextType;return"object"==typeof a&&null!==a?a=oa(a):(n=vn(e)?fn:gn.current,a=(s=null!=(s=e.contextTypes))?yn(t,n):mn),e=new e(i,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=va,t.stateNode=e,e._reactInternalFiber=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),e}function Sa(t,e,i,s){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,s),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&va.enqueueReplaceState(e,e.state,null)}function Ta(t,e,i,s){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=fa,ca(t);var a=e.contextType;"object"==typeof a&&null!==a?n.context=oa(a):(a=vn(e)?fn:gn.current,n.context=yn(t,a)),ma(t,i,n,s),n.state=t.memoizedState,"function"==typeof(a=e.getDerivedStateFromProps)&&(ya(t,e,a,i),n.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(e=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),e!==n.state&&va.enqueueReplaceState(n,n.state,null),ma(t,i,n,s),n.state=t.memoizedState),"function"==typeof n.componentDidMount&&(t.effectTag|=4)}var wa=Array.isArray;function Ea(t,e,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var s=i.stateNode}if(!s)throw Error(r(147,t));var n=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===n?e.ref:(e=function(t){var e=s.refs;e===fa&&(e=s.refs={}),null===t?delete e[n]:e[n]=t},e._stringRef=n,e)}if("string"!=typeof t)throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function Aa(t,e){if("textarea"!==t.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Ia(t){function e(e,i){if(t){var s=e.lastEffect;null!==s?(s.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,s){if(!t)return null;for(;null!==s;)e(i,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(t,e){return(t=Bl(t,e)).index=0,t.sibling=null,t}function a(e,i,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<i?(e.effectTag=2,i):s:(e.effectTag=2,i):i}function o(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,i,s){return null===e||6!==e.tag?((e=Gl(i,t.mode,s)).return=t,e):((e=n(e,i)).return=t,e)}function c(t,e,i,s){return null!==e&&e.elementType===i.type?((s=n(e,i.props)).ref=Ea(t,e,i),s.return=t,s):((s=Hl(i.type,i.key,i.props,null,t.mode,s)).ref=Ea(t,e,i),s.return=t,s)}function h(t,e,i,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=ql(i,t.mode,s)).return=t,e):((e=n(e,i.children||[])).return=t,e)}function u(t,e,i,s,a){return null===e||7!==e.tag?((e=Vl(i,t.mode,s,a)).return=t,e):((e=n(e,i)).return=t,e)}function d(t,e,i){if("string"==typeof e||"number"==typeof e)return(e=Gl(""+e,t.mode,i)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Hl(e.type,e.key,e.props,null,t.mode,i)).ref=Ea(t,null,e),i.return=t,i;case et:return(e=ql(e,t.mode,i)).return=t,e}if(wa(e)||gt(e))return(e=Vl(e,t.mode,i,null)).return=t,e;Aa(t,e)}return null}function p(t,e,i,s){var n=null!==e?e.key:null;if("string"==typeof i||"number"==typeof i)return null!==n?null:l(t,e,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===n?i.type===it?u(t,e,i.props.children,s,n):c(t,e,i,s):null;case et:return i.key===n?h(t,e,i,s):null}if(wa(i)||gt(i))return null!==n?null:u(t,e,i,s,null);Aa(t,i)}return null}function m(t,e,i,s,n){if("string"==typeof s||"number"==typeof s)return l(e,t=t.get(i)||null,""+s,n);if("object"==typeof s&&null!==s){switch(s.$$typeof){case tt:return t=t.get(null===s.key?i:s.key)||null,s.type===it?u(e,t,s.props.children,n,s.key):c(e,t,s,n);case et:return h(e,t=t.get(null===s.key?i:s.key)||null,s,n)}if(wa(s)||gt(s))return u(e,t=t.get(i)||null,s,n,null);Aa(e,s)}return null}function g(n,r,o,l){for(var c=null,h=null,u=r,g=r=0,_=null;null!==u&&g<o.length;g++){u.index>g?(_=u,u=null):_=u.sibling;var f=p(n,u,o[g],l);if(null===f){null===u&&(u=_);break}t&&u&&null===f.alternate&&e(n,u),r=a(f,r,g),null===h?c=f:h.sibling=f,h=f,u=_}if(g===o.length)return i(n,u),c;if(null===u){for(;g<o.length;g++)null!==(u=d(n,o[g],l))&&(r=a(u,r,g),null===h?c=u:h.sibling=u,h=u);return c}for(u=s(n,u);g<o.length;g++)null!==(_=m(u,n,g,o[g],l))&&(t&&null!==_.alternate&&u.delete(null===_.key?g:_.key),r=a(_,r,g),null===h?c=_:h.sibling=_,h=_);return t&&u.forEach((function(t){return e(n,t)})),c}function _(n,o,l,c){var h=gt(l);if("function"!=typeof h)throw Error(r(150));if(null==(l=h.call(l)))throw Error(r(151));for(var u=h=null,g=o,_=o=0,f=null,y=l.next();null!==g&&!y.done;_++,y=l.next()){g.index>_?(f=g,g=null):f=g.sibling;var v=p(n,g,y.value,c);if(null===v){null===g&&(g=f);break}t&&g&&null===v.alternate&&e(n,g),o=a(v,o,_),null===u?h=v:u.sibling=v,u=v,g=f}if(y.done)return i(n,g),h;if(null===g){for(;!y.done;_++,y=l.next())null!==(y=d(n,y.value,c))&&(o=a(y,o,_),null===u?h=y:u.sibling=y,u=y);return h}for(g=s(n,g);!y.done;_++,y=l.next())null!==(y=m(g,n,_,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?_:y.key),o=a(y,o,_),null===u?h=y:u.sibling=y,u=y);return t&&g.forEach((function(t){return e(n,t)})),h}return function(t,s,a,l){var c="object"==typeof a&&null!==a&&a.type===it&&null===a.key;c&&(a=a.props.children);var h="object"==typeof a&&null!==a;if(h)switch(a.$$typeof){case tt:t:{for(h=a.key,c=s;null!==c;){if(c.key===h){if(7===c.tag){if(a.type===it){i(t,c.sibling),(s=n(c,a.props.children)).return=t,t=s;break t}}else if(c.elementType===a.type){i(t,c.sibling),(s=n(c,a.props)).ref=Ea(t,c,a),s.return=t,t=s;break t}i(t,c);break}e(t,c),c=c.sibling}a.type===it?((s=Vl(a.props.children,t.mode,l,a.key)).return=t,t=s):((l=Hl(a.type,a.key,a.props,null,t.mode,l)).ref=Ea(t,s,a),l.return=t,t=l)}return o(t);case et:t:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){i(t,s.sibling),(s=n(s,a.children||[])).return=t,t=s;break t}i(t,s);break}e(t,s),s=s.sibling}(s=ql(a,t.mode,l)).return=t,t=s}return o(t)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==s&&6===s.tag?(i(t,s.sibling),(s=n(s,a)).return=t,t=s):(i(t,s),(s=Gl(a,t.mode,l)).return=t,t=s),o(t);if(wa(a))return g(t,s,a,l);if(gt(a))return _(t,s,a,l);if(h&&Aa(t,a),void 0===a&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(r(152,t.displayName||t.name||"Component"))}return i(t,s)}}var Ma=Ia(!0),Ca=Ia(!1),Na={},Pa={current:Na},Ra={current:Na},La={current:Na};function Oa(t){if(t===Na)throw Error(r(174));return t}function Da(t,e){switch(pn(La,e),pn(Ra,t),pn(Pa,Na),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dt(null,"");break;default:e=Dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}dn(Pa),pn(Pa,e)}function ka(){dn(Pa),dn(Ra),dn(La)}function Fa(t){Oa(La.current);var e=Oa(Pa.current),i=Dt(e,t.type);e!==i&&(pn(Ra,t),pn(Pa,i))}function Ua(t){Ra.current===t&&(dn(Pa),dn(Ra))}var za={current:0};function ja(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===_i||i.data===fi))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(64&e.effectTag)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ba(t,e){return{responder:t,props:e}}var Ha=X.ReactCurrentDispatcher,Va=X.ReactCurrentBatchConfig,Ga=0,qa=null,Ja=null,Wa=null,Ya=!1;function $a(){throw Error(r(321))}function Xa(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!js(t[i],e[i]))return!1;return!0}function Ka(t,e,i,s,n,a){if(Ga=a,qa=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ha.current=null===t||null===t.memoizedState?br:xr,t=i(s,n),e.expirationTime===Ga){a=0;do{if(e.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Wa=Ja=null,e.updateQueue=null,Ha.current=Sr,t=i(s,n)}while(e.expirationTime===Ga)}if(Ha.current=vr,e=null!==Ja&&null!==Ja.next,Ga=0,Wa=Ja=qa=null,Ya=!1,e)throw Error(r(300));return t}function Za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?qa.memoizedState=Wa=t:Wa=Wa.next=t,Wa}function Qa(){if(null===Ja){var t=qa.alternate;t=null!==t?t.memoizedState:null}else t=Ja.next;var e=null===Wa?qa.memoizedState:Wa.next;if(null!==e)Wa=e,Ja=t;else{if(null===t)throw Error(r(310));t={memoizedState:(Ja=t).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Wa?qa.memoizedState=Wa=t:Wa=Wa.next=t}return Wa}function tr(t,e){return"function"==typeof e?e(t):e}function er(t){var e=Qa(),i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=Ja,n=s.baseQueue,a=i.pending;if(null!==a){if(null!==n){var o=n.next;n.next=a.next,a.next=o}s.baseQueue=n=a,i.pending=null}if(null!==n){n=n.next,s=s.baseState;var l=o=a=null,c=n;do{var h=c.expirationTime;if(h<Ga){var u={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(o=l=u,a=s):l=l.next=u,h>qa.expirationTime&&(qa.expirationTime=h,xl(h))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),bl(h,c.suspenseConfig),s=c.eagerReducer===t?c.eagerState:t(s,c.action);c=c.next}while(null!==c&&c!==n);null===l?a=s:l.next=o,js(s,e.memoizedState)||(Lr=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,i.lastRenderedState=s}return[e.memoizedState,i.dispatch]}function ir(t){var e=Qa(),i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,n=i.pending,a=e.memoizedState;if(null!==n){i.pending=null;var o=n=n.next;do{a=t(a,o.action),o=o.next}while(o!==n);js(a,e.memoizedState)||(Lr=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),i.lastRenderedState=a}return[a,s]}function sr(t){var e=Za();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t}).dispatch=yr.bind(null,qa,t),[e.memoizedState,t]}function nr(t,e,i,s){return t={tag:t,create:e,destroy:i,deps:s,next:null},null===(e=qa.updateQueue)?(e={lastEffect:null},qa.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function ar(){return Qa().memoizedState}function rr(t,e,i,s){var n=Za();qa.effectTag|=t,n.memoizedState=nr(1|e,i,void 0,void 0===s?null:s)}function or(t,e,i,s){var n=Qa();s=void 0===s?null:s;var a=void 0;if(null!==Ja){var r=Ja.memoizedState;if(a=r.destroy,null!==s&&Xa(s,r.deps))return void nr(e,i,a,s)}qa.effectTag|=t,n.memoizedState=nr(1|e,i,a,s)}function lr(t,e){return rr(516,4,t,e)}function cr(t,e){return or(516,4,t,e)}function hr(t,e){return or(4,2,t,e)}function ur(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function dr(t,e,i){return i=null!=i?i.concat([t]):null,or(4,2,ur.bind(null,e,t),i)}function pr(){}function mr(t,e){return Za().memoizedState=[t,void 0===e?null:e],t}function gr(t,e){var i=Qa();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&Xa(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function _r(t,e){var i=Qa();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&Xa(e,s[1])?s[0]:(t=t(),i.memoizedState=[t,e],t)}function fr(t,e,i){var s=Gn();Jn(98>s?98:s,(function(){t(!0)})),Jn(97<s?97:s,(function(){var s=Va.suspense;Va.suspense=void 0===e?null:e;try{t(!1),i()}finally{Va.suspense=s}}))}function yr(t,e,i){var s=ol(),n=_a.suspense;n={expirationTime:s=ll(s,t,n),suspenseConfig:n,action:i,eagerReducer:null,eagerState:null,next:null};var a=e.pending;if(null===a?n.next=n:(n.next=a.next,a.next=n),e.pending=n,a=t.alternate,t===qa||null!==a&&a===qa)Ya=!0,n.expirationTime=Ga,qa.expirationTime=Ga;else{if(0===t.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=e.lastRenderedReducer))try{var r=e.lastRenderedState,o=a(r,i);if(n.eagerReducer=a,n.eagerState=o,js(o,r))return}catch(t){}cl(t,s)}}var vr={readContext:oa,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},br={readContext:oa,useCallback:mr,useContext:oa,useEffect:lr,useImperativeHandle:function(t,e,i){return i=null!=i?i.concat([t]):null,rr(4,2,ur.bind(null,e,t),i)},useLayoutEffect:function(t,e){return rr(4,2,t,e)},useMemo:function(t,e){var i=Za();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var s=Za();return e=void 0!==i?i(e):e,s.memoizedState=s.baseState=e,t=(t=s.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=yr.bind(null,qa,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},Za().memoizedState=t},useState:sr,useDebugValue:pr,useResponder:Ba,useDeferredValue:function(t,e){var i=sr(t),s=i[0],n=i[1];return lr((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{n(t)}finally{Va.suspense=i}}),[t,e]),s},useTransition:function(t){var e=sr(!1),i=e[0];return e=e[1],[mr(fr.bind(null,e,t),[e,t]),i]}},xr={readContext:oa,useCallback:gr,useContext:oa,useEffect:cr,useImperativeHandle:dr,useLayoutEffect:hr,useMemo:_r,useReducer:er,useRef:ar,useState:function(){return er(tr)},useDebugValue:pr,useResponder:Ba,useDeferredValue:function(t,e){var i=er(tr),s=i[0],n=i[1];return cr((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{n(t)}finally{Va.suspense=i}}),[t,e]),s},useTransition:function(t){var e=er(tr),i=e[0];return e=e[1],[gr(fr.bind(null,e,t),[e,t]),i]}},Sr={readContext:oa,useCallback:gr,useContext:oa,useEffect:cr,useImperativeHandle:dr,useLayoutEffect:hr,useMemo:_r,useReducer:ir,useRef:ar,useState:function(){return ir(tr)},useDebugValue:pr,useResponder:Ba,useDeferredValue:function(t,e){var i=ir(tr),s=i[0],n=i[1];return cr((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{n(t)}finally{Va.suspense=i}}),[t,e]),s},useTransition:function(t){var e=ir(tr),i=e[0];return e=e[1],[gr(fr.bind(null,e,t),[e,t]),i]}},Tr=null,wr=null,Er=!1;function Ar(t,e){var i=zl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Ir(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Mr(t){if(Er){var e=wr;if(e){var i=e;if(!Ir(t,e)){if(!(e=wi(i.nextSibling))||!Ir(t,e))return t.effectTag=-1025&t.effectTag|2,Er=!1,void(Tr=t);Ar(Tr,i)}Tr=t,wr=wi(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Er=!1,Tr=t}}function Cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Tr=t}function Nr(t){if(t!==Tr)return!1;if(!Er)return Cr(t),Er=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!xi(e,t.memoizedProps))for(e=wr;e;)Ar(t,e),e=wi(e.nextSibling);if(Cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if(i===gi){if(0===e){wr=wi(t.nextSibling);break t}e--}else i!==mi&&i!==fi&&i!==_i||e++}t=t.nextSibling}wr=null}}else wr=Tr?wi(t.stateNode.nextSibling):null;return!0}function Pr(){wr=Tr=null,Er=!1}var Rr=X.ReactCurrentOwner,Lr=!1;function Or(t,e,i,s){e.child=null===t?Ca(e,null,i,s):Ma(e,t.child,i,s)}function Dr(t,e,i,s,n){i=i.render;var a=e.ref;return ra(e,n),s=Ka(t,e,i,s,a,n),null===t||Lr?(e.effectTag|=1,Or(t,e,s,n),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=n&&(t.expirationTime=0),Zr(t,e,n))}function kr(t,e,i,s,n,a){if(null===t){var r=i.type;return"function"!=typeof r||jl(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Hl(i.type,null,s,null,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,Fr(t,e,r,s,n,a))}return r=t.child,n<a&&(n=r.memoizedProps,(i=null!==(i=i.compare)?i:Hs)(n,s)&&t.ref===e.ref)?Zr(t,e,a):(e.effectTag|=1,(t=Bl(r,s)).ref=e.ref,t.return=e,e.child=t)}function Fr(t,e,i,s,n,a){return null!==t&&Hs(t.memoizedProps,s)&&t.ref===e.ref&&(Lr=!1,n<a)?(e.expirationTime=t.expirationTime,Zr(t,e,a)):zr(t,e,i,s,a)}function Ur(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function zr(t,e,i,s,n){var a=vn(i)?fn:gn.current;return a=yn(e,a),ra(e,n),i=Ka(t,e,i,s,a,n),null===t||Lr?(e.effectTag|=1,Or(t,e,i,n),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=n&&(t.expirationTime=0),Zr(t,e,n))}function jr(t,e,i,s,n){if(vn(i)){var a=!0;Tn(e)}else a=!1;if(ra(e,n),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),xa(e,i,s),Ta(e,i,s,n),s=!0;else if(null===t){var r=e.stateNode,o=e.memoizedProps;r.props=o;var l=r.context,c=i.contextType;c="object"==typeof c&&null!==c?oa(c):yn(e,c=vn(i)?fn:gn.current);var h=i.getDerivedStateFromProps,u="function"==typeof h||"function"==typeof r.getSnapshotBeforeUpdate;u||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(o!==s||l!==c)&&Sa(e,r,s,c),la=!1;var d=e.memoizedState;r.state=d,ma(e,s,r,n),l=e.memoizedState,o!==s||d!==l||_n.current||la?("function"==typeof h&&(ya(e,i,h,s),l=e.memoizedState),(o=la||ba(e,i,o,s,d,l,c))?(u||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(e.effectTag|=4)):("function"==typeof r.componentDidMount&&(e.effectTag|=4),e.memoizedProps=s,e.memoizedState=l),r.props=s,r.state=l,r.context=c,s=o):("function"==typeof r.componentDidMount&&(e.effectTag|=4),s=!1)}else r=e.stateNode,ha(t,e),o=e.memoizedProps,r.props=e.type===e.elementType?o:Zn(e.type,o),l=r.context,c="object"==typeof(c=i.contextType)&&null!==c?oa(c):yn(e,c=vn(i)?fn:gn.current),(u="function"==typeof(h=i.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(o!==s||l!==c)&&Sa(e,r,s,c),la=!1,l=e.memoizedState,r.state=l,ma(e,s,r,n),d=e.memoizedState,o!==s||l!==d||_n.current||la?("function"==typeof h&&(ya(e,i,h,s),d=e.memoizedState),(h=la||ba(e,i,o,s,l,d,c))?(u||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(s,d,c),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,d,c)),"function"==typeof r.componentDidUpdate&&(e.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof r.componentDidUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=s,e.memoizedState=d),r.props=s,r.state=d,r.context=c,s=h):("function"!=typeof r.componentDidUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),s=!1);return Br(t,e,i,s,a,n)}function Br(t,e,i,s,n,a){Ur(t,e);var r=!!(64&e.effectTag);if(!s&&!r)return n&&wn(e,i,!1),Zr(t,e,a);s=e.stateNode,Rr.current=e;var o=r&&"function"!=typeof i.getDerivedStateFromError?null:s.render();return e.effectTag|=1,null!==t&&r?(e.child=Ma(e,t.child,null,a),e.child=Ma(e,null,o,a)):Or(t,e,o,a),e.memoizedState=s.state,n&&wn(e,i,!0),e.child}function Hr(t){var e=t.stateNode;e.pendingContext?xn(0,e.pendingContext,e.pendingContext!==e.context):e.context&&xn(0,e.context,!1),Da(t,e.containerInfo)}var Vr,Gr,qr,Jr,Wr={dehydrated:null,retryTime:0};function Yr(t,e,i){var s,n=e.mode,a=e.pendingProps,r=za.current,o=!1;if((s=!!(64&e.effectTag))||(s=!!(2&r)&&(null===t||null!==t.memoizedState)),s?(o=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(r|=1),pn(za,1&r),null===t){if(void 0!==a.fallback&&Mr(e),o){if(o=a.fallback,(a=Vl(null,n,0,null)).return=e,!(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(i=Vl(o,n,i,null)).return=e,a.sibling=i,e.memoizedState=Wr,e.child=a,i}return n=a.children,e.memoizedState=null,e.child=Ca(e,null,n,i)}if(null!==t.memoizedState){if(n=(t=t.child).sibling,o){if(a=a.fallback,(i=Bl(t,t.pendingProps)).return=e,!(2&e.mode)&&(o=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=o;null!==o;)o.return=i,o=o.sibling;return(n=Bl(n,a)).return=e,i.sibling=n,i.childExpirationTime=0,e.memoizedState=Wr,e.child=i,n}return i=Ma(e,t.child,a.children,i),e.memoizedState=null,e.child=i}if(t=t.child,o){if(o=a.fallback,(a=Vl(null,n,0,null)).return=e,a.child=t,null!==t&&(t.return=a),!(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(i=Vl(o,n,i,null)).return=e,a.sibling=i,i.effectTag|=2,a.childExpirationTime=0,e.memoizedState=Wr,e.child=a,i}return e.memoizedState=null,e.child=Ma(e,t,a.children,i)}function $r(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),aa(t.return,e)}function Xr(t,e,i,s,n,a){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailExpiration:0,tailMode:n,lastEffect:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=i,r.tailExpiration=0,r.tailMode=n,r.lastEffect=a)}function Kr(t,e,i){var s=e.pendingProps,n=s.revealOrder,a=s.tail;if(Or(t,e,s.children,i),2&(s=za.current))s=1&s|2,e.effectTag|=64;else{if(null!==t&&64&t.effectTag)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&$r(t,i);else if(19===t.tag)$r(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(pn(za,s),2&e.mode)switch(n){case"forwards":for(i=e.child,n=null;null!==i;)null!==(t=i.alternate)&&null===ja(t)&&(n=i),i=i.sibling;null===(i=n)?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),Xr(e,!1,n,i,a,e.lastEffect);break;case"backwards":for(i=null,n=e.child,e.child=null;null!==n;){if(null!==(t=n.alternate)&&null===ja(t)){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}Xr(e,!0,i,null,a,e.lastEffect);break;case"together":Xr(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Zr(t,e,i){null!==t&&(e.dependencies=t.dependencies);var s=e.expirationTime;if(0!==s&&xl(s),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(i=Bl(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Bl(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Qr(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function to(t,e,i){var s=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vn(e.type)&&bn(),null;case 3:return ka(),dn(_n),dn(gn),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!Nr(e)||(e.effectTag|=4),Gr(e),null;case 5:Ua(e),i=Oa(La.current);var a=e.type;if(null!==t&&null!=e.stateNode)qr(t,e,a,s,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!s){if(null===e.stateNode)throw Error(r(166));return null}if(t=Oa(Pa.current),Nr(e)){s=e.stateNode,a=e.type;var o=e.memoizedProps;switch(s[Ii]=e,s[Mi]=o,a){case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(t=0;t<$t.length;t++)Je($t[t],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"form":Je("reset",s),Je("submit",s);break;case"details":Je("toggle",s);break;case"input":Tt(s,o),Je("invalid",s),ri(i,"onChange");break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Je("invalid",s),ri(i,"onChange");break;case"textarea":Pt(s,o),Je("invalid",s),ri(i,"onChange")}for(var l in si(a,o),t=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"==typeof c?s.textContent!==c&&(t=["children",c]):"number"==typeof c&&s.textContent!==""+c&&(t=["children",""+c]):w.hasOwnProperty(l)&&null!=c&&ri(i,l)}switch(a){case"input":bt(s),At(s,o,!0);break;case"textarea":bt(s),Lt(s);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(s.onclick=oi)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,t===ai&&(t=Ot(a)),t===ai?"script"===a?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=l.createElement(a,{is:s.is}):(t=l.createElement(a),"select"===a&&(l=t,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):t=l.createElementNS(t,a),t[Ii]=e,t[Mi]=s,Vr(t,e,!1,!1),e.stateNode=t,l=ni(a,s),a){case"iframe":case"object":case"embed":Je("load",t),c=s;break;case"video":case"audio":for(c=0;c<$t.length;c++)Je($t[c],t);c=s;break;case"source":Je("error",t),c=s;break;case"img":case"image":case"link":Je("error",t),Je("load",t),c=s;break;case"form":Je("reset",t),Je("submit",t),c=s;break;case"details":Je("toggle",t),c=s;break;case"input":Tt(t,s),c=St(t,s),Je("invalid",t),ri(i,"onChange");break;case"option":c=Mt(t,s);break;case"select":t._wrapperState={wasMultiple:!!s.multiple},c=n({},s,{value:void 0}),Je("invalid",t),ri(i,"onChange");break;case"textarea":Pt(t,s),c=Nt(t,s),Je("invalid",t),ri(i,"onChange");break;default:c=s}si(a,c);var h=c;for(o in h)if(h.hasOwnProperty(o)){var u=h[o];"style"===o?ei(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Ut(t,u):"children"===o?"string"==typeof u?("textarea"!==a||""!==u)&&zt(t,u):"number"==typeof u&&zt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(w.hasOwnProperty(o)?null!=u&&ri(i,o):null!=u&&K(t,o,u,l))}switch(a){case"input":bt(t),At(t,s,!1);break;case"textarea":bt(t),Lt(t);break;case"option":null!=s.value&&t.setAttribute("value",""+yt(s.value));break;case"select":t.multiple=!!s.multiple,null!=(i=s.value)?Ct(t,!!s.multiple,i,!1):null!=s.defaultValue&&Ct(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof c.onClick&&(t.onclick=oi)}bi(a,s)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Jr(t,e,t.memoizedProps,s);else{if("string"!=typeof s&&null===e.stateNode)throw Error(r(166));i=Oa(La.current),Oa(Pa.current),Nr(e)?(i=e.stateNode,s=e.memoizedProps,i[Ii]=e,i.nodeValue!==s&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[Ii]=e,e.stateNode=i)}return null;case 13:return dn(za),s=e.memoizedState,64&e.effectTag?(e.expirationTime=i,e):(i=null!==s,s=!1,null===t?void 0!==e.memoizedProps.fallback&&Nr(e):(s=null!==(a=t.memoizedState),i||null===a||null!==(a=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=a,a.nextEffect=o):(e.firstEffect=e.lastEffect=a,a.nextEffect=null),a.effectTag=8)),i&&!s&&2&e.mode&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||1&za.current?Bo===Po&&(Bo=Oo):(Bo!==Po&&Bo!==Oo||(Bo=Do),0!==Jo&&null!==Uo&&(Yl(Uo,jo),$l(Uo,Jo)))),(i||s)&&(e.effectTag|=4),null);case 4:return ka(),Gr(e),null;case 10:return na(e),null;case 19:if(dn(za),null===(s=e.memoizedState))return null;if(a=!!(64&e.effectTag),null===(o=s.rendering)){if(a)Qr(s,!1);else if(Bo!==Po||null!==t&&64&t.effectTag)for(o=e.child;null!==o;){if(null!==(t=ja(o))){for(e.effectTag|=64,Qr(s,!1),null!==(a=t.updateQueue)&&(e.updateQueue=a,e.effectTag|=4),null===s.lastEffect&&(e.firstEffect=null),e.lastEffect=s.lastEffect,s=e.child;null!==s;)o=i,(a=s).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(t=a.alternate)?(a.childExpirationTime=0,a.expirationTime=o,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=t.childExpirationTime,a.expirationTime=t.expirationTime,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,o=t.dependencies,a.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),s=s.sibling;return pn(za,1&za.current|2),e.child}o=o.sibling}}else{if(!a)if(null!==(t=ja(o))){if(e.effectTag|=64,a=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),Qr(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate)return null!==(e=e.lastEffect=s.lastEffect)&&(e.nextEffect=null),null}else 2*Vn()-s.renderingStartTime>s.tailExpiration&&1<i&&(e.effectTag|=64,a=!0,Qr(s,!1),e.expirationTime=e.childExpirationTime=i-1);s.isBackwards?(o.sibling=e.child,e.child=o):(null!==(i=s.last)?i.sibling=o:e.child=o,s.last=o)}return null!==s.tail?(0===s.tailExpiration&&(s.tailExpiration=Vn()+500),i=s.tail,s.rendering=i,s.tail=i.sibling,s.lastEffect=e.lastEffect,s.renderingStartTime=Vn(),i.sibling=null,e=za.current,pn(za,a?1&e|2:1&e),i):null}throw Error(r(156,e.tag))}function eo(t){switch(t.tag){case 1:vn(t.type)&&bn();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(ka(),dn(_n),dn(gn),64&(e=t.effectTag))throw Error(r(285));return t.effectTag=-4097&e|64,t;case 5:return Ua(t),null;case 13:return dn(za),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return dn(za),null;case 4:return ka(),null;case 10:return na(t),null;default:return null}}function io(t,e){return{value:t,source:e,stack:ft(e)}}Vr=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Gr=function(){},qr=function(t,e,i,s,a){var r=t.memoizedProps;if(r!==s){var o,l,c=e.stateNode;switch(Oa(Pa.current),t=null,i){case"input":r=St(c,r),s=St(c,s),t=[];break;case"option":r=Mt(c,r),s=Mt(c,s),t=[];break;case"select":r=n({},r,{value:void 0}),s=n({},s,{value:void 0}),t=[];break;case"textarea":r=Nt(c,r),s=Nt(c,s),t=[];break;default:"function"!=typeof r.onClick&&"function"==typeof s.onClick&&(c.onclick=oi)}for(o in si(i,s),i=null,r)if(!s.hasOwnProperty(o)&&r.hasOwnProperty(o)&&null!=r[o])if("style"===o)for(l in c=r[o])c.hasOwnProperty(l)&&(i||(i={}),i[l]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(w.hasOwnProperty(o)?t||(t=[]):(t=t||[]).push(o,null));for(o in s){var h=s[o];if(c=null!=r?r[o]:void 0,s.hasOwnProperty(o)&&h!==c&&(null!=h||null!=c))if("style"===o)if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(i||(i={}),i[l]=h[l])}else i||(t||(t=[]),t.push(o,i)),i=h;else"dangerouslySetInnerHTML"===o?(h=h?h.__html:void 0,c=c?c.__html:void 0,null!=h&&c!==h&&(t=t||[]).push(o,h)):"children"===o?c===h||"string"!=typeof h&&"number"!=typeof h||(t=t||[]).push(o,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(w.hasOwnProperty(o)?(null!=h&&ri(a,o),t||c===h||(t=[])):(t=t||[]).push(o,h))}i&&(t=t||[]).push("style",i),a=t,(e.updateQueue=a)&&(e.effectTag|=4)}},Jr=function(t,e,i,s){i!==s&&(e.effectTag|=4)};var so="function"==typeof WeakSet?WeakSet:Set;function no(t,e){var i=e.source,s=e.stack;null===s&&null!==i&&(s=ft(i)),null!==i&&_t(i.type),e=e.value,null!==t&&1===t.tag&&_t(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function ao(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ll(t,e)}else e.current=null}function ro(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,s=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:Zn(e.type,i),s),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(r(163))}function oo(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&s()}i=i.next}while(i!==e)}}function lo(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==e)}}function co(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void lo(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var s=i.elementType===i.type?e.memoizedProps:Zn(i.type,e.memoizedProps);t.componentDidUpdate(s,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&ga(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}ga(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&bi(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&De(i)))))}throw Error(r(163))}function ho(t,e,i){switch("function"==typeof Fl&&Fl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var s=t.next;Jn(97<i?97:i,(function(){var t=s;do{var i=t.destroy;if(void 0!==i){var n=e;try{i()}catch(t){Ll(n,t)}}t=t.next}while(t!==s)}))}break;case 1:ao(e),"function"==typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ll(t,e)}}(e,i);break;case 5:ao(e);break;case 4:fo(t,e,i)}}function uo(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&uo(e)}function po(t){return 5===t.tag||3===t.tag||4===t.tag}function mo(t){t:{for(var e=t.return;null!==e;){if(po(e)){var i=e;break t}e=e.return}throw Error(r(160))}switch(e=i.stateNode,i.tag){case 5:var s=!1;break;case 3:case 4:e=e.containerInfo,s=!0;break;default:throw Error(r(161))}16&i.effectTag&&(zt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||po(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}s?go(t,i,e):_o(t,i,e)}function go(t,e,i){var s=t.tag,n=5===s||6===s;if(n)t=n?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!=(i=i._reactRootContainer)||null!==e.onclick||(e.onclick=oi));else if(4!==s&&null!==(t=t.child))for(go(t,e,i),t=t.sibling;null!==t;)go(t,e,i),t=t.sibling}function _o(t,e,i){var s=t.tag,n=5===s||6===s;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==s&&null!==(t=t.child))for(_o(t,e,i),t=t.sibling;null!==t;)_o(t,e,i),t=t.sibling}function fo(t,e,i){for(var s,n,a=e,o=!1;;){if(!o){o=a.return;t:for(;;){if(null===o)throw Error(r(160));switch(s=o.stateNode,o.tag){case 5:n=!1;break t;case 3:case 4:s=s.containerInfo,n=!0;break t}o=o.return}o=!0}if(5===a.tag||6===a.tag){t:for(var l=t,c=a,h=i,u=c;;)if(ho(l,u,h),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break t;for(;null===u.sibling;){if(null===u.return||u.return===c)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(l=s,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):s.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){s=a.stateNode.containerInfo,n=!0,a.child.return=a,a=a.child;continue}}else if(ho(t,a,i),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function yo(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void oo(3,e);case 1:case 12:case 17:return;case 5:var i=e.stateNode;if(null!=i){var s=e.memoizedProps,n=null!==t?t.memoizedProps:s;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(i[Mi]=s,"input"===t&&"radio"===s.type&&null!=s.name&&wt(i,s),ni(t,n),e=ni(t,s),n=0;n<a.length;n+=2){var o=a[n],l=a[n+1];"style"===o?ei(i,l):"dangerouslySetInnerHTML"===o?Ut(i,l):"children"===o?zt(i,l):K(i,o,l,e)}switch(t){case"input":Et(i,s);break;case"textarea":Rt(i,s);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!s.multiple,null!=(t=s.value)?Ct(i,!!s.multiple,t,!1):e!==!!s.multiple&&(null!=s.defaultValue?Ct(i,!!s.multiple,s.defaultValue,!0):Ct(i,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(r(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,De(e.containerInfo)));case 13:if(i=e,null===e.memoizedState?s=!1:(s=!0,i=e.child,Yo=Vn()),null!==i)t:for(t=i;;){if(5===t.tag)a=t.stateNode,s?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=t.stateNode,n=null!=(n=t.memoizedProps.style)&&n.hasOwnProperty("display")?n.display:null,a.style.display=ti("display",n));else if(6===t.tag)t.stateNode.nodeValue=s?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void vo(e);case 19:return void vo(e)}throw Error(r(163))}function vo(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new so),e.forEach((function(e){var s=Dl.bind(null,t,e);i.has(e)||(i.add(e),e.then(s,s))}))}}var bo="function"==typeof WeakMap?WeakMap:Map;function xo(t,e,i){(i=ua(i,null)).tag=3,i.payload={element:null};var s=e.value;return i.callback=function(){Ko||(Ko=!0,Zo=s),no(t,e)},i}function So(t,e,i){(i=ua(i,null)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var n=e.value;i.payload=function(){return no(t,e),s(n)}}var a=t.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(i.callback=function(){"function"!=typeof s&&(null===Qo?Qo=new Set([this]):Qo.add(this),no(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var To,wo=Math.ceil,Eo=X.ReactCurrentDispatcher,Ao=X.ReactCurrentOwner,Io=0,Mo=8,Co=16,No=32,Po=0,Ro=1,Lo=2,Oo=3,Do=4,ko=5,Fo=Io,Uo=null,zo=null,jo=0,Bo=Po,Ho=null,Vo=1073741823,Go=1073741823,qo=null,Jo=0,Wo=!1,Yo=0,$o=500,Xo=null,Ko=!1,Zo=null,Qo=null,tl=!1,el=null,il=90,sl=null,nl=0,al=null,rl=0;function ol(){return(Fo&(Co|No))!==Io?1073741821-(Vn()/10|0):0!==rl?rl:rl=1073741821-(Vn()/10|0)}function ll(t,e,i){if(!(2&(e=e.mode)))return 1073741823;var s=Gn();if(!(4&e))return 99===s?1073741823:1073741822;if((Fo&Co)!==Io)return jo;if(null!==i)t=Kn(t,0|i.timeoutMs||5e3,250);else switch(s){case 99:t=1073741823;break;case 98:t=Kn(t,150,100);break;case 97:case 96:t=Kn(t,5e3,250);break;case 95:t=2;break;default:throw Error(r(326))}return null!==Uo&&t===jo&&--t,t}function cl(t,e){if(50<nl)throw nl=0,al=null,Error(r(185));if(null!==(t=hl(t,e))){var i=Gn();1073741823===e?(Fo&Mo)!==Io&&(Fo&(Co|No))===Io?ml(t):(dl(t),Fo===Io&&$n()):dl(t),(4&Fo)===Io||98!==i&&99!==i||(null===sl?sl=new Map([[t,e]]):(void 0===(i=sl.get(t))||i>e)&&sl.set(t,e))}}function hl(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var s=t.return,n=null;if(null===s&&3===t.tag)n=t.stateNode;else for(;null!==s;){if(i=s.alternate,s.childExpirationTime<e&&(s.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===s.return&&3===s.tag){n=s.stateNode;break}s=s.return}return null!==n&&(Uo===n&&(xl(e),Bo===Do&&Yl(n,jo)),$l(n,e)),n}function ul(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Wl(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function dl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Yn(ml.bind(null,t));else{var e=ul(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var s=ol();if(s=1073741823===e?99:1===e||2===e?95:0>=(s=10*(1073741821-e)-10*(1073741821-s))?99:250>=s?98:5250>=s?97:95,null!==i){var n=t.callbackPriority;if(t.callbackExpirationTime===e&&n>=s)return;i!==kn&&In(i)}t.callbackExpirationTime=e,t.callbackPriority=s,e=1073741823===e?Yn(ml.bind(null,t)):Wn(s,pl.bind(null,t),{timeout:10*(1073741821-e)-Vn()}),t.callbackNode=e}}}function pl(t,e){if(rl=0,e)return Xl(t,e=ol()),dl(t),null;var i=ul(t);if(0!==i){if(e=t.callbackNode,(Fo&(Co|No))!==Io)throw Error(r(327));if(Nl(),t===Uo&&i===jo||fl(t,i),null!==zo){var s=Fo;Fo|=Co;for(var n=vl();;)try{Tl();break}catch(e){yl(t,e)}if(sa(),Fo=s,Eo.current=n,Bo===Ro)throw e=Ho,fl(t,i),Yl(t,i),dl(t),e;if(null===zo)switch(n=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,s=Bo,Uo=null,s){case Po:case Ro:throw Error(r(345));case Lo:Xl(t,2<i?2:i);break;case Oo:if(Yl(t,i),i===(s=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Al(n)),1073741823===Vo&&10<(n=Yo+$o-Vn())){if(Wo){var a=t.lastPingedTime;if(0===a||a>=i){t.lastPingedTime=i,fl(t,i);break}}if(0!==(a=ul(t))&&a!==i)break;if(0!==s&&s!==i){t.lastPingedTime=s;break}t.timeoutHandle=Si(Il.bind(null,t),n);break}Il(t);break;case Do:if(Yl(t,i),i===(s=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Al(n)),Wo&&(0===(n=t.lastPingedTime)||n>=i)){t.lastPingedTime=i,fl(t,i);break}if(0!==(n=ul(t))&&n!==i)break;if(0!==s&&s!==i){t.lastPingedTime=s;break}if(1073741823!==Go?s=10*(1073741821-Go)-Vn():1073741823===Vo?s=0:(s=10*(1073741821-Vo)-5e3,0>(s=(n=Vn())-s)&&(s=0),(i=10*(1073741821-i)-n)<(s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*wo(s/1960))-s)&&(s=i)),10<s){t.timeoutHandle=Si(Il.bind(null,t),s);break}Il(t);break;case ko:if(1073741823!==Vo&&null!==qo){a=Vo;var o=qo;if(0>=(s=0|o.busyMinDurationMs)?s=0:(n=0|o.busyDelayMs,s=(a=Vn()-(10*(1073741821-a)-(0|o.timeoutMs||5e3)))<=n?0:n+s-a),10<s){Yl(t,i),t.timeoutHandle=Si(Il.bind(null,t),s);break}}Il(t);break;default:throw Error(r(329))}if(dl(t),t.callbackNode===e)return pl.bind(null,t)}}return null}function ml(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Fo&(Co|No))!==Io)throw Error(r(327));if(Nl(),t===Uo&&e===jo||fl(t,e),null!==zo){var i=Fo;Fo|=Co;for(var s=vl();;)try{Sl();break}catch(e){yl(t,e)}if(sa(),Fo=i,Eo.current=s,Bo===Ro)throw i=Ho,fl(t,e),Yl(t,e),dl(t),i;if(null!==zo)throw Error(r(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Uo=null,Il(t),dl(t)}return null}function gl(t,e){var i=Fo;Fo|=1;try{return t(e)}finally{(Fo=i)===Io&&$n()}}function _l(t,e){var i=Fo;Fo&=-2,Fo|=Mo;try{return t(e)}finally{(Fo=i)===Io&&$n()}}function fl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,Ti(i)),null!==zo)for(i=zo.return;null!==i;){var s=i;switch(s.tag){case 1:null!=(s=s.type.childContextTypes)&&bn();break;case 3:ka(),dn(_n),dn(gn);break;case 5:Ua(s);break;case 4:ka();break;case 13:case 19:dn(za);break;case 10:na(s)}i=i.return}Uo=t,zo=Bl(t.current,null),jo=e,Bo=Po,Ho=null,Go=Vo=1073741823,qo=null,Jo=0,Wo=!1}function yl(t,e){for(;;){try{if(sa(),Ha.current=vr,Ya)for(var i=qa.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}if(Ga=0,Wa=Ja=qa=null,Ya=!1,null===zo||null===zo.return)return Bo=Ro,Ho=e,zo=null;t:{var n=t,a=zo.return,r=zo,o=e;if(e=jo,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var l=o;if(!(2&r.mode)){var c=r.alternate;c?(r.updateQueue=c.updateQueue,r.memoizedState=c.memoizedState,r.expirationTime=c.expirationTime):(r.updateQueue=null,r.memoizedState=null)}var h=!!(1&za.current),u=a;do{var d;if(d=13===u.tag){var p=u.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=u.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=u.updateQueue;if(null===g){var _=new Set;_.add(l),u.updateQueue=_}else g.add(l);if(!(2&u.mode)){if(u.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=ua(1073741823,null);f.tag=2,da(r,f)}r.expirationTime=1073741823;break t}o=void 0,r=e;var y=n.pingCache;if(null===y?(y=n.pingCache=new bo,o=new Set,y.set(l,o)):void 0===(o=y.get(l))&&(o=new Set,y.set(l,o)),!o.has(r)){o.add(r);var v=Ol.bind(null,n,l,r);l.then(v,v)}u.effectTag|=4096,u.expirationTime=e;break t}u=u.return}while(null!==u);o=Error((_t(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ft(r))}Bo!==ko&&(Bo=Lo),o=io(o,r),u=a;do{switch(u.tag){case 3:l=o,u.effectTag|=4096,u.expirationTime=e,pa(u,xo(u,l,e));break t;case 1:l=o;var b=u.type,x=u.stateNode;if(!(64&u.effectTag||"function"!=typeof b.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Qo&&Qo.has(x)))){u.effectTag|=4096,u.expirationTime=e,pa(u,So(u,l,e));break t}}u=u.return}while(null!==u)}zo=El(zo)}catch(t){e=t;continue}break}}function vl(){var t=Eo.current;return Eo.current=vr,null===t?vr:t}function bl(t,e){t<Vo&&2<t&&(Vo=t),null!==e&&t<Go&&2<t&&(Go=t,qo=e)}function xl(t){t>Jo&&(Jo=t)}function Sl(){for(;null!==zo;)zo=wl(zo)}function Tl(){for(;null!==zo&&!Fn();)zo=wl(zo)}function wl(t){var e=To(t.alternate,t,jo);return t.memoizedProps=t.pendingProps,null===e&&(e=El(t)),Ao.current=null,e}function El(t){zo=t;do{var e=zo.alternate;if(t=zo.return,2048&zo.effectTag){if(null!==(e=eo(zo)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}else{if(e=to(e,zo,jo),1===jo||1!==zo.childExpirationTime){for(var i=0,s=zo.child;null!==s;){var n=s.expirationTime,a=s.childExpirationTime;n>i&&(i=n),a>i&&(i=a),s=s.sibling}zo.childExpirationTime=i}if(null!==e)return e;null!==t&&!(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=zo.firstEffect),null!==zo.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=zo.firstEffect),t.lastEffect=zo.lastEffect),1<zo.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=zo:t.firstEffect=zo,t.lastEffect=zo))}if(null!==(e=zo.sibling))return e;zo=t}while(null!==zo);return Bo===Po&&(Bo=ko),null}function Al(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Il(t){var e=Gn();return Jn(99,Ml.bind(null,t,e)),null}function Ml(t,e){do{Nl()}while(null!==el);if((Fo&(Co|No))!==Io)throw Error(r(327));var i=t.finishedWork,s=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var n=Al(i);if(t.firstPendingTime=n,s<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:s<=t.firstSuspendedTime&&(t.firstSuspendedTime=s-1),s<=t.lastPingedTime&&(t.lastPingedTime=0),s<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Uo&&(zo=Uo=null,jo=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,n=i.firstEffect):n=i:n=i.firstEffect,null!==n){var a=Fo;Fo|=No,Ao.current=null,yi=qe;var o=di();if(pi(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else t:{var c=(l=(l=o.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var h=c.anchorOffset,u=c.focusNode;c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var d=0,p=-1,m=-1,g=0,_=0,f=o,y=null;e:for(;;){for(var v;f!==l||0!==h&&3!==f.nodeType||(p=d+h),f!==u||0!==c&&3!==f.nodeType||(m=d+c),3===f.nodeType&&(d+=f.nodeValue.length),null!==(v=f.firstChild);)y=f,f=v;for(;;){if(f===o)break e;if(y===l&&++g===h&&(p=d),y===u&&++_===c&&(m=d),null!==(v=f.nextSibling))break;y=(f=y).parentNode}f=v}l=-1===p||-1===m?null:{start:p,end:m}}else l=null}l=l||{start:0,end:0}}else l=null;vi={activeElementDetached:null,focusedElem:o,selectionRange:l},qe=!1,Xo=n;do{try{Cl()}catch(t){if(null===Xo)throw Error(r(330));Ll(Xo,t),Xo=Xo.nextEffect}}while(null!==Xo);Xo=n;do{try{for(o=t,l=e;null!==Xo;){var b=Xo.effectTag;if(16&b&&zt(Xo.stateNode,""),128&b){var x=Xo.alternate;if(null!==x){var S=x.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&b){case 2:mo(Xo),Xo.effectTag&=-3;break;case 6:mo(Xo),Xo.effectTag&=-3,yo(Xo.alternate,Xo);break;case 1024:Xo.effectTag&=-1025;break;case 1028:Xo.effectTag&=-1025,yo(Xo.alternate,Xo);break;case 4:yo(Xo.alternate,Xo);break;case 8:fo(o,h=Xo,l),uo(h)}Xo=Xo.nextEffect}}catch(t){if(null===Xo)throw Error(r(330));Ll(Xo,t),Xo=Xo.nextEffect}}while(null!==Xo);if(S=vi,x=di(),b=S.focusedElem,l=S.selectionRange,x!==b&&b&&b.ownerDocument&&ui(b.ownerDocument.documentElement,b)){null!==l&&pi(b)&&(x=l.start,void 0===(S=l.end)&&(S=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(S,b.value.length)):(S=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(S=S.getSelection(),h=b.textContent.length,o=Math.min(l.start,h),l=void 0===l.end?o:Math.min(l.end,h),!S.extend&&o>l&&(h=l,l=o,o=h),h=hi(b,o),u=hi(b,l),h&&u&&(1!==S.rangeCount||S.anchorNode!==h.node||S.anchorOffset!==h.offset||S.focusNode!==u.node||S.focusOffset!==u.offset)&&((x=x.createRange()).setStart(h.node,h.offset),S.removeAllRanges(),o>l?(S.addRange(x),S.extend(u.node,u.offset)):(x.setEnd(u.node,u.offset),S.addRange(x))))),x=[];for(S=b;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(S=x[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}qe=!!yi,vi=yi=null,t.current=i,Xo=n;do{try{for(b=t;null!==Xo;){var T=Xo.effectTag;if(36&T&&co(b,Xo.alternate,Xo),128&T){x=void 0;var w=Xo.ref;if(null!==w){var E=Xo.stateNode;Xo.tag,x=E,"function"==typeof w?w(x):w.current=x}}Xo=Xo.nextEffect}}catch(t){if(null===Xo)throw Error(r(330));Ll(Xo,t),Xo=Xo.nextEffect}}while(null!==Xo);Xo=null,Un(),Fo=a}else t.current=i;if(tl)tl=!1,el=t,il=e;else for(Xo=n;null!==Xo;)e=Xo.nextEffect,Xo.nextEffect=null,Xo=e;if(0===(e=t.firstPendingTime)&&(Qo=null),1073741823===e?t===al?nl++:(nl=0,al=t):nl=0,"function"==typeof kl&&kl(i.stateNode,s),dl(t),Ko)throw Ko=!1,t=Zo,Zo=null,t;return(Fo&Mo)!==Io||$n(),null}function Cl(){for(;null!==Xo;){var t=Xo.effectTag;256&t&&ro(Xo.alternate,Xo),!(512&t)||tl||(tl=!0,Wn(97,(function(){return Nl(),null}))),Xo=Xo.nextEffect}}function Nl(){if(90!==il){var t=97<il?97:il;return il=90,Jn(t,Pl)}}function Pl(){if(null===el)return!1;var t=el;if(el=null,(Fo&(Co|No))!==Io)throw Error(r(331));var e=Fo;for(Fo|=No,t=t.current.firstEffect;null!==t;){try{var i=t;if(512&i.effectTag)switch(i.tag){case 0:case 11:case 15:case 22:oo(5,i),lo(5,i)}}catch(e){if(null===t)throw Error(r(330));Ll(t,e)}i=t.nextEffect,t.nextEffect=null,t=i}return Fo=e,$n(),!0}function Rl(t,e,i){da(t,e=xo(t,e=io(i,e),1073741823)),null!==(t=hl(t,1073741823))&&dl(t)}function Ll(t,e){if(3===t.tag)Rl(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Rl(i,t,e);break}if(1===i.tag){var s=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Qo||!Qo.has(s))){da(i,t=So(i,t=io(e,t),1073741823)),null!==(i=hl(i,1073741823))&&dl(i);break}}i=i.return}}function Ol(t,e,i){var s=t.pingCache;null!==s&&s.delete(e),Uo===t&&jo===i?Bo===Do||Bo===Oo&&1073741823===Vo&&Vn()-Yo<$o?fl(t,jo):Wo=!0:Wl(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,dl(t)))}function Dl(t,e){var i=t.stateNode;null!==i&&i.delete(e),0==(e=0)&&(e=ll(e=ol(),t,null)),null!==(t=hl(t,e))&&dl(t)}To=function(t,e,i){var s=e.expirationTime;if(null!==t){var n=e.pendingProps;if(t.memoizedProps!==n||_n.current)Lr=!0;else{if(s<i){switch(Lr=!1,e.tag){case 3:Hr(e),Pr();break;case 5:if(Fa(e),4&e.mode&&1!==i&&n.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vn(e.type)&&Tn(e);break;case 4:Da(e,e.stateNode.containerInfo);break;case 10:s=e.memoizedProps.value,n=e.type._context,pn(Qn,n._currentValue),n._currentValue=s;break;case 13:if(null!==e.memoizedState)return 0!==(s=e.child.childExpirationTime)&&s>=i?Yr(t,e,i):(pn(za,1&za.current),null!==(e=Zr(t,e,i))?e.sibling:null);pn(za,1&za.current);break;case 19:if(s=e.childExpirationTime>=i,64&t.effectTag){if(s)return Kr(t,e,i);e.effectTag|=64}if(null!==(n=e.memoizedState)&&(n.rendering=null,n.tail=null),pn(za,za.current),!s)return null}return Zr(t,e,i)}Lr=!1}}else Lr=!1;switch(e.expirationTime=0,e.tag){case 2:if(s=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,n=yn(e,gn.current),ra(e,i),n=Ka(null,e,s,t,n,i),e.effectTag|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(s)){var a=!0;Tn(e)}else a=!1;e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,ca(e);var o=s.getDerivedStateFromProps;"function"==typeof o&&ya(e,s,o,t),n.updater=va,e.stateNode=n,n._reactInternalFiber=e,Ta(e,s,t,i),e=Br(null,e,s,!0,a,i)}else e.tag=0,Or(null,e,n,i),e=e.child;return e;case 16:t:{if(n=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(n),1!==n._status)throw n._result;switch(n=n._result,e.type=n,a=e.tag=function(t){if("function"==typeof t)return jl(t)?1:0;if(null!=t){if((t=t.$$typeof)===lt)return 11;if(t===ut)return 14}return 2}(n),t=Zn(n,t),a){case 0:e=zr(null,e,n,t,i);break t;case 1:e=jr(null,e,n,t,i);break t;case 11:e=Dr(null,e,n,t,i);break t;case 14:e=kr(null,e,n,Zn(n.type,t),s,i);break t}throw Error(r(306,n,""))}return e;case 0:return s=e.type,n=e.pendingProps,zr(t,e,s,n=e.elementType===s?n:Zn(s,n),i);case 1:return s=e.type,n=e.pendingProps,jr(t,e,s,n=e.elementType===s?n:Zn(s,n),i);case 3:if(Hr(e),s=e.updateQueue,null===t||null===s)throw Error(r(282));if(s=e.pendingProps,n=null!==(n=e.memoizedState)?n.element:null,ha(t,e),ma(e,s,null,i),(s=e.memoizedState.element)===n)Pr(),e=Zr(t,e,i);else{if((n=e.stateNode.hydrate)&&(wr=wi(e.stateNode.containerInfo.firstChild),Tr=e,n=Er=!0),n)for(i=Ca(e,null,s,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Or(t,e,s,i),Pr();e=e.child}return e;case 5:return Fa(e),null===t&&Mr(e),s=e.type,n=e.pendingProps,a=null!==t?t.memoizedProps:null,o=n.children,xi(s,n)?o=null:null!==a&&xi(s,a)&&(e.effectTag|=16),Ur(t,e),4&e.mode&&1!==i&&n.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Or(t,e,o,i),e=e.child),e;case 6:return null===t&&Mr(e),null;case 13:return Yr(t,e,i);case 4:return Da(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=Ma(e,null,s,i):Or(t,e,s,i),e.child;case 11:return s=e.type,n=e.pendingProps,Dr(t,e,s,n=e.elementType===s?n:Zn(s,n),i);case 7:return Or(t,e,e.pendingProps,i),e.child;case 8:case 12:return Or(t,e,e.pendingProps.children,i),e.child;case 10:t:{s=e.type._context,n=e.pendingProps,o=e.memoizedProps,a=n.value;var l=e.type._context;if(pn(Qn,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0==(a=js(l,a)?0:0|("function"==typeof s._calculateChangedBits?s._calculateChangedBits(l,a):1073741823))){if(o.children===n.children&&!_n.current){e=Zr(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){o=l.child;for(var h=c.firstContext;null!==h;){if(h.context===s&&h.observedBits&a){1===l.tag&&((h=ua(i,null)).tag=2,da(l,h)),l.expirationTime<i&&(l.expirationTime=i),null!==(h=l.alternate)&&h.expirationTime<i&&(h.expirationTime=i),aa(l.return,i),c.expirationTime<i&&(c.expirationTime=i);break}h=h.next}}else o=10===l.tag&&l.type===e.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===e){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Or(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,s=(a=e.pendingProps).children,ra(e,i),s=s(n=oa(n,a.unstable_observedBits)),e.effectTag|=1,Or(t,e,s,i),e.child;case 14:return a=Zn(n=e.type,e.pendingProps),kr(t,e,n,a=Zn(n.type,a),s,i);case 15:return Fr(t,e,e.type,e.pendingProps,s,i);case 17:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:Zn(s,n),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vn(s)?(t=!0,Tn(e)):t=!1,ra(e,i),xa(e,s,n),Ta(e,s,n,i),Br(null,e,s,!0,t,i);case 19:return Kr(t,e,i)}throw Error(r(156,e.tag))};var kl=null,Fl=null;function Ul(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zl(t,e,i,s){return new Ul(t,e,i,s)}function jl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var i=t.alternate;return null===i?((i=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Hl(t,e,i,s,n,a){var o=2;if(s=t,"function"==typeof t)jl(t)&&(o=1);else if("string"==typeof t)o=5;else t:switch(t){case it:return Vl(i.children,n,a,e);case ot:o=8,n|=7;break;case st:o=8,n|=1;break;case nt:return(t=zl(12,i,e,8|n)).elementType=nt,t.type=nt,t.expirationTime=a,t;case ct:return(t=zl(13,i,e,n)).type=ct,t.elementType=ct,t.expirationTime=a,t;case ht:return(t=zl(19,i,e,n)).elementType=ht,t.expirationTime=a,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case at:o=10;break t;case rt:o=9;break t;case lt:o=11;break t;case ut:o=14;break t;case dt:o=16,s=null;break t;case pt:o=22;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=zl(o,i,e,n)).elementType=t,e.type=s,e.expirationTime=a,e}function Vl(t,e,i,s){return(t=zl(7,t,s,e)).expirationTime=i,t}function Gl(t,e,i){return(t=zl(6,t,null,e)).expirationTime=i,t}function ql(t,e,i){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jl(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Wl(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function Yl(t,e){var i=t.firstSuspendedTime,s=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(s>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function $l(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Xl(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function Kl(t,e,i,s){var n=e.current,a=ol(),o=_a.suspense;a=ll(a,n,o);t:if(i){e:{if(Zt(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(r(171))}if(1===i.tag){var c=i.type;if(vn(c)){i=Sn(i,c,l);break t}}i=l}else i=mn;return null===e.context?e.context=i:e.pendingContext=i,(e=ua(a,o)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),da(n,e),cl(n,a),a}function Zl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ql(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function tc(t,e){Ql(t,e),(t=t.alternate)&&Ql(t,e)}function ec(t,e,i){var s=new Jl(t,e,i=null!=i&&!0===i.hydrate),n=zl(3,null,null,2===e?7:1===e?3:0);s.current=n,n.stateNode=s,ca(n),t[Ci]=s.current,i&&0!==e&&function(t,e){var i=Kt(e);Ee.forEach((function(t){pe(t,e,i)})),Ae.forEach((function(t){pe(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=s}function ic(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function sc(t,e,i,s,n){var a=i._reactRootContainer;if(a){var r=a._internalRoot;if("function"==typeof n){var o=n;n=function(){var t=Zl(r);o.call(t)}}Kl(e,r,t,n)}else{if(a=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new ec(t,0,e?{hydrate:!0}:void 0)}(i,s),r=a._internalRoot,"function"==typeof n){var l=n;n=function(){var t=Zl(r);l.call(t)}}_l((function(){Kl(e,r,t,n)}))}return Zl(r)}function nc(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(e))throw Error(r(200));return function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==s?null:""+s,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}ec.prototype.render=function(t){Kl(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Kl(null,t,null,(function(){e[Ci]=null}))},me=function(t){if(13===t.tag){var e=Kn(ol(),150,100);cl(t,e),tc(t,e)}},ge=function(t){13===t.tag&&(cl(t,3),tc(t,3))},_e=function(t){if(13===t.tag){var e=ol();cl(t,e=ll(e,t,null)),tc(t,e)}},M=function(t,e,i){switch(e){case"input":if(Et(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var n=Li(s);if(!n)throw Error(r(90));xt(s),Et(s,n)}}}break;case"textarea":Rt(t,i);break;case"select":null!=(e=i.value)&&Ct(t,!!i.multiple,e,!1)}},O=gl,D=function(t,e,i,s,n){var a=Fo;Fo|=4;try{return Jn(98,t.bind(null,e,i,s,n))}finally{(Fo=a)===Io&&$n()}},k=function(){(Fo&(1|Co|No))===Io&&(function(){if(null!==sl){var t=sl;sl=null,t.forEach((function(t,e){Xl(e,t),dl(e)})),$n()}}(),Nl())},F=function(t,e){var i=Fo;Fo|=2;try{return t(e)}finally{(Fo=i)===Io&&$n()}};var ac={Events:[Pi,Ri,Li,A,T,ji,function(t){se(t,zi)},R,L,Xe,re,Nl,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;!function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);kl=function(t){try{e.onCommitFiberRoot(i,t,void 0,!(64&~t.current.effectTag))}catch(t){}},Fl=function(t){try{e.onCommitFiberUnmount(i,t)}catch(t){}}}catch(t){}}(n({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ee(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ni,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,e.createPortal=nc,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(r(188));throw Error(r(268,Object.keys(t)))}return null===(t=ee(e))?null:t.stateNode},e.flushSync=function(t,e){if((Fo&(Co|No))!==Io)throw Error(r(187));var i=Fo;Fo|=1;try{return Jn(99,t.bind(null,e))}finally{Fo=i,$n()}},e.hydrate=function(t,e,i){if(!ic(e))throw Error(r(200));return sc(null,t,e,!0,i)},e.render=function(t,e,i){if(!ic(e))throw Error(r(200));return sc(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!ic(t))throw Error(r(40));return!!t._reactRootContainer&&(_l((function(){sc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Ci]=null}))})),!0)},e.unstable_batchedUpdates=gl,e.unstable_createPortal=function(t,e){return nc(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,s){if(!ic(i))throw Error(r(200));if(null==t||void 0===t._reactInternalFiber)throw Error(r(38));return sc(t,e,i,!1,s)},e.version="16.14.0"},3935:(t,e,i)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=i(4448)},4203:(t,e)=>{"use strict";var i,s,n,a,r;if("undefined"==typeof window||"function"!=typeof MessageChannel){var o=null,l=null,c=function(){if(null!==o)try{var t=e.unstable_now();o(!0,t),o=null}catch(t){throw setTimeout(c,0),t}},h=Date.now();e.unstable_now=function(){return Date.now()-h},i=function(t){null!==o?setTimeout(i,0,t):(o=t,setTimeout(c,0))},s=function(t,e){l=setTimeout(t,e)},n=function(){clearTimeout(l)},a=function(){return!1},r=e.unstable_forceFrameRate=function(){}}else{var u=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof u&&"function"==typeof u.now)e.unstable_now=function(){return u.now()};else{var _=d.now();e.unstable_now=function(){return d.now()-_}}var f=!1,y=null,v=-1,b=5,x=0;a=function(){return e.unstable_now()>=x},r=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();x=t+b;try{y(!0,t)?T.postMessage(null):(f=!1,y=null)}catch(t){throw T.postMessage(null),t}}else f=!1},i=function(t){y=t,f||(f=!0,T.postMessage(null))},s=function(t,i){v=p((function(){t(e.unstable_now())}),i)},n=function(){m(v),v=-1}}function w(t,e){var i=t.length;t.push(e);t:for(;;){var s=i-1>>>1,n=t[s];if(!(void 0!==n&&0<I(n,e)))break t;t[s]=e,t[i]=n,i=s}}function E(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var s=0,n=t.length;s<n;){var a=2*(s+1)-1,r=t[a],o=a+1,l=t[o];if(void 0!==r&&0>I(r,i))void 0!==l&&0>I(l,r)?(t[s]=l,t[o]=i,s=o):(t[s]=r,t[a]=i,s=a);else{if(!(void 0!==l&&0>I(l,i)))break t;t[s]=l,t[o]=i,s=o}}}return e}return null}function I(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var M=[],C=[],N=1,P=null,R=3,L=!1,O=!1,D=!1;function k(t){for(var e=E(C);null!==e;){if(null===e.callback)A(C);else{if(!(e.startTime<=t))break;A(C),e.sortIndex=e.expirationTime,w(M,e)}e=E(C)}}function F(t){if(D=!1,k(t),!O)if(null!==E(M))O=!0,i(U);else{var e=E(C);null!==e&&s(F,e.startTime-t)}}function U(t,i){O=!1,D&&(D=!1,n()),L=!0;var r=R;try{for(k(i),P=E(M);null!==P&&(!(P.expirationTime>i)||t&&!a());){var o=P.callback;if(null!==o){P.callback=null,R=P.priorityLevel;var l=o(P.expirationTime<=i);i=e.unstable_now(),"function"==typeof l?P.callback=l:P===E(M)&&A(M),k(i)}else A(M);P=E(M)}if(null!==P)var c=!0;else{var h=E(C);null!==h&&s(F,h.startTime-i),c=!1}return c}finally{P=null,R=r,L=!1}}function z(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){O||L||(O=!0,i(U))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return E(M)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var i=R;R=e;try{return t()}finally{R=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=R;R=t;try{return e()}finally{R=i}},e.unstable_scheduleCallback=function(t,a,r){var o=e.unstable_now();if("object"==typeof r&&null!==r){var l=r.delay;l="number"==typeof l&&0<l?o+l:o,r="number"==typeof r.timeout?r.timeout:z(t)}else r=z(t),l=o;return t={id:N++,callback:a,priorityLevel:t,startTime:l,expirationTime:r=l+r,sortIndex:-1},l>o?(t.sortIndex=l,w(C,t),null===E(M)&&t===E(C)&&(D?n():D=!0,s(F,l-o))):(t.sortIndex=r,w(M,t),O||L||(O=!0,i(U))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();k(t);var i=E(M);return i!==P&&null!==P&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=R;return function(){var i=R;R=e;try{return t.apply(this,arguments)}finally{R=i}}}},4142:(t,e,i)=>{"use strict";t.exports=i(4203)},7762:(t,e,i)=>{"use strict";t.exports=i(8698)},4887:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.decodeEntities,a=void 0===i||i,r=e.transform,o=e.preprocessNodes,l=(void 0===o?function(t){return t}:o)(s.default.parseDOM(t,{decodeEntities:a}));return(0,n.default)(l,r)};var s=a(i(3719)),n=a(i(6630));function a(t){return t&&t.__esModule?t:{default:t}}},5324:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return n.default[t.type](t,e,i)};var s,n=(s=i(532))&&s.__esModule?s:{default:s}},5888:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["allowfullScreen","async","autoplay","capture","checked","controls","default","defer","disabled","formnovalidate","hidden","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","scoped","seamless","selected","itemscope"]},5260:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",as:"as",async:"async",autocomplete:"autoComplete",autoplay:"autoPlay",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",challenge:"challenge",checked:"checked",cite:"cite",classid:"classID",class:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlsList:"controlsList",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",for:"htmlFor","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",integrity:"integrity",is:"is",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginheight:"marginHeight",marginwidth:"marginWidth",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",slot:"slot",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",datatype:"datatype",inlist:"inlist",prefix:"prefix",property:"property",resource:"resource",typeof:"typeof",vocab:"vocab",autocapitalize:"autoCapitalize",autocorrect:"autoCorrect",autosave:"autoSave",color:"color",itemprop:"itemProp",itemscope:"itemScope",itemtype:"itemType",itemid:"itemID",itemref:"itemRef",results:"results",security:"security",unselectable:"unselectable"}},3662:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},5961:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=void 0;t.children.length>0&&(i=t.children[0].data);var a=(0,n.default)(t.attribs,e);return s.default.createElement("style",a,i)};var s=a(i(7294)),n=a(i(8024));function a(t){return t&&t.__esModule?t:{default:t}}},2593:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){var l=t.name;if(!(0,o.default)(l))return null;var c=(0,a.default)(t.attribs,e),h=null;return-1===r.default.indexOf(l)&&(h=(0,n.default)(t.children,i)),s.default.createElement(l,c,h)};var s=l(i(7294)),n=l(i(6630)),a=l(i(8024)),r=l(i(3662)),o=l(i(2536));function l(t){return t&&t.__esModule?t:{default:t}}},3180:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.data}},5639:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return null}},532:(t,e,i)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});var n=i(3719),a=c(i(3180)),r=c(i(2593)),o=c(i(5961)),l=c(i(5639));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.default=(h(s={},n.ElementType.Text,a.default),h(s,n.ElementType.Tag,r.default),h(s,n.ElementType.Style,o.default),h(s,n.ElementType.Directive,l.default),h(s,n.ElementType.Comment,l.default),h(s,n.ElementType.Script,l.default),h(s,n.ElementType.CDATA,l.default),h(s,n.ElementType.Doctype,l.default),s)},653:(t,e,i)=>{"use strict";i(6630),i(5324),i(3719);var s,n=(s=i(4887))&&s.__esModule?s:{default:s};e.ZP=n.default},6630:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.filter((function(t){return!(0,s.default)(t)})).map((function(t,i){var s=void 0;return"function"!=typeof e||null!==(s=e(t,i))&&!s?(0,n.default)(t,i,e):s}))};var s=a(i(2057)),n=a(i(5324));function a(t){return t&&t.__esModule?t:{default:t}}},8024:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=function(t,e){var i=s({},(0,n.default)(t),{key:e});return"string"==typeof i.style||i.style instanceof String?i.style=(0,a.default)(i.style):delete i.style,i};var n=r(i(4381)),a=r(i(3083));function r(t){return t&&t.__esModule?t:{default:t}}},4381:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Object.keys(t).filter((function(t){return(0,a.default)(t)})).reduce((function(e,i){var s=i.toLowerCase(),a=n.default[s]||s;return e[a]=o(a,t[i]),e}),{})};var s=r(i(5888)),n=r(i(5260)),a=r(i(2536));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){return s.default.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())>=0&&(e=t),e}},3083:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===t?{}:t.split(";").reduce((function(t,e){var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){n=!0,a=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.split(/^([^:]+):/).filter((function(t,e){return e>0})).map((function(t){return t.trim().toLowerCase()})),2),s=i[0],n=i[1];return void 0===n||(t[s=s.replace(/^-ms-/,"ms-").replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))]=n),t}),{})}},2057:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"text"===t.type&&/\r?\n/.test(t.data)&&""===t.data.trim()}},2536:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return s.hasOwnProperty(t)||(s[t]=i.test(t)),s[t]};var i=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,s={}},9921:(t,e)=>{"use strict";var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,o=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116,f=i?Symbol.for("react.block"):60121,y=i?Symbol.for("react.fundamental"):60117,v=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function x(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case h:case u:case a:case o:case r:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case _:case g:case l:return t;default:return e}}case n:return e}}}function S(t){return x(t)===u}e.AsyncMode=h,e.ConcurrentMode=u,e.ContextConsumer=c,e.ContextProvider=l,e.Element=s,e.ForwardRef=d,e.Fragment=a,e.Lazy=_,e.Memo=g,e.Portal=n,e.Profiler=o,e.StrictMode=r,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||x(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},e.isForwardRef=function(t){return x(t)===d},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===_},e.isMemo=function(t){return x(t)===g},e.isPortal=function(t){return x(t)===n},e.isProfiler=function(t){return x(t)===o},e.isStrictMode=function(t){return x(t)===r},e.isSuspense=function(t){return x(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===u||t===o||t===r||t===p||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===_||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===v||t.$$typeof===b||t.$$typeof===f)},e.typeOf=x},9864:(t,e,i)=>{"use strict";t.exports=i(9921)},2686:(t,e,i)=>{var s=i(3888),n=i(3138),a=i(1855),r=a.MUST_USE_PROPERTY,o=a.HAS_BOOLEAN_VALUE,l=a.HAS_NUMERIC_VALUE,c=a.HAS_POSITIVE_NUMERIC_VALUE,h=a.HAS_OVERLOADED_BOOLEAN_VALUE;function u(t,e){return(t&e)===e}function d(t,e,i){var s,n,a,d=t.Properties,p=t.DOMAttributeNames;for(n in d)s=p[n]||(i?n:n.toLowerCase()),a=d[n],e[s]={attributeName:s,propertyName:n,mustUseProperty:u(a,r),hasBooleanValue:u(a,o),hasNumericValue:u(a,l),hasPositiveNumericValue:u(a,c),hasOverloadedBooleanValue:u(a,h)}}var p={};d(s,p);var m={};d(n,m,!0);var g={};d(s,g),d(n,g,!0),t.exports={html:p,svg:m,properties:g,isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"))}},3888:t=>{t.exports={Properties:{autoFocus:4,accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:4,allowTransparency:0,alt:0,as:0,async:4,autoComplete:0,autoPlay:4,capture:4,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:5,cite:0,classID:0,className:0,cols:24,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:4,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:4,defer:4,dir:0,disabled:4,download:32,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:4,formTarget:0,frameBorder:0,headers:0,height:0,hidden:4,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:4,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:5,muted:5,name:0,nonce:0,noValidate:4,open:4,optimum:0,pattern:0,placeholder:0,playsInline:4,poster:0,preload:0,profile:0,radioGroup:0,readOnly:4,referrerPolicy:0,rel:0,required:4,reversed:4,role:0,rows:24,rowSpan:8,sandbox:0,scope:0,scoped:4,scrolling:0,seamless:4,selected:5,shape:0,size:24,sizes:0,span:24,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:8,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:4,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"}}},3138:t=>{t.exports={Properties:{accentHeight:0,accumulate:0,additive:0,alignmentBaseline:0,allowReorder:0,alphabetic:0,amplitude:0,arabicForm:0,ascent:0,attributeName:0,attributeType:0,autoReverse:0,azimuth:0,baseFrequency:0,baseProfile:0,baselineShift:0,bbox:0,begin:0,bias:0,by:0,calcMode:0,capHeight:0,clip:0,clipPath:0,clipRule:0,clipPathUnits:0,colorInterpolation:0,colorInterpolationFilters:0,colorProfile:0,colorRendering:0,contentScriptType:0,contentStyleType:0,cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:0,direction:0,display:0,divisor:0,dominantBaseline:0,dur:0,dx:0,dy:0,edgeMode:0,elevation:0,enableBackground:0,end:0,exponent:0,externalResourcesRequired:0,fill:0,fillOpacity:0,fillRule:0,filter:0,filterRes:0,filterUnits:0,floodColor:0,floodOpacity:0,focusable:0,fontFamily:0,fontSize:0,fontSizeAdjust:0,fontStretch:0,fontStyle:0,fontVariant:0,fontWeight:0,format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:0,glyphOrientationHorizontal:0,glyphOrientationVertical:0,glyphRef:0,gradientTransform:0,gradientUnits:0,hanging:0,horizAdvX:0,horizOriginX:0,ideographic:0,imageRendering:0,in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:0,kernelUnitLength:0,kerning:0,keyPoints:0,keySplines:0,keyTimes:0,lengthAdjust:0,letterSpacing:0,lightingColor:0,limitingConeAngle:0,local:0,markerEnd:0,markerMid:0,markerStart:0,markerHeight:0,markerUnits:0,markerWidth:0,mask:0,maskContentUnits:0,maskUnits:0,mathematical:0,mode:0,numOctaves:0,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:0,overlineThickness:0,paintOrder:0,panose1:0,pathLength:0,patternContentUnits:0,patternTransform:0,patternUnits:0,pointerEvents:0,points:0,pointsAtX:0,pointsAtY:0,pointsAtZ:0,preserveAlpha:0,preserveAspectRatio:0,primitiveUnits:0,r:0,radius:0,refX:0,refY:0,renderingIntent:0,repeatCount:0,repeatDur:0,requiredExtensions:0,requiredFeatures:0,restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:0,slope:0,spacing:0,specularConstant:0,specularExponent:0,speed:0,spreadMethod:0,startOffset:0,stdDeviation:0,stemh:0,stemv:0,stitchTiles:0,stopColor:0,stopOpacity:0,strikethroughPosition:0,strikethroughThickness:0,string:0,stroke:0,strokeDasharray:0,strokeDashoffset:0,strokeLinecap:0,strokeLinejoin:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0,surfaceScale:0,systemLanguage:0,tableValues:0,targetX:0,targetY:0,textAnchor:0,textDecoration:0,textRendering:0,textLength:0,to:0,transform:0,u1:0,u2:0,underlinePosition:0,underlineThickness:0,unicode:0,unicodeBidi:0,unicodeRange:0,unitsPerEm:0,vAlphabetic:0,vHanging:0,vIdeographic:0,vMathematical:0,values:0,vectorEffect:0,version:0,vertAdvY:0,vertOriginX:0,vertOriginY:0,viewBox:0,viewTarget:0,visibility:0,widths:0,wordSpacing:0,writingMode:0,x:0,xHeight:0,x1:0,x2:0,xChannelSelector:0,xlinkActuate:0,xlinkArcrole:0,xlinkHref:0,xlinkRole:0,xlinkShow:0,xlinkTitle:0,xlinkType:0,xmlBase:0,xmlns:0,xmlnsXlink:0,xmlLang:0,xmlSpace:0,y:0,y1:0,y2:0,yChannelSelector:0,z:0,zoomAndPan:0},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space"}}},1855:t=>{t.exports={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32}},6585:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},9658:(t,e,i)=>{var s=i(6585);t.exports=function t(e,i,n){return s(i)||(n=i||n,i=[]),n=n||{},e instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var s=0;s<i.length;s++)e.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}(e,i):s(e)?function(e,i,s){for(var n=[],a=0;a<e.length;a++)n.push(t(e[a],i,s).source);return h(new RegExp("(?:"+n.join("|")+")",u(s)),i)}(e,i,n):function(t,e,i){return d(a(t,i),e,i)}(e,i,n)},t.exports.parse=a,t.exports.compile=function(t,e){return o(a(t,e),e)},t.exports.tokensToFunction=o,t.exports.tokensToRegExp=d;var n=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t,e){for(var i,s=[],a=0,r=0,o="",h=e&&e.delimiter||"/";null!=(i=n.exec(t));){var u=i[0],d=i[1],p=i.index;if(o+=t.slice(r,p),r=p+u.length,d)o+=d[1];else{var m=t[r],g=i[2],_=i[3],f=i[4],y=i[5],v=i[6],b=i[7];o&&(s.push(o),o="");var x=null!=g&&null!=m&&m!==g,S="+"===v||"*"===v,T="?"===v||"*"===v,w=i[2]||h,E=f||y;s.push({name:_||a++,prefix:g||"",delimiter:w,optional:T,repeat:S,partial:x,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+l(w)+"]+?"})}}return r<t.length&&(o+=t.substr(r)),o&&s.push(o),s}function r(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function o(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",u(e)));return function(e,n){for(var a="",o=e||{},l=(n||{}).pretty?r:encodeURIComponent,c=0;c<t.length;c++){var h=t[c];if("string"!=typeof h){var u,d=o[h.name];if(null==d){if(h.optional){h.partial&&(a+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(s(d)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(u=l(d[p]),!i[c].test(u))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(u)+"`");a+=(0===p?h.prefix:h.delimiter)+u}}else{if(u=h.asterisk?encodeURI(d).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(d),!i[c].test(u))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+u+'"');a+=h.prefix+u}}else a+=h}return a}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function u(t){return t&&t.sensitive?"":"i"}function d(t,e,i){s(e)||(i=e||i,e=[]);for(var n=(i=i||{}).strict,a=!1!==i.end,r="",o=0;o<t.length;o++){var c=t[o];if("string"==typeof c)r+=l(c);else{var d=l(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+d+p+")*"),r+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var m=l(i.delimiter||"/"),g=r.slice(-m.length)===m;return n||(r=(g?r.slice(0,-m.length):r)+"(?:"+m+"(?=$))?"),r+=a?"$":n&&g?"":"(?="+m+"|$)",h(new RegExp("^"+r,u(i)),e)}},5251:(t,e,i)=>{"use strict";var s=i(7294),n=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;n=a("react.element"),e.Fragment=a("react.fragment")}var r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,i){var s,a={},c=null,h=null;for(s in void 0!==i&&(c=""+i),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(h=e.ref),e)o.call(e,s)&&!l.hasOwnProperty(s)&&(a[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===a[s]&&(a[s]=e[s]);return{$$typeof:n,type:t,key:c,ref:h,props:a,_owner:r.current}}e.jsx=c,e.jsxs=c},2408:(t,e,i)=>{"use strict";var s=i(7418),n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,h=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,_="function"==typeof Symbol&&Symbol.iterator;function f(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function b(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||y}function x(){}function S(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||y}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(f(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var T=S.prototype=new x;T.constructor=S,s(T,b.prototype),T.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,i){var s,n={},r=null,o=null;if(null!=e)for(s in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(r=""+e.key),e)E.call(e,s)&&!A.hasOwnProperty(s)&&(n[s]=e[s]);var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];n.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===n[s]&&(n[s]=l[s]);return{$$typeof:a,type:t,key:r,ref:o,props:n,_owner:w.current}}function M(t){return"object"==typeof t&&null!==t&&t.$$typeof===a}var C=/\/+/g,N=[];function P(t,e,i,s){if(N.length){var n=N.pop();return n.result=t,n.keyPrefix=e,n.func=i,n.context=s,n.count=0,n}return{result:t,keyPrefix:e,func:i,context:s,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>N.length&&N.push(t)}function L(t,e,i,s){var n=typeof t;"undefined"!==n&&"boolean"!==n||(t=null);var o=!1;if(null===t)o=!0;else switch(n){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case a:case r:o=!0}}if(o)return i(s,t,""===e?"."+D(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=e+D(n=t[l],l);o+=L(n,c,i,s)}else if("function"==typeof(c=null===t||"object"!=typeof t?null:"function"==typeof(c=_&&t[_]||t["@@iterator"])?c:null))for(t=c.call(t),l=0;!(n=t.next()).done;)o+=L(n=n.value,c=e+D(n,l++),i,s);else if("object"===n)throw i=""+t,Error(f(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return o}function O(t,e,i){return null==t?0:L(t,"",e,i)}function D(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function k(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,i){var s=t.result,n=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?U(t,s,i,(function(t){return t})):null!=t&&(M(t)&&(t=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,n+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+i)),s.push(t))}function U(t,e,i,s,n){var a="";null!=i&&(a=(""+i).replace(C,"$&/")+"/"),O(t,F,e=P(e,a,s,n)),R(e)}var z={current:null};function j(){var t=z.current;if(null===t)throw Error(f(321));return t}var B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:s};e.Children={map:function(t,e,i){if(null==t)return t;var s=[];return U(t,s,null,e,i),s},forEach:function(t,e,i){if(null==t)return t;O(t,k,e=P(null,null,e,i)),R(e)},count:function(t){return O(t,(function(){return null}),null)},toArray:function(t){var e=[];return U(t,e,null,(function(t){return t})),e},only:function(t){if(!M(t))throw Error(f(143));return t}},e.Component=b,e.Fragment=o,e.Profiler=c,e.PureComponent=S,e.StrictMode=l,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,i){if(null==t)throw Error(f(267,t));var n=s({},t.props),r=t.key,o=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,l=w.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)E.call(e,h)&&!A.hasOwnProperty(h)&&(n[h]=void 0===e[h]&&void 0!==c?c[h]:e[h])}var h=arguments.length-2;if(1===h)n.children=i;else if(1<h){c=Array(h);for(var u=0;u<h;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:a,type:t.type,key:r,ref:o,props:n,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:u,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:m,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return j().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,i){return j().useReducer(t,e,i)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="16.14.0"},7294:(t,e,i)=>{"use strict";t.exports=i(2408)},5893:(t,e,i)=>{"use strict";t.exports=i(5251)},9509:(t,e,i)=>{var s=i(8764),n=s.Buffer;function a(t,e){for(var i in t)e[i]=t[i]}function r(t,e,i){return n(t,e,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=s:(a(s,e),e.Buffer=r),r.prototype=Object.create(n.prototype),a(n,r),r.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,i)},r.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var s=n(t);return void 0!==e?"string"==typeof i?s.fill(e,i):s.fill(e):s.fill(0),s},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s.SlowBuffer(t)}},577:t=>{!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=t.exports,s="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var t,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,n=i.length,a={};s<n;s++)if((t=i[s])&&t[1]in e){for(s=0;s<t.length;s++)a[i[0][s]]=t[s];return a}return!1}(),a={change:n.fullscreenchange,error:n.fullscreenerror},r={request:function(t){return new Promise(function(i,a){var r,o=n.requestFullscreen,l=function(){this.off("change",l),i()}.bind(this);this.on("change",l),t=t||e.documentElement,r=/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[o]():t[o](s?Element.ALLOW_KEYBOARD_INPUT:{}),Promise.resolve(r).catch(a)}.bind(this))},exit:function(){return new Promise(function(t){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);e[n.exitFullscreen](),this.on("change",i)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,i){var s=a[t];s&&e.addEventListener(s,i,!1)},off:function(t,i){var s=a[t];s&&e.removeEventListener(s,i,!1)},raw:n};n?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),i?(t.exports=r,t.exports.default=r):window.screenfull=r):i?t.exports=!1:window.screenfull=!1}()},7848:(t,e,i)=>{var s=i(8139);t.exports=function(t,e){var i,n=null;if(!t||"string"!=typeof t)return n;for(var a,r,o=s(t),l="function"==typeof e,c=0,h=o.length;c<h;c++)a=(i=o[c]).property,r=i.value,l?e(a,r,i):r&&(n||(n={}),n[a]=r);return n}},247:()=>{},9004:t=>{"use strict";t.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},3523:t=>{"use strict";t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},3082:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},3195:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},1210:t=>{"use strict";t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},2968:t=>{"use strict";t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},3042:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},317:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},1373:t=>{"use strict";t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};i.r(t),i.d(t,{hasBrowserEnv:()=>Rv,hasStandardBrowserEnv:()=>Lv,hasStandardBrowserWebWorkerEnv:()=>Dv});var e=i(7294),s=i(3935);function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}var r=i(5697),o=i.n(r);function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},l.apply(this,arguments)}function c(t){return"/"===t.charAt(0)}function h(t,e){for(var i=e,s=i+1,n=t.length;s<n;i+=1,s+=1)t[i]=t[s];t.pop()}const u=function(t,e){void 0===e&&(e="");var i,s=t&&t.split("/")||[],n=e&&e.split("/")||[],a=t&&c(t),r=e&&c(e),o=a||r;if(t&&c(t)?n=s:s.length&&(n.pop(),n=n.concat(s)),!n.length)return"/";if(n.length){var l=n[n.length-1];i="."===l||".."===l||""===l}else i=!1;for(var u=0,d=n.length;d>=0;d--){var p=n[d];"."===p?h(n,d):".."===p?(h(n,d),u++):u&&(h(n,d),u--)}if(!o)for(;u--;u)n.unshift("..");!o||""===n[0]||n[0]&&c(n[0])||n.unshift("");var m=n.join("/");return i&&"/"!==m.substr(-1)&&(m+="/"),m};var d=!0,p="Invariant failed";function m(t,e){if(!t){if(d)throw new Error(p);var i="function"==typeof e?e():e,s=i?"".concat(p,": ").concat(i):p;throw new Error(s)}}function g(t){return"/"===t.charAt(0)?t:"/"+t}function _(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function y(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function v(t){var e=t.pathname,i=t.search,s=t.hash,n=e||"/";return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function b(t,e,i,s){var n;"string"==typeof t?(n=function(t){var e=t||"/",i="",s="",n=e.indexOf("#");-1!==n&&(s=e.substr(n),e=e.substr(0,n));var a=e.indexOf("?");return-1!==a&&(i=e.substr(a),e=e.substr(0,a)),{pathname:e,search:"?"===i?"":i,hash:"#"===s?"":s}}(t),n.state=e):(void 0===(n=l({},t)).pathname&&(n.pathname=""),n.search?"?"!==n.search.charAt(0)&&(n.search="?"+n.search):n.search="",n.hash?"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash):n.hash="",void 0!==e&&void 0===n.state&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return i&&(n.key=i),s?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=u(n.pathname,s.pathname)):n.pathname=s.pathname:n.pathname||(n.pathname="/"),n}function x(){var t=null,e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,i,s,n){if(null!=t){var a="function"==typeof t?t(e,i):t;"string"==typeof a?"function"==typeof s?s(a,n):n(!0):n(!1!==a)}else n(!0)},appendListener:function(t){var i=!0;function s(){i&&t.apply(void 0,arguments)}return e.push(s),function(){i=!1,e=e.filter((function(t){return t!==s}))}},notifyListeners:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];e.forEach((function(t){return t.apply(void 0,i)}))}}}var S=!("undefined"==typeof window||!window.document||!window.document.createElement);function T(t,e){e(window.confirm(t))}var w="hashchange",E={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+_(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:_,decodePath:g},slash:{encodePath:g,decodePath:g}};function A(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function I(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function M(t){window.location.replace(A(window.location.href)+"#"+t)}var C=i(9658),N=i.n(C);function P(t,e){if(null==t)return{};var i,s,n={},a=Object.keys(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||(n[i]=t[i]);return n}i(9864),i(8679);var R=1073741823,L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:{},O=e.createContext||function(t,i){var s,n,r,l="__create-react-context-"+((L[r="__global_unique_id__"]=(L[r]||0)+1)+"__"),c=function(t){function e(){for(var e,i,s,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).emitter=(i=e.props.value,s=[],{on:function(t){s.push(t)},off:function(t){s=s.filter((function(e){return e!==t}))},get:function(){return i},set:function(t,e){i=t,s.forEach((function(t){return t(i,e)}))}}),e}a(e,t);var s=e.prototype;return s.getChildContext=function(){var t;return(t={})[l]=this.emitter,t},s.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,s=this.props.value,n=t.value;((a=s)===(r=n)?0!==a||1/a==1/r:a!=a&&r!=r)?e=0:(e="function"==typeof i?i(s,n):R,0!=(e|=0)&&this.emitter.set(t.value,e))}var a,r},s.render=function(){return this.props.children},e}(e.Component);c.childContextTypes=((s={})[l]=o().object.isRequired,s);var h=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,i){t.observedBits&i&&t.setState({value:t.getValue()})},t}a(i,e);var s=i.prototype;return s.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?R:e},s.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?R:t},s.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},s.getValue=function(){return this.context[l]?this.context[l].get():t},s.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},i}(e.Component);return h.contextTypes=((n={})[l]=o().object,n),{Provider:c,Consumer:h}},D=function(t){var e=O();return e.displayName=t,e},k=D("Router-History"),F=D("Router"),U=function(t){function i(e){var i;return(i=t.call(this,e)||this).state={location:e.history.location},i._isMounted=!1,i._pendingLocation=null,e.staticContext||(i.unlisten=e.history.listen((function(t){i._pendingLocation=t}))),i}a(i,t),i.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var s=i.prototype;return s.componentDidMount=function(){var t=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(e){t._isMounted&&t.setState({location:e})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},s.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},s.render=function(){return e.createElement(F.Provider,{value:{history:this.props.history,location:this.state.location,match:i.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(k.Provider,{children:this.props.children||null,value:this.props.history}))},i}(e.Component);e.Component,e.Component;var z={},j=0;function B(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var i=e,s=i.path,n=i.exact,a=void 0!==n&&n,r=i.strict,o=void 0!==r&&r,l=i.sensitive,c=void 0!==l&&l;return[].concat(s).reduce((function(e,i){if(!i&&""!==i)return null;if(e)return e;var s=function(t,e){var i=""+e.end+e.strict+e.sensitive,s=z[i]||(z[i]={});if(s[t])return s[t];var n=[],a={regexp:N()(t,n,e),keys:n};return j<1e4&&(s[t]=a,j++),a}(i,{end:a,strict:o,sensitive:c}),n=s.regexp,r=s.keys,l=n.exec(t);if(!l)return null;var h=l[0],u=l.slice(1),d=t===h;return a&&!d?null:{path:i,url:"/"===i&&""===h?"/":h,isExact:d,params:r.reduce((function(t,e,i){return t[e.name]=u[i],t}),{})}}),null)}var H=function(t){function i(){return t.apply(this,arguments)||this}return a(i,t),i.prototype.render=function(){var t=this;return e.createElement(F.Consumer,null,(function(i){i||m(!1);var s=t.props.location||i.location,n=l({},i,{location:s,match:t.props.computedMatch?t.props.computedMatch:t.props.path?B(s.pathname,t.props):i.match}),a=t.props,r=a.children,o=a.component,c=a.render;return Array.isArray(r)&&function(t){return 0===e.Children.count(t)}(r)&&(r=null),e.createElement(F.Provider,{value:n},n.match?r?"function"==typeof r?r(n):r:o?e.createElement(o,n):c?c(n):null:"function"==typeof r?r(n):null)}))},i}(e.Component);e.Component,e.Component,e.useContext,e.Component;var V=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).history=function(t){void 0===t&&(t={}),S||m(!1);var e=window.history,i=(window.navigator.userAgent.indexOf("Firefox"),t),s=i.getUserConfirmation,n=void 0===s?T:s,a=i.hashType,r=void 0===a?"slash":a,o=t.basename?y(g(t.basename)):"",c=E[r],h=c.encodePath,u=c.decodePath;function d(){var t=u(I());return o&&(t=f(t,o)),b(t)}var p=x();function _(t){l(j,t),j.length=e.length,p.notifyListeners(j.location,j.action)}var C=!1,N=null;function P(){var t,e,i=I(),s=h(i);if(i!==s)M(s);else{var a=d(),r=j.location;if(!C&&(e=a,(t=r).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(N===v(a))return;N=null,function(t){C?(C=!1,_()):p.confirmTransitionTo(t,"POP",n,(function(e){e?_({action:"POP",location:t}):function(t){var e=j.location,i=D.lastIndexOf(v(e));-1===i&&(i=0);var s=D.lastIndexOf(v(t));-1===s&&(s=0);var n=i-s;n&&(C=!0,k(n))}(t)}))}(a)}}var R=I(),L=h(R);R!==L&&M(L);var O=d(),D=[v(O)];function k(t){e.go(t)}var F=0;function U(t){1===(F+=t)&&1===t?window.addEventListener(w,P):0===F&&window.removeEventListener(w,P)}var z=!1,j={length:e.length,action:"POP",location:O,createHref:function(t){var e=document.querySelector("base"),i="";return e&&e.getAttribute("href")&&(i=A(window.location.href)),i+"#"+h(o+v(t))},push:function(t,e){var i="PUSH",s=b(t,void 0,void 0,j.location);p.confirmTransitionTo(s,i,n,(function(t){if(t){var e=v(s),n=h(o+e);if(I()!==n){N=e,function(t){window.location.hash=t}(n);var a=D.lastIndexOf(v(j.location)),r=D.slice(0,a+1);r.push(e),D=r,_({action:i,location:s})}else _()}}))},replace:function(t,e){var i="REPLACE",s=b(t,void 0,void 0,j.location);p.confirmTransitionTo(s,i,n,(function(t){if(t){var e=v(s),n=h(o+e);I()!==n&&(N=e,M(n));var a=D.indexOf(v(j.location));-1!==a&&(D[a]=e),_({action:i,location:s})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(t){void 0===t&&(t=!1);var e=p.setPrompt(t);return z||(U(1),z=!0),function(){return z&&(z=!1,U(-1)),e()}},listen:function(t){var e=p.appendListener(t);return U(1),function(){U(-1),e()}}};return j}(e.props),e}return a(i,t),i.prototype.render=function(){return e.createElement(U,{history:this.history,children:this.props.children})},i}(e.Component),G=function(t,e){return"function"==typeof t?t(e):t},q=function(t,e){return"string"==typeof t?b(t,null,null,e):t},J=function(t){return t},W=e.forwardRef;void 0===W&&(W=J);var Y=W((function(t,i){var s=t.innerRef,n=t.navigate,a=t.onClick,r=P(t,["innerRef","navigate","onClick"]),o=r.target,c=l({},r,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||o&&"_self"!==o||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),n())}});return c.ref=J!==W&&i||s,e.createElement("a",c)})),$=W((function(t,i){var s=t.component,n=void 0===s?Y:s,a=t.replace,r=t.to,o=t.innerRef,c=P(t,["component","replace","to","innerRef"]);return e.createElement(F.Consumer,null,(function(t){t||m(!1);var s=t.history,h=q(G(r,t.location),t.location),u=h?s.createHref(h):"",d=l({},c,{href:u,navigate:function(){var e=G(r,t.location),i=v(t.location)===v(q(e));(a||i?s.replace:s.push)(e)}});return J!==W?d.ref=i||o:d.innerRef=o,e.createElement(n,d)}))})),X=function(t){return t},K=e.forwardRef;void 0===K&&(K=X),K((function(t,i){var s=t["aria-current"],n=void 0===s?"page":s,a=t.activeClassName,r=void 0===a?"active":a,o=t.activeStyle,c=t.className,h=t.exact,u=t.isActive,d=t.location,p=t.sensitive,g=t.strict,_=t.style,f=t.to,y=t.innerRef,v=P(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(F.Consumer,null,(function(t){t||m(!1);var s=d||t.location,a=q(G(f,s),s),b=a.pathname,x=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=x?B(s.pathname,{path:x,exact:h,sensitive:p,strict:g}):null,T=!!(u?u(S,s):S),w="function"==typeof c?c(T):c,E="function"==typeof _?_(T):_;T&&(w=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter((function(t){return t})).join(" ")}(w,r),E=l({},E,o));var A=l({"aria-current":T&&n||null,className:w,style:E,to:a},v);return X!==K?A.ref=i||y:A.innerRef=y,e.createElement($,A)}))}));const Z="154",Q=1,tt=2,et=3,it=100,st=0,nt=1,at=2,rt=0,ot=1,lt=2,ct=3,ht=4,ut=5,dt=301,pt=302,mt=306,gt=1e3,_t=1001,ft=1002,yt=1003,vt=1004,bt=1005,xt=1006,St=1008,Tt=1009,wt=1012,Et=1014,At=1015,It=1016,Mt=1020,Ct=1023,Nt=1026,Pt=1027,Rt=33776,Lt=33777,Ot=33778,Dt=33779,kt=36492,Ft=2300,Ut=2301,zt=2302,jt=2400,Bt=2401,Ht=2402,Vt=3001,Gt="srgb",qt="srgb-linear",Jt="display-p3",Wt=7680,Yt=35044,$t="300 es",Xt=1035,Kt=2e3,Zt=2001;class Qt{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const i=this._listeners[t];if(void 0!==i){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const i=e.slice(0);for(let e=0,s=i.length;e<s;e++)i[e].call(this,t);t.target=null}}}const te=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const ee=Math.PI/180,ie=180/Math.PI;function se(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(te[255&t]+te[t>>8&255]+te[t>>16&255]+te[t>>24&255]+"-"+te[255&e]+te[e>>8&255]+"-"+te[e>>16&15|64]+te[e>>24&255]+"-"+te[63&i|128]+te[i>>8&255]+"-"+te[i>>16&255]+te[i>>24&255]+te[255&s]+te[s>>8&255]+te[s>>16&255]+te[s>>24&255]).toLowerCase()}function ne(t,e,i){return Math.max(e,Math.min(i,t))}function ae(t,e){return(t%e+e)%e}function re(t,e,i){return(1-i)*t+i*e}function oe(t){return!(t&t-1)&&0!==t}function le(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ce(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function he(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ue(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const de=function(t){return t*ie};class pe{constructor(t=0,e=0){pe.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(ne(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*s+t.x,this.y=n*s+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class me{constructor(t,e,i,s,n,a,r,o,l){me.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,s,n,a,r,o,l)}set(t,e,i,s,n,a,r,o,l){const c=this.elements;return c[0]=t,c[1]=s,c[2]=r,c[3]=e,c[4]=n,c[5]=o,c[6]=i,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,n=this.elements,a=i[0],r=i[3],o=i[6],l=i[1],c=i[4],h=i[7],u=i[2],d=i[5],p=i[8],m=s[0],g=s[3],_=s[6],f=s[1],y=s[4],v=s[7],b=s[2],x=s[5],S=s[8];return n[0]=a*m+r*f+o*b,n[3]=a*g+r*y+o*x,n[6]=a*_+r*v+o*S,n[1]=l*m+c*f+h*b,n[4]=l*g+c*y+h*x,n[7]=l*_+c*v+h*S,n[2]=u*m+d*f+p*b,n[5]=u*g+d*y+p*x,n[8]=u*_+d*v+p*S,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],r=t[5],o=t[6],l=t[7],c=t[8];return e*a*c-e*r*l-i*n*c+i*r*o+s*n*l-s*a*o}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],r=t[5],o=t[6],l=t[7],c=t[8],h=c*a-r*l,u=r*o-c*n,d=l*n-a*o,p=e*h+i*u+s*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=h*m,t[1]=(s*l-c*i)*m,t[2]=(r*i-s*a)*m,t[3]=u*m,t[4]=(c*e-s*o)*m,t[5]=(s*n-r*e)*m,t[6]=d*m,t[7]=(i*o-l*e)*m,t[8]=(a*e-i*n)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,n,a,r){const o=Math.cos(n),l=Math.sin(n);return this.set(i*o,i*l,-i*(o*a+l*r)+a+t,-s*l,s*o,-s*(-l*a+o*r)+r+e,0,0,1),this}scale(t,e){return this.premultiply(ge.makeScale(t,e)),this}rotate(t){return this.premultiply(ge.makeRotation(-t)),this}translate(t,e){return this.premultiply(ge.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<9;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const ge=new me;function _e(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function fe(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const ye={};function ve(t){t in ye||(ye[t]=!0,console.warn(t))}function be(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function xe(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const Se=(new me).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Te=(new me).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),we={[qt]:t=>t,[Gt]:t=>t.convertSRGBToLinear(),[Jt]:function(t){return t.convertSRGBToLinear().applyMatrix3(Te)}},Ee={[qt]:t=>t,[Gt]:t=>t.convertLinearToSRGB(),[Jt]:function(t){return t.applyMatrix3(Se).convertLinearToSRGB()}},Ae={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return qt},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,i){if(!1===this.enabled||e===i||!e||!i)return t;const s=we[e],n=Ee[i];if(void 0===s||void 0===n)throw new Error(`Unsupported color space conversion, "${e}" to "${i}".`);return n(s(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Ie;class Me{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Ie&&(Ie=fe("canvas")),Ie.width=t.width,Ie.height=t.height;const i=Ie.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Ie}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=fe("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),n=s.data;for(let t=0;t<n.length;t++)n[t]=255*be(n[t]/255);return i.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*be(e[t]/255)):e[t]=be(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Ce=0;class Ne{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ce++}),this.uuid=se(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let t;if(Array.isArray(s)){t=[];for(let e=0,i=s.length;e<i;e++)s[e].isDataTexture?t.push(Pe(s[e].image)):t.push(Pe(s[e]))}else t=Pe(s);i.url=t}return e||(t.images[this.uuid]=i),i}}function Pe(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Me.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Re=0;class Le extends Qt{constructor(t=Le.DEFAULT_IMAGE,e=Le.DEFAULT_MAPPING,i=1001,s=1001,n=1006,a=1008,r=1023,o=1009,l=Le.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Re++}),this.uuid=se(),this.name="",this.source=new Ne(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=n,this.minFilter=a,this.anisotropy=l,this.format=r,this.internalFormat=null,this.type=o,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new me,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof c?this.colorSpace=c:(ve("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Vt?Gt:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case gt:t.x=t.x-Math.floor(t.x);break;case _t:t.x=t.x<0?0:1;break;case ft:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case gt:t.y=t.y-Math.floor(t.y);break;case _t:t.y=t.y<0?0:1;break;case ft:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ve("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Gt?Vt:3e3}set encoding(t){ve("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Vt?Gt:""}}Le.DEFAULT_IMAGE=null,Le.DEFAULT_MAPPING=300,Le.DEFAULT_ANISOTROPY=1;class Oe{constructor(t=0,e=0,i=0,s=1){Oe.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*s+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*s+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*s+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*s+a[15]*n,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,n;const a=.01,r=.1,o=t.elements,l=o[0],c=o[4],h=o[8],u=o[1],d=o[5],p=o[9],m=o[2],g=o[6],_=o[10];if(Math.abs(c-u)<a&&Math.abs(h-m)<a&&Math.abs(p-g)<a){if(Math.abs(c+u)<r&&Math.abs(h+m)<r&&Math.abs(p+g)<r&&Math.abs(l+d+_-3)<r)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,o=(d+1)/2,f=(_+1)/2,y=(c+u)/4,v=(h+m)/4,b=(p+g)/4;return t>o&&t>f?t<a?(i=0,s=.707106781,n=.707106781):(i=Math.sqrt(t),s=y/i,n=v/i):o>f?o<a?(i=.707106781,s=0,n=.707106781):(s=Math.sqrt(o),i=y/s,n=b/s):f<a?(i=.707106781,s=.707106781,n=0):(n=Math.sqrt(f),i=v/n,s=b/n),this.set(i,s,n,e),this}let f=Math.sqrt((g-p)*(g-p)+(h-m)*(h-m)+(u-c)*(u-c));return Math.abs(f)<.001&&(f=1),this.x=(g-p)/f,this.y=(h-m)/f,this.z=(u-c)/f,this.w=Math.acos((l+d+_-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class De extends Qt{constructor(t=1,e=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Oe(0,0,t,e),this.scissorTest=!1,this.viewport=new Oe(0,0,t,e);const s={width:t,height:e,depth:1};void 0!==i.encoding&&(ve("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Vt?Gt:""),this.texture=new Le(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:xt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,e,i=1){this.width===t&&this.height===e&&this.depth===i||(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Ne(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ke extends Le{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=yt,this.minFilter=yt,this.wrapR=_t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fe extends Le{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=yt,this.minFilter=yt,this.wrapR=_t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ue{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,n,a,r){let o=i[s+0],l=i[s+1],c=i[s+2],h=i[s+3];const u=n[a+0],d=n[a+1],p=n[a+2],m=n[a+3];if(0===r)return t[e+0]=o,t[e+1]=l,t[e+2]=c,void(t[e+3]=h);if(1===r)return t[e+0]=u,t[e+1]=d,t[e+2]=p,void(t[e+3]=m);if(h!==m||o!==u||l!==d||c!==p){let t=1-r;const e=o*u+l*d+c*p+h*m,i=e>=0?1:-1,s=1-e*e;if(s>Number.EPSILON){const n=Math.sqrt(s),a=Math.atan2(n,e*i);t=Math.sin(t*a)/n,r=Math.sin(r*a)/n}const n=r*i;if(o=o*t+u*n,l=l*t+d*n,c=c*t+p*n,h=h*t+m*n,t===1-r){const t=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=t,l*=t,c*=t,h*=t}}t[e]=o,t[e+1]=l,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,i,s,n,a){const r=i[s],o=i[s+1],l=i[s+2],c=i[s+3],h=n[a],u=n[a+1],d=n[a+2],p=n[a+3];return t[e]=r*p+c*h+o*d-l*u,t[e+1]=o*p+c*u+l*h-r*d,t[e+2]=l*p+c*d+r*u-o*h,t[e+3]=c*p-r*h-o*u-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,s=t._y,n=t._z,a=t._order,r=Math.cos,o=Math.sin,l=r(i/2),c=r(s/2),h=r(n/2),u=o(i/2),d=o(s/2),p=o(n/2);switch(a){case"XYZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"YXZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"ZXY":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"ZYX":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"YZX":this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p;break;case"XZY":this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],n=e[8],a=e[1],r=e[5],o=e[9],l=e[2],c=e[6],h=e[10],u=i+r+h;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(c-o)*t,this._y=(n-l)*t,this._z=(a-s)*t}else if(i>r&&i>h){const t=2*Math.sqrt(1+i-r-h);this._w=(c-o)/t,this._x=.25*t,this._y=(s+a)/t,this._z=(n+l)/t}else if(r>h){const t=2*Math.sqrt(1+r-i-h);this._w=(n-l)/t,this._x=(s+a)/t,this._y=.25*t,this._z=(o+c)/t}else{const t=2*Math.sqrt(1+h-i-r);this._w=(a-s)/t,this._x=(n+l)/t,this._y=(o+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ne(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,n=t._z,a=t._w,r=e._x,o=e._y,l=e._z,c=e._w;return this._x=i*c+a*r+s*l-n*o,this._y=s*c+a*o+n*r-i*l,this._z=n*c+a*l+i*o-s*r,this._w=a*c-i*r-s*o-n*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,n=this._z,a=this._w;let r=a*t._w+i*t._x+s*t._y+n*t._z;if(r<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,r=-r):this.copy(t),r>=1)return this._w=a,this._x=i,this._y=s,this._z=n,this;const o=1-r*r;if(o<=Number.EPSILON){const t=1-e;return this._w=t*a+e*this._w,this._x=t*i+e*this._x,this._y=t*s+e*this._y,this._z=t*n+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),c=Math.atan2(l,r),h=Math.sin((1-e)*c)/l,u=Math.sin(e*c)/l;return this._w=a*h+this._w*u,this._x=i*h+this._x*u,this._y=s*h+this._y*u,this._z=n*h+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),s=2*Math.PI*Math.random(),n=2*Math.PI*Math.random();return this.set(e*Math.cos(s),i*Math.sin(n),i*Math.cos(n),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ze{constructor(t=0,e=0,i=0){ze.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Be.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Be.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*s,this.y=n[1]*e+n[4]*i+n[7]*s,this.z=n[2]*e+n[5]*i+n[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*s+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*s+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*s+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*s+n[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,n=t.x,a=t.y,r=t.z,o=t.w,l=o*e+a*s-r*i,c=o*i+r*e-n*s,h=o*s+n*i-a*e,u=-n*e-a*i-r*s;return this.x=l*o+u*-n+c*-r-h*-a,this.y=c*o+u*-a+h*-n-l*-r,this.z=h*o+u*-r+l*-a-c*-n,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*s,this.y=n[1]*e+n[5]*i+n[9]*s,this.z=n[2]*e+n[6]*i+n[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,n=t.z,a=e.x,r=e.y,o=e.z;return this.x=s*o-n*r,this.y=n*a-i*o,this.z=i*r-s*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return je.copy(this).projectOnVector(t),this.sub(je)}reflect(t){return this.sub(je.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(ne(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const je=new ze,Be=new Ue;class He{constructor(t=new ze(1/0,1/0,1/0),e=new ze(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Ge.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Ge.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ge.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),qe.copy(t.boundingBox),qe.applyMatrix4(t.matrixWorld),this.union(qe);else{const i=t.geometry;if(void 0!==i)if(e&&void 0!==i.attributes&&void 0!==i.attributes.position){const e=i.attributes.position;for(let i=0,s=e.count;i<s;i++)Ge.fromBufferAttribute(e,i).applyMatrix4(t.matrixWorld),this.expandByPoint(Ge)}else null===i.boundingBox&&i.computeBoundingBox(),qe.copy(i.boundingBox),qe.applyMatrix4(t.matrixWorld),this.union(qe)}const i=t.children;for(let t=0,s=i.length;t<s;t++)this.expandByObject(i[t],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ge),Ge.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Ze),Qe.subVectors(this.max,Ze),Je.subVectors(t.a,Ze),We.subVectors(t.b,Ze),Ye.subVectors(t.c,Ze),$e.subVectors(We,Je),Xe.subVectors(Ye,We),Ke.subVectors(Je,Ye);let e=[0,-$e.z,$e.y,0,-Xe.z,Xe.y,0,-Ke.z,Ke.y,$e.z,0,-$e.x,Xe.z,0,-Xe.x,Ke.z,0,-Ke.x,-$e.y,$e.x,0,-Xe.y,Xe.x,0,-Ke.y,Ke.x,0];return!!ii(e,Je,We,Ye,Qe)&&(e=[1,0,0,0,1,0,0,0,1],!!ii(e,Je,We,Ye,Qe)&&(ti.crossVectors($e,Xe),e=[ti.x,ti.y,ti.z],ii(e,Je,We,Ye,Qe)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ge).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Ge).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Ve[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ve[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ve[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ve[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ve[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ve[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ve[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ve[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ve)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Ve=[new ze,new ze,new ze,new ze,new ze,new ze,new ze,new ze],Ge=new ze,qe=new He,Je=new ze,We=new ze,Ye=new ze,$e=new ze,Xe=new ze,Ke=new ze,Ze=new ze,Qe=new ze,ti=new ze,ei=new ze;function ii(t,e,i,s,n){for(let a=0,r=t.length-3;a<=r;a+=3){ei.fromArray(t,a);const r=n.x*Math.abs(ei.x)+n.y*Math.abs(ei.y)+n.z*Math.abs(ei.z),o=e.dot(ei),l=i.dot(ei),c=s.dot(ei);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>r)return!1}return!0}const si=new He,ni=new ze,ai=new ze;class ri{constructor(t=new ze,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):si.setFromPoints(t).getCenter(i);let s=0;for(let e=0,n=t.length;e<n;e++)s=Math.max(s,i.distanceToSquared(t[e]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ni.subVectors(t,this.center);const e=ni.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),i=.5*(t-this.radius);this.center.addScaledVector(ni,i/t),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(ai.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ni.copy(t.center).add(ai)),this.expandByPoint(ni.copy(t.center).sub(ai))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const oi=new ze,li=new ze,ci=new ze,hi=new ze,ui=new ze,di=new ze,pi=new ze;class mi{constructor(t=new ze,e=new ze(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,oi)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=oi.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(oi.copy(this.origin).addScaledVector(this.direction,e),oi.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){li.copy(t).add(e).multiplyScalar(.5),ci.copy(e).sub(t).normalize(),hi.copy(this.origin).sub(li);const n=.5*t.distanceTo(e),a=-this.direction.dot(ci),r=hi.dot(this.direction),o=-hi.dot(ci),l=hi.lengthSq(),c=Math.abs(1-a*a);let h,u,d,p;if(c>0)if(h=a*o-r,u=a*r-o,p=n*c,h>=0)if(u>=-p)if(u<=p){const t=1/c;h*=t,u*=t,d=h*(h+a*u+2*r)+u*(a*h+u+2*o)+l}else u=n,h=Math.max(0,-(a*u+r)),d=-h*h+u*(u+2*o)+l;else u=-n,h=Math.max(0,-(a*u+r)),d=-h*h+u*(u+2*o)+l;else u<=-p?(h=Math.max(0,-(-a*n+r)),u=h>0?-n:Math.min(Math.max(-n,-o),n),d=-h*h+u*(u+2*o)+l):u<=p?(h=0,u=Math.min(Math.max(-n,-o),n),d=u*(u+2*o)+l):(h=Math.max(0,-(a*n+r)),u=h>0?n:Math.min(Math.max(-n,-o),n),d=-h*h+u*(u+2*o)+l);else u=a>0?-n:n,h=Math.max(0,-(a*u+r)),d=-h*h+u*(u+2*o)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(li).addScaledVector(ci,u),d}intersectSphere(t,e){oi.subVectors(t.center,this.origin);const i=oi.dot(this.direction),s=oi.dot(oi)-i*i,n=t.radius*t.radius;if(s>n)return null;const a=Math.sqrt(n-s),r=i-a,o=i+a;return o<0?null:r<0?this.at(o,e):this.at(r,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,n,a,r,o;const l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(i=(t.min.x-u.x)*l,s=(t.max.x-u.x)*l):(i=(t.max.x-u.x)*l,s=(t.min.x-u.x)*l),c>=0?(n=(t.min.y-u.y)*c,a=(t.max.y-u.y)*c):(n=(t.max.y-u.y)*c,a=(t.min.y-u.y)*c),i>a||n>s?null:((n>i||isNaN(i))&&(i=n),(a<s||isNaN(s))&&(s=a),h>=0?(r=(t.min.z-u.z)*h,o=(t.max.z-u.z)*h):(r=(t.max.z-u.z)*h,o=(t.min.z-u.z)*h),i>o||r>s?null:((r>i||i!=i)&&(i=r),(o<s||s!=s)&&(s=o),s<0?null:this.at(i>=0?i:s,e)))}intersectsBox(t){return null!==this.intersectBox(t,oi)}intersectTriangle(t,e,i,s,n){ui.subVectors(e,t),di.subVectors(i,t),pi.crossVectors(ui,di);let a,r=this.direction.dot(pi);if(r>0){if(s)return null;a=1}else{if(!(r<0))return null;a=-1,r=-r}hi.subVectors(this.origin,t);const o=a*this.direction.dot(di.crossVectors(hi,di));if(o<0)return null;const l=a*this.direction.dot(ui.cross(hi));if(l<0)return null;if(o+l>r)return null;const c=-a*hi.dot(pi);return c<0?null:this.at(c/r,n)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class gi{constructor(t,e,i,s,n,a,r,o,l,c,h,u,d,p,m,g){gi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,s,n,a,r,o,l,c,h,u,d,p,m,g)}set(t,e,i,s,n,a,r,o,l,c,h,u,d,p,m,g){const _=this.elements;return _[0]=t,_[4]=e,_[8]=i,_[12]=s,_[1]=n,_[5]=a,_[9]=r,_[13]=o,_[2]=l,_[6]=c,_[10]=h,_[14]=u,_[3]=d,_[7]=p,_[11]=m,_[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new gi).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/_i.setFromMatrixColumn(t,0).length(),n=1/_i.setFromMatrixColumn(t,1).length(),a=1/_i.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*n,e[5]=i[5]*n,e[6]=i[6]*n,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,n=t.z,a=Math.cos(i),r=Math.sin(i),o=Math.cos(s),l=Math.sin(s),c=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){const t=a*c,i=a*h,s=r*c,n=r*h;e[0]=o*c,e[4]=-o*h,e[8]=l,e[1]=i+s*l,e[5]=t-n*l,e[9]=-r*o,e[2]=n-t*l,e[6]=s+i*l,e[10]=a*o}else if("YXZ"===t.order){const t=o*c,i=o*h,s=l*c,n=l*h;e[0]=t+n*r,e[4]=s*r-i,e[8]=a*l,e[1]=a*h,e[5]=a*c,e[9]=-r,e[2]=i*r-s,e[6]=n+t*r,e[10]=a*o}else if("ZXY"===t.order){const t=o*c,i=o*h,s=l*c,n=l*h;e[0]=t-n*r,e[4]=-a*h,e[8]=s+i*r,e[1]=i+s*r,e[5]=a*c,e[9]=n-t*r,e[2]=-a*l,e[6]=r,e[10]=a*o}else if("ZYX"===t.order){const t=a*c,i=a*h,s=r*c,n=r*h;e[0]=o*c,e[4]=s*l-i,e[8]=t*l+n,e[1]=o*h,e[5]=n*l+t,e[9]=i*l-s,e[2]=-l,e[6]=r*o,e[10]=a*o}else if("YZX"===t.order){const t=a*o,i=a*l,s=r*o,n=r*l;e[0]=o*c,e[4]=n-t*h,e[8]=s*h+i,e[1]=h,e[5]=a*c,e[9]=-r*c,e[2]=-l*c,e[6]=i*h+s,e[10]=t-n*h}else if("XZY"===t.order){const t=a*o,i=a*l,s=r*o,n=r*l;e[0]=o*c,e[4]=-h,e[8]=l*c,e[1]=t*h+n,e[5]=a*c,e[9]=i*h-s,e[2]=s*h-i,e[6]=r*c,e[10]=n*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(yi,t,vi)}lookAt(t,e,i){const s=this.elements;return Si.subVectors(t,e),0===Si.lengthSq()&&(Si.z=1),Si.normalize(),bi.crossVectors(i,Si),0===bi.lengthSq()&&(1===Math.abs(i.z)?Si.x+=1e-4:Si.z+=1e-4,Si.normalize(),bi.crossVectors(i,Si)),bi.normalize(),xi.crossVectors(Si,bi),s[0]=bi.x,s[4]=xi.x,s[8]=Si.x,s[1]=bi.y,s[5]=xi.y,s[9]=Si.y,s[2]=bi.z,s[6]=xi.z,s[10]=Si.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,n=this.elements,a=i[0],r=i[4],o=i[8],l=i[12],c=i[1],h=i[5],u=i[9],d=i[13],p=i[2],m=i[6],g=i[10],_=i[14],f=i[3],y=i[7],v=i[11],b=i[15],x=s[0],S=s[4],T=s[8],w=s[12],E=s[1],A=s[5],I=s[9],M=s[13],C=s[2],N=s[6],P=s[10],R=s[14],L=s[3],O=s[7],D=s[11],k=s[15];return n[0]=a*x+r*E+o*C+l*L,n[4]=a*S+r*A+o*N+l*O,n[8]=a*T+r*I+o*P+l*D,n[12]=a*w+r*M+o*R+l*k,n[1]=c*x+h*E+u*C+d*L,n[5]=c*S+h*A+u*N+d*O,n[9]=c*T+h*I+u*P+d*D,n[13]=c*w+h*M+u*R+d*k,n[2]=p*x+m*E+g*C+_*L,n[6]=p*S+m*A+g*N+_*O,n[10]=p*T+m*I+g*P+_*D,n[14]=p*w+m*M+g*R+_*k,n[3]=f*x+y*E+v*C+b*L,n[7]=f*S+y*A+v*N+b*O,n[11]=f*T+y*I+v*P+b*D,n[15]=f*w+y*M+v*R+b*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],n=t[12],a=t[1],r=t[5],o=t[9],l=t[13],c=t[2],h=t[6],u=t[10],d=t[14];return t[3]*(+n*o*h-s*l*h-n*r*u+i*l*u+s*r*d-i*o*d)+t[7]*(+e*o*d-e*l*u+n*a*u-s*a*d+s*l*c-n*o*c)+t[11]*(+e*l*h-e*r*d-n*a*h+i*a*d+n*r*c-i*l*c)+t[15]*(-s*r*c-e*o*h+e*r*u+s*a*h-i*a*u+i*o*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],r=t[5],o=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],m=t[13],g=t[14],_=t[15],f=h*g*l-m*u*l+m*o*d-r*g*d-h*o*_+r*u*_,y=p*u*l-c*g*l-p*o*d+a*g*d+c*o*_-a*u*_,v=c*m*l-p*h*l+p*r*d-a*m*d-c*r*_+a*h*_,b=p*h*o-c*m*o-p*r*u+a*m*u+c*r*g-a*h*g,x=e*f+i*y+s*v+n*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/x;return t[0]=f*S,t[1]=(m*u*n-h*g*n-m*s*d+i*g*d+h*s*_-i*u*_)*S,t[2]=(r*g*n-m*o*n+m*s*l-i*g*l-r*s*_+i*o*_)*S,t[3]=(h*o*n-r*u*n-h*s*l+i*u*l+r*s*d-i*o*d)*S,t[4]=y*S,t[5]=(c*g*n-p*u*n+p*s*d-e*g*d-c*s*_+e*u*_)*S,t[6]=(p*o*n-a*g*n-p*s*l+e*g*l+a*s*_-e*o*_)*S,t[7]=(a*u*n-c*o*n+c*s*l-e*u*l-a*s*d+e*o*d)*S,t[8]=v*S,t[9]=(p*h*n-c*m*n-p*i*d+e*m*d+c*i*_-e*h*_)*S,t[10]=(a*m*n-p*r*n+p*i*l-e*m*l-a*i*_+e*r*_)*S,t[11]=(c*r*n-a*h*n-c*i*l+e*h*l+a*i*d-e*r*d)*S,t[12]=b*S,t[13]=(c*m*s-p*h*s+p*i*u-e*m*u-c*i*g+e*h*g)*S,t[14]=(p*r*s-a*m*s-p*i*o+e*m*o+a*i*g-e*r*g)*S,t[15]=(a*h*s-c*r*s+c*i*o-e*h*o-a*i*u+e*r*u)*S,this}scale(t){const e=this.elements,i=t.x,s=t.y,n=t.z;return e[0]*=i,e[4]*=s,e[8]*=n,e[1]*=i,e[5]*=s,e[9]*=n,e[2]*=i,e[6]*=s,e[10]*=n,e[3]*=i,e[7]*=s,e[11]*=n,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),n=1-i,a=t.x,r=t.y,o=t.z,l=n*a,c=n*r;return this.set(l*a+i,l*r-s*o,l*o+s*r,0,l*r+s*o,c*r+i,c*o-s*a,0,l*o-s*r,c*o+s*a,n*o*o+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,n,a){return this.set(1,i,n,0,t,1,a,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,n=e._x,a=e._y,r=e._z,o=e._w,l=n+n,c=a+a,h=r+r,u=n*l,d=n*c,p=n*h,m=a*c,g=a*h,_=r*h,f=o*l,y=o*c,v=o*h,b=i.x,x=i.y,S=i.z;return s[0]=(1-(m+_))*b,s[1]=(d+v)*b,s[2]=(p-y)*b,s[3]=0,s[4]=(d-v)*x,s[5]=(1-(u+_))*x,s[6]=(g+f)*x,s[7]=0,s[8]=(p+y)*S,s[9]=(g-f)*S,s[10]=(1-(u+m))*S,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let n=_i.set(s[0],s[1],s[2]).length();const a=_i.set(s[4],s[5],s[6]).length(),r=_i.set(s[8],s[9],s[10]).length();this.determinant()<0&&(n=-n),t.x=s[12],t.y=s[13],t.z=s[14],fi.copy(this);const o=1/n,l=1/a,c=1/r;return fi.elements[0]*=o,fi.elements[1]*=o,fi.elements[2]*=o,fi.elements[4]*=l,fi.elements[5]*=l,fi.elements[6]*=l,fi.elements[8]*=c,fi.elements[9]*=c,fi.elements[10]*=c,e.setFromRotationMatrix(fi),i.x=n,i.y=a,i.z=r,this}makePerspective(t,e,i,s,n,a,r=2e3){const o=this.elements,l=2*n/(e-t),c=2*n/(i-s),h=(e+t)/(e-t),u=(i+s)/(i-s);let d,p;if(r===Kt)d=-(a+n)/(a-n),p=-2*a*n/(a-n);else{if(r!==Zt)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+r);d=-a/(a-n),p=-a*n/(a-n)}return o[0]=l,o[4]=0,o[8]=h,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,i,s,n,a,r=2e3){const o=this.elements,l=1/(e-t),c=1/(i-s),h=1/(a-n),u=(e+t)*l,d=(i+s)*c;let p,m;if(r===Kt)p=(a+n)*h,m=-2*h;else{if(r!==Zt)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+r);p=n*h,m=-1*h}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=m,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<16;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const _i=new ze,fi=new gi,yi=new ze(0,0,0),vi=new ze(1,1,1),bi=new ze,xi=new ze,Si=new ze,Ti=new gi,wi=new Ue;class Ei{constructor(t=0,e=0,i=0,s=Ei.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,n=s[0],a=s[4],r=s[8],o=s[1],l=s[5],c=s[9],h=s[2],u=s[6],d=s[10];switch(e){case"XYZ":this._y=Math.asin(ne(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,n)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-ne(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(r,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-h,n),this._z=0);break;case"ZXY":this._x=Math.asin(ne(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,n));break;case"ZYX":this._y=Math.asin(-ne(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(o,n)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(ne(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,n)):(this._x=0,this._y=Math.atan2(r,d));break;case"XZY":this._z=Math.asin(-ne(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(r,n)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Ti.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ti,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return wi.setFromEuler(this),this.setFromQuaternion(wi,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ei.DEFAULT_ORDER="XYZ";class Ai{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let Ii=0;const Mi=new ze,Ci=new Ue,Ni=new gi,Pi=new ze,Ri=new ze,Li=new ze,Oi=new Ue,Di=new ze(1,0,0),ki=new ze(0,1,0),Fi=new ze(0,0,1),Ui={type:"added"},zi={type:"removed"};class ji extends Qt{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ii++}),this.uuid=se(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ji.DEFAULT_UP.clone();const t=new ze,e=new Ei,i=new Ue,s=new ze(1,1,1);e._onChange((function(){i.setFromEuler(e,!1)})),i._onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new gi},normalMatrix:{value:new me}}),this.matrix=new gi,this.matrixWorld=new gi,this.matrixAutoUpdate=ji.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ai,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Ci.setFromAxisAngle(t,e),this.quaternion.multiply(Ci),this}rotateOnWorldAxis(t,e){return Ci.setFromAxisAngle(t,e),this.quaternion.premultiply(Ci),this}rotateX(t){return this.rotateOnAxis(Di,t)}rotateY(t){return this.rotateOnAxis(ki,t)}rotateZ(t){return this.rotateOnAxis(Fi,t)}translateOnAxis(t,e){return Mi.copy(t).applyQuaternion(this.quaternion),this.position.add(Mi.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Di,t)}translateY(t){return this.translateOnAxis(ki,t)}translateZ(t){return this.translateOnAxis(Fi,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ni.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Pi.copy(t):Pi.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Ri.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ni.lookAt(Ri,Pi,this.up):Ni.lookAt(Pi,Ri,this.up),this.quaternion.setFromRotationMatrix(Ni),s&&(Ni.extractRotation(s.matrixWorld),Ci.setFromRotationMatrix(Ni),this.quaternion.premultiply(Ci.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Ui)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(zi)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(zi)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Ni.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ni.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ni),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const s=this.children[i].getObjectByProperty(t,e);if(void 0!==s)return s}}getObjectsByProperty(t,e){let i=[];this[t]===e&&i.push(this);for(let s=0,n=this.children.length;s<n;s++){const n=this.children[s].getObjectsByProperty(t,e);n.length>0&&(i=i.concat(n))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ri,t,Li),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ri,Oi,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++){const s=e[i];!0!==s.matrixWorldAutoUpdate&&!0!==t||s.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++){const i=t[e];!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=n(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,s=i.length;e<s;e++){const s=i[e];n(t.shapes,s)}else n(t.shapes,i)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(n(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,s=this.material.length;i<s;i++)e.push(n(t.materials,this.material[i]));s.material=e}else s.material=n(t.materials,this.material);if(this.children.length>0){s.children=[];for(let e=0;e<this.children.length;e++)s.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let e=0;e<this.animations.length;e++){const i=this.animations[e];s.animations.push(n(t.animations,i))}}if(e){const e=a(t.geometries),s=a(t.materials),n=a(t.textures),r=a(t.images),o=a(t.shapes),l=a(t.skeletons),c=a(t.animations),h=a(t.nodes);e.length>0&&(i.geometries=e),s.length>0&&(i.materials=s),n.length>0&&(i.textures=n),r.length>0&&(i.images=r),o.length>0&&(i.shapes=o),l.length>0&&(i.skeletons=l),c.length>0&&(i.animations=c),h.length>0&&(i.nodes=h)}return i.object=s,i;function a(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const i=t.children[e];this.add(i.clone())}return this}}ji.DEFAULT_UP=new ze(0,1,0),ji.DEFAULT_MATRIX_AUTO_UPDATE=!0,ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Bi=new ze,Hi=new ze,Vi=new ze,Gi=new ze,qi=new ze,Ji=new ze,Wi=new ze,Yi=new ze,$i=new ze,Xi=new ze;let Ki=!1;class Zi{constructor(t=new ze,e=new ze,i=new ze){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),Bi.subVectors(t,e),s.cross(Bi);const n=s.lengthSq();return n>0?s.multiplyScalar(1/Math.sqrt(n)):s.set(0,0,0)}static getBarycoord(t,e,i,s,n){Bi.subVectors(s,e),Hi.subVectors(i,e),Vi.subVectors(t,e);const a=Bi.dot(Bi),r=Bi.dot(Hi),o=Bi.dot(Vi),l=Hi.dot(Hi),c=Hi.dot(Vi),h=a*l-r*r;if(0===h)return n.set(-2,-1,-1);const u=1/h,d=(l*o-r*c)*u,p=(a*c-r*o)*u;return n.set(1-d-p,p,d)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,Gi),Gi.x>=0&&Gi.y>=0&&Gi.x+Gi.y<=1}static getUV(t,e,i,s,n,a,r,o){return!1===Ki&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ki=!0),this.getInterpolation(t,e,i,s,n,a,r,o)}static getInterpolation(t,e,i,s,n,a,r,o){return this.getBarycoord(t,e,i,s,Gi),o.setScalar(0),o.addScaledVector(n,Gi.x),o.addScaledVector(a,Gi.y),o.addScaledVector(r,Gi.z),o}static isFrontFacing(t,e,i,s){return Bi.subVectors(i,e),Hi.subVectors(t,e),Bi.cross(Hi).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Bi.subVectors(this.c,this.b),Hi.subVectors(this.a,this.b),.5*Bi.cross(Hi).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,s,n){return!1===Ki&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ki=!0),Zi.getInterpolation(t,this.a,this.b,this.c,e,i,s,n)}getInterpolation(t,e,i,s,n){return Zi.getInterpolation(t,this.a,this.b,this.c,e,i,s,n)}containsPoint(t){return Zi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,n=this.c;let a,r;qi.subVectors(s,i),Ji.subVectors(n,i),Yi.subVectors(t,i);const o=qi.dot(Yi),l=Ji.dot(Yi);if(o<=0&&l<=0)return e.copy(i);$i.subVectors(t,s);const c=qi.dot($i),h=Ji.dot($i);if(c>=0&&h<=c)return e.copy(s);const u=o*h-c*l;if(u<=0&&o>=0&&c<=0)return a=o/(o-c),e.copy(i).addScaledVector(qi,a);Xi.subVectors(t,n);const d=qi.dot(Xi),p=Ji.dot(Xi);if(p>=0&&d<=p)return e.copy(n);const m=d*l-o*p;if(m<=0&&l>=0&&p<=0)return r=l/(l-p),e.copy(i).addScaledVector(Ji,r);const g=c*p-d*h;if(g<=0&&h-c>=0&&d-p>=0)return Wi.subVectors(n,s),r=(h-c)/(h-c+(d-p)),e.copy(s).addScaledVector(Wi,r);const _=1/(g+m+u);return a=m*_,r=u*_,e.copy(i).addScaledVector(qi,a).addScaledVector(Ji,r)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Qi=0;class ts extends Qt{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Qi++}),this.uuid=se(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=it,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wt,this.stencilZFail=Wt,this.stencilZPass=Wt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function s(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const e=s(t.textures),n=s(t.images);e.length>0&&(i.textures=e),n.length>0&&(i.images=n)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const t=e.length;i=new Array(t);for(let s=0;s!==t;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}const es={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},is={h:0,s:0,l:0},ss={h:0,s:0,l:0};function ns(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}class as{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Gt){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ae.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=Ae.workingColorSpace){return this.r=t,this.g=e,this.b=i,Ae.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=Ae.workingColorSpace){if(t=ae(t,1),e=ne(e,0,1),i=ne(i,0,1),0===e)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,n=2*i-s;this.r=ns(n,s,t+1/3),this.g=ns(n,s,t),this.b=ns(n,s,t-1/3)}return Ae.toWorkingColorSpace(this,s),this}setStyle(t,e=Gt){function i(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let n;const a=s[1],r=s[2];switch(a){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return i(n[4]),this.setRGB(Math.min(255,parseInt(n[1],10))/255,Math.min(255,parseInt(n[2],10))/255,Math.min(255,parseInt(n[3],10))/255,e);if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return i(n[4]),this.setRGB(Math.min(100,parseInt(n[1],10))/100,Math.min(100,parseInt(n[2],10))/100,Math.min(100,parseInt(n[3],10))/100,e);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return i(n[4]),this.setHSL(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const i=s[1],n=i.length;if(3===n)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,e);if(6===n)return this.setHex(parseInt(i,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Gt){const i=es[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=be(t.r),this.g=be(t.g),this.b=be(t.b),this}copyLinearToSRGB(t){return this.r=xe(t.r),this.g=xe(t.g),this.b=xe(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Gt){return Ae.fromWorkingColorSpace(rs.copy(this),t),65536*Math.round(ne(255*rs.r,0,255))+256*Math.round(ne(255*rs.g,0,255))+Math.round(ne(255*rs.b,0,255))}getHexString(t=Gt){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ae.workingColorSpace){Ae.fromWorkingColorSpace(rs.copy(this),e);const i=rs.r,s=rs.g,n=rs.b,a=Math.max(i,s,n),r=Math.min(i,s,n);let o,l;const c=(r+a)/2;if(r===a)o=0,l=0;else{const t=a-r;switch(l=c<=.5?t/(a+r):t/(2-a-r),a){case i:o=(s-n)/t+(s<n?6:0);break;case s:o=(n-i)/t+2;break;case n:o=(i-s)/t+4}o/=6}return t.h=o,t.s=l,t.l=c,t}getRGB(t,e=Ae.workingColorSpace){return Ae.fromWorkingColorSpace(rs.copy(this),e),t.r=rs.r,t.g=rs.g,t.b=rs.b,t}getStyle(t=Gt){Ae.fromWorkingColorSpace(rs.copy(this),t);const e=rs.r,i=rs.g,s=rs.b;return t!==Gt?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(t,e,i){return this.getHSL(is),is.h+=t,is.s+=e,is.l+=i,this.setHSL(is.h,is.s,is.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(is),t.getHSL(ss);const i=re(is.h,ss.h,e),s=re(is.s,ss.s,e),n=re(is.l,ss.l,e);return this.setHSL(i,s,n),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,n=t.elements;return this.r=n[0]*e+n[3]*i+n[6]*s,this.g=n[1]*e+n[4]*i+n[7]*s,this.b=n[2]*e+n[5]*i+n[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rs=new as;as.NAMES=es;class os extends ts{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new as(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=st,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const ls=new ze,cs=new pe;class hs{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=Yt,this.updateRange={offset:0,count:-1},this.gpuType=At,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,n=this.itemSize;s<n;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)cs.fromBufferAttribute(this,e),cs.applyMatrix3(t),this.setXY(e,cs.x,cs.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)ls.fromBufferAttribute(this,e),ls.applyMatrix3(t),this.setXYZ(e,ls.x,ls.y,ls.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ls.fromBufferAttribute(this,e),ls.applyMatrix4(t),this.setXYZ(e,ls.x,ls.y,ls.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ls.fromBufferAttribute(this,e),ls.applyNormalMatrix(t),this.setXYZ(e,ls.x,ls.y,ls.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ls.fromBufferAttribute(this,e),ls.transformDirection(t),this.setXYZ(e,ls.x,ls.y,ls.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=he(e,this.array)),e}setX(t,e){return this.normalized&&(e=ue(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=he(e,this.array)),e}setY(t,e){return this.normalized&&(e=ue(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=he(e,this.array)),e}setZ(t,e){return this.normalized&&(e=ue(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=he(e,this.array)),e}setW(t,e){return this.normalized&&(e=ue(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array),s=ue(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,n){return t*=this.itemSize,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array),s=ue(s,this.array),n=ue(n,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=n,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Yt&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}class us extends hs{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class ds extends hs{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class ps extends hs{constructor(t,e,i){super(new Float32Array(t),e,i)}}let ms=0;const gs=new gi,_s=new ji,fs=new ze,ys=new He,vs=new He,bs=new ze;class xs extends Qt{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ms++}),this.uuid=se(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(_e(t)?ds:us)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const e=(new me).getNormalMatrix(t);i.applyNormalMatrix(e),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return gs.makeRotationFromQuaternion(t),this.applyMatrix4(gs),this}rotateX(t){return gs.makeRotationX(t),this.applyMatrix4(gs),this}rotateY(t){return gs.makeRotationY(t),this.applyMatrix4(gs),this}rotateZ(t){return gs.makeRotationZ(t),this.applyMatrix4(gs),this}translate(t,e,i){return gs.makeTranslation(t,e,i),this.applyMatrix4(gs),this}scale(t,e,i){return gs.makeScale(t,e,i),this.applyMatrix4(gs),this}lookAt(t){return _s.lookAt(t),_s.updateMatrix(),this.applyMatrix4(_s.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fs).negate(),this.translate(fs.x,fs.y,fs.z),this}setFromPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ps(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new He);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ze(-1/0,-1/0,-1/0),new ze(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];ys.setFromBufferAttribute(i),this.morphTargetsRelative?(bs.addVectors(this.boundingBox.min,ys.min),this.boundingBox.expandByPoint(bs),bs.addVectors(this.boundingBox.max,ys.max),this.boundingBox.expandByPoint(bs)):(this.boundingBox.expandByPoint(ys.min),this.boundingBox.expandByPoint(ys.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ri);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ze,1/0);if(t){const i=this.boundingSphere.center;if(ys.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];vs.setFromBufferAttribute(i),this.morphTargetsRelative?(bs.addVectors(ys.min,vs.min),ys.expandByPoint(bs),bs.addVectors(ys.max,vs.max),ys.expandByPoint(bs)):(ys.expandByPoint(vs.min),ys.expandByPoint(vs.max))}ys.getCenter(i);let s=0;for(let e=0,n=t.count;e<n;e++)bs.fromBufferAttribute(t,e),s=Math.max(s,i.distanceToSquared(bs));if(e)for(let n=0,a=e.length;n<a;n++){const a=e[n],r=this.morphTargetsRelative;for(let e=0,n=a.count;e<n;e++)bs.fromBufferAttribute(a,e),r&&(fs.fromBufferAttribute(t,e),bs.add(fs)),s=Math.max(s,i.distanceToSquared(bs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,s=e.position.array,n=e.normal.array,a=e.uv.array,r=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new hs(new Float32Array(4*r),4));const o=this.getAttribute("tangent").array,l=[],c=[];for(let t=0;t<r;t++)l[t]=new ze,c[t]=new ze;const h=new ze,u=new ze,d=new ze,p=new pe,m=new pe,g=new pe,_=new ze,f=new ze;function y(t,e,i){h.fromArray(s,3*t),u.fromArray(s,3*e),d.fromArray(s,3*i),p.fromArray(a,2*t),m.fromArray(a,2*e),g.fromArray(a,2*i),u.sub(h),d.sub(h),m.sub(p),g.sub(p);const n=1/(m.x*g.y-g.x*m.y);isFinite(n)&&(_.copy(u).multiplyScalar(g.y).addScaledVector(d,-m.y).multiplyScalar(n),f.copy(d).multiplyScalar(m.x).addScaledVector(u,-g.x).multiplyScalar(n),l[t].add(_),l[e].add(_),l[i].add(_),c[t].add(f),c[e].add(f),c[i].add(f))}let v=this.groups;0===v.length&&(v=[{start:0,count:i.length}]);for(let t=0,e=v.length;t<e;++t){const e=v[t],s=e.start;for(let t=s,n=s+e.count;t<n;t+=3)y(i[t+0],i[t+1],i[t+2])}const b=new ze,x=new ze,S=new ze,T=new ze;function w(t){S.fromArray(n,3*t),T.copy(S);const e=l[t];b.copy(e),b.sub(S.multiplyScalar(S.dot(e))).normalize(),x.crossVectors(T,e);const i=x.dot(c[t])<0?-1:1;o[4*t]=b.x,o[4*t+1]=b.y,o[4*t+2]=b.z,o[4*t+3]=i}for(let t=0,e=v.length;t<e;++t){const e=v[t],s=e.start;for(let t=s,n=s+e.count;t<n;t+=3)w(i[t+0]),w(i[t+1]),w(i[t+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new hs(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let t=0,e=i.count;t<e;t++)i.setXYZ(t,0,0,0);const s=new ze,n=new ze,a=new ze,r=new ze,o=new ze,l=new ze,c=new ze,h=new ze;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),p=t.getX(u+1),m=t.getX(u+2);s.fromBufferAttribute(e,d),n.fromBufferAttribute(e,p),a.fromBufferAttribute(e,m),c.subVectors(a,n),h.subVectors(s,n),c.cross(h),r.fromBufferAttribute(i,d),o.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),r.add(c),o.add(c),l.add(c),i.setXYZ(d,r.x,r.y,r.z),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let t=0,r=e.count;t<r;t+=3)s.fromBufferAttribute(e,t+0),n.fromBufferAttribute(e,t+1),a.fromBufferAttribute(e,t+2),c.subVectors(a,n),h.subVectors(s,n),c.cross(h),i.setXYZ(t+0,c.x,c.y,c.z),i.setXYZ(t+1,c.x,c.y,c.z),i.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)bs.fromBufferAttribute(t,e),bs.normalize(),t.setXYZ(e,bs.x,bs.y,bs.z)}toNonIndexed(){function t(t,e){const i=t.array,s=t.itemSize,n=t.normalized,a=new i.constructor(e.length*s);let r=0,o=0;for(let n=0,l=e.length;n<l;n++){r=t.isInterleavedBufferAttribute?e[n]*t.data.stride+t.offset:e[n]*s;for(let t=0;t<s;t++)a[o++]=i[r++]}return new hs(a,s,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new xs,i=this.index.array,s=this.attributes;for(const n in s){const a=t(s[n],i);e.setAttribute(n,a)}const n=this.morphAttributes;for(const s in n){const a=[],r=n[s];for(let e=0,s=r.length;e<s;e++){const s=t(r[e],i);a.push(s)}e.morphAttributes[s]=a}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let t=0,i=a.length;t<i;t++){const i=a[t];e.addGroup(i.start,i.count,i.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const e in i){const s=i[e];t.data.attributes[e]=s.toJSON(t.data)}const s={};let n=!1;for(const e in this.morphAttributes){const i=this.morphAttributes[e],a=[];for(let e=0,s=i.length;e<s;e++){const s=i[e];a.push(s.toJSON(t.data))}a.length>0&&(s[e]=a,n=!0)}n&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const r=this.boundingSphere;return null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const s=t.attributes;for(const t in s){const i=s[t];this.setAttribute(t,i.clone(e))}const n=t.morphAttributes;for(const t in n){const i=[],s=n[t];for(let t=0,n=s.length;t<n;t++)i.push(s[t].clone(e));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let t=0,e=a.length;t<e;t++){const e=a[t];this.addGroup(e.start,e.count,e.materialIndex)}const r=t.boundingBox;null!==r&&(this.boundingBox=r.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ss=new gi,Ts=new mi,ws=new ri,Es=new ze,As=new ze,Is=new ze,Ms=new ze,Cs=new ze,Ns=new ze,Ps=new pe,Rs=new pe,Ls=new pe,Os=new ze,Ds=new ze,ks=new ze,Fs=new ze,Us=new ze;class zs extends ji{constructor(t=new xs,e=new os){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,n=i.morphAttributes.position,a=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const r=this.morphTargetInfluences;if(n&&r){Ns.set(0,0,0);for(let i=0,s=n.length;i<s;i++){const s=r[i],o=n[i];0!==s&&(Cs.fromBufferAttribute(o,t),a?Ns.addScaledVector(Cs,s):Ns.addScaledVector(Cs.sub(e),s))}e.add(Ns)}return e}raycast(t,e){const i=this.geometry,s=this.material,n=this.matrixWorld;if(void 0!==s){if(null===i.boundingSphere&&i.computeBoundingSphere(),ws.copy(i.boundingSphere),ws.applyMatrix4(n),Ts.copy(t.ray).recast(t.near),!1===ws.containsPoint(Ts.origin)){if(null===Ts.intersectSphere(ws,Es))return;if(Ts.origin.distanceToSquared(Es)>(t.far-t.near)**2)return}Ss.copy(n).invert(),Ts.copy(t.ray).applyMatrix4(Ss),null!==i.boundingBox&&!1===Ts.intersectsBox(i.boundingBox)||this._computeIntersections(t,e,Ts)}}_computeIntersections(t,e,i){let s;const n=this.geometry,a=this.material,r=n.index,o=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv1,h=n.attributes.normal,u=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(a))for(let n=0,o=u.length;n<o;n++){const o=u[n],p=a[o.materialIndex];for(let n=Math.max(o.start,d.start),a=Math.min(r.count,Math.min(o.start+o.count,d.start+d.count));n<a;n+=3)s=js(this,p,t,i,l,c,h,r.getX(n),r.getX(n+1),r.getX(n+2)),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=o.materialIndex,e.push(s))}else for(let n=Math.max(0,d.start),o=Math.min(r.count,d.start+d.count);n<o;n+=3)s=js(this,a,t,i,l,c,h,r.getX(n),r.getX(n+1),r.getX(n+2)),s&&(s.faceIndex=Math.floor(n/3),e.push(s));else if(void 0!==o)if(Array.isArray(a))for(let n=0,r=u.length;n<r;n++){const r=u[n],p=a[r.materialIndex];for(let n=Math.max(r.start,d.start),a=Math.min(o.count,Math.min(r.start+r.count,d.start+d.count));n<a;n+=3)s=js(this,p,t,i,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=r.materialIndex,e.push(s))}else for(let n=Math.max(0,d.start),r=Math.min(o.count,d.start+d.count);n<r;n+=3)s=js(this,a,t,i,l,c,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}}function js(t,e,i,s,n,a,r,o,l,c){t.getVertexPosition(o,As),t.getVertexPosition(l,Is),t.getVertexPosition(c,Ms);const h=function(t,e,i,s,n,a,r,o){let l;if(l=1===e.side?s.intersectTriangle(r,a,n,!0,o):s.intersectTriangle(n,a,r,0===e.side,o),null===l)return null;Us.copy(o),Us.applyMatrix4(t.matrixWorld);const c=i.ray.origin.distanceTo(Us);return c<i.near||c>i.far?null:{distance:c,point:Us.clone(),object:t}}(t,e,i,s,As,Is,Ms,Fs);if(h){n&&(Ps.fromBufferAttribute(n,o),Rs.fromBufferAttribute(n,l),Ls.fromBufferAttribute(n,c),h.uv=Zi.getInterpolation(Fs,As,Is,Ms,Ps,Rs,Ls,new pe)),a&&(Ps.fromBufferAttribute(a,o),Rs.fromBufferAttribute(a,l),Ls.fromBufferAttribute(a,c),h.uv1=Zi.getInterpolation(Fs,As,Is,Ms,Ps,Rs,Ls,new pe),h.uv2=h.uv1),r&&(Os.fromBufferAttribute(r,o),Ds.fromBufferAttribute(r,l),ks.fromBufferAttribute(r,c),h.normal=Zi.getInterpolation(Fs,As,Is,Ms,Os,Ds,ks,new ze),h.normal.dot(s.direction)>0&&h.normal.multiplyScalar(-1));const t={a:o,b:l,c,normal:new ze,materialIndex:0};Zi.getNormal(As,Is,Ms,t.normal),h.face=t}return h}class Bs extends xs{constructor(t=1,e=1,i=1,s=1,n=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:n,depthSegments:a};const r=this;s=Math.floor(s),n=Math.floor(n),a=Math.floor(a);const o=[],l=[],c=[],h=[];let u=0,d=0;function p(t,e,i,s,n,a,p,m,g,_,f){const y=a/g,v=p/_,b=a/2,x=p/2,S=m/2,T=g+1,w=_+1;let E=0,A=0;const I=new ze;for(let a=0;a<w;a++){const r=a*v-x;for(let o=0;o<T;o++){const u=o*y-b;I[t]=u*s,I[e]=r*n,I[i]=S,l.push(I.x,I.y,I.z),I[t]=0,I[e]=0,I[i]=m>0?1:-1,c.push(I.x,I.y,I.z),h.push(o/g),h.push(1-a/_),E+=1}}for(let t=0;t<_;t++)for(let e=0;e<g;e++){const i=u+e+T*t,s=u+e+T*(t+1),n=u+(e+1)+T*(t+1),a=u+(e+1)+T*t;o.push(i,s,a),o.push(s,n,a),A+=6}r.addGroup(d,A,f),d+=A,u+=E}p("z","y","x",-1,-1,i,e,t,a,n,0),p("z","y","x",1,-1,i,e,-t,a,n,1),p("x","z","y",1,1,t,i,e,s,a,2),p("x","z","y",1,-1,t,i,-e,s,a,3),p("x","y","z",1,-1,t,e,i,s,n,4),p("x","y","z",-1,-1,t,e,-i,s,n,5),this.setIndex(o),this.setAttribute("position",new ps(l,3)),this.setAttribute("normal",new ps(c,3)),this.setAttribute("uv",new ps(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Bs(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Hs(t){const e={};for(const i in t){e[i]={};for(const s in t[i]){const n=t[i][s];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[i][s]=null):e[i][s]=n.clone():Array.isArray(n)?e[i][s]=n.slice():e[i][s]=n}}return e}function Vs(t){const e={};for(let i=0;i<t.length;i++){const s=Hs(t[i]);for(const t in s)e[t]=s[t]}return e}function Gs(t){return null===t.getRenderTarget()?t.outputColorSpace:qt}const qs={clone:Hs,merge:Vs};class Js extends ts{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Hs(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?e.uniforms[i]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?e.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?e.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?e.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?e.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?e.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?e.uniforms[i]={type:"m4",value:s.toArray()}:e.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class Ws extends ji{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gi,this.projectionMatrix=new gi,this.projectionMatrixInverse=new gi,this.coordinateSystem=Kt}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Ys extends Ws{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*ie*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*ee*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*ie*Math.atan(Math.tan(.5*ee*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,s,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*ee*this.fov)/this.zoom,i=2*e,s=this.aspect*i,n=-.5*s;const a=this.view;if(null!==this.view&&this.view.enabled){const t=a.fullWidth,r=a.fullHeight;n+=a.offsetX*s/t,e-=a.offsetY*i/r,s*=a.width/t,i*=a.height/r}const r=this.filmOffset;0!==r&&(n+=t*r/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const $s=-90;class Xs extends ji{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const s=new Ys($s,1,t,e);s.layers=this.layers,this.add(s);const n=new Ys($s,1,t,e);n.layers=this.layers,this.add(n);const a=new Ys($s,1,t,e);a.layers=this.layers,this.add(a);const r=new Ys($s,1,t,e);r.layers=this.layers,this.add(r);const o=new Ys($s,1,t,e);o.layers=this.layers,this.add(o);const l=new Ys($s,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,n,a,r,o]=e;for(const t of e)this.remove(t);if(t===Kt)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),n.up.set(0,0,-1),n.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),r.up.set(0,1,0),r.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(t!==Zt)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),n.up.set(0,0,1),n.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),r.up.set(0,-1,0),r.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const t of e)this.add(t),t.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,n,a,r,o,l]=this.children,c=t.getRenderTarget(),h=t.toneMapping,u=t.xr.enabled;t.toneMapping=rt,t.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,s),t.setRenderTarget(i,1),t.render(e,n),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,r),t.setRenderTarget(i,4),t.render(e,o),i.texture.generateMipmaps=d,t.setRenderTarget(i,5),t.render(e,l),t.setRenderTarget(c),t.toneMapping=h,t.xr.enabled=u,i.texture.needsPMREMUpdate=!0}}class Ks extends Le{constructor(t,e,i,s,n,a,r,o,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:dt,i,s,n,a,r,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Zs extends De{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];void 0!==e.encoding&&(ve("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===Vt?Gt:""),this.texture=new Ks(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:xt}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={tEquirect:{value:null}},s="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Bs(5,5,5),r=new Js({name:"CubemapFromEquirect",uniforms:Hs(i),vertexShader:s,fragmentShader:n,side:1,blending:0});r.uniforms.tEquirect.value=e;const o=new zs(a,r),l=e.minFilter;return e.minFilter===St&&(e.minFilter=xt),new Xs(1,10,this).update(t,o),e.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const n=t.getRenderTarget();for(let n=0;n<6;n++)t.setRenderTarget(this,n),t.clear(e,i,s);t.setRenderTarget(n)}}const Qs=new ze,tn=new ze,en=new me;class sn{constructor(t=new ze(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=Qs.subVectors(i,e).cross(tn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Qs),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const n=-(t.start.dot(this.normal)+this.constant)/s;return n<0||n>1?null:e.copy(t.start).addScaledVector(i,n)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||en.getNormalMatrix(t),s=this.coplanarPoint(Qs).applyMatrix4(t),n=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(n),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const nn=new ri,an=new ze;class rn{constructor(t=new sn,e=new sn,i=new sn,s=new sn,n=new sn,a=new sn){this.planes=[t,e,i,s,n,a]}set(t,e,i,s,n,a){const r=this.planes;return r[0].copy(t),r[1].copy(e),r[2].copy(i),r[3].copy(s),r[4].copy(n),r[5].copy(a),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=2e3){const i=this.planes,s=t.elements,n=s[0],a=s[1],r=s[2],o=s[3],l=s[4],c=s[5],h=s[6],u=s[7],d=s[8],p=s[9],m=s[10],g=s[11],_=s[12],f=s[13],y=s[14],v=s[15];if(i[0].setComponents(o-n,u-l,g-d,v-_).normalize(),i[1].setComponents(o+n,u+l,g+d,v+_).normalize(),i[2].setComponents(o+a,u+c,g+p,v+f).normalize(),i[3].setComponents(o-a,u-c,g-p,v-f).normalize(),i[4].setComponents(o-r,u-h,g-m,v-y).normalize(),e===Kt)i[5].setComponents(o+r,u+h,g+m,v+y).normalize();else{if(e!==Zt)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);i[5].setComponents(r,h,m,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),nn.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),nn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(nn)}intersectsSprite(t){return nn.center.set(0,0,0),nn.radius=.7071067811865476,nn.applyMatrix4(t.matrixWorld),this.intersectsSphere(nn)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(an.x=s.normal.x>0?t.max.x:t.min.x,an.y=s.normal.y>0?t.max.y:t.min.y,an.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(an)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function on(){let t=null,e=!1,i=null,s=null;function n(e,a){i(e,a),s=t.requestAnimationFrame(n)}return{start:function(){!0!==e&&null!==i&&(s=t.requestAnimationFrame(n),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function ln(t,e){const i=e.isWebGL2,s=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),s.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const i=s.get(e);i&&(t.deleteBuffer(i.buffer),s.delete(e))},update:function(e,n){if(e.isGLBufferAttribute){const t=s.get(e);return void((!t||t.version<e.version)&&s.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const a=s.get(e);void 0===a?s.set(e,function(e,s){const n=e.array,a=e.usage,r=t.createBuffer();let o;if(t.bindBuffer(s,r),t.bufferData(s,n,a),e.onUploadCallback(),n instanceof Float32Array)o=t.FLOAT;else if(n instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!i)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");o=t.HALF_FLOAT}else o=t.UNSIGNED_SHORT;else if(n instanceof Int16Array)o=t.SHORT;else if(n instanceof Uint32Array)o=t.UNSIGNED_INT;else if(n instanceof Int32Array)o=t.INT;else if(n instanceof Int8Array)o=t.BYTE;else if(n instanceof Uint8Array)o=t.UNSIGNED_BYTE;else{if(!(n instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+n);o=t.UNSIGNED_BYTE}return{buffer:r,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(e,n)):a.version<e.version&&(function(e,s,n){const a=s.array,r=s.updateRange;t.bindBuffer(n,e),-1===r.count?t.bufferSubData(n,0,a):(i?t.bufferSubData(n,r.offset*a.BYTES_PER_ELEMENT,a,r.offset,r.count):t.bufferSubData(n,r.offset*a.BYTES_PER_ELEMENT,a.subarray(r.offset,r.offset+r.count)),r.count=-1),s.onUploadCallback()}(a.buffer,e,n),a.version=e.version)}}}class cn extends xs{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const n=t/2,a=e/2,r=Math.floor(i),o=Math.floor(s),l=r+1,c=o+1,h=t/r,u=e/o,d=[],p=[],m=[],g=[];for(let t=0;t<c;t++){const e=t*u-a;for(let i=0;i<l;i++){const s=i*h-n;p.push(s,-e,0),m.push(0,0,1),g.push(i/r),g.push(1-t/o)}}for(let t=0;t<o;t++)for(let e=0;e<r;e++){const i=e+l*t,s=e+l*(t+1),n=e+1+l*(t+1),a=e+1+l*t;d.push(i,s,a),d.push(s,n,a)}this.setIndex(d),this.setAttribute("position",new ps(p,3)),this.setAttribute("normal",new ps(m,3)),this.setAttribute("uv",new ps(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cn(t.width,t.height,t.widthSegments,t.heightSegments)}}const hn={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},un={common:{diffuse:{value:new as(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new me},alphaMap:{value:null},alphaMapTransform:{value:new me},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new me}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new me}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new me}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new me},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new me},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new me},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new me}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new me}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new me}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new as(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new as(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new me},alphaTest:{value:0},uvTransform:{value:new me}},sprite:{diffuse:{value:new as(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new me},alphaMap:{value:null},alphaMapTransform:{value:new me},alphaTest:{value:0}}},dn={basic:{uniforms:Vs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.fog]),vertexShader:hn.meshbasic_vert,fragmentShader:hn.meshbasic_frag},lambert:{uniforms:Vs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new as(0)}}]),vertexShader:hn.meshlambert_vert,fragmentShader:hn.meshlambert_frag},phong:{uniforms:Vs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new as(0)},specular:{value:new as(1118481)},shininess:{value:30}}]),vertexShader:hn.meshphong_vert,fragmentShader:hn.meshphong_frag},standard:{uniforms:Vs([un.common,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.roughnessmap,un.metalnessmap,un.fog,un.lights,{emissive:{value:new as(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag},toon:{uniforms:Vs([un.common,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.gradientmap,un.fog,un.lights,{emissive:{value:new as(0)}}]),vertexShader:hn.meshtoon_vert,fragmentShader:hn.meshtoon_frag},matcap:{uniforms:Vs([un.common,un.bumpmap,un.normalmap,un.displacementmap,un.fog,{matcap:{value:null}}]),vertexShader:hn.meshmatcap_vert,fragmentShader:hn.meshmatcap_frag},points:{uniforms:Vs([un.points,un.fog]),vertexShader:hn.points_vert,fragmentShader:hn.points_frag},dashed:{uniforms:Vs([un.common,un.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hn.linedashed_vert,fragmentShader:hn.linedashed_frag},depth:{uniforms:Vs([un.common,un.displacementmap]),vertexShader:hn.depth_vert,fragmentShader:hn.depth_frag},normal:{uniforms:Vs([un.common,un.bumpmap,un.normalmap,un.displacementmap,{opacity:{value:1}}]),vertexShader:hn.meshnormal_vert,fragmentShader:hn.meshnormal_frag},sprite:{uniforms:Vs([un.sprite,un.fog]),vertexShader:hn.sprite_vert,fragmentShader:hn.sprite_frag},background:{uniforms:{uvTransform:{value:new me},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:hn.background_vert,fragmentShader:hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:hn.backgroundCube_vert,fragmentShader:hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:hn.cube_vert,fragmentShader:hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hn.equirect_vert,fragmentShader:hn.equirect_frag},distanceRGBA:{uniforms:Vs([un.common,un.displacementmap,{referencePosition:{value:new ze},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hn.distanceRGBA_vert,fragmentShader:hn.distanceRGBA_frag},shadow:{uniforms:Vs([un.lights,un.fog,{color:{value:new as(0)},opacity:{value:1}}]),vertexShader:hn.shadow_vert,fragmentShader:hn.shadow_frag}};dn.physical={uniforms:Vs([dn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new me},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new me},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new me},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new me},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new me},sheen:{value:0},sheenColor:{value:new as(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new me},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new me},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new me},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new me},attenuationDistance:{value:0},attenuationColor:{value:new as(0)},specularColor:{value:new as(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new me},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new me},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new me}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag};const pn={r:0,b:0,g:0};function mn(t,e,i,s,n,a,r){const o=new as(0);let l,c,h=!0===a?0:1,u=null,d=0,p=null;function m(e,i){e.getRGB(pn,Gs(t)),s.buffers.color.setClear(pn.r,pn.g,pn.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),h=e,m(o,h)},getClearAlpha:function(){return h},setClearAlpha:function(t){h=t,m(o,h)},render:function(a,g){let _=!1,f=!0===g.isScene?g.background:null;switch(f&&f.isTexture&&(f=(g.backgroundBlurriness>0?i:e).get(f)),null===f?m(o,h):f&&f.isColor&&(m(f,1),_=!0),t.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":s.buffers.color.setClear(0,0,0,1,r),_=!0;break;case"alpha-blend":s.buffers.color.setClear(0,0,0,0,r),_=!0}(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&(f.isCubeTexture||f.mapping===mt)?(void 0===c&&(c=new zs(new Bs(1,1,1),new Js({name:"BackgroundCubeMaterial",uniforms:Hs(dn.backgroundCube.uniforms),vertexShader:dn.backgroundCube.vertexShader,fragmentShader:dn.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=f,c.material.uniforms.flipEnvMap.value=f.isCubeTexture&&!1===f.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=f.colorSpace!==Gt,u===f&&d===f.version&&p===t.toneMapping||(c.material.needsUpdate=!0,u=f,d=f.version,p=t.toneMapping),c.layers.enableAll(),a.unshift(c,c.geometry,c.material,0,0,null)):f&&f.isTexture&&(void 0===l&&(l=new zs(new cn(2,2),new Js({name:"BackgroundMaterial",uniforms:Hs(dn.background.uniforms),vertexShader:dn.background.vertexShader,fragmentShader:dn.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=f,l.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,l.material.toneMapped=f.colorSpace!==Gt,!0===f.matrixAutoUpdate&&f.updateMatrix(),l.material.uniforms.uvTransform.value.copy(f.matrix),u===f&&d===f.version&&p===t.toneMapping||(l.material.needsUpdate=!0,u=f,d=f.version,p=t.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null))}}}function gn(t,e,i,s){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=s.isWebGL2?null:e.get("OES_vertex_array_object"),r=s.isWebGL2||null!==a,o={},l=p(null);let c=l,h=!1;function u(e){return s.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function d(e){return s.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function p(t){const e=[],i=[],s=[];for(let t=0;t<n;t++)e[t]=0,i[t]=0,s[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:i,attributeDivisors:s,object:t,attributes:{},index:null}}function m(){const t=c.newAttributes;for(let e=0,i=t.length;e<i;e++)t[e]=0}function g(t){_(t,0)}function _(i,n){const a=c.newAttributes,r=c.enabledAttributes,o=c.attributeDivisors;a[i]=1,0===r[i]&&(t.enableVertexAttribArray(i),r[i]=1),o[i]!==n&&((s.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),o[i]=n)}function f(){const e=c.newAttributes,i=c.enabledAttributes;for(let s=0,n=i.length;s<n;s++)i[s]!==e[s]&&(t.disableVertexAttribArray(s),i[s]=0)}function y(e,i,s,n,a,r,o){!0===o?t.vertexAttribIPointer(e,i,s,a,r):t.vertexAttribPointer(e,i,s,n,a,r)}function v(){b(),h=!0,c!==l&&(c=l,u(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(n,l,d,v,b){let x=!1;if(r){const e=function(e,i,n){const r=!0===n.wireframe;let l=o[e.id];void 0===l&&(l={},o[e.id]=l);let c=l[i.id];void 0===c&&(c={},l[i.id]=c);let h=c[r];return void 0===h&&(h=p(s.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),c[r]=h),h}(v,d,l);c!==e&&(c=e,u(c.object)),x=function(t,e,i,s){const n=c.attributes,a=e.attributes;let r=0;const o=i.getAttributes();for(const e in o)if(o[e].location>=0){const i=n[e];let s=a[e];if(void 0===s&&("instanceMatrix"===e&&t.instanceMatrix&&(s=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(s=t.instanceColor)),void 0===i)return!0;if(i.attribute!==s)return!0;if(s&&i.data!==s.data)return!0;r++}return c.attributesNum!==r||c.index!==s}(n,v,d,b),x&&function(t,e,i,s){const n={},a=e.attributes;let r=0;const o=i.getAttributes();for(const e in o)if(o[e].location>=0){let i=a[e];void 0===i&&("instanceMatrix"===e&&t.instanceMatrix&&(i=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(i=t.instanceColor));const s={};s.attribute=i,i&&i.data&&(s.data=i.data),n[e]=s,r++}c.attributes=n,c.attributesNum=r,c.index=s}(n,v,d,b)}else{const t=!0===l.wireframe;c.geometry===v.id&&c.program===d.id&&c.wireframe===t||(c.geometry=v.id,c.program=d.id,c.wireframe=t,x=!0)}null!==b&&i.update(b,t.ELEMENT_ARRAY_BUFFER),(x||h)&&(h=!1,function(n,a,r,o){if(!1===s.isWebGL2&&(n.isInstancedMesh||o.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;m();const l=o.attributes,c=r.getAttributes(),h=a.defaultAttributeValues;for(const e in c){const a=c[e];if(a.location>=0){let r=l[e];if(void 0===r&&("instanceMatrix"===e&&n.instanceMatrix&&(r=n.instanceMatrix),"instanceColor"===e&&n.instanceColor&&(r=n.instanceColor)),void 0!==r){const e=r.normalized,l=r.itemSize,c=i.get(r);if(void 0===c)continue;const h=c.buffer,u=c.type,d=c.bytesPerElement,p=!0===s.isWebGL2&&(u===t.INT||u===t.UNSIGNED_INT||1013===r.gpuType);if(r.isInterleavedBufferAttribute){const i=r.data,s=i.stride,c=r.offset;if(i.isInstancedInterleavedBuffer){for(let t=0;t<a.locationSize;t++)_(a.location+t,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let t=0;t<a.locationSize;t++)g(a.location+t);t.bindBuffer(t.ARRAY_BUFFER,h);for(let t=0;t<a.locationSize;t++)y(a.location+t,l/a.locationSize,u,e,s*d,(c+l/a.locationSize*t)*d,p)}else{if(r.isInstancedBufferAttribute){for(let t=0;t<a.locationSize;t++)_(a.location+t,r.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let t=0;t<a.locationSize;t++)g(a.location+t);t.bindBuffer(t.ARRAY_BUFFER,h);for(let t=0;t<a.locationSize;t++)y(a.location+t,l/a.locationSize,u,e,l*d,l/a.locationSize*t*d,p)}}else if(void 0!==h){const i=h[e];if(void 0!==i)switch(i.length){case 2:t.vertexAttrib2fv(a.location,i);break;case 3:t.vertexAttrib3fv(a.location,i);break;case 4:t.vertexAttrib4fv(a.location,i);break;default:t.vertexAttrib1fv(a.location,i)}}}}f()}(n,l,d,v),null!==b&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.get(b).buffer))},reset:v,resetDefaultState:b,dispose:function(){v();for(const t in o){const e=o[t];for(const t in e){const i=e[t];for(const t in i)d(i[t].object),delete i[t];delete e[t]}delete o[t]}},releaseStatesOfGeometry:function(t){if(void 0===o[t.id])return;const e=o[t.id];for(const t in e){const i=e[t];for(const t in i)d(i[t].object),delete i[t];delete e[t]}delete o[t.id]},releaseStatesOfProgram:function(t){for(const e in o){const i=o[e];if(void 0===i[t.id])continue;const s=i[t.id];for(const t in s)d(s[t].object),delete s[t];delete i[t.id]}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:f}}function _n(t,e,i,s){const n=s.isWebGL2;let a;this.setMode=function(t){a=t},this.render=function(e,s){t.drawArrays(a,e,s),i.update(s,a,1)},this.renderInstances=function(s,r,o){if(0===o)return;let l,c;if(n)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](a,s,r,o),i.update(r,a,o)}}function fn(t,e,i){let s;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===t.constructor.name;let r=void 0!==i.precision?i.precision:"highp";const o=n(r);o!==r&&(console.warn("THREE.WebGLRenderer:",r,"not supported, using",o,"instead."),r=o);const l=a||e.has("WEBGL_draw_buffers"),c=!0===i.logarithmicDepthBuffer,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),f=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=u>0,v=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==s)return s;if(!0===e.has("EXT_texture_filter_anisotropic")){const i=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s},getMaxPrecision:n,precision:r,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:_,maxFragmentUniforms:f,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:a?t.getParameter(t.MAX_SAMPLES):0}}function yn(t){const e=this;let i=null,s=0,n=!1,a=!1;const r=new sn,o=new me,l={value:null,needsUpdate:!1};function c(t,i,s,n){const a=null!==t?t.length:0;let c=null;if(0!==a){if(c=l.value,!0!==n||null===c){const e=s+4*a,n=i.matrixWorldInverse;o.getNormalMatrix(n),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,i=s;e!==a;++e,i+=4)r.copy(t[e]).applyMatrix4(n,o),r.normal.toArray(c,i),c[i+3]=r.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const i=0!==t.length||e||0!==s||n;return n=e,s=t.length,i},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(t,e){i=c(t,e,0)},this.setState=function(r,o,h){const u=r.clippingPlanes,d=r.clipIntersection,p=r.clipShadows,m=t.get(r);if(!n||null===u||0===u.length||a&&!p)a?c(null):(l.value!==i&&(l.value=i,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0);else{const t=a?0:s,e=4*t;let n=m.clippingState||null;l.value=n,n=c(u,o,e,h);for(let t=0;t!==e;++t)n[t]=i[t];m.clippingState=n,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function vn(t){let e=new WeakMap;function i(t,e){return 303===e?t.mapping=dt:304===e&&(t.mapping=pt),t}function s(t){const i=t.target;i.removeEventListener("dispose",s);const n=e.get(i);void 0!==n&&(e.delete(i),n.dispose())}return{get:function(n){if(n&&n.isTexture&&!1===n.isRenderTargetTexture){const a=n.mapping;if(303===a||304===a){if(e.has(n))return i(e.get(n).texture,n.mapping);{const a=n.image;if(a&&a.height>0){const r=new Zs(a.height/2);return r.fromEquirectangularTexture(t,n),e.set(n,r),n.addEventListener("dispose",s),i(r.texture,n.mapping)}return null}}}return n},dispose:function(){e=new WeakMap}}}class bn extends Ws{constructor(t=-1,e=1,i=1,s=-1,n=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=n,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let n=i-t,a=i+t,r=s+e,o=s-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=t*this.view.offsetX,a=n+t*this.view.width,r-=e*this.view.offsetY,o=r-e*this.view.height}this.projectionMatrix.makeOrthographic(n,a,r,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const xn=[.125,.215,.35,.446,.526,.582],Sn=new bn,Tn=new as;let wn=null;const En=(1+Math.sqrt(5))/2,An=1/En,In=[new ze(1,1,1),new ze(-1,1,1),new ze(1,1,-1),new ze(-1,1,-1),new ze(0,En,An),new ze(0,En,-An),new ze(An,0,En),new ze(-An,0,En),new ze(En,An,0),new ze(-En,An,0)];class Mn{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){wn=this._renderer.getRenderTarget(),this._setSize(256);const n=this._allocateTargets();return n.depthBuffer=!0,this._sceneToCubeUV(t,i,s,n),e>0&&this._blur(n,0,0,e),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Rn(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Pn(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(wn),t.scissorTest=!1,Nn(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===dt||t.mapping===pt?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),wn=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:xt,minFilter:xt,generateMipmaps:!1,type:It,format:Ct,colorSpace:qt,depthBuffer:!1},s=Cn(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Cn(t,e,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],i=[],s=[];let n=t;const a=t-4+1+xn.length;for(let r=0;r<a;r++){const a=Math.pow(2,n);i.push(a);let o=1/a;r>t-4?o=xn[r-t+4-1]:0===r&&(o=0),s.push(o);const l=1/(a-2),c=-l,h=1+l,u=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,p=6,m=3,g=2,_=1,f=new Float32Array(m*p*d),y=new Float32Array(g*p*d),v=new Float32Array(_*p*d);for(let t=0;t<d;t++){const e=t%3*2/3-1,i=t>2?0:-1,s=[e,i,0,e+2/3,i,0,e+2/3,i+1,0,e,i,0,e+2/3,i+1,0,e,i+1,0];f.set(s,m*p*t),y.set(u,g*p*t);const n=[t,t,t,t,t,t];v.set(n,_*p*t)}const b=new xs;b.setAttribute("position",new hs(f,m)),b.setAttribute("uv",new hs(y,g)),b.setAttribute("faceIndex",new hs(v,_)),e.push(b),n>4&&n--}return{lodPlanes:e,sizeLods:i,sigmas:s}}(s)),this._blurMaterial=function(t,e,i){const s=new Float32Array(20),n=new ze(0,1,0);return new Js({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return s}_compileMaterial(t){const e=new zs(this._lodPlanes[0],t);this._renderer.compile(e,Sn)}_sceneToCubeUV(t,e,i,s){const n=new Ys(90,1,e,i),a=[1,-1,1,1,1,1],r=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.toneMapping;o.getClearColor(Tn),o.toneMapping=rt,o.autoClear=!1;const h=new os({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),u=new zs(new Bs,h);let d=!1;const p=t.background;p?p.isColor&&(h.color.copy(p),t.background=null,d=!0):(h.color.copy(Tn),d=!0);for(let e=0;e<6;e++){const i=e%3;0===i?(n.up.set(0,a[e],0),n.lookAt(r[e],0,0)):1===i?(n.up.set(0,0,a[e]),n.lookAt(0,r[e],0)):(n.up.set(0,a[e],0),n.lookAt(0,0,r[e]));const l=this._cubeSize;Nn(s,i*l,e>2?l:0,l,l),o.setRenderTarget(s),d&&o.render(u,n),o.render(t,n)}u.geometry.dispose(),u.material.dispose(),o.toneMapping=c,o.autoClear=l,t.background=p}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===dt||t.mapping===pt;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=Rn()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Pn());const n=s?this._cubemapMaterial:this._equirectMaterial,a=new zs(this._lodPlanes[0],n);n.uniforms.envMap.value=t;const r=this._cubeSize;Nn(e,0,0,3*r,2*r),i.setRenderTarget(e),i.render(a,Sn)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let e=1;e<this._lodPlanes.length;e++){const i=Math.sqrt(this._sigmas[e]*this._sigmas[e]-this._sigmas[e-1]*this._sigmas[e-1]),s=In[(e-1)%In.length];this._blur(t,e-1,e,i,s)}e.autoClear=i}_blur(t,e,i,s,n){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,i,s,"latitudinal",n),this._halfBlur(a,t,i,i,s,"longitudinal",n)}_halfBlur(t,e,i,s,n,a,r){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new zs(this._lodPlanes[s],l),h=l.uniforms,u=this._sizeLods[i]-1,d=isFinite(n)?Math.PI/(2*u):2*Math.PI/39,p=n/d,m=isFinite(n)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let _=0;for(let t=0;t<20;++t){const e=t/p,i=Math.exp(-e*e/2);g.push(i),0===t?_+=i:t<m&&(_+=2*i)}for(let t=0;t<g.length;t++)g[t]=g[t]/_;h.envMap.value=t.texture,h.samples.value=m,h.weights.value=g,h.latitudinal.value="latitudinal"===a,r&&(h.poleAxis.value=r);const{_lodMax:f}=this;h.dTheta.value=d,h.mipInt.value=f-i;const y=this._sizeLods[s];Nn(e,3*y*(s>f-4?s-f+4:0),4*(this._cubeSize-y),3*y,2*y),o.setRenderTarget(e),o.render(c,Sn)}}function Cn(t,e,i){const s=new De(t,e,i);return s.texture.mapping=mt,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function Nn(t,e,i,s,n){t.viewport.set(e,i,s,n),t.scissor.set(e,i,s,n)}function Pn(){return new Js({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Rn(){return new Js({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ln(t){let e=new WeakMap,i=null;function s(t){const i=t.target;i.removeEventListener("dispose",s);const n=e.get(i);void 0!==n&&(e.delete(i),n.dispose())}return{get:function(n){if(n&&n.isTexture){const a=n.mapping,r=303===a||304===a,o=a===dt||a===pt;if(r||o){if(n.isRenderTargetTexture&&!0===n.needsPMREMUpdate){n.needsPMREMUpdate=!1;let s=e.get(n);return null===i&&(i=new Mn(t)),s=r?i.fromEquirectangular(n,s):i.fromCubemap(n,s),e.set(n,s),s.texture}if(e.has(n))return e.get(n).texture;{const a=n.image;if(r&&a&&a.height>0||o&&a&&function(t){let e=0;for(let i=0;i<6;i++)void 0!==t[i]&&e++;return 6===e}(a)){null===i&&(i=new Mn(t));const a=r?i.fromEquirectangular(n):i.fromCubemap(n);return e.set(n,a),n.addEventListener("dispose",s),a.texture}return null}}}return n},dispose:function(){e=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function On(t){const e={};function i(i){if(void 0!==e[i])return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(t){return null!==i(t)},init:function(t){t.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(t){const e=i(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Dn(t,e,i,s){const n={},a=new WeakMap;function r(t){const o=t.target;null!==o.index&&e.remove(o.index);for(const t in o.attributes)e.remove(o.attributes[t]);for(const t in o.morphAttributes){const i=o.morphAttributes[t];for(let t=0,s=i.length;t<s;t++)e.remove(i[t])}o.removeEventListener("dispose",r),delete n[o.id];const l=a.get(o);l&&(e.remove(l),a.delete(o)),s.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,i.memory.geometries--}function o(t){const i=[],s=t.index,n=t.attributes.position;let r=0;if(null!==s){const t=s.array;r=s.version;for(let e=0,s=t.length;e<s;e+=3){const s=t[e+0],n=t[e+1],a=t[e+2];i.push(s,n,n,a,a,s)}}else{const t=n.array;r=n.version;for(let e=0,s=t.length/3-1;e<s;e+=3){const t=e+0,s=e+1,n=e+2;i.push(t,s,s,n,n,t)}}const o=new(_e(i)?ds:us)(i,1);o.version=r;const l=a.get(t);l&&e.remove(l),a.set(t,o)}return{get:function(t,e){return!0===n[e.id]||(e.addEventListener("dispose",r),n[e.id]=!0,i.memory.geometries++),e},update:function(i){const s=i.attributes;for(const i in s)e.update(s[i],t.ARRAY_BUFFER);const n=i.morphAttributes;for(const i in n){const s=n[i];for(let i=0,n=s.length;i<n;i++)e.update(s[i],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=a.get(t);if(e){const i=t.index;null!==i&&e.version<i.version&&o(t)}else o(t);return a.get(t)}}}function kn(t,e,i,s){const n=s.isWebGL2;let a,r,o;this.setMode=function(t){a=t},this.setIndex=function(t){r=t.type,o=t.bytesPerElement},this.render=function(e,s){t.drawElements(a,s,r,e*o),i.update(s,a,1)},this.renderInstances=function(s,l,c){if(0===c)return;let h,u;if(n)h=t,u="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[u](a,l,r,s*o,c),i.update(l,a,c)}}function Fn(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(i,s,n){switch(e.calls++,s){case t.TRIANGLES:e.triangles+=n*(i/3);break;case t.LINES:e.lines+=n*(i/2);break;case t.LINE_STRIP:e.lines+=n*(i-1);break;case t.LINE_LOOP:e.lines+=n*i;break;case t.POINTS:e.points+=n*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function Un(t,e){return t[0]-e[0]}function zn(t,e){return Math.abs(e[1])-Math.abs(t[1])}function jn(t,e,i){const s={},n=new Float32Array(8),a=new WeakMap,r=new Oe,o=[];for(let t=0;t<8;t++)o[t]=[t,0];return{update:function(l,c,h){const u=l.morphTargetInfluences;if(!0===e.isWebGL2){const d=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=void 0!==d?d.length:0;let m=a.get(c);if(void 0===m||m.count!==p){void 0!==m&&m.texture.dispose();const f=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,v=void 0!==c.morphAttributes.color,b=c.morphAttributes.position||[],x=c.morphAttributes.normal||[],S=c.morphAttributes.color||[];let T=0;!0===f&&(T=1),!0===y&&(T=2),!0===v&&(T=3);let w=c.attributes.position.count*T,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const A=new Float32Array(w*E*4*p),I=new ke(A,w,E,p);I.type=At,I.needsUpdate=!0;const M=4*T;for(let N=0;N<p;N++){const P=b[N],R=x[N],L=S[N],O=w*E*4*N;for(let D=0;D<P.count;D++){const k=D*M;!0===f&&(r.fromBufferAttribute(P,D),A[O+k+0]=r.x,A[O+k+1]=r.y,A[O+k+2]=r.z,A[O+k+3]=0),!0===y&&(r.fromBufferAttribute(R,D),A[O+k+4]=r.x,A[O+k+5]=r.y,A[O+k+6]=r.z,A[O+k+7]=0),!0===v&&(r.fromBufferAttribute(L,D),A[O+k+8]=r.x,A[O+k+9]=r.y,A[O+k+10]=r.z,A[O+k+11]=4===L.itemSize?r.w:1)}}function C(){I.dispose(),a.delete(c),c.removeEventListener("dispose",C)}m={count:p,texture:I,size:new pe(w,E)},a.set(c,m),c.addEventListener("dispose",C)}let g=0;for(let F=0;F<u.length;F++)g+=u[F];const _=c.morphTargetsRelative?1:1-g;h.getUniforms().setValue(t,"morphTargetBaseInfluence",_),h.getUniforms().setValue(t,"morphTargetInfluences",u),h.getUniforms().setValue(t,"morphTargetsTexture",m.texture,i),h.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const U=void 0===u?0:u.length;let z=s[c.id];if(void 0===z||z.length!==U){z=[];for(let G=0;G<U;G++)z[G]=[G,0];s[c.id]=z}for(let q=0;q<U;q++){const J=z[q];J[0]=q,J[1]=u[q]}z.sort(zn);for(let W=0;W<8;W++)W<U&&z[W][1]?(o[W][0]=z[W][0],o[W][1]=z[W][1]):(o[W][0]=Number.MAX_SAFE_INTEGER,o[W][1]=0);o.sort(Un);const j=c.morphAttributes.position,B=c.morphAttributes.normal;let H=0;for(let Y=0;Y<8;Y++){const $=o[Y],X=$[0],K=$[1];X!==Number.MAX_SAFE_INTEGER&&K?(j&&c.getAttribute("morphTarget"+Y)!==j[X]&&c.setAttribute("morphTarget"+Y,j[X]),B&&c.getAttribute("morphNormal"+Y)!==B[X]&&c.setAttribute("morphNormal"+Y,B[X]),n[Y]=K,H+=K):(j&&!0===c.hasAttribute("morphTarget"+Y)&&c.deleteAttribute("morphTarget"+Y),B&&!0===c.hasAttribute("morphNormal"+Y)&&c.deleteAttribute("morphNormal"+Y),n[Y]=0)}const V=c.morphTargetsRelative?1:1-H;h.getUniforms().setValue(t,"morphTargetBaseInfluence",V),h.getUniforms().setValue(t,"morphTargetInfluences",n)}}}}function Bn(t,e,i,s){let n=new WeakMap;function a(t){const e=t.target;e.removeEventListener("dispose",a),i.remove(e.instanceMatrix),null!==e.instanceColor&&i.remove(e.instanceColor)}return{update:function(r){const o=s.render.frame,l=r.geometry,c=e.get(r,l);if(n.get(c)!==o&&(e.update(c),n.set(c,o)),r.isInstancedMesh&&(!1===r.hasEventListener("dispose",a)&&r.addEventListener("dispose",a),n.get(r)!==o&&(i.update(r.instanceMatrix,t.ARRAY_BUFFER),null!==r.instanceColor&&i.update(r.instanceColor,t.ARRAY_BUFFER),n.set(r,o))),r.isSkinnedMesh){const t=r.skeleton;n.get(t)!==o&&(t.update(),n.set(t,o))}return c},dispose:function(){n=new WeakMap}}}const Hn=new Le,Vn=new ke,Gn=new Fe,qn=new Ks,Jn=[],Wn=[],Yn=new Float32Array(16),$n=new Float32Array(9),Xn=new Float32Array(4);function Kn(t,e,i){const s=t[0];if(s<=0||s>0)return t;const n=e*i;let a=Jn[n];if(void 0===a&&(a=new Float32Array(n),Jn[n]=a),0!==e){s.toArray(a,0);for(let s=1,n=0;s!==e;++s)n+=i,t[s].toArray(a,n)}return a}function Zn(t,e){if(t.length!==e.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==e[i])return!1;return!0}function Qn(t,e){for(let i=0,s=e.length;i<s;i++)t[i]=e[i]}function ta(t,e){let i=Wn[e];void 0===i&&(i=new Int32Array(e),Wn[e]=i);for(let s=0;s!==e;++s)i[s]=t.allocateTextureUnit();return i}function ea(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function ia(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Zn(i,e))return;t.uniform2fv(this.addr,e),Qn(i,e)}}function sa(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Zn(i,e))return;t.uniform3fv(this.addr,e),Qn(i,e)}}function na(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Zn(i,e))return;t.uniform4fv(this.addr,e),Qn(i,e)}}function aa(t,e){const i=this.cache,s=e.elements;if(void 0===s){if(Zn(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),Qn(i,e)}else{if(Zn(i,s))return;Xn.set(s),t.uniformMatrix2fv(this.addr,!1,Xn),Qn(i,s)}}function ra(t,e){const i=this.cache,s=e.elements;if(void 0===s){if(Zn(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),Qn(i,e)}else{if(Zn(i,s))return;$n.set(s),t.uniformMatrix3fv(this.addr,!1,$n),Qn(i,s)}}function oa(t,e){const i=this.cache,s=e.elements;if(void 0===s){if(Zn(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),Qn(i,e)}else{if(Zn(i,s))return;Yn.set(s),t.uniformMatrix4fv(this.addr,!1,Yn),Qn(i,s)}}function la(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function ca(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Zn(i,e))return;t.uniform2iv(this.addr,e),Qn(i,e)}}function ha(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Zn(i,e))return;t.uniform3iv(this.addr,e),Qn(i,e)}}function ua(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Zn(i,e))return;t.uniform4iv(this.addr,e),Qn(i,e)}}function da(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function pa(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Zn(i,e))return;t.uniform2uiv(this.addr,e),Qn(i,e)}}function ma(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Zn(i,e))return;t.uniform3uiv(this.addr,e),Qn(i,e)}}function ga(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Zn(i,e))return;t.uniform4uiv(this.addr,e),Qn(i,e)}}function _a(t,e,i){const s=this.cache,n=i.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),i.setTexture2D(e||Hn,n)}function fa(t,e,i){const s=this.cache,n=i.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),i.setTexture3D(e||Gn,n)}function ya(t,e,i){const s=this.cache,n=i.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),i.setTextureCube(e||qn,n)}function va(t,e,i){const s=this.cache,n=i.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),i.setTexture2DArray(e||Vn,n)}function ba(t,e){t.uniform1fv(this.addr,e)}function xa(t,e){const i=Kn(e,this.size,2);t.uniform2fv(this.addr,i)}function Sa(t,e){const i=Kn(e,this.size,3);t.uniform3fv(this.addr,i)}function Ta(t,e){const i=Kn(e,this.size,4);t.uniform4fv(this.addr,i)}function wa(t,e){const i=Kn(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Ea(t,e){const i=Kn(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Aa(t,e){const i=Kn(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Ia(t,e){t.uniform1iv(this.addr,e)}function Ma(t,e){t.uniform2iv(this.addr,e)}function Ca(t,e){t.uniform3iv(this.addr,e)}function Na(t,e){t.uniform4iv(this.addr,e)}function Pa(t,e){t.uniform1uiv(this.addr,e)}function Ra(t,e){t.uniform2uiv(this.addr,e)}function La(t,e){t.uniform3uiv(this.addr,e)}function Oa(t,e){t.uniform4uiv(this.addr,e)}function Da(t,e,i){const s=this.cache,n=e.length,a=ta(i,n);Zn(s,a)||(t.uniform1iv(this.addr,a),Qn(s,a));for(let t=0;t!==n;++t)i.setTexture2D(e[t]||Hn,a[t])}function ka(t,e,i){const s=this.cache,n=e.length,a=ta(i,n);Zn(s,a)||(t.uniform1iv(this.addr,a),Qn(s,a));for(let t=0;t!==n;++t)i.setTexture3D(e[t]||Gn,a[t])}function Fa(t,e,i){const s=this.cache,n=e.length,a=ta(i,n);Zn(s,a)||(t.uniform1iv(this.addr,a),Qn(s,a));for(let t=0;t!==n;++t)i.setTextureCube(e[t]||qn,a[t])}function Ua(t,e,i){const s=this.cache,n=e.length,a=ta(i,n);Zn(s,a)||(t.uniform1iv(this.addr,a),Qn(s,a));for(let t=0;t!==n;++t)i.setTexture2DArray(e[t]||Vn,a[t])}class za{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return ea;case 35664:return ia;case 35665:return sa;case 35666:return na;case 35674:return aa;case 35675:return ra;case 35676:return oa;case 5124:case 35670:return la;case 35667:case 35671:return ca;case 35668:case 35672:return ha;case 35669:case 35673:return ua;case 5125:return da;case 36294:return pa;case 36295:return ma;case 36296:return ga;case 35678:case 36198:case 36298:case 36306:case 35682:return _a;case 35679:case 36299:case 36307:return fa;case 35680:case 36300:case 36308:case 36293:return ya;case 36289:case 36303:case 36311:case 36292:return va}}(e.type)}}class ja{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return ba;case 35664:return xa;case 35665:return Sa;case 35666:return Ta;case 35674:return wa;case 35675:return Ea;case 35676:return Aa;case 5124:case 35670:return Ia;case 35667:case 35671:return Ma;case 35668:case 35672:return Ca;case 35669:case 35673:return Na;case 5125:return Pa;case 36294:return Ra;case 36295:return La;case 36296:return Oa;case 35678:case 36198:case 36298:case 36306:case 35682:return Da;case 35679:case 36299:case 36307:return ka;case 35680:case 36300:case 36308:case 36293:return Fa;case 36289:case 36303:case 36311:case 36292:return Ua}}(e.type)}}class Ba{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let n=0,a=s.length;n!==a;++n){const a=s[n];a.setValue(t,e[a.id],i)}}}const Ha=/(\w+)(\])?(\[|\.)?/g;function Va(t,e){t.seq.push(e),t.map[e.id]=e}function Ga(t,e,i){const s=t.name,n=s.length;for(Ha.lastIndex=0;;){const a=Ha.exec(s),r=Ha.lastIndex;let o=a[1];const l="]"===a[2],c=a[3];if(l&&(o|=0),void 0===c||"["===c&&r+2===n){Va(i,void 0===c?new za(o,t,e):new ja(o,t,e));break}{let t=i.map[o];void 0===t&&(t=new Ba(o),Va(i,t)),i=t}}}class qa{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const i=t.getActiveUniform(e,s);Ga(i,t.getUniformLocation(e,i.name),this)}}setValue(t,e,i,s){const n=this.map[e];void 0!==n&&n.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];void 0!==s&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let n=0,a=e.length;n!==a;++n){const a=e[n],r=i[a.id];!1!==r.needsUpdate&&a.setValue(t,r.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,n=t.length;s!==n;++s){const n=t[s];n.id in e&&i.push(n)}return i}}function Ja(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}let Wa=0;function Ya(t,e,i){const s=t.getShaderParameter(e,t.COMPILE_STATUS),n=t.getShaderInfoLog(e).trim();if(s&&""===n)return"";const a=/ERROR: 0:(\d+)/.exec(n);if(a){const s=parseInt(a[1]);return i.toUpperCase()+"\n\n"+n+"\n\n"+function(t,e){const i=t.split("\n"),s=[],n=Math.max(e-6,0),a=Math.min(e+6,i.length);for(let t=n;t<a;t++){const n=t+1;s.push(`${n===e?">":" "} ${n}: ${i[t]}`)}return s.join("\n")}(t.getShaderSource(e),s)}return n}function $a(t,e){const i=function(t){switch(t){case qt:return["Linear","( value )"];case Gt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Xa(t,e){let i;switch(e){case ot:i="Linear";break;case lt:i="Reinhard";break;case ct:i="OptimizedCineon";break;case ht:i="ACESFilmic";break;case ut:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Ka(t){return""!==t}function Za(t,e){const i=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Qa(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const tr=/^[ \t]*#include +<([\w\d./]+)>/gm;function er(t){return t.replace(tr,sr)}const ir=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function sr(t,e){let i=hn[e];if(void 0===i){const t=ir.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");i=hn[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return er(i)}const nr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ar(t){return t.replace(nr,rr)}function rr(t,e,i,s){let n="";for(let t=parseInt(e);t<parseInt(i);t++)n+=s.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return n}function or(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function lr(t,e,i,s){const n=t.getContext(),a=i.defines;let r=i.vertexShader,o=i.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Q?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===tt?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===et&&(e="SHADOWMAP_TYPE_VSM"),e}(i),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case dt:case pt:e="ENVMAP_TYPE_CUBE";break;case mt:e="ENVMAP_TYPE_CUBE_UV"}return e}(i),h=function(t){let e="ENVMAP_MODE_REFLECTION";return t.envMap&&t.envMapMode===pt&&(e="ENVMAP_MODE_REFRACTION"),e}(i),u=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case st:e="ENVMAP_BLENDING_MULTIPLY";break;case nt:e="ENVMAP_BLENDING_MIX";break;case at:e="ENVMAP_BLENDING_ADD"}return e}(i),d=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const i=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:s,maxMip:i}}(i),p=i.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ka).join("\n")}(i),m=function(t){const e=[];for(const i in t){const s=t[i];!1!==s&&e.push("#define "+i+" "+s)}return e.join("\n")}(a),g=n.createProgram();let _,f,y=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(_=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,m].filter(Ka).join("\n"),_.length>0&&(_+="\n"),f=[p,"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,m].filter(Ka).join("\n"),f.length>0&&(f+="\n")):(_=[or(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,m,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ka).join("\n"),f=[p,or(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,m,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+h:"",i.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==rt?"#define TONE_MAPPING":"",i.toneMapping!==rt?hn.tonemapping_pars_fragment:"",i.toneMapping!==rt?Xa("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",hn.colorspace_pars_fragment,$a("linearToOutputTexel",i.outputColorSpace),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Ka).join("\n")),r=er(r),r=Za(r,i),r=Qa(r,i),o=er(o),o=Za(o,i),o=Qa(o,i),r=ar(r),o=ar(o),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(y="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,f=["#define varying in",i.glslVersion===$t?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===$t?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+f);const v=y+_+r,b=y+f+o,x=Ja(n,n.VERTEX_SHADER,v),S=Ja(n,n.FRAGMENT_SHADER,b);if(n.attachShader(g,x),n.attachShader(g,S),void 0!==i.index0AttributeName?n.bindAttribLocation(g,0,i.index0AttributeName):!0===i.morphTargets&&n.bindAttribLocation(g,0,"position"),n.linkProgram(g),t.debug.checkShaderErrors){const e=n.getProgramInfoLog(g).trim(),i=n.getShaderInfoLog(x).trim(),s=n.getShaderInfoLog(S).trim();let a=!0,r=!0;if(!1===n.getProgramParameter(g,n.LINK_STATUS))if(a=!1,"function"==typeof t.debug.onShaderError)t.debug.onShaderError(n,g,x,S);else{const t=Ya(n,x,"vertex"),i=Ya(n,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(g,n.VALIDATE_STATUS)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+i)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==i&&""!==s||(r=!1);r&&(this.diagnostics={runnable:a,programLog:e,vertexShader:{log:i,prefix:_},fragmentShader:{log:s,prefix:f}})}let T,w;return n.deleteShader(x),n.deleteShader(S),this.getUniforms=function(){return void 0===T&&(T=new qa(n,g)),T},this.getAttributes=function(){return void 0===w&&(w=function(t,e){const i={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let n=0;n<s;n++){const s=t.getActiveAttrib(e,n),a=s.name;let r=1;s.type===t.FLOAT_MAT2&&(r=2),s.type===t.FLOAT_MAT3&&(r=3),s.type===t.FLOAT_MAT4&&(r=4),i[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:r}}return i}(n,g)),w},this.destroy=function(){s.releaseStatesOfProgram(this),n.deleteProgram(g),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=Wa++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=S,this}let cr=0;class hr{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(e),n=this._getShaderStage(i),a=this._getShaderCacheForMaterial(t);return!1===a.has(s)&&(a.add(s),s.usedTimes++),!1===a.has(n)&&(a.add(n),n.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const t of e)t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return void 0===i&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return void 0===i&&(i=new ur(t),e.set(t,i)),i}}class ur{constructor(t){this.id=cr++,this.code=t,this.usedTimes=0}}function dr(t,e,i,s,n,a,r){const o=new Ai,l=new hr,c=[],h=n.isWebGL2,u=n.logarithmicDepthBuffer,d=n.vertexTextures;let p=n.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(t){return 0===t?"uv":`uv${t}`}return{getParameters:function(a,o,c,_,f){const y=_.fog,v=f.geometry,b=a.isMeshStandardMaterial?_.environment:null,x=(a.isMeshStandardMaterial?i:e).get(a.envMap||b),S=x&&x.mapping===mt?x.image.height:null,T=m[a.type];null!==a.precision&&(p=n.getMaxPrecision(a.precision),p!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead."));const w=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,E=void 0!==w?w.length:0;let A,I,M,C,N=0;if(void 0!==v.morphAttributes.position&&(N=1),void 0!==v.morphAttributes.normal&&(N=2),void 0!==v.morphAttributes.color&&(N=3),T){const t=dn[T];A=t.vertexShader,I=t.fragmentShader}else A=a.vertexShader,I=a.fragmentShader,l.update(a),M=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);const P=t.getRenderTarget(),R=!0===f.isInstancedMesh,L=!!a.map,O=!!a.matcap,D=!!x,k=!!a.aoMap,F=!!a.lightMap,U=!!a.bumpMap,z=!!a.normalMap,j=!!a.displacementMap,B=!!a.emissiveMap,H=!!a.metalnessMap,V=!!a.roughnessMap,G=a.anisotropy>0,q=a.clearcoat>0,J=a.iridescence>0,W=a.sheen>0,Y=a.transmission>0,$=G&&!!a.anisotropyMap,X=q&&!!a.clearcoatMap,K=q&&!!a.clearcoatNormalMap,Z=q&&!!a.clearcoatRoughnessMap,Q=J&&!!a.iridescenceMap,tt=J&&!!a.iridescenceThicknessMap,et=W&&!!a.sheenColorMap,it=W&&!!a.sheenRoughnessMap,st=!!a.specularMap,nt=!!a.specularColorMap,at=!!a.specularIntensityMap,ot=Y&&!!a.transmissionMap,lt=Y&&!!a.thicknessMap,ct=!!a.gradientMap,ht=!!a.alphaMap,ut=a.alphaTest>0,dt=!!a.alphaHash,pt=!!a.extensions,gt=!!v.attributes.uv1,_t=!!v.attributes.uv2,ft=!!v.attributes.uv3;return{isWebGL2:h,shaderID:T,shaderType:a.type,shaderName:a.name,vertexShader:A,fragmentShader:I,defines:a.defines,customVertexShaderID:M,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,instancing:R,instancingColor:R&&null!==f.instanceColor,supportsVertexTextures:d,outputColorSpace:null===P?t.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:qt,map:L,matcap:O,envMap:D,envMapMode:D&&x.mapping,envMapCubeUVHeight:S,aoMap:k,lightMap:F,bumpMap:U,normalMap:z,displacementMap:d&&j,emissiveMap:B,normalMapObjectSpace:z&&1===a.normalMapType,normalMapTangentSpace:z&&0===a.normalMapType,metalnessMap:H,roughnessMap:V,anisotropy:G,anisotropyMap:$,clearcoat:q,clearcoatMap:X,clearcoatNormalMap:K,clearcoatRoughnessMap:Z,iridescence:J,iridescenceMap:Q,iridescenceThicknessMap:tt,sheen:W,sheenColorMap:et,sheenRoughnessMap:it,specularMap:st,specularColorMap:nt,specularIntensityMap:at,transmission:Y,transmissionMap:ot,thicknessMap:lt,gradientMap:ct,opaque:!1===a.transparent&&1===a.blending,alphaMap:ht,alphaTest:ut,alphaHash:dt,combine:a.combine,mapUv:L&&g(a.map.channel),aoMapUv:k&&g(a.aoMap.channel),lightMapUv:F&&g(a.lightMap.channel),bumpMapUv:U&&g(a.bumpMap.channel),normalMapUv:z&&g(a.normalMap.channel),displacementMapUv:j&&g(a.displacementMap.channel),emissiveMapUv:B&&g(a.emissiveMap.channel),metalnessMapUv:H&&g(a.metalnessMap.channel),roughnessMapUv:V&&g(a.roughnessMap.channel),anisotropyMapUv:$&&g(a.anisotropyMap.channel),clearcoatMapUv:X&&g(a.clearcoatMap.channel),clearcoatNormalMapUv:K&&g(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Z&&g(a.clearcoatRoughnessMap.channel),iridescenceMapUv:Q&&g(a.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&g(a.iridescenceThicknessMap.channel),sheenColorMapUv:et&&g(a.sheenColorMap.channel),sheenRoughnessMapUv:it&&g(a.sheenRoughnessMap.channel),specularMapUv:st&&g(a.specularMap.channel),specularColorMapUv:nt&&g(a.specularColorMap.channel),specularIntensityMapUv:at&&g(a.specularIntensityMap.channel),transmissionMapUv:ot&&g(a.transmissionMap.channel),thicknessMapUv:lt&&g(a.thicknessMap.channel),alphaMapUv:ht&&g(a.alphaMap.channel),vertexTangents:!!v.attributes.tangent&&(z||G),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!v.attributes.color&&4===v.attributes.color.itemSize,vertexUv1s:gt,vertexUv2s:_t,vertexUv3s:ft,pointsUvs:!0===f.isPoints&&!!v.attributes.uv&&(L||ht),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===f.isSkinnedMesh,morphTargets:void 0!==v.morphAttributes.position,morphNormals:void 0!==v.morphAttributes.normal,morphColors:void 0!==v.morphAttributes.color,morphTargetsCount:E,morphTextureStride:N,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numClippingPlanes:r.numPlanes,numClipIntersection:r.numIntersection,dithering:a.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.length>0,shadowMapType:t.shadowMap.type,toneMapping:a.toneMapped?t.toneMapping:rt,useLegacyLights:t.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:pt&&!0===a.extensions.derivatives,extensionFragDepth:pt&&!0===a.extensions.fragDepth,extensionDrawBuffers:pt&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:pt&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||s.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(e){const i=[];if(e.shaderID?i.push(e.shaderID):(i.push(e.customVertexShaderID),i.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)i.push(t),i.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(i,e),function(t,e){o.disableAll(),e.isWebGL2&&o.enable(0),e.supportsVertexTextures&&o.enable(1),e.instancing&&o.enable(2),e.instancingColor&&o.enable(3),e.matcap&&o.enable(4),e.envMap&&o.enable(5),e.normalMapObjectSpace&&o.enable(6),e.normalMapTangentSpace&&o.enable(7),e.clearcoat&&o.enable(8),e.iridescence&&o.enable(9),e.alphaTest&&o.enable(10),e.vertexColors&&o.enable(11),e.vertexAlphas&&o.enable(12),e.vertexUv1s&&o.enable(13),e.vertexUv2s&&o.enable(14),e.vertexUv3s&&o.enable(15),e.vertexTangents&&o.enable(16),e.anisotropy&&o.enable(17),t.push(o.mask),o.disableAll(),e.fog&&o.enable(0),e.useFog&&o.enable(1),e.flatShading&&o.enable(2),e.logarithmicDepthBuffer&&o.enable(3),e.skinning&&o.enable(4),e.morphTargets&&o.enable(5),e.morphNormals&&o.enable(6),e.morphColors&&o.enable(7),e.premultipliedAlpha&&o.enable(8),e.shadowMapEnabled&&o.enable(9),e.useLegacyLights&&o.enable(10),e.doubleSided&&o.enable(11),e.flipSided&&o.enable(12),e.useDepthPacking&&o.enable(13),e.dithering&&o.enable(14),e.transmission&&o.enable(15),e.sheen&&o.enable(16),e.opaque&&o.enable(17),e.pointsUvs&&o.enable(18),t.push(o.mask)}(i,e),i.push(t.outputColorSpace)),i.push(e.customProgramCacheKey),i.join()},getUniforms:function(t){const e=m[t.type];let i;if(e){const t=dn[e];i=qs.clone(t.uniforms)}else i=t.uniforms;return i},acquireProgram:function(e,i){let s;for(let t=0,e=c.length;t<e;t++){const e=c[t];if(e.cacheKey===i){s=e,++s.usedTimes;break}}return void 0===s&&(s=new lr(t,i,e,a),c.push(s)),s},releaseProgram:function(t){if(0==--t.usedTimes){const e=c.indexOf(t);c[e]=c[c.length-1],c.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:c,dispose:function(){l.dispose()}}}function pr(){let t=new WeakMap;return{get:function(e){let i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,s){t.get(e)[i]=s},dispose:function(){t=new WeakMap}}}function mr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function _r(){const t=[];let e=0;const i=[],s=[],n=[];function a(i,s,n,a,r,o){let l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:s,material:n,groupOrder:a,renderOrder:i.renderOrder,z:r,group:o},t[e]=l):(l.id=i.id,l.object=i,l.geometry=s,l.material=n,l.groupOrder=a,l.renderOrder=i.renderOrder,l.z=r,l.group=o),e++,l}return{opaque:i,transmissive:s,transparent:n,init:function(){e=0,i.length=0,s.length=0,n.length=0},push:function(t,e,r,o,l,c){const h=a(t,e,r,o,l,c);r.transmission>0?s.push(h):!0===r.transparent?n.push(h):i.push(h)},unshift:function(t,e,r,o,l,c){const h=a(t,e,r,o,l,c);r.transmission>0?s.unshift(h):!0===r.transparent?n.unshift(h):i.unshift(h)},finish:function(){for(let i=e,s=t.length;i<s;i++){const e=t[i];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){i.length>1&&i.sort(t||mr),s.length>1&&s.sort(e||gr),n.length>1&&n.sort(e||gr)}}}function fr(){let t=new WeakMap;return{get:function(e,i){const s=t.get(e);let n;return void 0===s?(n=new _r,t.set(e,[n])):i>=s.length?(n=new _r,s.push(n)):n=s[i],n},dispose:function(){t=new WeakMap}}}function yr(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new ze,color:new as};break;case"SpotLight":i={position:new ze,direction:new ze,color:new as,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new ze,color:new as,distance:0,decay:0};break;case"HemisphereLight":i={direction:new ze,skyColor:new as,groundColor:new as};break;case"RectAreaLight":i={color:new as,position:new ze,halfWidth:new ze,halfHeight:new ze}}return t[e.id]=i,i}}}let vr=0;function br(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function xr(t,e){const i=new yr,s=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let i;switch(e.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=i,i}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let t=0;t<9;t++)n.probe.push(new ze);const a=new ze,r=new gi,o=new gi;return{setup:function(a,r){let o=0,l=0,c=0;for(let t=0;t<9;t++)n.probe[t].set(0,0,0);let h=0,u=0,d=0,p=0,m=0,g=0,_=0,f=0,y=0,v=0;a.sort(br);const b=!0===r?Math.PI:1;for(let t=0,e=a.length;t<e;t++){const e=a[t],r=e.color,x=e.intensity,S=e.distance,T=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)o+=r.r*x*b,l+=r.g*x*b,c+=r.b*x*b;else if(e.isLightProbe)for(let t=0;t<9;t++)n.probe[t].addScaledVector(e.sh.coefficients[t],x);else if(e.isDirectionalLight){const t=i.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*b),e.castShadow){const t=e.shadow,i=s.get(e);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,n.directionalShadow[h]=i,n.directionalShadowMap[h]=T,n.directionalShadowMatrix[h]=e.shadow.matrix,g++}n.directional[h]=t,h++}else if(e.isSpotLight){const t=i.get(e);t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(r).multiplyScalar(x*b),t.distance=S,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,n.spot[d]=t;const a=e.shadow;if(e.map&&(n.spotLightMap[y]=e.map,y++,a.updateMatrices(e),e.castShadow&&v++),n.spotLightMatrix[d]=a.matrix,e.castShadow){const t=s.get(e);t.shadowBias=a.bias,t.shadowNormalBias=a.normalBias,t.shadowRadius=a.radius,t.shadowMapSize=a.mapSize,n.spotShadow[d]=t,n.spotShadowMap[d]=T,f++}d++}else if(e.isRectAreaLight){const t=i.get(e);t.color.copy(r).multiplyScalar(x),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),n.rectArea[p]=t,p++}else if(e.isPointLight){const t=i.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*b),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,i=s.get(e);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,i.shadowCameraNear=t.camera.near,i.shadowCameraFar=t.camera.far,n.pointShadow[u]=i,n.pointShadowMap[u]=T,n.pointShadowMatrix[u]=e.shadow.matrix,_++}n.point[u]=t,u++}else if(e.isHemisphereLight){const t=i.get(e);t.skyColor.copy(e.color).multiplyScalar(x*b),t.groundColor.copy(e.groundColor).multiplyScalar(x*b),n.hemi[m]=t,m++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(n.rectAreaLTC1=un.LTC_FLOAT_1,n.rectAreaLTC2=un.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(n.rectAreaLTC1=un.LTC_HALF_1,n.rectAreaLTC2=un.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=o,n.ambient[1]=l,n.ambient[2]=c;const x=n.hash;x.directionalLength===h&&x.pointLength===u&&x.spotLength===d&&x.rectAreaLength===p&&x.hemiLength===m&&x.numDirectionalShadows===g&&x.numPointShadows===_&&x.numSpotShadows===f&&x.numSpotMaps===y||(n.directional.length=h,n.spot.length=d,n.rectArea.length=p,n.point.length=u,n.hemi.length=m,n.directionalShadow.length=g,n.directionalShadowMap.length=g,n.pointShadow.length=_,n.pointShadowMap.length=_,n.spotShadow.length=f,n.spotShadowMap.length=f,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=_,n.spotLightMatrix.length=f+y-v,n.spotLightMap.length=y,n.numSpotLightShadowsWithMaps=v,x.directionalLength=h,x.pointLength=u,x.spotLength=d,x.rectAreaLength=p,x.hemiLength=m,x.numDirectionalShadows=g,x.numPointShadows=_,x.numSpotShadows=f,x.numSpotMaps=y,n.version=vr++)},setupView:function(t,e){let i=0,s=0,l=0,c=0,h=0;const u=e.matrixWorldInverse;for(let e=0,d=t.length;e<d;e++){const d=t[e];if(d.isDirectionalLight){const t=n.directional[i];t.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(a),t.direction.transformDirection(u),i++}else if(d.isSpotLight){const t=n.spot[l];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(a),t.direction.transformDirection(u),l++}else if(d.isRectAreaLight){const t=n.rectArea[c];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),o.identity(),r.copy(d.matrixWorld),r.premultiply(u),o.extractRotation(r),t.halfWidth.set(.5*d.width,0,0),t.halfHeight.set(0,.5*d.height,0),t.halfWidth.applyMatrix4(o),t.halfHeight.applyMatrix4(o),c++}else if(d.isPointLight){const t=n.point[s];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),s++}else if(d.isHemisphereLight){const t=n.hemi[h];t.direction.setFromMatrixPosition(d.matrixWorld),t.direction.transformDirection(u),h++}}},state:n}}function Sr(t,e){const i=new xr(t,e),s=[],n=[];return{init:function(){s.length=0,n.length=0},state:{lightsArray:s,shadowsArray:n,lights:i},setupLights:function(t){i.setup(s,t)},setupLightsView:function(t){i.setupView(s,t)},pushLight:function(t){s.push(t)},pushShadow:function(t){n.push(t)}}}function Tr(t,e){let i=new WeakMap;return{get:function(s,n=0){const a=i.get(s);let r;return void 0===a?(r=new Sr(t,e),i.set(s,[r])):n>=a.length?(r=new Sr(t,e),a.push(r)):r=a[n],r},dispose:function(){i=new WeakMap}}}class wr extends ts{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class Er extends ts{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function Ar(t,e,i){let s=new rn;const n=new pe,a=new pe,r=new Oe,o=new wr({depthPacking:3201}),l=new Er,c={},h=i.maxTextureSize,u={0:1,1:0,2:2},d=new Js({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const m=new xs;m.setAttribute("position",new hs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new zs(m,d),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Q;let f=this.type;function y(i,s){const a=e.update(g);d.defines.VSM_SAMPLES!==i.blurSamples&&(d.defines.VSM_SAMPLES=i.blurSamples,p.defines.VSM_SAMPLES=i.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),null===i.mapPass&&(i.mapPass=new De(n.x,n.y)),d.uniforms.shadow_pass.value=i.map.texture,d.uniforms.resolution.value=i.mapSize,d.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(s,null,a,d,g,null),p.uniforms.shadow_pass.value=i.mapPass.texture,p.uniforms.resolution.value=i.mapSize,p.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(s,null,a,p,g,null)}function v(e,i,s,n){let a=null;const r=!0===s.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==r)a=r;else if(a=!0===s.isPointLight?l:o,t.localClippingEnabled&&!0===i.clipShadows&&Array.isArray(i.clippingPlanes)&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0||i.map&&i.alphaTest>0){const t=a.uuid,e=i.uuid;let s=c[t];void 0===s&&(s={},c[t]=s);let n=s[e];void 0===n&&(n=a.clone(),s[e]=n),a=n}return a.visible=i.visible,a.wireframe=i.wireframe,a.side=n===et?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],a.alphaMap=i.alphaMap,a.alphaTest=i.alphaTest,a.map=i.map,a.clipShadows=i.clipShadows,a.clippingPlanes=i.clippingPlanes,a.clipIntersection=i.clipIntersection,a.displacementMap=i.displacementMap,a.displacementScale=i.displacementScale,a.displacementBias=i.displacementBias,a.wireframeLinewidth=i.wireframeLinewidth,a.linewidth=i.linewidth,!0===s.isPointLight&&!0===a.isMeshDistanceMaterial&&(t.properties.get(a).light=s),a}function b(i,n,a,r,o){if(!1===i.visible)return;if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&o===et)&&(!i.frustumCulled||s.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);const s=e.update(i),n=i.material;if(Array.isArray(n)){const e=s.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],h=n[c.materialIndex];if(h&&h.visible){const e=v(i,h,r,o);t.renderBufferDirect(a,null,s,e,i,c)}}}else if(n.visible){const e=v(i,n,r,o);t.renderBufferDirect(a,null,s,e,i,null)}}const l=i.children;for(let t=0,e=l.length;t<e;t++)b(l[t],n,a,r,o)}this.render=function(e,i,o){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const p=f!==et&&this.type===et,m=f===et&&this.type!==et;for(let l=0,c=e.length;l<c;l++){const c=e[l],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;n.copy(u.mapSize);const g=u.getFrameExtents();if(n.multiply(g),a.copy(u.mapSize),(n.x>h||n.y>h)&&(n.x>h&&(a.x=Math.floor(h/g.x),n.x=a.x*g.x,u.mapSize.x=a.x),n.y>h&&(a.y=Math.floor(h/g.y),n.y=a.y*g.y,u.mapSize.y=a.y)),null===u.map||!0===p||!0===m){const t=this.type!==et?{minFilter:yt,magFilter:yt}:{};null!==u.map&&u.map.dispose(),u.map=new De(n.x,n.y,t),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const _=u.getViewportCount();for(let t=0;t<_;t++){const e=u.getViewport(t);r.set(a.x*e.x,a.y*e.y,a.x*e.z,a.y*e.w),d.viewport(r),u.updateMatrices(c,t),s=u.getFrustum(),b(i,o,u.camera,c,this.type)}!0!==u.isPointLightShadow&&this.type===et&&y(u,o),u.needsUpdate=!1}f=this.type,_.needsUpdate=!1,t.setRenderTarget(l,c,u)}}function Ir(t,e,i){const s=i.isWebGL2,n=new function(){let e=!1;const i=new Oe;let s=null;const n=new Oe(0,0,0,0);return{setMask:function(i){s===i||e||(t.colorMask(i,i,i,i),s=i)},setLocked:function(t){e=t},setClear:function(e,s,a,r,o){!0===o&&(e*=r,s*=r,a*=r),i.set(e,s,a,r),!1===n.equals(i)&&(t.clearColor(e,s,a,r),n.copy(i))},reset:function(){e=!1,s=null,n.set(-1,0,0,0)}}},a=new function(){let e=!1,i=null,s=null,n=null;return{setTest:function(e){e?j(t.DEPTH_TEST):B(t.DEPTH_TEST)},setMask:function(s){i===s||e||(t.depthMask(s),i=s)},setFunc:function(e){if(s!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}s=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,s=null,n=null}}},r=new function(){let e=!1,i=null,s=null,n=null,a=null,r=null,o=null,l=null,c=null;return{setTest:function(i){e||(i?j(t.STENCIL_TEST):B(t.STENCIL_TEST))},setMask:function(s){i===s||e||(t.stencilMask(s),i=s)},setFunc:function(e,i,r){s===e&&n===i&&a===r||(t.stencilFunc(e,i,r),s=e,n=i,a=r)},setOp:function(e,i,s){r===e&&o===i&&l===s||(t.stencilOp(e,i,s),r=e,o=i,l=s)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,i=null,s=null,n=null,a=null,r=null,o=null,l=null,c=null}}},o=new WeakMap,l=new WeakMap;let c={},h={},u=new WeakMap,d=[],p=null,m=!1,g=null,_=null,f=null,y=null,v=null,b=null,x=null,S=!1,T=null,w=null,E=null,A=null,I=null;const M=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,N=0;const P=t.getParameter(t.VERSION);-1!==P.indexOf("WebGL")?(N=parseFloat(/^WebGL (\d)/.exec(P)[1]),C=N>=1):-1!==P.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),C=N>=2);let R=null,L={};const O=t.getParameter(t.SCISSOR_BOX),D=t.getParameter(t.VIEWPORT),k=(new Oe).fromArray(O),F=(new Oe).fromArray(D);function U(e,i,n,a){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let o=0;o<n;o++)!s||e!==t.TEXTURE_3D&&e!==t.TEXTURE_2D_ARRAY?t.texImage2D(i+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage3D(i,0,t.RGBA,1,1,a,0,t.RGBA,t.UNSIGNED_BYTE,r);return o}const z={};function j(e){!0!==c[e]&&(t.enable(e),c[e]=!0)}function B(e){!1!==c[e]&&(t.disable(e),c[e]=!1)}z[t.TEXTURE_2D]=U(t.TEXTURE_2D,t.TEXTURE_2D,1),z[t.TEXTURE_CUBE_MAP]=U(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),s&&(z[t.TEXTURE_2D_ARRAY]=U(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),z[t.TEXTURE_3D]=U(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),n.setClear(0,0,0,1),a.setClear(1),r.setClear(0),j(t.DEPTH_TEST),a.setFunc(3),q(!1),J(1),j(t.CULL_FACE),G(0);const H={[it]:t.FUNC_ADD,101:t.FUNC_SUBTRACT,102:t.FUNC_REVERSE_SUBTRACT};if(s)H[103]=t.MIN,H[104]=t.MAX;else{const t=e.get("EXT_blend_minmax");null!==t&&(H[103]=t.MIN_EXT,H[104]=t.MAX_EXT)}const V={200:t.ZERO,201:t.ONE,202:t.SRC_COLOR,204:t.SRC_ALPHA,210:t.SRC_ALPHA_SATURATE,208:t.DST_COLOR,206:t.DST_ALPHA,203:t.ONE_MINUS_SRC_COLOR,205:t.ONE_MINUS_SRC_ALPHA,209:t.ONE_MINUS_DST_COLOR,207:t.ONE_MINUS_DST_ALPHA};function G(e,i,s,n,a,r,o,l){if(0!==e){if(!1===m&&(j(t.BLEND),m=!0),5===e)a=a||i,r=r||s,o=o||n,i===_&&a===v||(t.blendEquationSeparate(H[i],H[a]),_=i,v=a),s===f&&n===y&&r===b&&o===x||(t.blendFuncSeparate(V[s],V[n],V[r],V[o]),f=s,y=n,b=r,x=o),g=e,S=!1;else if(e!==g||l!==S){if(_===it&&v===it||(t.blendEquation(t.FUNC_ADD),_=it,v=it),l)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}f=null,y=null,b=null,x=null,g=e,S=l}}else!0===m&&(B(t.BLEND),m=!1)}function q(e){T!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),T=e)}function J(e){0!==e?(j(t.CULL_FACE),e!==w&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):B(t.CULL_FACE),w=e}function W(e,i,s){e?(j(t.POLYGON_OFFSET_FILL),A===i&&I===s||(t.polygonOffset(i,s),A=i,I=s)):B(t.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:a,stencil:r},enable:j,disable:B,bindFramebuffer:function(e,i){return h[e]!==i&&(t.bindFramebuffer(e,i),h[e]=i,s&&(e===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=i),e===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=i)),!0)},drawBuffers:function(s,n){let a=d,r=!1;if(s)if(a=u.get(n),void 0===a&&(a=[],u.set(n,a)),s.isWebGLMultipleRenderTargets){const e=s.texture;if(a.length!==e.length||a[0]!==t.COLOR_ATTACHMENT0){for(let i=0,s=e.length;i<s;i++)a[i]=t.COLOR_ATTACHMENT0+i;a.length=e.length,r=!0}}else a[0]!==t.COLOR_ATTACHMENT0&&(a[0]=t.COLOR_ATTACHMENT0,r=!0);else a[0]!==t.BACK&&(a[0]=t.BACK,r=!0);r&&(i.isWebGL2?t.drawBuffers(a):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(e){return p!==e&&(t.useProgram(e),p=e,!0)},setBlending:G,setMaterial:function(e,i){2===e.side?B(t.CULL_FACE):j(t.CULL_FACE);let s=1===e.side;i&&(s=!s),q(s),1===e.blending&&!1===e.transparent?G(0):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),n.setMask(e.colorWrite);const o=e.stencilWrite;r.setTest(o),o&&(r.setMask(e.stencilWriteMask),r.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),r.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),W(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?j(t.SAMPLE_ALPHA_TO_COVERAGE):B(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:J,setLineWidth:function(e){e!==E&&(C&&t.lineWidth(e),E=e)},setPolygonOffset:W,setScissorTest:function(e){e?j(t.SCISSOR_TEST):B(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+M-1),R!==e&&(t.activeTexture(e),R=e)},bindTexture:function(e,i,s){void 0===s&&(s=null===R?t.TEXTURE0+M-1:R);let n=L[s];void 0===n&&(n={type:void 0,texture:void 0},L[s]=n),n.type===e&&n.texture===i||(R!==s&&(t.activeTexture(s),R=s),t.bindTexture(e,i||z[e]),n.type=e,n.texture=i)},unbindTexture:function(){const e=L[R];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(e,i){let s=l.get(i);void 0===s&&(s=new WeakMap,l.set(i,s));let n=s.get(e);void 0===n&&(n=t.getUniformBlockIndex(i,e.name),s.set(e,n))},uniformBlockBinding:function(e,i){const s=l.get(i).get(e);o.get(i)!==s&&(t.uniformBlockBinding(i,s,e.__bindingPointIndex),o.set(i,s))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===k.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),k.copy(e))},viewport:function(e){!1===F.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),F.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),!0===s&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},R=null,L={},h={},u=new WeakMap,d=[],p=null,m=!1,g=null,_=null,f=null,y=null,v=null,b=null,x=null,S=!1,T=null,w=null,E=null,A=null,I=null,k.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),n.reset(),a.reset(),r.reset()}}}function Mr(t,e,i,s,n,a,r){const o=n.isWebGL2,l=n.maxTextures,c=n.maxCubemapSize,h=n.maxTextureSize,u=n.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const _=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function y(t,e){return f?new OffscreenCanvas(t,e):fe("canvas")}function v(t,e,i,s){let n=1;if((t.width>s||t.height>s)&&(n=s/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const s=e?ce:Math.floor,a=s(n*t.width),r=s(n*t.height);void 0===g&&(g=y(a,r));const o=i?y(a,r):g;return o.width=a,o.height=r,o.getContext("2d").drawImage(t,0,0,a,r),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+a+"x"+r+")."),o}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function b(t){return oe(t.width)&&oe(t.height)}function x(t,e){return t.generateMipmaps&&e&&t.minFilter!==yt&&t.minFilter!==xt}function S(e){t.generateMipmap(e)}function T(i,s,n,a,r=!1){if(!1===o)return s;if(null!==i){if(void 0!==t[i])return t[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}let l=s;return s===t.RED&&(n===t.FLOAT&&(l=t.R32F),n===t.HALF_FLOAT&&(l=t.R16F),n===t.UNSIGNED_BYTE&&(l=t.R8)),s===t.RG&&(n===t.FLOAT&&(l=t.RG32F),n===t.HALF_FLOAT&&(l=t.RG16F),n===t.UNSIGNED_BYTE&&(l=t.RG8)),s===t.RGBA&&(n===t.FLOAT&&(l=t.RGBA32F),n===t.HALF_FLOAT&&(l=t.RGBA16F),n===t.UNSIGNED_BYTE&&(l=a===Gt&&!1===r?t.SRGB8_ALPHA8:t.RGBA8),n===t.UNSIGNED_SHORT_4_4_4_4&&(l=t.RGBA4),n===t.UNSIGNED_SHORT_5_5_5_1&&(l=t.RGB5_A1)),l!==t.R16F&&l!==t.R32F&&l!==t.RG16F&&l!==t.RG32F&&l!==t.RGBA16F&&l!==t.RGBA32F||e.get("EXT_color_buffer_float"),l}function w(t,e,i){return!0===x(t,i)||t.isFramebufferTexture&&t.minFilter!==yt&&t.minFilter!==xt?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function E(e){return e===yt||e===vt||e===bt?t.NEAREST:t.LINEAR}function A(t){const e=t.target;e.removeEventListener("dispose",A),function(t){const e=s.get(t);if(void 0===e.__webglInit)return;const i=t.source,n=_.get(i);if(n){const s=n[e.__cacheKey];s.usedTimes--,0===s.usedTimes&&M(t),0===Object.keys(n).length&&_.delete(i)}s.remove(t)}(e),e.isVideoTexture&&m.delete(e)}function I(e){const i=e.target;i.removeEventListener("dispose",I),function(e){const i=e.texture,n=s.get(e),a=s.get(i);if(void 0!==a.__webglTexture&&(t.deleteTexture(a.__webglTexture),r.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else{if(t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let e=0;e<n.__webglColorRenderbuffer.length;e++)n.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(n.__webglColorRenderbuffer[e]);n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(let e=0,n=i.length;e<n;e++){const n=s.get(i[e]);n.__webglTexture&&(t.deleteTexture(n.__webglTexture),r.memory.textures--),s.remove(i[e])}s.remove(i),s.remove(e)}(i)}function M(e){const i=s.get(e);t.deleteTexture(i.__webglTexture);const n=e.source;delete _.get(n)[i.__cacheKey],r.memory.textures--}let C=0;function N(e,n){const a=s.get(e);if(e.isVideoTexture&&function(t){const e=r.render.frame;m.get(t)!==e&&(m.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&a.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void k(a,e,n);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.bindTexture(t.TEXTURE_2D,a.__webglTexture,t.TEXTURE0+n)}const P={[gt]:t.REPEAT,[_t]:t.CLAMP_TO_EDGE,[ft]:t.MIRRORED_REPEAT},R={[yt]:t.NEAREST,[vt]:t.NEAREST_MIPMAP_NEAREST,[bt]:t.NEAREST_MIPMAP_LINEAR,[xt]:t.LINEAR,1007:t.LINEAR_MIPMAP_NEAREST,[St]:t.LINEAR_MIPMAP_LINEAR},L={512:t.NEVER,519:t.ALWAYS,513:t.LESS,515:t.LEQUAL,514:t.EQUAL,518:t.GEQUAL,516:t.GREATER,517:t.NOTEQUAL};function O(i,a,r){if(r?(t.texParameteri(i,t.TEXTURE_WRAP_S,P[a.wrapS]),t.texParameteri(i,t.TEXTURE_WRAP_T,P[a.wrapT]),i!==t.TEXTURE_3D&&i!==t.TEXTURE_2D_ARRAY||t.texParameteri(i,t.TEXTURE_WRAP_R,P[a.wrapR]),t.texParameteri(i,t.TEXTURE_MAG_FILTER,R[a.magFilter]),t.texParameteri(i,t.TEXTURE_MIN_FILTER,R[a.minFilter])):(t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i!==t.TEXTURE_3D&&i!==t.TEXTURE_2D_ARRAY||t.texParameteri(i,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),a.wrapS===_t&&a.wrapT===_t||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(i,t.TEXTURE_MAG_FILTER,E(a.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,E(a.minFilter)),a.minFilter!==yt&&a.minFilter!==xt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(t.texParameteri(i,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(i,t.TEXTURE_COMPARE_FUNC,L[a.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const r=e.get("EXT_texture_filter_anisotropic");if(a.magFilter===yt)return;if(a.minFilter!==bt&&a.minFilter!==St)return;if(a.type===At&&!1===e.has("OES_texture_float_linear"))return;if(!1===o&&a.type===It&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||s.get(a).__currentAnisotropy)&&(t.texParameterf(i,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,n.getMaxAnisotropy())),s.get(a).__currentAnisotropy=a.anisotropy)}}function D(e,i){let s=!1;void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",A));const n=i.source;let a=_.get(n);void 0===a&&(a={},_.set(n,a));const o=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(i);if(o!==e.__cacheKey){void 0===a[o]&&(a[o]={texture:t.createTexture(),usedTimes:0},r.memory.textures++,s=!0),a[o].usedTimes++;const n=a[e.__cacheKey];void 0!==n&&(a[e.__cacheKey].usedTimes--,0===n.usedTimes&&M(i)),e.__cacheKey=o,e.__webglTexture=a[o].texture}return s}function k(e,n,r){let l=t.TEXTURE_2D;(n.isDataArrayTexture||n.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),n.isData3DTexture&&(l=t.TEXTURE_3D);const c=D(e,n),u=n.source;i.bindTexture(l,e.__webglTexture,t.TEXTURE0+r);const d=s.get(u);if(u.version!==d.__version||!0===c){i.activeTexture(t.TEXTURE0+r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const e=function(t){return!o&&(t.wrapS!==_t||t.wrapT!==_t||t.minFilter!==yt&&t.minFilter!==xt)}(n)&&!1===b(n.image);let s=v(n.image,e,!1,h);s=H(n,s);const p=b(s)||o,m=a.convert(n.format,n.colorSpace);let g,_=a.convert(n.type),f=T(n.internalFormat,m,_,n.colorSpace);O(l,n,p);const y=n.mipmaps,E=o&&!0!==n.isVideoTexture,A=void 0===d.__version||!0===c,I=w(n,s,p);if(n.isDepthTexture)f=t.DEPTH_COMPONENT,o?f=n.type===At?t.DEPTH_COMPONENT32F:n.type===Et?t.DEPTH_COMPONENT24:n.type===Mt?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:n.type===At&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Nt&&f===t.DEPTH_COMPONENT&&n.type!==wt&&n.type!==Et&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Et,_=a.convert(n.type)),n.format===Pt&&f===t.DEPTH_COMPONENT&&(f=t.DEPTH_STENCIL,n.type!==Mt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Mt,_=a.convert(n.type))),A&&(E?i.texStorage2D(t.TEXTURE_2D,1,f,s.width,s.height):i.texImage2D(t.TEXTURE_2D,0,f,s.width,s.height,0,m,_,null));else if(n.isDataTexture)if(y.length>0&&p){E&&A&&i.texStorage2D(t.TEXTURE_2D,I,f,y[0].width,y[0].height);for(let e=0,s=y.length;e<s;e++)g=y[e],E?i.texSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,m,_,g.data):i.texImage2D(t.TEXTURE_2D,e,f,g.width,g.height,0,m,_,g.data);n.generateMipmaps=!1}else E?(A&&i.texStorage2D(t.TEXTURE_2D,I,f,s.width,s.height),i.texSubImage2D(t.TEXTURE_2D,0,0,0,s.width,s.height,m,_,s.data)):i.texImage2D(t.TEXTURE_2D,0,f,s.width,s.height,0,m,_,s.data);else if(n.isCompressedTexture)if(n.isCompressedArrayTexture){E&&A&&i.texStorage3D(t.TEXTURE_2D_ARRAY,I,f,y[0].width,y[0].height,s.depth);for(let e=0,a=y.length;e<a;e++)g=y[e],n.format!==Ct?null!==m?E?i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,g.width,g.height,s.depth,m,g.data,0,0):i.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,f,g.width,g.height,s.depth,0,g.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?i.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,g.width,g.height,s.depth,m,_,g.data):i.texImage3D(t.TEXTURE_2D_ARRAY,e,f,g.width,g.height,s.depth,0,m,_,g.data)}else{E&&A&&i.texStorage2D(t.TEXTURE_2D,I,f,y[0].width,y[0].height);for(let e=0,s=y.length;e<s;e++)g=y[e],n.format!==Ct?null!==m?E?i.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,m,g.data):i.compressedTexImage2D(t.TEXTURE_2D,e,f,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?i.texSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,m,_,g.data):i.texImage2D(t.TEXTURE_2D,e,f,g.width,g.height,0,m,_,g.data)}else if(n.isDataArrayTexture)E?(A&&i.texStorage3D(t.TEXTURE_2D_ARRAY,I,f,s.width,s.height,s.depth),i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,s.width,s.height,s.depth,m,_,s.data)):i.texImage3D(t.TEXTURE_2D_ARRAY,0,f,s.width,s.height,s.depth,0,m,_,s.data);else if(n.isData3DTexture)E?(A&&i.texStorage3D(t.TEXTURE_3D,I,f,s.width,s.height,s.depth),i.texSubImage3D(t.TEXTURE_3D,0,0,0,0,s.width,s.height,s.depth,m,_,s.data)):i.texImage3D(t.TEXTURE_3D,0,f,s.width,s.height,s.depth,0,m,_,s.data);else if(n.isFramebufferTexture){if(A)if(E)i.texStorage2D(t.TEXTURE_2D,I,f,s.width,s.height);else{let e=s.width,n=s.height;for(let s=0;s<I;s++)i.texImage2D(t.TEXTURE_2D,s,f,e,n,0,m,_,null),e>>=1,n>>=1}}else if(y.length>0&&p){E&&A&&i.texStorage2D(t.TEXTURE_2D,I,f,y[0].width,y[0].height);for(let e=0,s=y.length;e<s;e++)g=y[e],E?i.texSubImage2D(t.TEXTURE_2D,e,0,0,m,_,g):i.texImage2D(t.TEXTURE_2D,e,f,m,_,g);n.generateMipmaps=!1}else E?(A&&i.texStorage2D(t.TEXTURE_2D,I,f,s.width,s.height),i.texSubImage2D(t.TEXTURE_2D,0,0,0,m,_,s)):i.texImage2D(t.TEXTURE_2D,0,f,m,_,s);x(n,p)&&S(l),d.__version=u.version,n.onUpdate&&n.onUpdate(n)}e.__version=n.version}function F(e,n,r,o,l){const c=a.convert(r.format,r.colorSpace),h=a.convert(r.type),u=T(r.internalFormat,c,h,r.colorSpace);s.get(n).__hasExternalTextures||(l===t.TEXTURE_3D||l===t.TEXTURE_2D_ARRAY?i.texImage3D(l,0,u,n.width,n.height,n.depth,0,c,h,null):i.texImage2D(l,0,u,n.width,n.height,0,c,h,null)),i.bindFramebuffer(t.FRAMEBUFFER,e),B(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,o,l,s.get(r).__webglTexture,0,j(n)):(l===t.TEXTURE_2D||l>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,o,l,s.get(r).__webglTexture,0),i.bindFramebuffer(t.FRAMEBUFFER,null)}function U(e,i,s){if(t.bindRenderbuffer(t.RENDERBUFFER,e),i.depthBuffer&&!i.stencilBuffer){let n=t.DEPTH_COMPONENT16;if(s||B(i)){const e=i.depthTexture;e&&e.isDepthTexture&&(e.type===At?n=t.DEPTH_COMPONENT32F:e.type===Et&&(n=t.DEPTH_COMPONENT24));const s=j(i);B(i)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,s,n,i.width,i.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,s,n,i.width,i.height)}else t.renderbufferStorage(t.RENDERBUFFER,n,i.width,i.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(i.depthBuffer&&i.stencilBuffer){const n=j(i);s&&!1===B(i)?t.renderbufferStorageMultisample(t.RENDERBUFFER,n,t.DEPTH24_STENCIL8,i.width,i.height):B(i)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,n,t.DEPTH24_STENCIL8,i.width,i.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else{const e=!0===i.isWebGLMultipleRenderTargets?i.texture:[i.texture];for(let n=0;n<e.length;n++){const r=e[n],o=a.convert(r.format,r.colorSpace),l=a.convert(r.type),c=T(r.internalFormat,o,l,r.colorSpace),h=j(i);s&&!1===B(i)?t.renderbufferStorageMultisample(t.RENDERBUFFER,h,c,i.width,i.height):B(i)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,h,c,i.width,i.height):t.renderbufferStorage(t.RENDERBUFFER,c,i.width,i.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function z(e){const n=s.get(e),a=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!n.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");s.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),N(n.depthTexture,0);const a=s.get(n.depthTexture).__webglTexture,r=j(n);if(n.depthTexture.format===Nt)B(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0,r):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0);else{if(n.depthTexture.format!==Pt)throw new Error("Unknown depthTexture format");B(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0,r):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0)}}(n.__webglFramebuffer,e)}else if(a){n.__webglDepthbuffer=[];for(let s=0;s<6;s++)i.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=t.createRenderbuffer(),U(n.__webglDepthbuffer[s],e,!1)}else i.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),U(n.__webglDepthbuffer,e,!1);i.bindFramebuffer(t.FRAMEBUFFER,null)}function j(t){return Math.min(u,t.samples)}function B(t){const i=s.get(t);return o&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function H(t,i){const s=t.colorSpace,n=t.format,a=t.type;return!0===t.isCompressedTexture||t.format===Xt||s!==qt&&""!==s&&(s===Gt?!1===o?!0===e.has("EXT_sRGB")&&n===Ct?(t.format=Xt,t.minFilter=xt,t.generateMipmaps=!1):i=Me.sRGBToLinear(i):n===Ct&&a===Tt||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",s)),i}this.allocateTextureUnit=function(){const t=C;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),C+=1,t},this.resetTextureUnits=function(){C=0},this.setTexture2D=N,this.setTexture2DArray=function(e,n){const a=s.get(e);e.version>0&&a.__version!==e.version?k(a,e,n):i.bindTexture(t.TEXTURE_2D_ARRAY,a.__webglTexture,t.TEXTURE0+n)},this.setTexture3D=function(e,n){const a=s.get(e);e.version>0&&a.__version!==e.version?k(a,e,n):i.bindTexture(t.TEXTURE_3D,a.__webglTexture,t.TEXTURE0+n)},this.setTextureCube=function(e,n){const r=s.get(e);e.version>0&&r.__version!==e.version?function(e,n,r){if(6!==n.image.length)return;const l=D(e,n),h=n.source;i.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+r);const u=s.get(h);if(h.version!==u.__version||!0===l){i.activeTexture(t.TEXTURE0+r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const e=n.isCompressedTexture||n.image[0].isCompressedTexture,s=n.image[0]&&n.image[0].isDataTexture,d=[];for(let t=0;t<6;t++)d[t]=e||s?s?n.image[t].image:n.image[t]:v(n.image[t],!1,!0,c),d[t]=H(n,d[t]);const p=d[0],m=b(p)||o,g=a.convert(n.format,n.colorSpace),_=a.convert(n.type),f=T(n.internalFormat,g,_,n.colorSpace),y=o&&!0!==n.isVideoTexture,E=void 0===u.__version||!0===l;let A,I=w(n,p,m);if(O(t.TEXTURE_CUBE_MAP,n,m),e){y&&E&&i.texStorage2D(t.TEXTURE_CUBE_MAP,I,f,p.width,p.height);for(let e=0;e<6;e++){A=d[e].mipmaps;for(let s=0;s<A.length;s++){const a=A[s];n.format!==Ct?null!==g?y?i.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s,0,0,a.width,a.height,g,a.data):i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s,f,a.width,a.height,0,a.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s,0,0,a.width,a.height,g,_,a.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s,f,a.width,a.height,0,g,_,a.data)}}}else{A=n.mipmaps,y&&E&&(A.length>0&&I++,i.texStorage2D(t.TEXTURE_CUBE_MAP,I,f,d[0].width,d[0].height));for(let e=0;e<6;e++)if(s){y?i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,d[e].width,d[e].height,g,_,d[e].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,f,d[e].width,d[e].height,0,g,_,d[e].data);for(let s=0;s<A.length;s++){const n=A[s].image[e].image;y?i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s+1,0,0,n.width,n.height,g,_,n.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s+1,f,n.width,n.height,0,g,_,n.data)}}else{y?i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,g,_,d[e]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,f,g,_,d[e]);for(let s=0;s<A.length;s++){const n=A[s];y?i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s+1,0,0,g,_,n.image[e]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,s+1,f,g,_,n.image[e])}}}x(n,m)&&S(t.TEXTURE_CUBE_MAP),u.__version=h.version,n.onUpdate&&n.onUpdate(n)}e.__version=n.version}(r,e,n):i.bindTexture(t.TEXTURE_CUBE_MAP,r.__webglTexture,t.TEXTURE0+n)},this.rebindTextures=function(e,i,n){const a=s.get(e);void 0!==i&&F(a.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),void 0!==n&&z(e)},this.setupRenderTarget=function(e){const l=e.texture,c=s.get(e),h=s.get(l);e.addEventListener("dispose",I),!0!==e.isWebGLMultipleRenderTargets&&(void 0===h.__webglTexture&&(h.__webglTexture=t.createTexture()),h.__version=l.version,r.memory.textures++);const u=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,p=b(e)||o;if(u){c.__webglFramebuffer=[];for(let e=0;e<6;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else{if(c.__webglFramebuffer=t.createFramebuffer(),d)if(n.drawBuffers){const i=e.texture;for(let e=0,n=i.length;e<n;e++){const n=s.get(i[e]);void 0===n.__webglTexture&&(n.__webglTexture=t.createTexture(),r.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&e.samples>0&&!1===B(e)){const s=d?l:[l];c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=[],i.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let i=0;i<s.length;i++){const n=s[i];c.__webglColorRenderbuffer[i]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,c.__webglColorRenderbuffer[i]);const r=a.convert(n.format,n.colorSpace),o=a.convert(n.type),l=T(n.internalFormat,r,o,n.colorSpace,!0===e.isXRRenderTarget),h=j(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,h,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+i,t.RENDERBUFFER,c.__webglColorRenderbuffer[i])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),U(c.__webglDepthRenderbuffer,e,!0)),i.bindFramebuffer(t.FRAMEBUFFER,null)}}if(u){i.bindTexture(t.TEXTURE_CUBE_MAP,h.__webglTexture),O(t.TEXTURE_CUBE_MAP,l,p);for(let i=0;i<6;i++)F(c.__webglFramebuffer[i],e,l,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+i);x(l,p)&&S(t.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(d){const n=e.texture;for(let a=0,r=n.length;a<r;a++){const r=n[a],o=s.get(r);i.bindTexture(t.TEXTURE_2D,o.__webglTexture),O(t.TEXTURE_2D,r,p),F(c.__webglFramebuffer,e,r,t.COLOR_ATTACHMENT0+a,t.TEXTURE_2D),x(r,p)&&S(t.TEXTURE_2D)}i.unbindTexture()}else{let s=t.TEXTURE_2D;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(o?s=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(s,h.__webglTexture),O(s,l,p),F(c.__webglFramebuffer,e,l,t.COLOR_ATTACHMENT0,s),x(l,p)&&S(s),i.unbindTexture()}e.depthBuffer&&z(e)},this.updateRenderTargetMipmap=function(e){const n=b(e)||o,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let r=0,o=a.length;r<o;r++){const o=a[r];if(x(o,n)){const n=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=s.get(o).__webglTexture;i.bindTexture(n,a),S(n),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(o&&e.samples>0&&!1===B(e)){const n=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=e.width,r=e.height;let o=t.COLOR_BUFFER_BIT;const l=[],c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,h=s.get(e),u=!0===e.isWebGLMultipleRenderTargets;if(u)for(let e=0;e<n.length;e++)i.bindFramebuffer(t.FRAMEBUFFER,h.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),i.bindFramebuffer(t.FRAMEBUFFER,h.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);i.bindFramebuffer(t.READ_FRAMEBUFFER,h.__webglMultisampledFramebuffer),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,h.__webglFramebuffer);for(let i=0;i<n.length;i++){l.push(t.COLOR_ATTACHMENT0+i),e.depthBuffer&&l.push(c);const d=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===d&&(e.depthBuffer&&(o|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(o|=t.STENCIL_BUFFER_BIT)),u&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,h.__webglColorRenderbuffer[i]),!0===d&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[c]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[c])),u){const e=s.get(n[i]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,a,r,0,0,a,r,o,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,l)}if(i.bindFramebuffer(t.READ_FRAMEBUFFER,null),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),u)for(let e=0;e<n.length;e++){i.bindFramebuffer(t.FRAMEBUFFER,h.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,h.__webglColorRenderbuffer[e]);const a=s.get(n[e]).__webglTexture;i.bindFramebuffer(t.FRAMEBUFFER,h.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,a,0)}i.bindFramebuffer(t.DRAW_FRAMEBUFFER,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=F,this.useMultisampledRTT=B}function Cr(t,e,i){const s=i.isWebGL2;return{convert:function(i,n=""){let a;if(i===Tt)return t.UNSIGNED_BYTE;if(1017===i)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===i)return t.UNSIGNED_SHORT_5_5_5_1;if(1010===i)return t.BYTE;if(1011===i)return t.SHORT;if(i===wt)return t.UNSIGNED_SHORT;if(1013===i)return t.INT;if(i===Et)return t.UNSIGNED_INT;if(i===At)return t.FLOAT;if(i===It)return s?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===i)return t.ALPHA;if(i===Ct)return t.RGBA;if(1024===i)return t.LUMINANCE;if(1025===i)return t.LUMINANCE_ALPHA;if(i===Nt)return t.DEPTH_COMPONENT;if(i===Pt)return t.DEPTH_STENCIL;if(i===Xt)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===i)return t.RED;if(1029===i)return t.RED_INTEGER;if(1030===i)return t.RG;if(1031===i)return t.RG_INTEGER;if(1033===i)return t.RGBA_INTEGER;if(i===Rt||i===Lt||i===Ot||i===Dt)if(n===Gt){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(i===Rt)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Lt)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ot)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Dt)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(i===Rt)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Lt)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ot)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Dt)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===i||35841===i||35842===i||35843===i){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===i)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===i)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===i)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===i)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===i)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===i||37496===i){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===i)return n===Gt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===i||37809===i||37810===i||37811===i||37812===i||37813===i||37814===i||37815===i||37816===i||37817===i||37818===i||37819===i||37820===i||37821===i){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===i)return n===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===kt){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(i===kt)return n===Gt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===i||36284===i||36285===i||36286===i){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(i===kt)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===i)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===i)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===i)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===Mt?s?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[i]?t[i]:null}}}class Nr extends Ys{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Pr extends ji{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Rr={type:"move"};class Lr{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Pr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Pr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ze,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ze),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Pr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ze,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ze),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let s=null,n=null,a=null;const r=this._targetRay,o=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){a=!0;for(const s of t.hand.values()){const t=e.getJointPose(s,i),n=this._getHandJoint(l,s);null!==t&&(n.matrix.fromArray(t.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.matrixWorldNeedsUpdate=!0,n.jointRadius=t.radius),n.visible=null!==t}const s=l.joints["index-finger-tip"],n=l.joints["thumb-tip"],r=s.position.distanceTo(n.position),o=.02,c=.005;l.inputState.pinching&&r>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&r<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&t.gripSpace&&(n=e.getPose(t.gripSpace,i),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1));null!==r&&(s=e.getPose(t.targetRaySpace,i),null===s&&null!==n&&(s=n),null!==s&&(r.matrix.fromArray(s.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,s.linearVelocity?(r.hasLinearVelocity=!0,r.linearVelocity.copy(s.linearVelocity)):r.hasLinearVelocity=!1,s.angularVelocity?(r.hasAngularVelocity=!0,r.angularVelocity.copy(s.angularVelocity)):r.hasAngularVelocity=!1,this.dispatchEvent(Rr)))}return null!==r&&(r.visible=null!==s),null!==o&&(o.visible=null!==n),null!==l&&(l.visible=null!==a),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new Pr;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class Or extends Le{constructor(t,e,i,s,n,a,r,o,l,c){if((c=void 0!==c?c:Nt)!==Nt&&c!==Pt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===Nt&&(i=Et),void 0===i&&c===Pt&&(i=Mt),super(null,s,n,a,r,o,c,i,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==r?r:yt,this.minFilter=void 0!==o?o:yt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class Dr extends Qt{constructor(t,e){super();const i=this;let s=null,n=1,a=null,r="local-floor",o=1,l=null,c=null,h=null,u=null,d=null,p=null;const m=e.getContextAttributes();let g=null,_=null;const f=[],y=[],v=new Ys;v.layers.enable(1),v.viewport=new Oe;const b=new Ys;b.layers.enable(2),b.viewport=new Oe;const x=[v,b],S=new Nr;S.layers.enable(1),S.layers.enable(2);let T=null,w=null;function E(t){const e=y.indexOf(t.inputSource);if(-1===e)return;const i=f[e];void 0!==i&&(i.update(t.inputSource,t.frame,l||a),i.dispatchEvent({type:t.type,data:t.inputSource}))}function A(){s.removeEventListener("select",E),s.removeEventListener("selectstart",E),s.removeEventListener("selectend",E),s.removeEventListener("squeeze",E),s.removeEventListener("squeezestart",E),s.removeEventListener("squeezeend",E),s.removeEventListener("end",A),s.removeEventListener("inputsourceschange",I);for(let t=0;t<f.length;t++){const e=y[t];null!==e&&(y[t]=null,f[t].disconnect(e))}T=null,w=null,t.setRenderTarget(g),d=null,u=null,h=null,s=null,_=null,R.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function I(t){for(let e=0;e<t.removed.length;e++){const i=t.removed[e],s=y.indexOf(i);s>=0&&(y[s]=null,f[s].disconnect(i))}for(let e=0;e<t.added.length;e++){const i=t.added[e];let s=y.indexOf(i);if(-1===s){for(let t=0;t<f.length;t++){if(t>=y.length){y.push(i),s=t;break}if(null===y[t]){y[t]=i,s=t;break}}if(-1===s)break}const n=f[s];n&&n.connect(i)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=f[t];return void 0===e&&(e=new Lr,f[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=f[t];return void 0===e&&(e=new Lr,f[t]=e),e.getGripSpace()},this.getHand=function(t){let e=f[t];return void 0===e&&(e=new Lr,f[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){n=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){r=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==u?u:d},this.getBinding=function(){return h},this.getFrame=function(){return p},this.getSession=function(){return s},this.setSession=async function(c){if(s=c,null!==s){if(g=t.getRenderTarget(),s.addEventListener("select",E),s.addEventListener("selectstart",E),s.addEventListener("selectend",E),s.addEventListener("squeeze",E),s.addEventListener("squeezestart",E),s.addEventListener("squeezeend",E),s.addEventListener("end",A),s.addEventListener("inputsourceschange",I),!0!==m.xrCompatible&&await e.makeXRCompatible(),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2){const i={antialias:void 0!==s.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:n};d=new XRWebGLLayer(s,e,i),s.updateRenderState({baseLayer:d}),_=new De(d.framebufferWidth,d.framebufferHeight,{format:Ct,type:Tt,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil})}else{let i=null,a=null,r=null;m.depth&&(r=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,i=m.stencil?Pt:Nt,a=m.stencil?Mt:Et);const o={colorFormat:e.RGBA8,depthFormat:r,scaleFactor:n};h=new XRWebGLBinding(s,e),u=h.createProjectionLayer(o),s.updateRenderState({layers:[u]}),_=new De(u.textureWidth,u.textureHeight,{format:Ct,type:Tt,depthTexture:new Or(u.textureWidth,u.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,i),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0}),t.properties.get(_).__ignoreDepthValues=u.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(o),l=null,a=await s.requestReferenceSpace(r),R.setContext(s),R.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode};const M=new ze,C=new ze;function N(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===s)return;S.near=b.near=v.near=t.near,S.far=b.far=v.far=t.far,T===S.near&&w===S.far||(s.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,w=S.far);const e=t.parent,i=S.cameras;N(S,e);for(let t=0;t<i.length;t++)N(i[t],e);2===i.length?function(t,e,i){M.setFromMatrixPosition(e.matrixWorld),C.setFromMatrixPosition(i.matrixWorld);const s=M.distanceTo(C),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,r=n[14]/(n[10]-1),o=n[14]/(n[10]+1),l=(n[9]+1)/n[5],c=(n[9]-1)/n[5],h=(n[8]-1)/n[0],u=(a[8]+1)/a[0],d=r*h,p=r*u,m=s/(-h+u),g=m*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(m),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const _=r+m,f=o+m,y=d-g,v=p+(s-g),b=l*o/f*_,x=c*o/f*_;t.projectionMatrix.makePerspective(y,v,b,x,_,f),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(S,v,b):S.projectionMatrix.copy(v.projectionMatrix),function(t,e,i){null===i?t.matrix.copy(e.matrixWorld):(t.matrix.copy(i.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0);const s=t.children;for(let t=0,e=s.length;t<e;t++)s[t].updateMatrixWorld(!0);t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*ie*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,S,e)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==u||null!==d)return o},this.setFoveation=function(t){o=t,null!==u&&(u.fixedFoveation=t),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=t)};let P=null;const R=new on;R.setAnimationLoop((function(e,s){if(c=s.getViewerPose(l||a),p=s,null!==c){const e=c.views;null!==d&&(t.setRenderTargetFramebuffer(_,d.framebuffer),t.setRenderTarget(_));let i=!1;e.length!==S.cameras.length&&(S.cameras.length=0,i=!0);for(let s=0;s<e.length;s++){const n=e[s];let a=null;if(null!==d)a=d.getViewport(n);else{const e=h.getViewSubImage(u,n);a=e.viewport,0===s&&(t.setRenderTargetTextures(_,e.colorTexture,u.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(_))}let r=x[s];void 0===r&&(r=new Ys,r.layers.enable(s),r.viewport=new Oe,x[s]=r),r.matrix.fromArray(n.transform.matrix),r.matrix.decompose(r.position,r.quaternion,r.scale),r.projectionMatrix.fromArray(n.projectionMatrix),r.projectionMatrixInverse.copy(r.projectionMatrix).invert(),r.viewport.set(a.x,a.y,a.width,a.height),0===s&&(S.matrix.copy(r.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),!0===i&&S.cameras.push(r)}}for(let t=0;t<f.length;t++){const e=y[t],i=f[t];null!==e&&void 0!==i&&i.update(e,s,l||a)}P&&P(e,s),s.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:s}),p=null})),this.setAnimationLoop=function(t){P=t},this.dispose=function(){}}}function kr(t,e){function i(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function s(s,n){s.opacity.value=n.opacity,n.color&&s.diffuse.value.copy(n.color),n.emissive&&s.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(s.map.value=n.map,i(n.map,s.mapTransform)),n.alphaMap&&(s.alphaMap.value=n.alphaMap,i(n.alphaMap,s.alphaMapTransform)),n.bumpMap&&(s.bumpMap.value=n.bumpMap,i(n.bumpMap,s.bumpMapTransform),s.bumpScale.value=n.bumpScale,1===n.side&&(s.bumpScale.value*=-1)),n.normalMap&&(s.normalMap.value=n.normalMap,i(n.normalMap,s.normalMapTransform),s.normalScale.value.copy(n.normalScale),1===n.side&&s.normalScale.value.negate()),n.displacementMap&&(s.displacementMap.value=n.displacementMap,i(n.displacementMap,s.displacementMapTransform),s.displacementScale.value=n.displacementScale,s.displacementBias.value=n.displacementBias),n.emissiveMap&&(s.emissiveMap.value=n.emissiveMap,i(n.emissiveMap,s.emissiveMapTransform)),n.specularMap&&(s.specularMap.value=n.specularMap,i(n.specularMap,s.specularMapTransform)),n.alphaTest>0&&(s.alphaTest.value=n.alphaTest);const a=e.get(n).envMap;if(a&&(s.envMap.value=a,s.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,s.reflectivity.value=n.reflectivity,s.ior.value=n.ior,s.refractionRatio.value=n.refractionRatio),n.lightMap){s.lightMap.value=n.lightMap;const e=!0===t.useLegacyLights?Math.PI:1;s.lightMapIntensity.value=n.lightMapIntensity*e,i(n.lightMap,s.lightMapTransform)}n.aoMap&&(s.aoMap.value=n.aoMap,s.aoMapIntensity.value=n.aoMapIntensity,i(n.aoMap,s.aoMapTransform))}return{refreshFogUniforms:function(e,i){i.color.getRGB(e.fogColor.value,Gs(t)),i.isFog?(e.fogNear.value=i.near,e.fogFar.value=i.far):i.isFogExp2&&(e.fogDensity.value=i.density)},refreshMaterialUniforms:function(t,n,a,r,o){n.isMeshBasicMaterial||n.isMeshLambertMaterial?s(t,n):n.isMeshToonMaterial?(s(t,n),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,n)):n.isMeshPhongMaterial?(s(t,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,n)):n.isMeshStandardMaterial?(s(t,n),function(t,s){t.metalness.value=s.metalness,s.metalnessMap&&(t.metalnessMap.value=s.metalnessMap,i(s.metalnessMap,t.metalnessMapTransform)),t.roughness.value=s.roughness,s.roughnessMap&&(t.roughnessMap.value=s.roughnessMap,i(s.roughnessMap,t.roughnessMapTransform));e.get(s).envMap&&(t.envMapIntensity.value=s.envMapIntensity)}(t,n),n.isMeshPhysicalMaterial&&function(t,e,s){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,i(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,i(e.sheenRoughnessMap,t.sheenRoughnessMapTransform))),e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,i(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,i(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,i(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),1===e.side&&t.clearcoatNormalScale.value.negate())),e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,i(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,i(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform))),e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=s.texture,t.transmissionSamplerSize.value.set(s.width,s.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,i(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,i(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)),e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,i(e.anisotropyMap,t.anisotropyMapTransform))),t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,i(e.specularColorMap,t.specularColorMapTransform)),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,i(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,n,o)):n.isMeshMatcapMaterial?(s(t,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,n)):n.isMeshDepthMaterial?s(t,n):n.isMeshDistanceMaterial?(s(t,n),function(t,i){const s=e.get(i).light;t.referencePosition.value.setFromMatrixPosition(s.matrixWorld),t.nearDistance.value=s.shadow.camera.near,t.farDistance.value=s.shadow.camera.far}(t,n)):n.isMeshNormalMaterial?s(t,n):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,i(e.map,t.mapTransform))}(t,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,n)):n.isPointsMaterial?function(t,e,s,n){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*s,t.scale.value=.5*n,e.map&&(t.map.value=e.map,i(e.map,t.uvTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,i(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,n,a,r):n.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,i(e.map,t.mapTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,i(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,n):n.isShadowMaterial?(t.color.value.copy(n.color),t.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Fr(t,e,i,s){let n={},a={},r=[];const o=i.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(t,e,i){const s=t.value;if(void 0===i[e]){if("number"==typeof s)i[e]=s;else{const t=Array.isArray(s)?s:[s],n=[];for(let e=0;e<t.length;e++)n.push(t[e].clone());i[e]=n}return!0}if("number"==typeof s){if(i[e]!==s)return i[e]=s,!0}else{const t=Array.isArray(i[e])?i[e]:[i[e]],n=Array.isArray(s)?s:[s];for(let e=0;e<t.length;e++){const i=t[e];if(!1===i.equals(n[e]))return i.copy(n[e]),!0}}return!1}function c(t){const e={boundary:0,storage:0};return"number"==typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function h(e){const i=e.target;i.removeEventListener("dispose",h);const s=r.indexOf(i.__bindingPointIndex);r.splice(s,1),t.deleteBuffer(n[i.id]),delete n[i.id],delete a[i.id]}return{bind:function(t,e){const i=e.program;s.uniformBlockBinding(t,i)},update:function(i,u){let d=n[i.id];void 0===d&&(function(t){const e=t.uniforms;let i=0;let s=0;for(let t=0,n=e.length;t<n;t++){const n=e[t],a={boundary:0,storage:0},r=Array.isArray(n.value)?n.value:[n.value];for(let t=0,e=r.length;t<e;t++){const e=c(r[t]);a.boundary+=e.boundary,a.storage+=e.storage}n.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),n.__offset=i,t>0&&(s=i%16,0!==s&&16-s-a.boundary<0&&(i+=16-s,n.__offset=i)),i+=a.storage}s=i%16,s>0&&(i+=16-s),t.__size=i,t.__cache={}}(i),d=function(e){const i=function(){for(let t=0;t<o;t++)if(-1===r.indexOf(t))return r.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=i;const s=t.createBuffer(),n=e.__size,a=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,s),t.bufferData(t.UNIFORM_BUFFER,n,a),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,i,s),s}(i),n[i.id]=d,i.addEventListener("dispose",h));const p=u.program;s.updateUBOMapping(i,p);const m=e.render.frame;a[i.id]!==m&&(function(e){const i=n[e.id],s=e.uniforms,a=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,i);for(let e=0,i=s.length;e<i;e++){const i=s[e];if(!0===l(i,e,a)){const e=i.__offset,s=Array.isArray(i.value)?i.value:[i.value];let n=0;for(let a=0;a<s.length;a++){const r=s[a],o=c(r);"number"==typeof r?(i.__data[0]=r,t.bufferSubData(t.UNIFORM_BUFFER,e+n,i.__data)):r.isMatrix3?(i.__data[0]=r.elements[0],i.__data[1]=r.elements[1],i.__data[2]=r.elements[2],i.__data[3]=r.elements[0],i.__data[4]=r.elements[3],i.__data[5]=r.elements[4],i.__data[6]=r.elements[5],i.__data[7]=r.elements[0],i.__data[8]=r.elements[6],i.__data[9]=r.elements[7],i.__data[10]=r.elements[8],i.__data[11]=r.elements[0]):(r.toArray(i.__data,n),n+=o.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,i.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(i),a[i.id]=m)},dispose:function(){for(const e in n)t.deleteBuffer(n[e]);r=[],n={},a={}}}}function Ur(){const t=fe("canvas");return t.style.display="block",t}class zr{constructor(t={}){const{canvas:e=Ur(),context:i=null,depth:s=!0,stencil:n=!0,alpha:a=!1,antialias:r=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:h=!1}=t;let u;this.isWebGLRenderer=!0,u=null!==i?i.getContextAttributes().alpha:a;const d=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const _=[],f=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Gt,this.useLegacyLights=!0,this.toneMapping=rt,this.toneMappingExposure=1;const y=this;let v=!1,b=0,x=0,S=null,T=-1,w=null;const E=new Oe,A=new Oe;let I=null;const M=new as(0);let C=0,N=e.width,P=e.height,R=1,L=null,O=null;const D=new Oe(0,0,N,P),k=new Oe(0,0,N,P);let F=!1;const U=new rn;let z=!1,j=!1,B=null;const H=new gi,V=new pe,G=new ze,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return null===S?R:1}let W,Y,$,X,K,Q,tt,et,it,st,nt,at,ot,lt,ct,ht,ut,dt,pt,mt,gt,_t,ft,yt,vt=i;function bt(t,i){for(let s=0;s<t.length;s++){const n=t[s],a=e.getContext(n,i);if(null!==a)return a}return null}try{const t={alpha:!0,depth:s,stencil:n,antialias:r,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Z}`),e.addEventListener("webglcontextlost",Pt,!1),e.addEventListener("webglcontextrestored",Rt,!1),e.addEventListener("webglcontextcreationerror",Lt,!1),null===vt){const e=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&e.shift(),vt=bt(e,t),null===vt)throw bt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!=typeof WebGLRenderingContext&&vt instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===vt.getShaderPrecisionFormat&&(vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function xt(){W=new On(vt),Y=new fn(vt,W,t),W.init(Y),_t=new Cr(vt,W,Y),$=new Ir(vt,W,Y),X=new Fn(vt),K=new pr,Q=new Mr(vt,W,$,K,Y,_t,X),tt=new vn(y),et=new Ln(y),it=new ln(vt,Y),ft=new gn(vt,W,it,Y),st=new Dn(vt,it,X,ft),nt=new Bn(vt,st,it,X),pt=new jn(vt,Y,Q),ht=new yn(K),at=new dr(y,tt,et,W,Y,ft,ht),ot=new kr(y,K),lt=new fr,ct=new Tr(W,Y),dt=new mn(y,tt,et,$,nt,u,o),ut=new Ar(y,nt,Y),yt=new Fr(vt,X,Y,$),mt=new _n(vt,W,X,Y),gt=new kn(vt,W,X,Y),X.programs=at.programs,y.capabilities=Y,y.extensions=W,y.properties=K,y.renderLists=lt,y.shadowMap=ut,y.state=$,y.info=X}xt();const Nt=new Dr(y,vt);function Pt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Rt(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const t=X.autoReset,e=ut.enabled,i=ut.autoUpdate,s=ut.needsUpdate,n=ut.type;xt(),X.autoReset=t,ut.enabled=e,ut.autoUpdate=i,ut.needsUpdate=s,ut.type=n}function Lt(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Ot(t){const e=t.target;e.removeEventListener("dispose",Ot),function(t){(function(t){const e=K.get(t).programs;void 0!==e&&(e.forEach((function(t){at.releaseProgram(t)})),t.isShaderMaterial&&at.releaseShaderCache(t))})(t),K.remove(t)}(e)}this.xr=Nt,this.getContext=function(){return vt},this.getContextAttributes=function(){return vt.getContextAttributes()},this.forceContextLoss=function(){const t=W.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=W.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(t){void 0!==t&&(R=t,this.setSize(N,P,!1))},this.getSize=function(t){return t.set(N,P)},this.setSize=function(t,i,s=!0){Nt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(N=t,P=i,e.width=Math.floor(t*R),e.height=Math.floor(i*R),!0===s&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return t.set(N*R,P*R).floor()},this.setDrawingBufferSize=function(t,i,s){N=t,P=i,R=s,e.width=Math.floor(t*s),e.height=Math.floor(i*s),this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return t.copy(E)},this.getViewport=function(t){return t.copy(D)},this.setViewport=function(t,e,i,s){t.isVector4?D.set(t.x,t.y,t.z,t.w):D.set(t,e,i,s),$.viewport(E.copy(D).multiplyScalar(R).floor())},this.getScissor=function(t){return t.copy(k)},this.setScissor=function(t,e,i,s){t.isVector4?k.set(t.x,t.y,t.z,t.w):k.set(t,e,i,s),$.scissor(A.copy(k).multiplyScalar(R).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(t){$.setScissorTest(F=t)},this.setOpaqueSort=function(t){L=t},this.setTransparentSort=function(t){O=t},this.getClearColor=function(t){return t.copy(dt.getClearColor())},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(t=!0,e=!0,i=!0){let s=0;if(t){let t=!1;if(null!==S){const e=S.texture.format;t=1033===e||1031===e||1029===e}if(t){const t=S.texture.type,e=t===Tt||t===Et||t===wt||t===Mt||1017===t||1018===t,i=dt.getClearColor(),s=dt.getClearAlpha(),n=i.r,a=i.g,r=i.b;e?(d[0]=n,d[1]=a,d[2]=r,d[3]=s,vt.clearBufferuiv(vt.COLOR,0,d)):(p[0]=n,p[1]=a,p[2]=r,p[3]=s,vt.clearBufferiv(vt.COLOR,0,p))}else s|=vt.COLOR_BUFFER_BIT}e&&(s|=vt.DEPTH_BUFFER_BIT),i&&(s|=vt.STENCIL_BUFFER_BIT),vt.clear(s)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Pt,!1),e.removeEventListener("webglcontextrestored",Rt,!1),e.removeEventListener("webglcontextcreationerror",Lt,!1),lt.dispose(),ct.dispose(),K.dispose(),tt.dispose(),et.dispose(),nt.dispose(),ft.dispose(),yt.dispose(),at.dispose(),Nt.dispose(),Nt.removeEventListener("sessionstart",kt),Nt.removeEventListener("sessionend",Ft),B&&(B.dispose(),B=null),Ut.stop()},this.renderBufferDirect=function(t,e,i,s,n,a){null===e&&(e=q);const r=n.isMesh&&n.matrixWorld.determinant()<0,o=function(t,e,i,s,n){!0!==e.isScene&&(e=q),Q.resetTextureUnits();const a=e.fog,r=s.isMeshStandardMaterial?e.environment:null,o=null===S?y.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:qt,l=(s.isMeshStandardMaterial?et:tt).get(s.envMap||r),c=!0===s.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,h=!!i.attributes.tangent&&(!!s.normalMap||s.anisotropy>0),u=!!i.morphAttributes.position,d=!!i.morphAttributes.normal,p=!!i.morphAttributes.color,m=s.toneMapped?y.toneMapping:rt,_=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,f=void 0!==_?_.length:0,v=K.get(s),b=g.state.lights;if(!0===z&&(!0===j||t!==w)){const e=t===w&&s.id===T;ht.setState(s,t,e)}let x=!1;s.version===v.__version?v.needsLights&&v.lightsStateVersion!==b.state.version||v.outputColorSpace!==o||n.isInstancedMesh&&!1===v.instancing?x=!0:n.isInstancedMesh||!0!==v.instancing?n.isSkinnedMesh&&!1===v.skinning?x=!0:n.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||!0===s.fog&&v.fog!==a?x=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===ht.numPlanes&&v.numIntersection===ht.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==h||v.morphTargets!==u||v.morphNormals!==d||v.morphColors!==p||v.toneMapping!==m||!0===Y.isWebGL2&&v.morphTargetsCount!==f)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,v.__version=s.version);let E=v.currentProgram;!0===x&&(E=Vt(s,e,n));let A=!1,I=!1,M=!1;const C=E.getUniforms(),N=v.uniforms;if($.useProgram(E.program)&&(A=!0,I=!0,M=!0),s.id!==T&&(T=s.id,I=!0),A||w!==t){if(C.setValue(vt,"projectionMatrix",t.projectionMatrix),Y.logarithmicDepthBuffer&&C.setValue(vt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,I=!0,M=!0),s.isShaderMaterial||s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshStandardMaterial||s.envMap){const e=C.map.cameraPosition;void 0!==e&&e.setValue(vt,G.setFromMatrixPosition(t.matrixWorld))}(s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshLambertMaterial||s.isMeshBasicMaterial||s.isMeshStandardMaterial||s.isShaderMaterial)&&C.setValue(vt,"isOrthographic",!0===t.isOrthographicCamera),(s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshLambertMaterial||s.isMeshBasicMaterial||s.isMeshStandardMaterial||s.isShaderMaterial||s.isShadowMaterial||n.isSkinnedMesh)&&C.setValue(vt,"viewMatrix",t.matrixWorldInverse)}if(n.isSkinnedMesh){C.setOptional(vt,n,"bindMatrix"),C.setOptional(vt,n,"bindMatrixInverse");const t=n.skeleton;t&&(Y.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),C.setValue(vt,"boneTexture",t.boneTexture,Q),C.setValue(vt,"boneTextureSize",t.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const L=i.morphAttributes;var O,D;if((void 0!==L.position||void 0!==L.normal||void 0!==L.color&&!0===Y.isWebGL2)&&pt.update(n,i,E),(I||v.receiveShadow!==n.receiveShadow)&&(v.receiveShadow=n.receiveShadow,C.setValue(vt,"receiveShadow",n.receiveShadow)),s.isMeshGouraudMaterial&&null!==s.envMap&&(N.envMap.value=l,N.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),I&&(C.setValue(vt,"toneMappingExposure",y.toneMappingExposure),v.needsLights&&(D=M,(O=N).ambientLightColor.needsUpdate=D,O.lightProbe.needsUpdate=D,O.directionalLights.needsUpdate=D,O.directionalLightShadows.needsUpdate=D,O.pointLights.needsUpdate=D,O.pointLightShadows.needsUpdate=D,O.spotLights.needsUpdate=D,O.spotLightShadows.needsUpdate=D,O.rectAreaLights.needsUpdate=D,O.hemisphereLights.needsUpdate=D),a&&!0===s.fog&&ot.refreshFogUniforms(N,a),ot.refreshMaterialUniforms(N,s,R,P,B),qa.upload(vt,v.uniformsList,N,Q)),s.isShaderMaterial&&!0===s.uniformsNeedUpdate&&(qa.upload(vt,v.uniformsList,N,Q),s.uniformsNeedUpdate=!1),s.isSpriteMaterial&&C.setValue(vt,"center",n.center),C.setValue(vt,"modelViewMatrix",n.modelViewMatrix),C.setValue(vt,"normalMatrix",n.normalMatrix),C.setValue(vt,"modelMatrix",n.matrixWorld),s.isShaderMaterial||s.isRawShaderMaterial){const t=s.uniformsGroups;for(let e=0,i=t.length;e<i;e++)if(Y.isWebGL2){const i=t[e];yt.update(i,E),yt.bind(i,E)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return E}(t,e,i,s,n);$.setMaterial(s,r);let l=i.index,c=1;!0===s.wireframe&&(l=st.getWireframeAttribute(i),c=2);const h=i.drawRange,u=i.attributes.position;let d=h.start*c,p=(h.start+h.count)*c;null!==a&&(d=Math.max(d,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(d=Math.max(d,0),p=Math.min(p,l.count)):null!=u&&(d=Math.max(d,0),p=Math.min(p,u.count));const m=p-d;if(m<0||m===1/0)return;let _;ft.setup(n,s,o,i,l);let f=mt;if(null!==l&&(_=it.get(l),f=gt,f.setIndex(_)),n.isMesh)!0===s.wireframe?($.setLineWidth(s.wireframeLinewidth*J()),f.setMode(vt.LINES)):f.setMode(vt.TRIANGLES);else if(n.isLine){let t=s.linewidth;void 0===t&&(t=1),$.setLineWidth(t*J()),n.isLineSegments?f.setMode(vt.LINES):n.isLineLoop?f.setMode(vt.LINE_LOOP):f.setMode(vt.LINE_STRIP)}else n.isPoints?f.setMode(vt.POINTS):n.isSprite&&f.setMode(vt.TRIANGLES);if(n.isInstancedMesh)f.renderInstances(d,m,n.count);else if(i.isInstancedBufferGeometry){const t=void 0!==i._maxInstanceCount?i._maxInstanceCount:1/0,e=Math.min(i.instanceCount,t);f.renderInstances(d,m,e)}else f.render(d,m)},this.compile=function(t,e){function i(t,e,i){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,Vt(t,e,i),t.side=0,t.needsUpdate=!0,Vt(t,e,i),t.side=2):Vt(t,e,i)}g=ct.get(t),g.init(),f.push(g),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(g.pushLight(t),t.castShadow&&g.pushShadow(t))})),g.setupLights(y.useLegacyLights),t.traverse((function(e){const s=e.material;if(s)if(Array.isArray(s))for(let n=0;n<s.length;n++)i(s[n],t,e);else i(s,t,e)})),f.pop(),g=null};let Dt=null;function kt(){Ut.stop()}function Ft(){Ut.start()}const Ut=new on;function zt(t,e,i,s){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)g.pushLight(t),t.castShadow&&g.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||U.intersectsSprite(t)){s&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H);const e=nt.update(t),n=t.material;n.visible&&m.push(t,e,n,i,G.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||U.intersectsObject(t))){const e=nt.update(t),n=t.material;if(s&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),G.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),G.copy(e.boundingSphere.center)),G.applyMatrix4(t.matrixWorld).applyMatrix4(H)),Array.isArray(n)){const s=e.groups;for(let a=0,r=s.length;a<r;a++){const r=s[a],o=n[r.materialIndex];o&&o.visible&&m.push(t,e,o,i,G.z,r)}}else n.visible&&m.push(t,e,n,i,G.z,null)}const n=t.children;for(let t=0,a=n.length;t<a;t++)zt(n[t],e,i,s)}function jt(t,e,i,s){const n=t.opaque,a=t.transmissive,r=t.transparent;g.setupLightsView(i),!0===z&&ht.setGlobalState(y.clippingPlanes,i),a.length>0&&function(t,e,i,s){const n=Y.isWebGL2;null===B&&(B=new De(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")?It:Tt,minFilter:St,samples:n?4:0})),y.getDrawingBufferSize(V),n?B.setSize(V.x,V.y):B.setSize(ce(V.x),ce(V.y));const a=y.getRenderTarget();y.setRenderTarget(B),y.getClearColor(M),C=y.getClearAlpha(),C<1&&y.setClearColor(16777215,.5),y.clear();const r=y.toneMapping;y.toneMapping=rt,Bt(t,i,s),Q.updateMultisampleRenderTarget(B),Q.updateRenderTargetMipmap(B);let o=!1;for(let t=0,n=e.length;t<n;t++){const n=e[t],a=n.object,r=n.geometry,l=n.material,c=n.group;if(2===l.side&&a.layers.test(s.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Ht(a,i,s,r,l,c),l.side=t,l.needsUpdate=!0,o=!0}}!0===o&&(Q.updateMultisampleRenderTarget(B),Q.updateRenderTargetMipmap(B)),y.setRenderTarget(a),y.setClearColor(M,C),y.toneMapping=r}(n,a,e,i),s&&$.viewport(E.copy(s)),n.length>0&&Bt(n,e,i),a.length>0&&Bt(a,e,i),r.length>0&&Bt(r,e,i),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1)}function Bt(t,e,i){const s=!0===e.isScene?e.overrideMaterial:null;for(let n=0,a=t.length;n<a;n++){const a=t[n],r=a.object,o=a.geometry,l=null===s?a.material:s,c=a.group;r.layers.test(i.layers)&&Ht(r,e,i,o,l,c)}}function Ht(t,e,i,s,n,a){t.onBeforeRender(y,e,i,s,n,a),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),n.onBeforeRender(y,e,i,s,t,a),!0===n.transparent&&2===n.side&&!1===n.forceSinglePass?(n.side=1,n.needsUpdate=!0,y.renderBufferDirect(i,e,s,n,t,a),n.side=0,n.needsUpdate=!0,y.renderBufferDirect(i,e,s,n,t,a),n.side=2):y.renderBufferDirect(i,e,s,n,t,a),t.onAfterRender(y,e,i,s,n,a)}function Vt(t,e,i){!0!==e.isScene&&(e=q);const s=K.get(t),n=g.state.lights,a=g.state.shadowsArray,r=n.state.version,o=at.getParameters(t,n.state,a,e,i),l=at.getProgramCacheKey(o);let c=s.programs;s.environment=t.isMeshStandardMaterial?e.environment:null,s.fog=e.fog,s.envMap=(t.isMeshStandardMaterial?et:tt).get(t.envMap||s.environment),void 0===c&&(t.addEventListener("dispose",Ot),c=new Map,s.programs=c);let h=c.get(l);if(void 0!==h){if(s.currentProgram===h&&s.lightsStateVersion===r)return Jt(t,o),h}else o.uniforms=at.getUniforms(t),t.onBuild(i,o,y),t.onBeforeCompile(o,y),h=at.acquireProgram(o,l),c.set(l,h),s.uniforms=o.uniforms;const u=s.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(u.clippingPlanes=ht.uniform),Jt(t,o),s.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),s.lightsStateVersion=r,s.needsLights&&(u.ambientLightColor.value=n.state.ambient,u.lightProbe.value=n.state.probe,u.directionalLights.value=n.state.directional,u.directionalLightShadows.value=n.state.directionalShadow,u.spotLights.value=n.state.spot,u.spotLightShadows.value=n.state.spotShadow,u.rectAreaLights.value=n.state.rectArea,u.ltc_1.value=n.state.rectAreaLTC1,u.ltc_2.value=n.state.rectAreaLTC2,u.pointLights.value=n.state.point,u.pointLightShadows.value=n.state.pointShadow,u.hemisphereLights.value=n.state.hemi,u.directionalShadowMap.value=n.state.directionalShadowMap,u.directionalShadowMatrix.value=n.state.directionalShadowMatrix,u.spotShadowMap.value=n.state.spotShadowMap,u.spotLightMatrix.value=n.state.spotLightMatrix,u.spotLightMap.value=n.state.spotLightMap,u.pointShadowMap.value=n.state.pointShadowMap,u.pointShadowMatrix.value=n.state.pointShadowMatrix);const d=h.getUniforms(),p=qa.seqWithValue(d.seq,u);return s.currentProgram=h,s.uniformsList=p,h}function Jt(t,e){const i=K.get(t);i.outputColorSpace=e.outputColorSpace,i.instancing=e.instancing,i.skinning=e.skinning,i.morphTargets=e.morphTargets,i.morphNormals=e.morphNormals,i.morphColors=e.morphColors,i.morphTargetsCount=e.morphTargetsCount,i.numClippingPlanes=e.numClippingPlanes,i.numIntersection=e.numClipIntersection,i.vertexAlphas=e.vertexAlphas,i.vertexTangents=e.vertexTangents,i.toneMapping=e.toneMapping}Ut.setAnimationLoop((function(t){Dt&&Dt(t)})),"undefined"!=typeof self&&Ut.setContext(self),this.setAnimationLoop=function(t){Dt=t,Nt.setAnimationLoop(t),null===t?Ut.stop():Ut.start()},Nt.addEventListener("sessionstart",kt),Nt.addEventListener("sessionend",Ft),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===v)return;!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===Nt.enabled&&!0===Nt.isPresenting&&(!0===Nt.cameraAutoUpdate&&Nt.updateCamera(e),e=Nt.getCamera()),!0===t.isScene&&t.onBeforeRender(y,t,e,S),g=ct.get(t,f.length),g.init(),f.push(g),H.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),U.setFromProjectionMatrix(H),j=this.localClippingEnabled,z=ht.init(this.clippingPlanes,j),m=lt.get(t,_.length),m.init(),_.push(m),zt(t,e,0,y.sortObjects),m.finish(),!0===y.sortObjects&&m.sort(L,O),this.info.render.frame++,!0===z&&ht.beginShadows();const i=g.state.shadowsArray;if(ut.render(i,t,e),!0===z&&ht.endShadows(),!0===this.info.autoReset&&this.info.reset(),dt.render(m,t),g.setupLights(y.useLegacyLights),e.isArrayCamera){const i=e.cameras;for(let e=0,s=i.length;e<s;e++){const s=i[e];jt(m,t,s,s.viewport)}}else jt(m,t,e);null!==S&&(Q.updateMultisampleRenderTarget(S),Q.updateRenderTargetMipmap(S)),!0===t.isScene&&t.onAfterRender(y,t,e),ft.resetDefaultState(),T=-1,w=null,f.pop(),g=f.length>0?f[f.length-1]:null,_.pop(),m=_.length>0?_[_.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(t,e,i){K.get(t.texture).__webglTexture=e,K.get(t.depthTexture).__webglTexture=i;const s=K.get(t);s.__hasExternalTextures=!0,s.__hasExternalTextures&&(s.__autoAllocateDepthBuffer=void 0===i,s.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),s.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const i=K.get(t);i.__webglFramebuffer=e,i.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,i=0){S=t,b=e,x=i;let s=!0,n=null,a=!1,r=!1;if(t){const i=K.get(t);void 0!==i.__useDefaultFramebuffer?($.bindFramebuffer(vt.FRAMEBUFFER,null),s=!1):void 0===i.__webglFramebuffer?Q.setupRenderTarget(t):i.__hasExternalTextures&&Q.rebindTextures(t,K.get(t.texture).__webglTexture,K.get(t.depthTexture).__webglTexture);const o=t.texture;(o.isData3DTexture||o.isDataArrayTexture||o.isCompressedArrayTexture)&&(r=!0);const l=K.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(n=l[e],a=!0):n=Y.isWebGL2&&t.samples>0&&!1===Q.useMultisampledRTT(t)?K.get(t).__webglMultisampledFramebuffer:l,E.copy(t.viewport),A.copy(t.scissor),I=t.scissorTest}else E.copy(D).multiplyScalar(R).floor(),A.copy(k).multiplyScalar(R).floor(),I=F;if($.bindFramebuffer(vt.FRAMEBUFFER,n)&&Y.drawBuffers&&s&&$.drawBuffers(t,n),$.viewport(E),$.scissor(A),$.setScissorTest(I),a){const s=K.get(t.texture);vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+e,s.__webglTexture,i)}else if(r){const s=K.get(t.texture),n=e||0;vt.framebufferTextureLayer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,s.__webglTexture,i||0,n)}T=-1},this.readRenderTargetPixels=function(t,e,i,s,n,a,r){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=K.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==r&&(o=o[r]),o){$.bindFramebuffer(vt.FRAMEBUFFER,o);try{const r=t.texture,o=r.format,l=r.type;if(o!==Ct&&_t.convert(o)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===It&&(W.has("EXT_color_buffer_half_float")||Y.isWebGL2&&W.has("EXT_color_buffer_float"));if(!(l===Tt||_t.convert(l)===vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_TYPE)||l===At&&(Y.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-s&&i>=0&&i<=t.height-n&&vt.readPixels(e,i,s,n,_t.convert(o),_t.convert(l),a)}finally{const t=null!==S?K.get(S).__webglFramebuffer:null;$.bindFramebuffer(vt.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e,i=0){const s=Math.pow(2,-i),n=Math.floor(e.image.width*s),a=Math.floor(e.image.height*s);Q.setTexture2D(e,0),vt.copyTexSubImage2D(vt.TEXTURE_2D,i,0,0,t.x,t.y,n,a),$.unbindTexture()},this.copyTextureToTexture=function(t,e,i,s=0){const n=e.image.width,a=e.image.height,r=_t.convert(i.format),o=_t.convert(i.type);Q.setTexture2D(i,0),vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,i.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,i.unpackAlignment),e.isDataTexture?vt.texSubImage2D(vt.TEXTURE_2D,s,t.x,t.y,n,a,r,o,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(vt.TEXTURE_2D,s,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,r,e.mipmaps[0].data):vt.texSubImage2D(vt.TEXTURE_2D,s,t.x,t.y,r,o,e.image),0===s&&i.generateMipmaps&&vt.generateMipmap(vt.TEXTURE_2D),$.unbindTexture()},this.copyTextureToTexture3D=function(t,e,i,s,n=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const a=t.max.x-t.min.x+1,r=t.max.y-t.min.y+1,o=t.max.z-t.min.z+1,l=_t.convert(s.format),c=_t.convert(s.type);let h;if(s.isData3DTexture)Q.setTexture3D(s,0),h=vt.TEXTURE_3D;else{if(!s.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(s,0),h=vt.TEXTURE_2D_ARRAY}vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,s.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,s.unpackAlignment);const u=vt.getParameter(vt.UNPACK_ROW_LENGTH),d=vt.getParameter(vt.UNPACK_IMAGE_HEIGHT),p=vt.getParameter(vt.UNPACK_SKIP_PIXELS),m=vt.getParameter(vt.UNPACK_SKIP_ROWS),g=vt.getParameter(vt.UNPACK_SKIP_IMAGES),_=i.isCompressedTexture?i.mipmaps[0]:i.image;vt.pixelStorei(vt.UNPACK_ROW_LENGTH,_.width),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,_.height),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,t.min.x),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,t.min.y),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,t.min.z),i.isDataTexture||i.isData3DTexture?vt.texSubImage3D(h,n,e.x,e.y,e.z,a,r,o,l,c,_.data):i.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),vt.compressedTexSubImage3D(h,n,e.x,e.y,e.z,a,r,o,l,_.data)):vt.texSubImage3D(h,n,e.x,e.y,e.z,a,r,o,l,c,_),vt.pixelStorei(vt.UNPACK_ROW_LENGTH,u),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,d),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,p),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,m),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,g),0===n&&s.generateMipmaps&&vt.generateMipmap(h),$.unbindTexture()},this.initTexture=function(t){t.isCubeTexture?Q.setTextureCube(t,0):t.isData3DTexture?Q.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?Q.setTexture2DArray(t,0):Q.setTexture2D(t,0),$.unbindTexture()},this.resetState=function(){b=0,x=0,S=null,$.reset(),ft.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Kt}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Gt?Vt:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===Vt?Gt:qt}}(class extends zr{}).prototype.isWebGL1Renderer=!0;class jr extends ji{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class Br{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Yt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=se()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,n=this.stride;s<n;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=se()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=se()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hr=new ze;class Vr{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.applyMatrix4(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.applyNormalMatrix(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Hr.fromBufferAttribute(this,e),Hr.transformDirection(t),this.setXYZ(e,Hr.x,Hr.y,Hr.z);return this}setX(t,e){return this.normalized&&(e=ue(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=ue(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=ue(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=ue(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=he(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=he(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=he(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=he(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array),s=ue(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=ue(e,this.array),i=ue(i,this.array),s=ue(s,this.array),n=ue(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=n,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return new hs(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Vr(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Gr=new ze,qr=new Oe,Jr=new Oe,Wr=new ze,Yr=new gi,$r=new ze,Xr=new ri,Kr=new gi,Zr=new mi;class Qr extends zs{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new gi,this.bindMatrixInverse=new gi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new He),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)$r.fromBufferAttribute(e,t),this.applyBoneTransform(t,$r),this.boundingBox.expandByPoint($r)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ri),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)$r.fromBufferAttribute(e,t),this.applyBoneTransform(t,$r),this.boundingSphere.expandByPoint($r)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;void 0!==i&&(null===this.boundingSphere&&this.computeBoundingSphere(),Xr.copy(this.boundingSphere),Xr.applyMatrix4(s),!1!==t.ray.intersectsSphere(Xr)&&(Kr.copy(s).invert(),Zr.copy(t.ray).applyMatrix4(Kr),null!==this.boundingBox&&!1===Zr.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,Zr)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Oe,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;qr.fromBufferAttribute(s.attributes.skinIndex,t),Jr.fromBufferAttribute(s.attributes.skinWeight,t),Gr.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const s=Jr.getComponent(t);if(0!==s){const n=qr.getComponent(t);Yr.multiplyMatrices(i.bones[n].matrixWorld,i.boneInverses[n]),e.addScaledVector(Wr.copy(Gr).applyMatrix4(Yr),s)}}return e.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,e){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,e)}}class to extends ji{constructor(){super(),this.isBone=!0,this.type="Bone"}}class eo extends Le{constructor(t=null,e=1,i=1,s,n,a,r,o,l=1003,c=1003,h,u){super(null,a,r,o,l,c,s,n,h,u),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const io=new gi,so=new gi;class no{constructor(t=[],e=[]){this.uuid=se(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new gi)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new gi;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let s=0,n=t.length;s<n;s++){const n=t[s]?t[s].matrixWorld:so;io.multiplyMatrices(n,e[s]),io.toArray(i,16*s)}null!==s&&(s.needsUpdate=!0)}clone(){return new no(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=le(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new eo(e,t,t,Ct,At);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const i=this.bones[e];if(i.name===t)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const s=t.bones[i];let n=e[s];void 0===n&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),n=new to),this.bones.push(n),this.boneInverses.push((new gi).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,n=e.length;s<n;s++){const n=e[s];t.bones.push(n.uuid);const a=i[s];t.boneInverses.push(a.toArray())}return t}}class ao extends hs{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const ro=new gi,oo=new gi,lo=[],co=new He,ho=new gi,uo=new zs,po=new ri;class mo extends zs{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new ao(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<i;t++)this.setMatrixAt(t,ho)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new He),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,ro),co.copy(t.boundingBox).applyMatrix4(ro),this.boundingBox.union(co)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new ri),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,ro),po.copy(t.boundingSphere).applyMatrix4(ro),this.boundingSphere.union(po)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const i=this.matrixWorld,s=this.count;if(uo.geometry=this.geometry,uo.material=this.material,void 0!==uo.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),po.copy(this.boundingSphere),po.applyMatrix4(i),!1!==t.ray.intersectsSphere(po)))for(let n=0;n<s;n++){this.getMatrixAt(n,ro),oo.multiplyMatrices(i,ro),uo.matrixWorld=oo,uo.raycast(t,lo);for(let t=0,i=lo.length;t<i;t++){const i=lo[t];i.instanceId=n,i.object=this,e.push(i)}lo.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new ao(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class go extends ts{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new as(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const _o=new ze,fo=new ze,yo=new gi,vo=new mi,bo=new ri;class xo extends ji{constructor(t=new xs,e=new go){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let t=1,s=e.count;t<s;t++)_o.fromBufferAttribute(e,t-1),fo.fromBufferAttribute(e,t),i[t]=i[t-1],i[t]+=_o.distanceTo(fo);t.setAttribute("lineDistance",new ps(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,n=t.params.Line.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),bo.copy(i.boundingSphere),bo.applyMatrix4(s),bo.radius+=n,!1===t.ray.intersectsSphere(bo))return;yo.copy(s).invert(),vo.copy(t.ray).applyMatrix4(yo);const r=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=r*r,l=new ze,c=new ze,h=new ze,u=new ze,d=this.isLineSegments?2:1,p=i.index,m=i.attributes.position;if(null!==p)for(let i=Math.max(0,a.start),s=Math.min(p.count,a.start+a.count)-1;i<s;i+=d){const s=p.getX(i),n=p.getX(i+1);if(l.fromBufferAttribute(m,s),c.fromBufferAttribute(m,n),vo.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);const a=t.ray.origin.distanceTo(u);a<t.near||a>t.far||e.push({distance:a,point:h.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}else for(let i=Math.max(0,a.start),s=Math.min(m.count,a.start+a.count)-1;i<s;i+=d){if(l.fromBufferAttribute(m,i),c.fromBufferAttribute(m,i+1),vo.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);const s=t.ray.origin.distanceTo(u);s<t.near||s>t.far||e.push({distance:s,point:h.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}const So=new ze,To=new ze;class wo extends xo{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let t=0,s=e.count;t<s;t+=2)So.fromBufferAttribute(e,t),To.fromBufferAttribute(e,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+So.distanceTo(To);t.setAttribute("lineDistance",new ps(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Eo extends xo{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class Ao extends ts{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new as(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Io=new gi,Mo=new mi,Co=new ri,No=new ze;class Po extends ji{constructor(t=new xs,e=new Ao){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,n=t.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Co.copy(i.boundingSphere),Co.applyMatrix4(s),Co.radius+=n,!1===t.ray.intersectsSphere(Co))return;Io.copy(s).invert(),Mo.copy(t.ray).applyMatrix4(Io);const r=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=r*r,l=i.index,c=i.attributes.position;if(null!==l)for(let i=Math.max(0,a.start),n=Math.min(l.count,a.start+a.count);i<n;i++){const n=l.getX(i);No.fromBufferAttribute(c,n),Ro(No,n,o,s,t,e,this)}else for(let i=Math.max(0,a.start),n=Math.min(c.count,a.start+a.count);i<n;i++)No.fromBufferAttribute(c,i),Ro(No,i,o,s,t,e,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Ro(t,e,i,s,n,a,r){const o=Mo.distanceSqToPoint(t);if(o<i){const i=new ze;Mo.closestPointToPoint(t,i),i.applyMatrix4(s);const l=n.ray.origin.distanceTo(i);if(l<n.near||l>n.far)return;a.push({distance:l,distanceToRay:Math.sqrt(o),point:i,index:e,face:null,object:r})}}class Lo extends Le{constructor(t,e,i,s,n,a,r,o,l){super(t,e,i,s,n,a,r,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:xt,this.magFilter=void 0!==n?n:xt,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Oo extends Le{constructor(t,e,i,s,n,a,r,o,l,c,h,u){super(null,a,r,o,l,c,s,n,h,u),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class Do extends Le{constructor(t,e,i,s,n,a,r,o,l){super(t,e,i,s,n,a,r,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ko extends Js{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Fo extends ts{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new as(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new as(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Uo extends Fo{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ne(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new as(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new as(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new as(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function zo(t,e,i){return Bo(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)}function jo(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function Bo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ho(t){const e=t.length,i=new Array(e);for(let t=0;t!==e;++t)i[t]=t;return i.sort((function(e,i){return t[e]-t[i]})),i}function Vo(t,e,i){const s=t.length,n=new t.constructor(s);for(let a=0,r=0;r!==s;++a){const s=i[a]*e;for(let i=0;i!==e;++i)n[r++]=t[s+i]}return n}function Go(t,e,i,s){let n=1,a=t[0];for(;void 0!==a&&void 0===a[s];)a=t[n++];if(void 0===a)return;let r=a[s];if(void 0!==r)if(Array.isArray(r))do{r=a[s],void 0!==r&&(e.push(a.time),i.push.apply(i,r)),a=t[n++]}while(void 0!==a);else if(void 0!==r.toArray)do{r=a[s],void 0!==r&&(e.push(a.time),r.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{r=a[s],void 0!==r&&(e.push(a.time),i.push(r)),a=t[n++]}while(void 0!==a)}class qo{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],n=e[i-1];t:{e:{let a;i:{s:if(!(t<s)){for(let a=i+2;;){if(void 0===s){if(t<n)break s;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(n=s,s=e[++i],t<s)break e}a=e.length;break i}if(t>=n)break t;{const r=e[1];t<r&&(i=2,n=r);for(let a=i-2;;){if(void 0===n)return this._cachedIndex=0,this.copySampleValue_(0);if(i===a)break;if(s=n,n=e[--i-1],t>=n)break e}a=i,i=0}}for(;i<a;){const s=i+a>>>1;t<e[s]?a=s:i=s+1}if(s=e[i],n=e[i-1],void 0===n)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,n,s)}return this.interpolate_(i,n,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,n=t*s;for(let t=0;t!==s;++t)e[t]=i[n+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Jo extends qo{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jt,endingEnd:jt}}intervalChanged_(t,e,i){const s=this.parameterPositions;let n=t-2,a=t+1,r=s[n],o=s[a];if(void 0===r)switch(this.getSettings_().endingStart){case Bt:n=t,r=2*e-i;break;case Ht:n=s.length-2,r=e+s[n]-s[n+1];break;default:n=t,r=i}if(void 0===o)switch(this.getSettings_().endingEnd){case Bt:a=t,o=2*i-e;break;case Ht:a=1,o=i+s[1]-s[0];break;default:a=t-1,o=e}const l=.5*(i-e),c=this.valueSize;this._weightPrev=l/(e-r),this._weightNext=l/(o-i),this._offsetPrev=n*c,this._offsetNext=a*c}interpolate_(t,e,i,s){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=t*r,l=o-r,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(i-e)/(s-e),m=p*p,g=m*p,_=-u*g+2*u*m-u*p,f=(1+u)*g+(-1.5-2*u)*m+(-.5+u)*p+1,y=(-1-d)*g+(1.5+d)*m+.5*p,v=d*g-d*m;for(let t=0;t!==r;++t)n[t]=_*a[c+t]+f*a[l+t]+y*a[o+t]+v*a[h+t];return n}}class Wo extends qo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=t*r,l=o-r,c=(i-e)/(s-e),h=1-c;for(let t=0;t!==r;++t)n[t]=a[l+t]*h+a[o+t]*c;return n}}class Yo extends qo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class $o{constructor(t,e,i,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=jo(e,this.TimeBufferType),this.values=jo(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:jo(t.times,Array),values:jo(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(i.interpolation=e)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Yo(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Wo(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Jo(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Ft:e=this.InterpolantFactoryMethodDiscrete;break;case Ut:e=this.InterpolantFactoryMethodLinear;break;case zt:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ft;case this.InterpolantFactoryMethodLinear:return Ut;case this.InterpolantFactoryMethodSmooth:return zt}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let n=0,a=s-1;for(;n!==s&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==s){n>=a&&(a=Math.max(a,1),n=a-1);const t=this.getValueSize();this.times=zo(i,n,a),this.values=zo(this.values,n*t,a*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let e=0;e!==n;e++){const s=i[e];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,s,a),t=!1;break}a=s}if(void 0!==s&&Bo(s))for(let e=0,i=s.length;e!==i;++e){const i=s[e];if(isNaN(i)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,i),t=!1;break}}return t}optimize(){const t=zo(this.times),e=zo(this.values),i=this.getValueSize(),s=this.getInterpolation()===zt,n=t.length-1;let a=1;for(let r=1;r<n;++r){let n=!1;const o=t[r];if(o!==t[r+1]&&(1!==r||o!==t[0]))if(s)n=!0;else{const t=r*i,s=t-i,a=t+i;for(let r=0;r!==i;++r){const i=e[t+r];if(i!==e[s+r]||i!==e[a+r]){n=!0;break}}}if(n){if(r!==a){t[a]=t[r];const s=r*i,n=a*i;for(let t=0;t!==i;++t)e[n+t]=e[s+t]}++a}}if(n>0){t[a]=t[n];for(let t=n*i,s=a*i,r=0;r!==i;++r)e[s+r]=e[t+r];++a}return a!==t.length?(this.times=zo(t,0,a),this.values=zo(e,0,a*i)):(this.times=t,this.values=e),this}clone(){const t=zo(this.times,0),e=zo(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}$o.prototype.TimeBufferType=Float32Array,$o.prototype.ValueBufferType=Float32Array,$o.prototype.DefaultInterpolation=Ut;class Xo extends $o{}Xo.prototype.ValueTypeName="bool",Xo.prototype.ValueBufferType=Array,Xo.prototype.DefaultInterpolation=Ft,Xo.prototype.InterpolantFactoryMethodLinear=void 0,Xo.prototype.InterpolantFactoryMethodSmooth=void 0;class Ko extends $o{}Ko.prototype.ValueTypeName="color";class Zo extends $o{}Zo.prototype.ValueTypeName="number";class Qo extends qo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=(i-e)/(s-e);let l=t*r;for(let t=l+r;l!==t;l+=4)Ue.slerpFlat(n,0,a,l-r,a,l,o);return n}}class tl extends $o{InterpolantFactoryMethodLinear(t){return new Qo(this.times,this.values,this.getValueSize(),t)}}tl.prototype.ValueTypeName="quaternion",tl.prototype.DefaultInterpolation=Ut,tl.prototype.InterpolantFactoryMethodSmooth=void 0;class el extends $o{}el.prototype.ValueTypeName="string",el.prototype.ValueBufferType=Array,el.prototype.DefaultInterpolation=Ft,el.prototype.InterpolantFactoryMethodLinear=void 0,el.prototype.InterpolantFactoryMethodSmooth=void 0;class il extends $o{}il.prototype.ValueTypeName="vector";class sl{constructor(t,e=-1,i,s=2500){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=se(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let t=0,n=i.length;t!==n;++t)e.push(nl(i[t]).scale(s));const n=new this(t.name,t.duration,e,t.blendMode);return n.uuid=t.uuid,n}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,s=i.length;t!==s;++t)e.push($o.toJSON(i[t]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const n=e.length,a=[];for(let t=0;t<n;t++){let r=[],o=[];r.push((t+n-1)%n,t,(t+1)%n),o.push(0,1,0);const l=Ho(r);r=Vo(r,1,l),o=Vo(o,1,l),s||0!==r[0]||(r.push(n),o.push(o[0])),a.push(new Zo(".morphTargetInfluences["+e[t].name+"]",r,o).scale(1/i))}return new this(t,-1,a)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const e=t;i=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<i.length;t++)if(i[t].name===e)return i[t];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},n=/^([\w-]*?)([\d]+)$/;for(let e=0,i=t.length;e<i;e++){const i=t[e],a=i.name.match(n);if(a&&a.length>1){const t=a[1];let e=s[t];e||(s[t]=e=[]),e.push(i)}}const a=[];for(const t in s)a.push(this.CreateFromMorphTargetSequence(t,s[t],e,i));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(t,e,i,s,n){if(0!==i.length){const a=[],r=[];Go(i,a,r,s),0!==a.length&&n.push(new t(e,a,r))}},s=[],n=t.name||"default",a=t.fps||30,r=t.blendMode;let o=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const n=l[t].keys;if(n&&0!==n.length)if(n[0].morphTargets){const t={};let e;for(e=0;e<n.length;e++)if(n[e].morphTargets)for(let i=0;i<n[e].morphTargets.length;i++)t[n[e].morphTargets[i]]=-1;for(const i in t){const t=[],a=[];for(let s=0;s!==n[e].morphTargets.length;++s){const s=n[e];t.push(s.time),a.push(s.morphTarget===i?1:0)}s.push(new Zo(".morphTargetInfluence["+i+"]",t,a))}o=t.length*a}else{const a=".bones["+e[t].name+"]";i(il,a+".position",n,"pos",s),i(tl,a+".quaternion",n,"rot",s),i(il,a+".scale",n,"scl",s)}}return 0===s.length?null:new this(n,o,s,r)}resetDuration(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function nl(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zo;case"vector":case"vector2":case"vector3":case"vector4":return il;case"color":return Ko;case"quaternion":return tl;case"bool":case"boolean":return Xo;case"string":return el}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],i=[];Go(t.keys,e,i,"value"),t.times=e,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const al={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class rl{constructor(t,e,i){const s=this;let n,a=!1,r=0,o=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===a&&void 0!==s.onStart&&s.onStart(t,r,o),a=!0},this.itemEnd=function(t){r++,void 0!==s.onProgress&&s.onProgress(t,r,o),r===o&&(a=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(t){void 0!==s.onError&&s.onError(t)},this.resolveURL=function(t){return n?n(t):t},this.setURLModifier=function(t){return n=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,i=l.length;e<i;e+=2){const i=l[e],s=l[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return s}return null}}}const ol=new rl;class ll{constructor(t){this.manager=void 0!==t?t:ol,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise((function(s,n){i.load(t,s,e,n)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}ll.DEFAULT_MATERIAL_NAME="__DEFAULT";const cl={};class hl extends Error{constructor(t,e){super(t),this.response=e}}class ul extends ll{constructor(t){super(t)}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=al.get(t);if(void 0!==n)return this.manager.itemStart(t),setTimeout((()=>{e&&e(n),this.manager.itemEnd(t)}),0),n;if(void 0!==cl[t])return void cl[t].push({onLoad:e,onProgress:i,onError:s});cl[t]=[],cl[t].push({onLoad:e,onProgress:i,onError:s});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),r=this.mimeType,o=this.responseType;fetch(a).then((e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const i=cl[t],s=e.body.getReader(),n=e.headers.get("Content-Length")||e.headers.get("X-File-Size"),a=n?parseInt(n):0,r=0!==a;let o=0;const l=new ReadableStream({start(t){!function e(){s.read().then((({done:s,value:n})=>{if(s)t.close();else{o+=n.byteLength;const s=new ProgressEvent("progress",{lengthComputable:r,loaded:o,total:a});for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onProgress&&e.onProgress(s)}t.enqueue(n),e()}}))}()}});return new Response(l)}throw new hl(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)})).then((t=>{switch(o){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((t=>(new DOMParser).parseFromString(t,r)));case"json":return t.json();default:if(void 0===r)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(r),i=e&&e[1]?e[1].toLowerCase():void 0,s=new TextDecoder(i);return t.arrayBuffer().then((t=>s.decode(t)))}}})).then((e=>{al.add(t,e);const i=cl[t];delete cl[t];for(let t=0,s=i.length;t<s;t++){const s=i[t];s.onLoad&&s.onLoad(e)}})).catch((e=>{const i=cl[t];if(void 0===i)throw this.manager.itemError(t),e;delete cl[t];for(let t=0,s=i.length;t<s;t++){const s=i[t];s.onError&&s.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class dl extends ll{constructor(t){super(t)}load(t,e,i,s){const n=this,a=[],r=new Oo,o=new ul(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(n.withCredentials);let l=0;function c(c){o.load(t[c],(function(t){const i=n.parse(t,!0);a[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},l+=1,6===l&&(1===i.mipmapCount&&(r.minFilter=xt),r.image=a,r.format=i.format,r.needsUpdate=!0,e&&e(r))}),i,s)}if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)c(e);else o.load(t,(function(t){const i=n.parse(t,!0);if(i.isCubemap){const t=i.mipmaps.length/i.mipmapCount;for(let e=0;e<t;e++){a[e]={mipmaps:[]};for(let t=0;t<i.mipmapCount;t++)a[e].mipmaps.push(i.mipmaps[e*i.mipmapCount+t]),a[e].format=i.format,a[e].width=i.width,a[e].height=i.height}r.image=a}else r.image.width=i.width,r.image.height=i.height,r.mipmaps=i.mipmaps;1===i.mipmapCount&&(r.minFilter=xt),r.format=i.format,r.needsUpdate=!0,e&&e(r)}),i,s);return r}}class pl extends ll{constructor(t){super(t)}load(t,e,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=this,a=al.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;const r=fe("img");function o(){c(),al.add(t,this),e&&e(this),n.manager.itemEnd(t)}function l(e){c(),s&&s(e),n.manager.itemError(t),n.manager.itemEnd(t)}function c(){r.removeEventListener("load",o,!1),r.removeEventListener("error",l,!1)}return r.addEventListener("load",o,!1),r.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),n.manager.itemStart(t),r.src=t,r}}class ml extends ll{constructor(t){super(t)}load(t,e,i,s){const n=new Le,a=new pl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(t){n.image=t,n.needsUpdate=!0,void 0!==e&&e(n)}),i,s),n}}class gl extends ji{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new as(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const _l=new gi,fl=new ze,yl=new ze;class vl{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new gi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rn,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Oe(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;fl.setFromMatrixPosition(t.matrixWorld),e.position.copy(fl),yl.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(yl),e.updateMatrixWorld(),_l.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_l),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(_l)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class bl extends vl{constructor(){super(new Ys(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=2*ie*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&s===e.aspect&&n===e.far||(e.fov=i,e.aspect=s,e.far=n,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class xl extends gl{constructor(t,e,i=0,s=Math.PI/3,n=0,a=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ji.DEFAULT_UP),this.updateMatrix(),this.target=new ji,this.distance=i,this.angle=s,this.penumbra=n,this.decay=a,this.map=null,this.shadow=new bl}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Sl=new gi,Tl=new ze,wl=new ze;class El extends vl{constructor(){super(new Ys(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Oe(2,1,1,1),new Oe(0,1,1,1),new Oe(3,1,1,1),new Oe(1,1,1,1),new Oe(3,0,1,1),new Oe(1,0,1,1)],this._cubeDirections=[new ze(1,0,0),new ze(-1,0,0),new ze(0,0,1),new ze(0,0,-1),new ze(0,1,0),new ze(0,-1,0)],this._cubeUps=[new ze(0,1,0),new ze(0,1,0),new ze(0,1,0),new ze(0,1,0),new ze(0,0,1),new ze(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,n=t.distance||i.far;n!==i.far&&(i.far=n,i.updateProjectionMatrix()),Tl.setFromMatrixPosition(t.matrixWorld),i.position.copy(Tl),wl.copy(i.position),wl.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(wl),i.updateMatrixWorld(),s.makeTranslation(-Tl.x,-Tl.y,-Tl.z),Sl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sl)}}class Al extends gl{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new El}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Il extends vl{constructor(){super(new bn(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ml extends gl{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ji.DEFAULT_UP),this.updateMatrix(),this.target=new ji,this.shadow=new Il}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Cl{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Nl extends xs{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class Pl extends ll{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=this,a=al.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;const r={};r.credentials="anonymous"===this.crossOrigin?"same-origin":"include",r.headers=this.requestHeader,fetch(t,r).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(n.options,{colorSpaceConversion:"none"}))})).then((function(i){al.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){s&&s(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)}}class Rl{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ll(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Ll();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Ll(){return("undefined"==typeof performance?Date:performance).now()}class Ol{constructor(t,e,i){let s,n,a;switch(this.binding=t,this.valueSize=i,e){case"quaternion":s=this._slerp,n=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":s=this._select,n=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:s=this._lerp,n=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=n,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,n=t*s+s;let a=this.cumulativeWeight;if(0===a){for(let t=0;t!==s;++t)i[n+t]=i[t];a=e}else{a+=e;const t=e/a;this._mixBufferRegion(i,n,0,t,s)}this.cumulativeWeight=a}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,n=this.cumulativeWeight,a=this.cumulativeWeightAdditive,r=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){const t=e*this._origIndex;this._mixBufferRegion(i,s,t,1-n,e)}a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let t=e,n=e+e;t!==n;++t)if(i[t]!==i[t+e]){r.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let t=i,n=s;t!==n;++t)e[t]=e[s+t%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,n){if(s>=.5)for(let s=0;s!==n;++s)t[e+s]=t[i+s]}_slerp(t,e,i,s){Ue.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,n){const a=this._workIndex*n;Ue.multiplyQuaternionsFlat(t,a,t,e,t,i),Ue.slerpFlat(t,e,t,e,t,a,s)}_lerp(t,e,i,s,n){const a=1-s;for(let r=0;r!==n;++r){const n=e+r;t[n]=t[n]*a+t[i+r]*s}}_lerpAdditive(t,e,i,s,n){for(let a=0;a!==n;++a){const n=e+a;t[n]=t[n]+t[i+a]*s}}}const Dl="\\[\\]\\.:\\/",kl=new RegExp("["+Dl+"]","g"),Fl="[^"+Dl+"]",Ul="[^"+Dl.replace("\\.","")+"]",zl=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Fl)+/(WCOD+)?/.source.replace("WCOD",Ul)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Fl)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Fl)+"$"),jl=["material","materials","bones","map"];class Bl{constructor(t,e,i){this.path=e,this.parsedPath=i||Bl.parseTrackName(e),this.node=Bl.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Bl.Composite(t,e,i):new Bl(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(kl,"")}static parseTrackName(t){const e=zl.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const t=i.nodeName.substring(s+1);-1!==jl.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){const i=function(t){for(let s=0;s<t.length;s++){const n=t[s];if(n.name===e||n.uuid===e)return n;const a=i(n.children);if(a)return a}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,n=i.length;s!==n;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,n=i.length;s!==n;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,n=i.length;s!==n;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,n=i.length;s!==n;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let n=e.propertyIndex;if(t||(t=Bl.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let s=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===s){s=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==s){if(void 0===t[s])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[s]}}const a=t[s];if(void 0===a){const i=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i+"."+s+" but it wasn't found.",t)}let r=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?r=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(r=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[n]&&(n=t.morphTargetDictionary[n])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=n}else void 0!==a.fromArray&&void 0!==a.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][r]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bl.Composite=class{constructor(t,e,i){const s=i||Bl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,n=i.length;s!==n;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},Bl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Bl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Bl.prototype.GetterByBindingType=[Bl.prototype._getValue_direct,Bl.prototype._getValue_array,Bl.prototype._getValue_arrayElement,Bl.prototype._getValue_toArray],Bl.prototype.SetterByBindingTypeAndVersioning=[[Bl.prototype._setValue_direct,Bl.prototype._setValue_direct_setNeedsUpdate,Bl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bl.prototype._setValue_array,Bl.prototype._setValue_array_setNeedsUpdate,Bl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bl.prototype._setValue_arrayElement,Bl.prototype._setValue_arrayElement_setNeedsUpdate,Bl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bl.prototype._setValue_fromArray,Bl.prototype._setValue_fromArray_setNeedsUpdate,Bl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Hl{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const n=e.tracks,a=n.length,r=new Array(a),o={endingStart:jt,endingEnd:jt};for(let t=0;t!==a;++t){const e=n[t].createInterpolant(null);r[t]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=r,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const i=this._clip.duration,s=t._clip.duration,n=s/i,a=i/s;t.warp(1,n,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,n=s.time,a=this.timeScale;let r=this._timeScaleInterpolant;null===r&&(r=s._lendControlInterpolant(),this._timeScaleInterpolant=r);const o=r.parameterPositions,l=r.sampleValues;return o[0]=n,o[1]=n+i,l[0]=t/a,l[1]=e/a,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled)return void this._updateWeight(t);const n=this._startTime;if(null!==n){const s=(t-n)*i;s<0||0===i?e=0:(this._startTime=null,e=i*s)}e*=this._updateTimeScale(t);const a=this._updateTime(e),r=this._updateWeight(t);if(r>0){const t=this._interpolants,e=this._propertyBindings;if(2501===this.blendMode)for(let i=0,s=t.length;i!==s;++i)t[i].evaluate(a),e[i].accumulateAdditive(r);else for(let i=0,n=t.length;i!==n;++i)t[i].evaluate(a),e[i].accumulate(s,r)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,n=this._loopCount;const a=2202===i;if(0===t)return-1===n||!a||1&~n?s:e-s;if(2200===i){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break t}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),s>=e||s<0){const i=Math.floor(s/e);s-=e*i,n+=Math.abs(i);const r=this.repetitions-n;if(r<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===r){const e=t<0;this._setEndings(e,!e,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i})}}else this.time=s;if(a&&!(1&~n))return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Bt,s.endingEnd=Bt):(s.endingStart=t?this.zeroSlopeAtStart?Bt:jt:Ht,s.endingEnd=e?this.zeroSlopeAtEnd?Bt:jt:Ht)}_scheduleFading(t,e,i){const s=this._mixer,n=s.time;let a=this._weightInterpolant;null===a&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const r=a.parameterPositions,o=a.sampleValues;return r[0]=n,o[0]=e,r[1]=n+t,o[1]=i,this}}const Vl=new Float32Array(1);class Gl extends Qt{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,n=s.length,a=t._propertyBindings,r=t._interpolants,o=i.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let t=0;t!==n;++t){const n=s[t],l=n.name;let h=c[l];if(void 0!==h)++h.referenceCount,a[t]=h;else{if(h=a[t],void 0!==h){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,o,l));continue}const s=e&&e._propertyBindings[t].binding.parsedPath;h=new Ol(Bl.create(i,l,s),n.ValueTypeName,n.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,o,l),a[t]=h}r[t].resultBuffer=h.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,e)}const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,n=this._actionsByClip;let a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{const e=a.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=s.length,s.push(t),a.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const n=t._clip.uuid,a=this._actionsByClip,r=a[n],o=r.knownActions,l=o[o.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),t._byClipCacheIndex=null,delete r.actionByRoot[(t._localRoot||this._root).uuid],0===o.length&&delete a[n],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0==--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,n=e[s];t._cacheIndex=s,e[s]=t,n._cacheIndex=i,e[i]=n}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,n=e[s];t._cacheIndex=s,e[s]=t,n._cacheIndex=i,e[i]=n}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,n=this._bindings;let a=s[e];void 0===a&&(a={},s[e]=a),a[i]=t,t._cacheIndex=n.length,n.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,r=a[s],o=e[e.length-1],l=t._cacheIndex;o._cacheIndex=l,e[l]=o,e.pop(),delete r[n],0===Object.keys(r).length&&delete a[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,n=e[s];t._cacheIndex=s,e[s]=t,n._cacheIndex=i,e[i]=n}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,n=e[s];t._cacheIndex=s,e[s]=t,n._cacheIndex=i,e[i]=n}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new Wo(new Float32Array(2),new Float32Array(2),1,Vl),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,n=e[s];t.__cacheIndex=s,e[s]=t,n.__cacheIndex=i,e[i]=n}clipAction(t,e,i){const s=e||this._root,n=s.uuid;let a="string"==typeof t?sl.findByName(s,t):t;const r=null!==a?a.uuid:t,o=this._actionsByClip[r];let l=null;if(void 0===i&&(i=null!==a?a.blendMode:2500),void 0!==o){const t=o.actionByRoot[n];if(void 0!==t&&t.blendMode===i)return t;l=o.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new Hl(this,a,e,i);return this._bindAction(c,l),this._addInactiveAction(c,r,n),c}existingAction(t,e){const i=e||this._root,s=i.uuid,n="string"==typeof t?sl.findByName(i,t):t,a=n?n.uuid:t,r=this._actionsByClip[a];return void 0!==r&&r.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,n=Math.sign(t),a=this._accuIndex^=1;for(let r=0;r!==i;++r)e[r]._update(s,t,n,a);const r=this._bindings,o=this._nActiveBindings;for(let t=0;t!==o;++t)r[t].apply(a);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,n=s[i];if(void 0!==n){const t=n.knownActions;for(let i=0,s=t.length;i!==s;++i){const s=t[i];this._deactivateAction(s);const n=s._cacheIndex,a=e[e.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,a._cacheIndex=n,e[n]=a,e.pop(),this._removeInactiveBindingsForAction(s)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const t in i){const s=i[t].actionByRoot[e];void 0!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}const s=this._bindingsByRootAndName[e];if(void 0!==s)for(const t in s){const e=s[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ql{constructor(t){this.value=t}clone(){return new ql(void 0===this.value.clone?this.value:this.value.clone())}}class Jl{constructor(t,e,i=0,s=1/0){this.ray=new mi(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new Ai,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,i=[]){return Yl(t,this,i,e),i.sort(Wl),i}intersectObjects(t,e=!0,i=[]){for(let s=0,n=t.length;s<n;s++)Yl(t[s],this,i,e);return i.sort(Wl),i}}function Wl(t,e){return t.distance-e.distance}function Yl(t,e,i,s){if(t.layers.test(e.layers)&&t.raycast(e,i),!0===s){const s=t.children;for(let t=0,n=s.length;t<n;t++)Yl(s[t],e,i,!0)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Z}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Z);const $l={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"};class Xl{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Kl=new bn(-1,1,1,-1,0,1),Zl=new xs;Zl.setAttribute("position",new ps([-1,3,0,-1,-1,0,3,-1,0],3)),Zl.setAttribute("uv",new ps([0,2,0,0,2,0],2));class Ql{constructor(t){this._mesh=new zs(Zl,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,Kl)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class tc extends Xl{constructor(t,e){super(),this.textureID=void 0!==e?e:"tDiffuse",t instanceof Js?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=qs.clone(t.uniforms),this.material=new Js({name:void 0!==t.name?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new Ql(this.material)}render(t,e,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class ec extends Xl{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,i){const s=t.getContext(),n=t.state;let a,r;n.buffers.color.setMask(!1),n.buffers.depth.setMask(!1),n.buffers.color.setLocked(!0),n.buffers.depth.setLocked(!0),this.inverse?(a=0,r=1):(a=1,r=0),n.buffers.stencil.setTest(!0),n.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),n.buffers.stencil.setFunc(s.ALWAYS,a,4294967295),n.buffers.stencil.setClear(r),n.buffers.stencil.setLocked(!0),t.setRenderTarget(i),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),n.buffers.color.setLocked(!1),n.buffers.depth.setLocked(!1),n.buffers.stencil.setLocked(!1),n.buffers.stencil.setFunc(s.EQUAL,1,4294967295),n.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),n.buffers.stencil.setLocked(!0)}}class ic extends Xl{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class sc{constructor(t,e){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),void 0===e){const i=t.getSize(new pe);this._width=i.width,this._height=i.height,(e=new De(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:It})).texture.name="EffectComposer.rt1"}else this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new tc($l),this.copyPass.material.blending=0,this.clock=new Rl}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){void 0===t&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let i=!1;for(let e=0,s=this.passes.length;e<s;e++){const s=this.passes[e];if(!1!==s.enabled){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(e),s.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),s.needsSwap){if(i){const e=this.renderer.getContext(),i=this.renderer.state.buffers.stencil;i.setFunc(e.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),i.setFunc(e.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==ec&&(s instanceof ec?i=!0:s instanceof ic&&(i=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(void 0===t){const e=this.renderer.getSize(new pe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const i=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(i,s),this.renderTarget2.setSize(i,s);for(let t=0;t<this.passes.length;t++)this.passes[t].setSize(i,s)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}function nc(t,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(2===e||1===e){let i=t.getIndex();if(null===i){const e=[],s=t.getAttribute("position");if(void 0===s)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<s.count;t++)e.push(t);t.setIndex(e),i=t.getIndex()}const s=i.count-2,n=[];if(2===e)for(let t=1;t<=s;t++)n.push(i.getX(0)),n.push(i.getX(t)),n.push(i.getX(t+1));else for(let t=0;t<s;t++)t%2==0?(n.push(i.getX(t)),n.push(i.getX(t+1)),n.push(i.getX(t+2))):(n.push(i.getX(t+2)),n.push(i.getX(t+1)),n.push(i.getX(t)));n.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(n),a.clearGroups(),a}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class ac extends ll{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new uc(t)})),this.register((function(t){return new vc(t)})),this.register((function(t){return new bc(t)})),this.register((function(t){return new xc(t)})),this.register((function(t){return new pc(t)})),this.register((function(t){return new mc(t)})),this.register((function(t){return new gc(t)})),this.register((function(t){return new _c(t)})),this.register((function(t){return new hc(t)})),this.register((function(t){return new fc(t)})),this.register((function(t){return new dc(t)})),this.register((function(t){return new yc(t)})),this.register((function(t){return new lc(t)})),this.register((function(t){return new Sc(t)})),this.register((function(t){return new Tc(t)}))}load(t,e,i,s){const n=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Cl.extractUrlBase(t),this.manager.itemStart(t);const r=function(e){s?s(e):console.error(e),n.manager.itemError(t),n.manager.itemEnd(t)},o=new ul(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(i){try{n.parse(i,a,(function(i){e(i),n.manager.itemEnd(t)}),r)}catch(t){r(t)}}),i,r)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,s){let n;const a={},r={},o=new TextDecoder;if("string"==typeof t)n=JSON.parse(t);else if(t instanceof ArrayBuffer)if(o.decode(new Uint8Array(t,0,4))===wc){try{a[oc.KHR_BINARY_GLTF]=new Ec(t)}catch(t){return void(s&&s(t))}n=JSON.parse(a[oc.KHR_BINARY_GLTF].content)}else n=JSON.parse(o.decode(t));else n=t;if(void 0===n.asset||n.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Wc(n,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){const e=this.pluginCallbacks[t](l);r[e.name]=e,a[e.name]=!0}if(n.extensionsUsed)for(let t=0;t<n.extensionsUsed.length;++t){const e=n.extensionsUsed[t],i=n.extensionsRequired||[];switch(e){case oc.KHR_MATERIALS_UNLIT:a[e]=new cc;break;case oc.KHR_DRACO_MESH_COMPRESSION:a[e]=new Ac(n,this.dracoLoader);break;case oc.KHR_TEXTURE_TRANSFORM:a[e]=new Ic;break;case oc.KHR_MESH_QUANTIZATION:a[e]=new Mc;break;default:i.indexOf(e)>=0&&void 0===r[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(a),l.setPlugins(r),l.parse(i,s)}parseAsync(t,e){const i=this;return new Promise((function(s,n){i.parse(t,e,s,n)}))}}function rc(){let t={};return{get:function(e){return t[e]},add:function(e,i){t[e]=i},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const oc={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class lc{constructor(t){this.parser=t,this.name=oc.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,s=e.length;i<s;i++){const s=e[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&t._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let s=e.cache.get(i);if(s)return s;const n=e.json,a=((n.extensions&&n.extensions[this.name]||{}).lights||[])[t];let r;const o=new as(16777215);void 0!==a.color&&o.fromArray(a.color);const l=void 0!==a.range?a.range:0;switch(a.type){case"directional":r=new Ml(o),r.target.position.set(0,0,-1),r.add(r.target);break;case"point":r=new Al(o),r.distance=l;break;case"spot":r=new xl(o),r.distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,r.angle=a.spot.outerConeAngle,r.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return r.position.set(0,0,0),r.decay=2,Bc(r,a),void 0!==a.intensity&&(r.intensity=a.intensity),r.name=e.createUniqueName(a.name||"light_"+t),s=Promise.resolve(r),e.cache.add(i,s),s}getDependency(t,e){if("light"===t)return this._loadLight(e)}createNodeAttachment(t){const e=this,i=this.parser,s=i.json.nodes[t],n=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===n?null:this._loadLight(n).then((function(t){return i._getNodeRef(e.cache,n,t)}))}}class cc{constructor(){this.name=oc.KHR_MATERIALS_UNLIT}getMaterialType(){return os}extendParams(t,e,i){const s=[];t.color=new as(1,1,1),t.opacity=1;const n=e.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;t.color.fromArray(e),t.opacity=e[3]}void 0!==n.baseColorTexture&&s.push(i.assignTexture(t,"map",n.baseColorTexture,Gt))}return Promise.all(s)}}class hc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return void 0!==s&&(e.emissiveIntensity=s),Promise.resolve()}}class uc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&n.push(i.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&n.push(i.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(n.push(i.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const t=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new pe(t,t)}return Promise.all(n)}}class dc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];return void 0!==a.iridescenceFactor&&(e.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&n.push(i.assignTexture(e,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(e.iridescenceIOR=a.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&n.push(i.assignTexture(e,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(n)}}class pc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_SHEEN}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[];e.sheenColor=new as(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=s.extensions[this.name];return void 0!==a.sheenColorFactor&&e.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(e.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&n.push(i.assignTexture(e,"sheenColorMap",a.sheenColorTexture,Gt)),void 0!==a.sheenRoughnessTexture&&n.push(i.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(n)}}class mc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&n.push(i.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(n)}}class gc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];e.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&n.push(i.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||1/0;const r=a.attenuationColor||[1,1,1];return e.attenuationColor=new as(r[0],r[1],r[2]),Promise.all(n)}}class _c{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return e.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class fc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];e.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&n.push(i.assignTexture(e,"specularIntensityMap",a.specularTexture));const r=a.specularColorFactor||[1,1,1];return e.specularColor=new as(r[0],r[1],r[2]),void 0!==a.specularColorTexture&&n.push(i.assignTexture(e,"specularColorMap",a.specularColorTexture,Gt)),Promise.all(n)}}class yc{constructor(t){this.parser=t,this.name=oc.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Uo:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],a=s.extensions[this.name];return void 0!==a.anisotropyStrength&&(e.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(e.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&n.push(i.assignTexture(e,"anisotropyMap",a.anisotropyTexture)),Promise.all(n)}}class vc{constructor(t){this.parser=t,this.name=oc.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const n=s.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,n.source,a)}}class bc{constructor(t){this.parser=t,this.name=oc.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,n=s.textures[t];if(!n.extensions||!n.extensions[e])return null;const a=n.extensions[e],r=s.images[a.source];let o=i.textureLoader;if(r.uri){const t=i.options.manager.getHandler(r.uri);null!==t&&(o=t)}return this.detectSupport().then((function(n){if(n)return i.loadTextureImage(t,a.source,o);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class xc{constructor(t){this.parser=t,this.name=oc.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,n=s.textures[t];if(!n.extensions||!n.extensions[e])return null;const a=n.extensions[e],r=s.images[a.source];let o=i.textureLoader;if(r.uri){const t=i.options.manager.getHandler(r.uri);null!==t&&(o=t)}return this.detectSupport().then((function(n){if(n)return i.loadTextureImage(t,a.source,o);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Sc{constructor(t){this.name=oc.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const t=i.extensions[this.name],s=this.parser.getDependency("buffer",t.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then((function(e){const i=t.byteOffset||0,s=t.byteLength||0,a=t.count,r=t.byteStride,o=new Uint8Array(e,i,s);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(a,r,o,t.mode,t.filter).then((function(t){return t.buffer})):n.ready.then((function(){const e=new ArrayBuffer(a*r);return n.decodeGltfBuffer(new Uint8Array(e),a,r,o,t.mode,t.filter),e}))}))}return null}}class Tc{constructor(t){this.name=oc.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,i=e.nodes[t];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const s=e.meshes[i.mesh];for(const t of s.primitives)if(t.mode!==Rc.TRIANGLES&&t.mode!==Rc.TRIANGLE_STRIP&&t.mode!==Rc.TRIANGLE_FAN&&void 0!==t.mode)return null;const n=i.extensions[this.name].attributes,a=[],r={};for(const t in n)a.push(this.parser.getDependency("accessor",n[t]).then((e=>(r[t]=e,r[t]))));return a.length<1?null:(a.push(this.parser.createNodeMesh(t)),Promise.all(a).then((t=>{const e=t.pop(),i=e.isGroup?e.children:[e],s=t[0].count,n=[];for(const t of i){const e=new gi,i=new ze,a=new Ue,o=new ze(1,1,1),l=new mo(t.geometry,t.material,s);for(let t=0;t<s;t++)r.TRANSLATION&&i.fromBufferAttribute(r.TRANSLATION,t),r.ROTATION&&a.fromBufferAttribute(r.ROTATION,t),r.SCALE&&o.fromBufferAttribute(r.SCALE,t),l.setMatrixAt(t,e.compose(i,a,o));for(const e in r)"TRANSLATION"!==e&&"ROTATION"!==e&&"SCALE"!==e&&t.geometry.setAttribute(e,r[e]);ji.prototype.copy.call(l,t),this.parser.assignFinalMaterial(l),n.push(l)}return e.isGroup?(e.clear(),e.add(...n),e):n[0]})))}}const wc="glTF";class Ec{constructor(t){this.name=oc.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==wc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-12,n=new DataView(t,12);let a=0;for(;a<s;){const e=n.getUint32(a,!0);a+=4;const s=n.getUint32(a,!0);if(a+=4,1313821514===s){const s=new Uint8Array(t,12+a,e);this.content=i.decode(s)}else if(5130562===s){const i=12+a;this.body=t.slice(i,i+e)}a+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ac{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=oc.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,s=this.dracoLoader,n=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,r={},o={},l={};for(const t in a){const e=Fc[t]||t.toLowerCase();r[e]=a[t]}for(const e in t.attributes){const s=Fc[e]||e.toLowerCase();if(void 0!==a[e]){const n=i.accessors[t.attributes[e]],a=Lc[n.componentType];l[s]=a.name,o[s]=!0===n.normalized}}return e.getDependency("bufferView",n).then((function(t){return new Promise((function(e){s.decodeDracoFile(t,(function(t){for(const e in t.attributes){const i=t.attributes[e],s=o[e];void 0!==s&&(i.normalized=s)}e(t)}),r,l)}))}))}}class Ic{constructor(){this.name=oc.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&e.texCoord!==t.channel||void 0!==e.offset||void 0!==e.rotation||void 0!==e.scale?(t=t.clone(),void 0!==e.texCoord&&(t.channel=e.texCoord),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0,t):t}}class Mc{constructor(){this.name=oc.KHR_MESH_QUANTIZATION}}class Cc extends qo{constructor(t,e,i,s){super(t,e,i,s)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,n=t*s*3+s;for(let t=0;t!==s;t++)e[t]=i[n+t];return e}interpolate_(t,e,i,s){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=2*r,l=3*r,c=s-e,h=(i-e)/c,u=h*h,d=u*h,p=t*l,m=p-l,g=-2*d+3*u,_=d-u,f=1-g,y=_-u+h;for(let t=0;t!==r;t++){const e=a[m+t+r],i=a[m+t+o]*c,s=a[p+t+r],l=a[p+t]*c;n[t]=f*e+y*i+g*s+_*l}return n}}const Nc=new Ue;class Pc extends Cc{interpolate_(t,e,i,s){const n=super.interpolate_(t,e,i,s);return Nc.fromArray(n).normalize().toArray(n),n}}const Rc={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Lc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Oc={9728:yt,9729:xt,9984:vt,9985:1007,9986:bt,9987:St},Dc={33071:_t,33648:ft,10497:gt},kc={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Fc={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Uc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},zc={CUBICSPLINE:void 0,LINEAR:Ut,STEP:Ft};function jc(t,e,i){for(const s in i.extensions)void 0===t[s]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=i.extensions[s])}function Bc(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Hc(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let i=0,s=e.weights.length;i<s;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){const i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(let e=0,s=i.length;e<s;e++)t.morphTargetDictionary[i[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Vc(t){let e;const i=t.extensions&&t.extensions[oc.KHR_DRACO_MESH_COMPRESSION];if(e=i?"draco:"+i.bufferView+":"+i.indices+":"+Gc(i.attributes):t.indices+":"+Gc(t.attributes)+":"+t.mode,void 0!==t.targets)for(let i=0,s=t.targets.length;i<s;i++)e+=":"+Gc(t.targets[i]);return e}function Gc(t){let e="";const i=Object.keys(t).sort();for(let s=0,n=i.length;s<n;s++)e+=i[s]+":"+t[i[s]]+";";return e}function qc(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Jc=new gi;class Wc{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new rc,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,n=-1;"undefined"!=typeof navigator&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=navigator.userAgent.indexOf("Firefox")>-1,n=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i||s&&n<98?this.textureLoader=new ml(this.options.manager):this.textureLoader=new Pl(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ul(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,s=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])})).then((function(e){const a={scene:e[0][s.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:s.asset,parser:i,userData:{}};jc(n,a,s),Bc(a,s),Promise.all(i._invokeAll((function(t){return t.afterRoot&&t.afterRoot(a)}))).then((function(){t(a)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let i=0,s=e.length;i<s;i++){const s=e[i].joints;for(let e=0,i=s.length;e<i;e++)t[s[e]].isBone=!0}for(let e=0,s=t.length;e<s;e++){const s=t[e];void 0!==s.mesh&&(this._addNodeRef(this.meshCache,s.mesh),void 0!==s.skin&&(i[s.mesh].isSkinnedMesh=!0)),void 0!==s.camera&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const s=i.clone(),n=(t,e)=>{const i=this.associations.get(t);null!=i&&this.associations.set(e,i);for(const[i,s]of t.children.entries())n(s,e.children[i])};return n(i,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const s=t(e[i]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let s=0;s<e.length;s++){const n=t(e[s]);n&&i.push(n)}return i}getDependency(t,e){const i=t+":"+e;let s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this._invokeOne((function(t){return t.loadNode&&t.loadNode(e)}));break;case"mesh":s=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":s=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":s=this.loadSkin(e);break;case"animation":s=this._invokeOne((function(t){return t.loadAnimation&&t.loadAnimation(e)}));break;case"camera":s=this.loadCamera(e);break;default:if(s=this._invokeOne((function(i){return i!=this&&i.getDependency&&i.getDependency(t,e)})),!s)throw new Error("Unknown type: "+t)}this.cache.add(i,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this,s=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(s.map((function(e,s){return i.getDependency(t,s)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[oc.KHR_BINARY_GLTF].body);const s=this.options;return new Promise((function(t,n){i.load(Cl.resolveURL(e.uri,s.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const i=e.byteLength||0,s=e.byteOffset||0;return t.slice(s,s+i)}))}loadAccessor(t){const e=this,i=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse){const t=kc[s.type],e=Lc[s.componentType],i=!0===s.normalized,n=new e(s.count*t);return Promise.resolve(new hs(n,t,i))}const n=[];return void 0!==s.bufferView?n.push(this.getDependency("bufferView",s.bufferView)):n.push(null),void 0!==s.sparse&&(n.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(n).then((function(t){const n=t[0],a=kc[s.type],r=Lc[s.componentType],o=r.BYTES_PER_ELEMENT,l=o*a,c=s.byteOffset||0,h=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,u=!0===s.normalized;let d,p;if(h&&h!==l){const t=Math.floor(c/h),i="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+t+":"+s.count;let l=e.cache.get(i);l||(d=new r(n,t*h,s.count*h/o),l=new Br(d,h/o),e.cache.add(i,l)),p=new Vr(l,a,c%h/o,u)}else d=null===n?new r(s.count*a):new r(n,c,s.count*a),p=new hs(d,a,u);if(void 0!==s.sparse){const e=kc.SCALAR,i=Lc[s.sparse.indices.componentType],o=s.sparse.indices.byteOffset||0,l=s.sparse.values.byteOffset||0,c=new i(t[1],o,s.sparse.count*e),h=new r(t[2],l,s.sparse.count*a);null!==n&&(p=new hs(p.array.slice(),p.itemSize,p.normalized));for(let t=0,e=c.length;t<e;t++){const e=c[t];if(p.setX(e,h[t*a]),a>=2&&p.setY(e,h[t*a+1]),a>=3&&p.setZ(e,h[t*a+2]),a>=4&&p.setW(e,h[t*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p}))}loadTexture(t){const e=this.json,i=this.options,s=e.textures[t].source,n=e.images[s];let a=this.textureLoader;if(n.uri){const t=i.manager.getHandler(n.uri);null!==t&&(a=t)}return this.loadTextureImage(t,s,a)}loadTextureImage(t,e,i){const s=this,n=this.json,a=n.textures[t],r=n.images[e],o=(r.uri||r.bufferView)+":"+a.sampler;if(this.textureCache[o])return this.textureCache[o];const l=this.loadImageSource(e,i).then((function(e){e.flipY=!1,e.name=a.name||r.name||"",""===e.name&&"string"==typeof r.uri&&!1===r.uri.startsWith("data:image/")&&(e.name=r.uri);const i=(n.samplers||{})[a.sampler]||{};return e.magFilter=Oc[i.magFilter]||xt,e.minFilter=Oc[i.minFilter]||St,e.wrapS=Dc[i.wrapS]||gt,e.wrapT=Dc[i.wrapT]||gt,s.associations.set(e,{textures:t}),e})).catch((function(){return null}));return this.textureCache[o]=l,l}loadImageSource(t,e){const i=this.json,s=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then((t=>t.clone()));const n=i.images[t],a=self.URL||self.webkitURL;let r=n.uri||"",o=!1;if(void 0!==n.bufferView)r=this.getDependency("bufferView",n.bufferView).then((function(t){o=!0;const e=new Blob([t],{type:n.mimeType});return r=a.createObjectURL(e),r}));else if(void 0===n.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(r).then((function(t){return new Promise((function(i,n){let a=i;!0===e.isImageBitmapLoader&&(a=function(t){const e=new Le(t);e.needsUpdate=!0,i(e)}),e.load(Cl.resolveURL(t,s.path),a,void 0,n)}))})).then((function(t){var e;return!0===o&&a.revokeObjectURL(r),t.userData.mimeType=n.mimeType||((e=n.uri).search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"),t})).catch((function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",r),t}));return this.sourceCache[t]=l,l}assignTexture(t,e,i,s){const n=this;return this.getDependency("texture",i.index).then((function(a){if(!a)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((a=a.clone()).channel=i.texCoord),n.extensions[oc.KHR_TEXTURE_TRANSFORM]){const t=void 0!==i.extensions?i.extensions[oc.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=n.associations.get(a);a=n.extensions[oc.KHR_TEXTURE_TRANSFORM].extendTexture(a,t),n.associations.set(a,e)}}return void 0!==s&&(a.colorSpace=s),t[e]=a,a}))}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const s=void 0===e.attributes.tangent,n=void 0!==e.attributes.color,a=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+i.uuid;let e=this.cache.get(t);e||(e=new Ao,ts.prototype.copy.call(e,i),e.color.copy(i.color),e.map=i.map,e.sizeAttenuation=!1,this.cache.add(t,e)),i=e}else if(t.isLine){const t="LineBasicMaterial:"+i.uuid;let e=this.cache.get(t);e||(e=new go,ts.prototype.copy.call(e,i),e.color.copy(i.color),e.map=i.map,this.cache.add(t,e)),i=e}if(s||n||a){let t="ClonedMaterial:"+i.uuid+":";s&&(t+="derivative-tangents:"),n&&(t+="vertex-colors:"),a&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=i.clone(),n&&(e.vertexColors=!0),a&&(e.flatShading=!0),s&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(i))),i=e}t.material=i}getMaterialType(){return Fo}loadMaterial(t){const e=this,i=this.json,s=this.extensions,n=i.materials[t];let a;const r={},o=[];if((n.extensions||{})[oc.KHR_MATERIALS_UNLIT]){const t=s[oc.KHR_MATERIALS_UNLIT];a=t.getMaterialType(),o.push(t.extendParams(r,n,e))}else{const i=n.pbrMetallicRoughness||{};if(r.color=new as(1,1,1),r.opacity=1,Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;r.color.fromArray(t),r.opacity=t[3]}void 0!==i.baseColorTexture&&o.push(e.assignTexture(r,"map",i.baseColorTexture,Gt)),r.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,r.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(o.push(e.assignTexture(r,"metalnessMap",i.metallicRoughnessTexture)),o.push(e.assignTexture(r,"roughnessMap",i.metallicRoughnessTexture))),a=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),o.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,r)}))))}!0===n.doubleSided&&(r.side=2);const l=n.alphaMode||"OPAQUE";if("BLEND"===l?(r.transparent=!0,r.depthWrite=!1):(r.transparent=!1,"MASK"===l&&(r.alphaTest=void 0!==n.alphaCutoff?n.alphaCutoff:.5)),void 0!==n.normalTexture&&a!==os&&(o.push(e.assignTexture(r,"normalMap",n.normalTexture)),r.normalScale=new pe(1,1),void 0!==n.normalTexture.scale)){const t=n.normalTexture.scale;r.normalScale.set(t,t)}return void 0!==n.occlusionTexture&&a!==os&&(o.push(e.assignTexture(r,"aoMap",n.occlusionTexture)),void 0!==n.occlusionTexture.strength&&(r.aoMapIntensity=n.occlusionTexture.strength)),void 0!==n.emissiveFactor&&a!==os&&(r.emissive=(new as).fromArray(n.emissiveFactor)),void 0!==n.emissiveTexture&&a!==os&&o.push(e.assignTexture(r,"emissiveMap",n.emissiveTexture,Gt)),Promise.all(o).then((function(){const i=new a(r);return n.name&&(i.name=n.name),Bc(i,n),e.associations.set(i,{materials:t}),n.extensions&&jc(s,i,n),i}))}createUniqueName(t){const e=Bl.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,i=this.extensions,s=this.primitiveCache;function n(t){return i[oc.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(i){return Yc(i,t,e)}))}const a=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],o=Vc(r),l=s[o];if(l)a.push(l.promise);else{let t;t=r.extensions&&r.extensions[oc.KHR_DRACO_MESH_COMPRESSION]?n(r):Yc(new xs,r,e),s[o]={primitive:r,promise:t},a.push(t)}}return Promise.all(a)}loadMesh(t){const e=this,i=this.json,s=this.extensions,n=i.meshes[t],a=n.primitives,r=[];for(let t=0,e=a.length;t<e;t++){const e=void 0===a[t].material?(void 0===(o=this.cache).DefaultMaterial&&(o.DefaultMaterial=new Fo({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),o.DefaultMaterial):this.getDependency("material",a[t].material);r.push(e)}var o;return r.push(e.loadGeometries(a)),Promise.all(r).then((function(i){const r=i.slice(0,i.length-1),o=i[i.length-1],l=[];for(let i=0,c=o.length;i<c;i++){const c=o[i],h=a[i];let u;const d=r[i];if(h.mode===Rc.TRIANGLES||h.mode===Rc.TRIANGLE_STRIP||h.mode===Rc.TRIANGLE_FAN||void 0===h.mode)u=!0===n.isSkinnedMesh?new Qr(c,d):new zs(c,d),!0===u.isSkinnedMesh&&u.normalizeSkinWeights(),h.mode===Rc.TRIANGLE_STRIP?u.geometry=nc(u.geometry,1):h.mode===Rc.TRIANGLE_FAN&&(u.geometry=nc(u.geometry,2));else if(h.mode===Rc.LINES)u=new wo(c,d);else if(h.mode===Rc.LINE_STRIP)u=new xo(c,d);else if(h.mode===Rc.LINE_LOOP)u=new Eo(c,d);else{if(h.mode!==Rc.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);u=new Po(c,d)}Object.keys(u.geometry.morphAttributes).length>0&&Hc(u,n),u.name=e.createUniqueName(n.name||"mesh_"+t),Bc(u,n),h.extensions&&jc(s,u,h),e.assignFinalMaterial(u),l.push(u)}for(let i=0,s=l.length;i<s;i++)e.associations.set(l[i],{meshes:t,primitives:i});if(1===l.length)return n.extensions&&jc(s,l[0],n),l[0];const c=new Pr;n.extensions&&jc(s,c,n),e.associations.set(c,{meshes:t});for(let t=0,e=l.length;t<e;t++)c.add(l[t]);return c}))}loadCamera(t){let e;const i=this.json.cameras[t],s=i[i.type];if(s)return"perspective"===i.type?e=new Ys(de(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(e=new bn(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),Bc(e,i),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],i=[];for(let t=0,s=e.joints.length;t<s;t++)i.push(this._loadNodeShallow(e.joints[t]));return void 0!==e.inverseBindMatrices?i.push(this.getDependency("accessor",e.inverseBindMatrices)):i.push(null),Promise.all(i).then((function(t){const i=t.pop(),s=t,n=[],a=[];for(let t=0,r=s.length;t<r;t++){const r=s[t];if(r){n.push(r);const e=new gi;null!==i&&e.fromArray(i.array,16*t),a.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}return new no(n,a)}))}loadAnimation(t){const e=this.json,i=this,s=e.animations[t],n=s.name?s.name:"animation_"+t,a=[],r=[],o=[],l=[],c=[];for(let t=0,e=s.channels.length;t<e;t++){const e=s.channels[t],i=s.samplers[e.sampler],n=e.target,h=n.node,u=void 0!==s.parameters?s.parameters[i.input]:i.input,d=void 0!==s.parameters?s.parameters[i.output]:i.output;void 0!==n.node&&(a.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",u)),o.push(this.getDependency("accessor",d)),l.push(i),c.push(n))}return Promise.all([Promise.all(a),Promise.all(r),Promise.all(o),Promise.all(l),Promise.all(c)]).then((function(t){const e=t[0],s=t[1],a=t[2],r=t[3],o=t[4],l=[];for(let t=0,n=e.length;t<n;t++){const n=e[t],c=s[t],h=a[t],u=r[t],d=o[t];if(void 0===n)continue;n.updateMatrix&&(n.updateMatrix(),n.matrixAutoUpdate=!0);const p=i._createAnimationTracks(n,c,h,u,d);if(p)for(let t=0;t<p.length;t++)l.push(p[t])}return new sl(n,void 0,l)}))}createNodeMesh(t){const e=this.json,i=this,s=e.nodes[t];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then((function(t){const e=i._getNodeRef(i.meshCache,s.mesh,t);return void 0!==s.weights&&e.traverse((function(t){if(t.isMesh)for(let e=0,i=s.weights.length;e<i;e++)t.morphTargetInfluences[e]=s.weights[e]})),e}))}loadNode(t){const e=this,i=this.json.nodes[t],s=e._loadNodeShallow(t),n=[],a=i.children||[];for(let t=0,i=a.length;t<i;t++)n.push(e.getDependency("node",a[t]));const r=void 0===i.skin?Promise.resolve(null):e.getDependency("skin",i.skin);return Promise.all([s,Promise.all(n),r]).then((function(t){const e=t[0],i=t[1],s=t[2];null!==s&&e.traverse((function(t){t.isSkinnedMesh&&t.bind(s,Jc)}));for(let t=0,s=i.length;t<s;t++)e.add(i[t]);return e}))}_loadNodeShallow(t){const e=this.json,i=this.extensions,s=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];const n=e.nodes[t],a=n.name?s.createUniqueName(n.name):"",r=[],o=s._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return o&&r.push(o),void 0!==n.camera&&r.push(s.getDependency("camera",n.camera).then((function(t){return s._getNodeRef(s.cameraCache,n.camera,t)}))),s._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){r.push(t)})),this.nodeCache[t]=Promise.all(r).then((function(e){let r;if(r=!0===n.isBone?new to:e.length>1?new Pr:1===e.length?e[0]:new ji,r!==e[0])for(let t=0,i=e.length;t<i;t++)r.add(e[t]);if(n.name&&(r.userData.name=n.name,r.name=a),Bc(r,n),n.extensions&&jc(i,r,n),void 0!==n.matrix){const t=new gi;t.fromArray(n.matrix),r.applyMatrix4(t)}else void 0!==n.translation&&r.position.fromArray(n.translation),void 0!==n.rotation&&r.quaternion.fromArray(n.rotation),void 0!==n.scale&&r.scale.fromArray(n.scale);return s.associations.has(r)||s.associations.set(r,{}),s.associations.get(r).nodes=t,r})),this.nodeCache[t]}loadScene(t){const e=this.extensions,i=this.json.scenes[t],s=this,n=new Pr;i.name&&(n.name=s.createUniqueName(i.name)),Bc(n,i),i.extensions&&jc(e,n,i);const a=i.nodes||[],r=[];for(let t=0,e=a.length;t<e;t++)r.push(s.getDependency("node",a[t]));return Promise.all(r).then((function(t){for(let e=0,i=t.length;e<i;e++)n.add(t[e]);return s.associations=(t=>{const e=new Map;for(const[t,i]of s.associations)(t instanceof ts||t instanceof Le)&&e.set(t,i);return t.traverse((t=>{const i=s.associations.get(t);null!=i&&e.set(t,i)})),e})(n),n}))}_createAnimationTracks(t,e,i,s,n){const a=[],r=t.name?t.name:t.uuid,o=[];let l;switch(Uc[n.path]===Uc.weights?t.traverse((function(t){t.morphTargetInfluences&&o.push(t.name?t.name:t.uuid)})):o.push(r),Uc[n.path]){case Uc.weights:l=Zo;break;case Uc.rotation:l=tl;break;default:switch(i.itemSize){case 1:l=Zo;break;case 2:case 3:l=il}}const c=void 0!==s.interpolation?zc[s.interpolation]:Ut,h=this._getArrayFromAccessor(i);for(let t=0,i=o.length;t<i;t++){const i=new l(o[t]+"."+Uc[n.path],e.array,h,c);"CUBICSPLINE"===c&&this._createCubicSplineTrackInterpolant(i),a.push(i)}return a}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const t=qc(e.constructor),i=new Float32Array(e.length);for(let s=0,n=e.length;s<n;s++)i[s]=e[s]*t;e=i}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(t){return new(this instanceof tl?Pc:Cc)(this.times,this.values,this.getValueSize()/3,t)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Yc(t,e,i){const s=e.attributes,n=[];function a(e,s){return i.getDependency("accessor",e).then((function(e){t.setAttribute(s,e)}))}for(const e in s){const i=Fc[e]||e.toLowerCase();i in t.attributes||n.push(a(s[e],i))}if(void 0!==e.indices&&!t.index){const s=i.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));n.push(s)}return Bc(t,e),function(t,e,i){const s=e.attributes,n=new He;if(void 0===s.POSITION)return;{const t=i.json.accessors[s.POSITION],e=t.min,a=t.max;if(void 0===e||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(n.set(new ze(e[0],e[1],e[2]),new ze(a[0],a[1],a[2])),t.normalized){const e=qc(Lc[t.componentType]);n.min.multiplyScalar(e),n.max.multiplyScalar(e)}}const a=e.targets;if(void 0!==a){const t=new ze,e=new ze;for(let s=0,n=a.length;s<n;s++){const n=a[s];if(void 0!==n.POSITION){const s=i.json.accessors[n.POSITION],a=s.min,r=s.max;if(void 0!==a&&void 0!==r){if(e.setX(Math.max(Math.abs(a[0]),Math.abs(r[0]))),e.setY(Math.max(Math.abs(a[1]),Math.abs(r[1]))),e.setZ(Math.max(Math.abs(a[2]),Math.abs(r[2]))),s.normalized){const t=qc(Lc[s.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(t)}t.boundingBox=n;const r=new ri;n.getCenter(r.center),r.radius=n.min.distanceTo(n.max)/2,t.boundingSphere=r}(t,e,i),Promise.all(n).then((function(){return void 0!==e.targets?function(t,e,i){let s=!1,n=!1,a=!1;for(let t=0,i=e.length;t<i;t++){const i=e[t];if(void 0!==i.POSITION&&(s=!0),void 0!==i.NORMAL&&(n=!0),void 0!==i.COLOR_0&&(a=!0),s&&n&&a)break}if(!s&&!n&&!a)return Promise.resolve(t);const r=[],o=[],l=[];for(let c=0,h=e.length;c<h;c++){const h=e[c];if(s){const e=void 0!==h.POSITION?i.getDependency("accessor",h.POSITION):t.attributes.position;r.push(e)}if(n){const e=void 0!==h.NORMAL?i.getDependency("accessor",h.NORMAL):t.attributes.normal;o.push(e)}if(a){const e=void 0!==h.COLOR_0?i.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(e)}}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(l)]).then((function(e){const i=e[0],r=e[1],o=e[2];return s&&(t.morphAttributes.position=i),n&&(t.morphAttributes.normal=r),a&&(t.morphAttributes.color=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,i):t}))}class $c extends dl{constructor(t){super(t)}parse(t,e){const i=new Xc(t,1);return{mipmaps:i.mipmaps(e),width:i.pixelWidth,height:i.pixelHeight,format:i.glInternalFormat,isCubemap:6===i.numberOfFaces,mipmapCount:i.numberOfMipmapLevels}}}class Xc{constructor(t,e){this.arrayBuffer=t;const i=new Uint8Array(this.arrayBuffer,0,12);if(171!==i[0]||75!==i[1]||84!==i[2]||88!==i[3]||32!==i[4]||49!==i[5]||49!==i[6]||187!==i[7]||13!==i[8]||10!==i[9]||26!==i[10]||10!==i[11])return void console.error("texture missing KTX identifier");const s=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(this.arrayBuffer,12,13*s),a=67305985===n.getUint32(0,!0);this.glType=n.getUint32(1*s,a),this.glTypeSize=n.getUint32(2*s,a),this.glFormat=n.getUint32(3*s,a),this.glInternalFormat=n.getUint32(4*s,a),this.glBaseInternalFormat=n.getUint32(5*s,a),this.pixelWidth=n.getUint32(6*s,a),this.pixelHeight=n.getUint32(7*s,a),this.pixelDepth=n.getUint32(8*s,a),this.numberOfArrayElements=n.getUint32(9*s,a),this.numberOfFaces=n.getUint32(10*s,a),this.numberOfMipmapLevels=n.getUint32(11*s,a),this.bytesOfKeyValueData=n.getUint32(12*s,a),0===this.glType?(this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),0!==this.pixelHeight&&0===this.pixelDepth?0===this.numberOfArrayElements?this.numberOfFaces===e?this.loadType=0:console.warn("number of faces expected"+e+", but found "+this.numberOfFaces):console.warn("texture arrays not currently supported"):console.warn("only 2D textures currently supported")):console.warn("only compressed formats currently supported")}mipmaps(t){const e=[];let i=64+this.bytesOfKeyValueData,s=this.pixelWidth,n=this.pixelHeight;const a=t?this.numberOfMipmapLevels:1;for(let t=0;t<a;t++){const t=new Int32Array(this.arrayBuffer,i,1)[0];i+=4;for(let a=0;a<this.numberOfFaces;a++){const a=new Uint8Array(this.arrayBuffer,i,t);e.push({data:a,width:s,height:n}),i+=t,i+=3-(t+3)%4}s=Math.max(1,.5*s),n=Math.max(1,.5*n)}return e}}class Kc extends Xl{constructor(t,e,i,s){super(),this.renderScene=e,this.renderCamera=i,this.selectedObjects=void 0!==s?s:[],this.visibleEdgeColor=new as(1,1,1),this.hiddenEdgeColor=new as(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=void 0!==t?new pe(t.x,t.y):new pe(256,256);const n=Math.round(this.resolution.x/this.downSampleRatio),a=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new De(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new wr,this.depthMaterial.side=2,this.depthMaterial.depthPacking=3201,this.depthMaterial.blending=0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=2,this.prepareMaskMaterial.fragmentShader=function(t,e){const i=e.isPerspectiveCamera?"perspective":"orthographic";return t.replace(/DEPTH_TO_VIEW_Z/g,i+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new De(this.resolution.x,this.resolution.y,{type:It}),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new De(n,a,{type:It}),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new De(n,a,{type:It}),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new De(Math.round(n/2),Math.round(a/2),{type:It}),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new De(n,a,{type:It}),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new De(Math.round(n/2),Math.round(a/2),{type:It}),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1,this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value.set(n,a),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(n/2),Math.round(a/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial();const r=$l;this.copyUniforms=qs.clone(r.uniforms),this.materialCopy=new Js({uniforms:this.copyUniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,blending:0,depthTest:!1,depthWrite:!1}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new as,this.oldClearAlpha=1,this.fsQuad=new Ql(null),this.tempPulseColor1=new as,this.tempPulseColor2=new as,this.textureMatrix=new gi}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}setSize(t,e){this.renderTargetMaskBuffer.setSize(t,e),this.renderTargetDepthBuffer.setSize(t,e);let i=Math.round(t/this.downSampleRatio),s=Math.round(e/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(i,s),this.renderTargetBlurBuffer1.setSize(i,s),this.renderTargetEdgeBuffer1.setSize(i,s),this.separableBlurMaterial1.uniforms.texSize.value.set(i,s),i=Math.round(i/2),s=Math.round(s/2),this.renderTargetBlurBuffer2.setSize(i,s),this.renderTargetEdgeBuffer2.setSize(i,s),this.separableBlurMaterial2.uniforms.texSize.value.set(i,s)}changeVisibilityOfSelectedObjects(t){const e=this._visibilityCache;function i(i){i.isMesh&&(!0===t?i.visible=e.get(i):(e.set(i,i.visible),i.visible=t))}for(let t=0;t<this.selectedObjects.length;t++)this.selectedObjects[t].traverse(i)}changeVisibilityOfNonSelectedObjects(t){const e=this._visibilityCache,i=[];function s(t){t.isMesh&&i.push(t)}for(let t=0;t<this.selectedObjects.length;t++)this.selectedObjects[t].traverse(s);this.renderScene.traverse((function(s){if(s.isMesh||s.isSprite){let n=!1;for(let t=0;t<i.length;t++)if(i[t].id===s.id){n=!0;break}if(!1===n){const i=s.visible;!1!==t&&!0!==e.get(s)||(s.visible=t),e.set(s,i)}}else(s.isPoints||s.isLine)&&(!0===t?s.visible=e.get(s):(e.set(s,s.visible),s.visible=t))}))}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(t,e,i,s,n){if(this.selectedObjects.length>0){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const e=t.autoClear;t.autoClear=!1,n&&t.state.buffers.stencil.setTest(!1),t.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const s=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,t.setRenderTarget(this.renderTargetDepthBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,t.setRenderTarget(this.renderTargetMaskBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=s,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,t.setRenderTarget(this.renderTargetMaskDownSampleBuffer),t.clear(),this.fsQuad.render(t),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const t=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(t),this.tempPulseColor2.multiplyScalar(t)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Kc.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,t.setRenderTarget(this.renderTargetBlurBuffer1),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Kc.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=Kc.BlurDirectionX,t.setRenderTarget(this.renderTargetBlurBuffer2),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=Kc.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer2),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,n&&t.state.buffers.stencil.setTest(!0),t.setRenderTarget(i),this.fsQuad.render(t),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=e}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=i.texture,t.setRenderTarget(null),this.fsQuad.render(t))}getPrepareMaskMaterial(){return new Js({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new pe(.5,.5)},textureMatrix:{value:null}},vertexShader:"#include <morphtarget_pars_vertex>\n\t\t\t\t#include <skinning_pars_vertex>\n\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tuniform mat4 textureMatrix;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t\t#include <skinning_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t\tvPosition = mvPosition;\n\n\t\t\t\t\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t\t\t\t\t#ifdef USE_INSTANCING\n\n\t\t\t\t\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t\t\t\t\t#endif\n\t\t\t\t\t\n\t\t\t\t\tworldPosition = modelMatrix * worldPosition;\n\n\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\n\n\t\t\t\t}",fragmentShader:"#include <packing>\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tvarying vec4 projTexCoord;\n\t\t\t\tuniform sampler2D depthTexture;\n\t\t\t\tuniform vec2 cameraNearFar;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n\t\t\t\t\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\n\n\t\t\t\t}"})}getEdgeDetectionMaterial(){return new Js({uniforms:{maskTexture:{value:null},texSize:{value:new pe(.5,.5)},visibleEdgeColor:{value:new ze(1,1,1)},hiddenEdgeColor:{value:new ze(1,1,1)}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec3 visibleEdgeColor;\n\t\t\t\tuniform vec3 hiddenEdgeColor;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\n\t\t\t\t}"})}getSeperableBlurMaterial(t){return new Js({defines:{MAX_RADIUS:t},uniforms:{colorTexture:{value:null},texSize:{value:new pe(.5,.5)},direction:{value:new pe(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float kernelRadius;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat sigma = kernelRadius/2.0;\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, sigma);\n\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n\t\t\t\t\tvec2 uvOffset = delta;\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = kernelRadius * float(i) / float(MAX_RADIUS);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, sigma);\n\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\t\t\tuvOffset += delta;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\n\t\t\t\t}"})}getOverlayMaterial(){return new Js({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\n\t\t\t\tuniform sampler2D maskTexture;\n\t\t\t\tuniform sampler2D edgeTexture1;\n\t\t\t\tuniform sampler2D edgeTexture2;\n\t\t\t\tuniform sampler2D patternTexture;\n\t\t\t\tuniform float edgeStrength;\n\t\t\t\tuniform float edgeGlow;\n\t\t\t\tuniform bool usePatternTexture;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\n\t\t\t\t\tif(usePatternTexture)\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\n\t\t\t\t\tgl_FragColor = finalColor;\n\t\t\t\t}",blending:2,depthTest:!1,depthWrite:!1,transparent:!0})}}Kc.BlurDirectionX=new pe(1,0),Kc.BlurDirectionY=new pe(0,1);class Zc extends Xl{constructor(t,e,i,s,n){super(),this.scene=t,this.camera=e,this.overrideMaterial=i,this.clearColor=s,this.clearAlpha=void 0!==n?n:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new as}render(t,e,i){const s=t.autoClear;let n,a;t.autoClear=!1,void 0!==this.overrideMaterial&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),n=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:i),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,n),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=a),t.autoClear=s}}const Qc={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new as(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};class th extends Xl{constructor(t,e,i,s){super(),this.strength=void 0!==e?e:1,this.radius=i,this.threshold=s,this.resolution=void 0!==t?new pe(t.x,t.y):new pe(256,256),this.clearColor=new as(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let n=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new De(n,a,{type:It}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let t=0;t<this.nMips;t++){const e=new De(n,a,{type:It});e.texture.name="UnrealBloomPass.h"+t,e.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(e);const i=new De(n,a,{type:It});i.texture.name="UnrealBloomPass.v"+t,i.texture.generateMipmaps=!1,this.renderTargetsVertical.push(i),n=Math.round(n/2),a=Math.round(a/2)}const r=Qc;this.highPassUniforms=qs.clone(r.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Js({uniforms:this.highPassUniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}),this.separableBlurMaterials=[];const o=[3,5,7,9,11];n=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let t=0;t<this.nMips;t++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(o[t])),this.separableBlurMaterials[t].uniforms.texSize.value=new pe(n,a),n=Math.round(n/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new ze(1,1,1),new ze(1,1,1),new ze(1,1,1),new ze(1,1,1),new ze(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const l=$l;this.copyUniforms=qs.clone(l.uniforms),this.blendMaterial=new Js({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new as,this.oldClearAlpha=1,this.basic=new os,this.fsQuad=new Ql(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let i=Math.round(t/2),s=Math.round(e/2);this.renderTargetBright.setSize(i,s);for(let t=0;t<this.nMips;t++)this.renderTargetsHorizontal[t].setSize(i,s),this.renderTargetsVertical[t].setSize(i,s),this.separableBlurMaterials[t].uniforms.texSize.value=new pe(i,s),i=Math.round(i/2),s=Math.round(s/2)}render(t,e,i,s,n){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const a=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),n&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let r=this.renderTargetBright;for(let e=0;e<this.nMips;e++)this.fsQuad.material=this.separableBlurMaterials[e],this.separableBlurMaterials[e].uniforms.colorTexture.value=r.texture,this.separableBlurMaterials[e].uniforms.direction.value=th.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[e]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[e].uniforms.colorTexture.value=this.renderTargetsHorizontal[e].texture,this.separableBlurMaterials[e].uniforms.direction.value=th.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[e]),t.clear(),this.fsQuad.render(t),r=this.renderTargetsVertical[e];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,n&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(i),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=a}getSeperableBlurMaterial(t){return new Js({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new pe(.5,.5)},direction:{value:new pe(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(t){return new Js({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}th.BlurDirectionX=new pe(1,0),th.BlurDirectionY=new pe(0,1);class eh{static Uniforms={invertDepth:"float",nearDistance:"float",midDistance:"float"};static VertexHead="\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tvarying float depth;\n\t\t#else\n\t\t\tuniform float nearDistance;\n\t\t\tuniform float midDistance;\n\t\t#endif\n\t";static Vertex="\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tdepth = gl_Position.w;\n\t\t#else\n\t\t\tfloat z = gl_Position.w;\n\t\t\tif (z < midDistance) {\n\t\t\t\tgl_Position.z = nearDistance * (z - midDistance) / (midDistance - nearDistance);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfloat logFactor = 0.01254291648; // 1 / log2(1e24 - midDistance + 1.0)\n\t\t\t\tgl_Position.z = log2(z - midDistance + 1.0) * logFactor;\n\t\t\t\tgl_Position.z *= gl_Position.w;\n\t\t\t}\n\t\t#endif\n\t";static FragmentHead="\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tuniform float invertDepth;\n\t\t\tuniform float nearDistance;\n\t\t\tuniform float midDistance;\n\t\t\tvarying float depth;\n\t\t#endif\n\t";static Fragment="\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tfloat logFactor = 0.01254291648; // 1 / log2(1 + 1e24)\n\t\t\tfloat nearFactor = 0.5 * (depth - nearDistance) / (midDistance - nearDistance);\n\t\t\tfloat farFactor = 0.5 * (1.0 + log2(1.0 + depth - midDistance) * logFactor);\n\t\t\tgl_FragDepthEXT = (1.0 - 2.0 * invertDepth) * (depth >= midDistance ? farFactor : nearFactor) + invertDepth;\n\t\t#endif\n\t";static ThreeUniforms={invertDepth:new ql(0),nearDistance:new ql(0),midDistance:new ql(0)}}class ih{constructor(t){this._scene=t,this._ref=null,this._refChangedCallback=null}get(){return this.update(),this._ref}setRefChangedCallback(t){this._refChangedCallback=t}update(){}_setRef(t){if(null===t||t.isEnabled()||(t=null),this._ref!==t){const e=this._ref;this._ref=t,null!==this._refChangedCallback&&this._refChangedCallback(e,this._ref)}}}class sh{constructor(t,e,i){this._type=t,this._index=0,this._typeIndex=0,this._name=e,this._collectionParent=i}getType(){return this._type}getIndex(){return this._index}__setIndex(t){this._index=t}getTypeIndex(){return this._typeIndex}__setTypeIndex(t){this._typeIndex=t}getName(){return this._name}__getCollectionParent(){return this._collectionParent}__setCollectionParent(t){this._collectionParent=t}__destroy(){}}class nh{constructor(t,e){this._parent=t,this._types=e,this._items=[],this._itemsByName=new Map,this._itemsByType=new Map}get(t){const e=this._getByItemOrNameOrIndex(t);return void 0!==e?this._items[e]:null}getByType(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._types.get(t);if(void 0===i)return null;const s=this._itemsByType.get(i);return void 0===s||e<0||e>=s.length?null:s[e]}getByClass(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._itemsByType.get(t);return void 0!==i&&e>=0&&e<i.length?i[e]:null}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(""!==e&&this._itemsByName.has(e))throw new Error(`Already added "${e}".`);const s=this._types.get(t);if(void 0===t)throw new Error(`Type "${t}" not found.`);let n;try{n=new s(t,e,this._parent)}catch(i){throw i instanceof Error&&(i.message=`While adding "${e}" of type "${t}": ${i.message}`),i}return this._addToLists(e,n,i),n}addByClass(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(""!==e&&this._itemsByName.has(e))throw new Error(`Already added "${e}".`);try{let s="";for(const e of this._types.entries())if(e[1]===t){s=e[0];break}const n=new t(s,e,this._parent);return this._addToLists(e,n,i),n}catch(t){throw t instanceof Error&&(t.message=`While adding "${e}": ${t.message}`),t}}move(t,e,i){const s=this._getByItemOrNameOrIndex(t);if(void 0===s)throw new Error("While moving item, the item is not found.");const n=this._items[s],a=n.getName();if(""!==a&&e._itemsByName.has(a))throw new Error(`Already added "${a}".`);this._removeFromLists(s,a,n),e._addToLists(a,n,i),n.__setCollectionParent(e._parent)}remove(t){const e=this._getByItemOrNameOrIndex(t);if(void 0===e)return;const i=this._items[e],s=i.getName();this._removeFromLists(e,s,i),i.__destroy()}clear(){for(let t=this._items.length-1;t>=0;t--)this._items[t].__destroy();this._items=[],this._itemsByName.clear(),this._itemsByType.clear()}get size(){return this._items.length}_addToLists(t,e,i){const s=void 0!==i?i.getIndex():this._items.length;this._items.splice(s,0,e),""!==t&&this._itemsByName.set(t,e),this._updateIndices(s,e)}_removeFromLists(t,e,i){this._items.splice(t,1),""!==e&&this._itemsByName.delete(e),this._updateIndices(t,i)}_updateIndices(t,e){for(let e=t;e<this._items.length;e++)this._items[e].__setIndex(e);const i=e.constructor,s=this._itemsByType.set(i,[]).get(i);let n=e.getTypeIndex();for(let t=0;t<this._items.length;t++)this._items[t].constructor===i&&(this._items[t].__setTypeIndex(n),s.push(this._items[t]),n+=1);0===s.length&&this._itemsByType.delete(i)}__destroy(){for(let t=this._items.length-1;t>=0;t--)this._items[t].__destroy()}_getByItemOrNameOrIndex(t){if("number"==typeof t){if(t>=0&&t<this._items.length)return t}else{let e;e="string"==typeof t?this._itemsByName.get(t):t;for(let t=this._items.length-1;t>=0;t--)if(this._items[t]===e)return t}}}class ah{constructor(){this._updateItemCallback=null,this._compareItemCallback=null,this._nodes=new Map,this._sortedNodes=[],this._needsSorting=!1}setUpdateItemCallback(t){this._updateItemCallback=t}setCompareItemCallback(t){this._compareItemCallback=t}addItem(t){const e=new rh(t);this._nodes.set(t,e),this._needsSorting=!0}removeItem(t){this._nodes.delete(t)&&(this._needsSorting=!0)}needsSorting(){this._needsSorting=!0}update(){if(this._needsSorting){for(const t of this._nodes.values())t.permanentMark=!1,t.temporaryMark=!1;this._sortedNodes=[];const t=this._nodes.values();for(;;){const e=t.next();if(e.done)break;if(!this._visit(e.value))break}this._needsSorting=!1}for(let t=0,e=this._sortedNodes.length;t<e;t++)this._updateItemCallback(this._sortedNodes[t].item)}_visit(t){if(t.permanentMark)return!0;if(t.temporaryMark)throw new Error("Dependency cycle in graph: "+t.item);t.temporaryMark=!0;for(const e of this._nodes.values()){let i=!1;if(this._compareItemCallback&&(i=this._compareItemCallback(t.item,e.item)),i)try{this._visit(e)}catch(e){throw e instanceof Error&&(e.message=`${e.message}  ${t.item}`),e}}return t.temporaryMark=!1,t.permanentMark=!0,this._sortedNodes.push(t),!0}}class rh{constructor(t){this.item=t,this.permanentMark=!1,this.temporaryMark=!1}}class oh{getAt(t){throw new Error}get size(){throw new Error}}class lh{constructor(){this._numberOfSamples=100,this._samples=new Array(this._numberOfSamples),this._index=0}getNumberOfSamples(){return this._numberOfSamples}setNumberOfSamples(t){this._numberOfSamples=t,this._samples=new Array(this._numberOfSamples)}getFPS(){let t=0;for(let e=0;e<this._samples.length;e++)t+=this._samples[e];return this._samples.length/t}update(t){this._samples[this._index]=t,this._index=(this._index+1)%this._samples.length}}class ch{constructor(){this._frozen=!1}throwIfFrozen(){if(this._frozen)throw new TypeError("The object is frozen.")}isFrozen(){return this._frozen}freeze(){this._frozen=!0}thaw(){this._frozen=!1}}class hh{static get pi(){return 3.141592653589793}static get twoPi(){return 6.283185307179586}static get halfPi(){return 1.5707963267948966}static angle(t,e){return t=this.wrap(t,0,2*Math.PI),(e=this.wrap(e,0,2*Math.PI))-t>Math.PI?t-e+2*Math.PI:t-e>Math.PI?e-t+2*Math.PI:Math.abs(e-t)}static clamp(t,e,i){return Math.min(Math.max(e,t),i)}static clamp01(t){return Math.min(Math.max(0,t),1)}static wrap(t,e,i){let s=(t-e)%(i-e)+e;return s<e&&(s+=i-e),s}static lerp(t,e,i){return(1-i)*t+i*e}static lerpAngle(t,e,i){return t=this.wrap(t,-Math.PI,+Math.PI),(e=this.wrap(e,-Math.PI,+Math.PI))-t>Math.PI&&(t+=2*Math.PI),t-e>Math.PI&&(e+=2*Math.PI),this.wrap(this.lerp(t,e,i),-Math.PI,+Math.PI)}static radToDeg(t){return 57.29577951308232*t}static degToRad(t){return.01745329251994329*t}static ceilPow2(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))}}class uh extends oh{constructor(t){super(),this._type=t,this._objects=[],this._free=[],this._freeLength=0,this._constructorFunction=()=>new this._type,this._destructorFunction=()=>{}}setConstructorFunction(t){this._constructorFunction=t}setDestructorFunction(t){this._destructorFunction=t}get(){let t=null;if(this._freeLength>0)t=this._objects[this._free[this._freeLength-1]],this._freeLength-=1;else{const e=this._objects.push(this._constructorFunction())-1;this._objects[e]._poolIndex=e,t=this._objects[e]}return t._poolUsed=!0,t}release(t){const e=t;void 0!==e._poolIndex&&(this._freeLength>=this._free.length?this._free.push(e._poolIndex):this._free[this._freeLength]=e._poolIndex,this._freeLength+=1,e._poolUsed=!1)}clean(t){if(void 0===t||t>=(this._objects.length-this._freeLength)/this._objects.length){for(let t=0;t<this._freeLength;t++){const e=this._free[t];this._destructorFunction(this._objects[e]),this._objects.splice(e,1);for(let t=e,i=this._objects.length;t<i;t++)this._objects[t]._poolIndex-=1;for(let i=t+1,s=this._freeLength;i<s;i++)this._free[i]>e&&(this._free[i]-=1)}this._free=[],this._freeLength=0}}getAsArray(){return this._objects}isUsed(t){return t._poolUsed}areAnyUsed(){return this._freeLength<this._objects.length}getAt(t){return this._objects[t]}get size(){return this._objects.length}}class dh{constructor(t){this._dataView=new DataView(t),this._offset=0}isAtEnd(){return this._offset>=this._dataView.byteLength}readByte(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}readFloat32(){const t=this._dataView.getFloat32(this._offset,!0);return this._offset+=4,t}readFloat64(){const t=this._dataView.getFloat64(this._offset,!0);return this._offset+=8,t}readUInt8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}readUInt16(){const t=this._dataView.getUint16(this._offset,!0);return this._offset+=2,t}readUInt32(){const t=this._dataView.getUint32(this._offset,!0);return this._offset+=4,t}readUInt64(){const t=Number(this._dataView.getBigUint64(this._offset,!0));return this._offset+=8,Number.isSafeInteger(t)?t:NaN}readInt8(){const t=this._dataView.getInt8(this._offset);return this._offset+=1,t}readInt16(){const t=this._dataView.getInt16(this._offset,!0);return this._offset+=2,t}readInt32(){const t=this._dataView.getInt32(this._offset,!0);return this._offset+=4,t}readInt64(){const t=Number(this._dataView.getBigInt64(this._offset,!0));return this._offset+=8,Number.isSafeInteger(t)?t:NaN}readLine(){const t=[];for(;;){const e=this.readByte(),i=String.fromCharCode(e);if("\r"!==i){if("\n"===i)break;t.push(e)}}if("undefined"!=typeof TextEncoder){const e=new TextDecoder,i=new Uint8Array(t);return e.decode(i)}return this._utf8ArrayToStr(t)}readString(t){const e=[];for(;;){const i=this.readByte();if(void 0===t&&0===i)break;if(e.push(i),void 0!==t&&e.length===t)break}if("undefined"!=typeof TextEncoder){const t=new TextDecoder,i=new Uint8Array(e);return t.decode(i)}return this._utf8ArrayToStr(e)}_utf8ArrayToStr(t){let e=0,i=0,s=0,n=0,a="",r=0;const o=t.length;for(;r<o;)switch(e=t[r],r+=1,e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(e);break;case 12:case 13:i=0|t[r],r+=1,a+=String.fromCharCode((31&e)<<6|63&i);break;case 14:i=0|t[r],r+=1,s=0|t[r],r+=1,a+=String.fromCharCode((15&e)<<12|(63&i)<<6|63&s);break;case 15:i=0|t[r],r+=1,s=0|t[r],r+=1,n=0|t[r],r+=1,a+=String.fromCharCode((7&e)<<18|(63&i)<<12|(63&s)<<6|63&n)}return a}}class ph{static getIndex(t,e,i){let s=0,n=e.length;if(void 0===i)for(;s<n;){const i=s+n>>>1;e[i]<t?s=i+1:n=i}else for(;s<n;){const a=s+n>>>1;i(e[a],t)?s=a+1:n=a}return s}static add(t,e,i,s){let n=this.getIndex(t,e,i);if(void 0===s)for(;n<e.length&&e[n]===t;)n+=1;else for(;n<e.length&&s(e[n],t);)n+=1;e.splice(n,0,t)}static remove(t,e,i,s){const n=this.getIndex(t,e,i);let a=!1;return n<e.length&&(void 0===s&&e[n]===t||void 0!==s&&s(e[n],t))&&(a=!0),a&&e.splice(n,1),a}}class mh{constructor(t){this._parent=t,this._children=[],this._active=!1,this._loaded=!1,this._destroyed=!1,this._transitioning=!1}getParent(){return this._parent}async forceLoad(){this._transitioning=!0,this._destroyed||await this.load(),this._loaded=!0,this._destroyed||await this.activate(),this._active=!0,this._transitioning=!1}check(){return this._destroyed||this._transitioning||(0===this._children.length&&this.checkSplit()?this._split():this._children.length>0&&this.checkJoin()&&this._join()),this._transitioning}get children(){return this._children}createNewTile(t,e,i){return null}checkSplit(){return!1}checkJoin(){return!1}async load(){}async unload(){}async activate(){}async deactivate(){}destroy(){this._destroyed=!0;for(let t=0;t<this._children.length;t++)this._children[t].destroy();this._transitioning||(this._active?this.deactivate().then((()=>{this.unload()})).catch((t=>{throw t})):this._loaded&&this.unload())}_split(){const t=[],e=[];this._splitAndLoad(t,e),Promise.all(t).then((()=>{const t=[];for(let i=0;i<e.length;i++)e[i]._loaded&&!e[i]._destroyed?t.push(e[i].activate().then((async()=>{if(this._destroyed)return this.deactivate().then((()=>{this.unload()})).catch((t=>{throw t}));e[i]._active=!0,e[i]._transitioning=!1})).catch((t=>{throw t}))):e[i]._transitioning=!1;return this._active&&t.push(this.deactivate().then((()=>{this._active=!1})).catch((t=>{throw t}))),t})).then((()=>{this._loaded?this.unload().then((()=>{this._loaded=!1,this._transitioning=!1})).catch((t=>{throw t})):this._transitioning=!1})).catch((()=>{const t=[];for(let i=0;i<e.length;i++)e[i]._active?t.push(e[i].deactivate().then((()=>e[i].unload()))):e[i]._loaded&&t.push(e[i].unload());return this._loaded?this._active||t.push(this.activate()):t.push(this.load().then((()=>this.activate()))),Promise.all(t)}))}_join(){if(this._checkIfDescendantsAreTransitioning())return;const t=[];this._transitioning=!0,this._markDescendantsAsTransitioning(t),this.load().then((async()=>{if(this._destroyed)return this.unload();this._loaded=!0})).then((()=>{const e=[];for(let i=0;i<t.length;i++)e.push(t[i].deactivate().then((()=>{t[i]._active=!1})).catch((t=>{throw t})));return this._destroyed||e.push(this.activate().then((async()=>{if(this._destroyed)return this.deactivate().then((()=>{this.unload()})).catch((t=>{throw t}));this._active=!0})).catch((t=>{throw t}))),Promise.all(e)})).then((()=>{const e=[];for(let i=0;i<t.length;i++)e.push(t[i].unload().then((()=>{t[i]._loaded=!1})).catch((t=>{throw t})));return Promise.all(e)})).then((()=>{this._children=[],this._transitioning=!1})).catch((t=>{throw t}))}_splitAndLoad(t,e){this._transitioning=!0;for(let i=0;i<2;i++)for(let s=0;s<2;s++){const n=this.createNewTile(this,i,s);null!==n&&(this._children.push(n),n.checkSplit()?n._splitAndLoad(t,e):(n._transitioning=!0,t.push(n.load().then((async()=>{if(n._destroyed)return n.unload();n._loaded=!0})))),e.push(n))}}_checkIfDescendantsAreTransitioning(){for(let t=0;t<this._children.length;t++){const e=this._children[t];if(e._transitioning)return!0;if(e._checkIfDescendantsAreTransitioning())return!0}return!1}_markDescendantsAsTransitioning(t){for(let e=0;e<this._children.length;e++){const i=this._children[e];i._transitioning=!0,i._active&&t.push(i),i._markDescendantsAsTransitioning(t)}}}class gh{static now(){return gh.unixToEt(Date.now()/1e3)}static etToUnix(t){let e=0;for(let i=0;i<_h.length;i++)t+946727957.816+e>=_h[i]+1&&(e-=1);return t+946727957.816+e}static unixToEt(t){let e=0;for(let i=0;i<_h.length;i++)t>=_h[i]+1&&(e+=1);return t-946727957.816+e}static get leapSeconds(){return _h}}const _h=[Date.UTC(1972,5,30,23,59,59)/1e3,Date.UTC(1972,11,31,23,59,59)/1e3,Date.UTC(1973,11,31,23,59,59)/1e3,Date.UTC(1974,11,31,23,59,59)/1e3,Date.UTC(1975,11,31,23,59,59)/1e3,Date.UTC(1976,11,31,23,59,59)/1e3,Date.UTC(1977,11,31,23,59,59)/1e3,Date.UTC(1978,11,31,23,59,59)/1e3,Date.UTC(1979,11,31,23,59,59)/1e3,Date.UTC(1981,5,30,23,59,59)/1e3,Date.UTC(1982,5,30,23,59,59)/1e3,Date.UTC(1983,5,30,23,59,59)/1e3,Date.UTC(1985,5,30,23,59,59)/1e3,Date.UTC(1987,11,31,23,59,59)/1e3,Date.UTC(1989,11,31,23,59,59)/1e3,Date.UTC(1990,11,31,23,59,59)/1e3,Date.UTC(1992,5,30,23,59,59)/1e3,Date.UTC(1993,5,30,23,59,59)/1e3,Date.UTC(1994,5,30,23,59,59)/1e3,Date.UTC(1995,11,31,23,59,59)/1e3,Date.UTC(1997,5,30,23,59,59)/1e3,Date.UTC(1998,11,31,23,59,59)/1e3,Date.UTC(2005,11,31,23,59,59)/1e3,Date.UTC(2008,11,31,23,59,59)/1e3,Date.UTC(2012,5,30,23,59,59)/1e3,Date.UTC(2015,5,30,23,59,59)/1e3,Date.UTC(2016,11,31,23,59,59)/1e3];class fh extends ch{static get pool(){return yh}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this._azimuth=t,this._elevation=e,this._range=i}get azimuth(){return this._azimuth}set azimuth(t){this.throwIfFrozen(),this._azimuth=t}get elevation(){return this._elevation}set elevation(t){this.throwIfFrozen(),this._elevation=t}get range(){return this._range}set range(t){this.throwIfFrozen(),this._range=t}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"["+hh.radToDeg(this._azimuth)+", "+hh.radToDeg(this._elevation)+", "+this._range+"]":"["+this._azimuth+", "+this._elevation+", "+this._range+"]"}copy(t){this.throwIfFrozen(),this._azimuth=t._azimuth,this._elevation=t._elevation,this._range=t._range}set(t,e,i){this.throwIfFrozen(),this._azimuth=t,this._elevation=e,this._range=i}setFromVector(t){this.throwIfFrozen(),this._range=t.magnitude(),this._elevation=Math.asin(t.z/this._range),this._azimuth=Math.atan2(t.y,t.x)}}const yh=new uh(fh);class vh extends ch{static get pool(){return bh}static get Black(){return xh}static get Clear(){return Sh}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this._r=t,this._g=e,this._b=i,this._a=s}get r(){return this._r}set r(t){this.throwIfFrozen(),this._r=t}get g(){return this._g}set g(t){this.throwIfFrozen(),this._g=t}get b(){return this._b}set b(t){this.throwIfFrozen(),this._b=t}get a(){return this._a}set a(t){this.throwIfFrozen(),this._a=t}toString(){return"["+this._r+", "+this._g+", "+this._b+", "+this._a+"]"}copy(t){this.throwIfFrozen(),this._r=t._r,this._g=t._g,this._b=t._b,this._a=t._a}set(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.throwIfFrozen(),this._r=t,this._g=e,this._b=i,this._a=s}add(t,e){this.throwIfFrozen(),this._r=t._r+e._r,this._g=t._g+e._g,this._b=t._b+e._b,this._a=t._a+e._a}sub(t,e){this.throwIfFrozen(),this._r=t._r-e._r,this._g=t._g-e._g,this._b=t._b-e._b,this._a=t._a-e._a}mult(t,e){this.throwIfFrozen(),this._r=t._r*e,this._g=t._g*e,this._b=t._b*e,this._a=t._a*e}addMult(t,e,i){this.throwIfFrozen(),this._r=t._r+e._r*i,this._g=t._g+e._g*i,this._b=t._b+e._b*i,this._a=t._a+e._a*i}div(t,e){this.throwIfFrozen(),this._r=t._r/e,this._g=t._g/e,this._b=t._b/e,this._a=t._a/e}scale(t,e){this.throwIfFrozen(),this._r=t._r*e._r,this._g=t._g*e._g,this._b=t._b*e._b,this._a=t._a*e._a}value(){return(this._r+this._g+this._b)/3}min(){return Math.min(this._r,this._g,this._b)}max(){return Math.max(this._r,this._g,this._b)}lerp(t,e,i){this.throwIfFrozen(),this._r=hh.lerp(t._r,e._r,i),this._g=hh.lerp(t._g,e._g,i),this._b=hh.lerp(t._b,e._b,i),this._a=hh.lerp(t._a,e._a,i)}}const bh=new uh(vh),xh=new vh(0,0,0,1);xh.freeze();const Sh=new vh(0,0,0,1);Sh.freeze();class Th{constructor(t,e){this.key=t,this.value=e}}class wh extends oh{constructor(t){if(super(),this._entries=[],this._keyMap=new Map,void 0!==t)for(const e of t)this._entries.push(new Th(e.key,e.value)),this._keyMap.set(e.key,this._entries.length-1)}has(t){return this._keyMap.has(t)}get(t){const e=this._keyMap.get(t);if(void 0!==e)return this._entries[e].value}set(t,e){const i=this._keyMap.get(t);void 0!==i?this._entries[i].value=e:(this._entries.push(new Th(t,e)),this._keyMap.set(t,this._entries.length-1))}delete(t){const e=this._keyMap.get(t);if(void 0!==e){this._entries.splice(e,1),this._keyMap.delete(t);for(const t of this._keyMap)t[1]>e&&this._keyMap.set(t[0],t[1]-1);return!0}return!1}clear(){this._entries=[],this._keyMap.clear()}getAt(t){return this._entries[t]}get size(){return this._entries.length}}class Eh extends oh{constructor(t){if(super(),this._values=[],this._valueMap=new Map,void 0!==t)for(const e of t)this._values.push(e),this._valueMap.set(e,this._values.length-1)}has(t){return this._valueMap.has(t)}add(t){return void 0===this._valueMap.get(t)&&(this._values.push(t),this._valueMap.set(t,this._values.length-1)),this}delete(t){const e=this._valueMap.get(t);if(void 0!==e){this._values.splice(e,1),this._valueMap.delete(t);for(const t of this._valueMap)t[1]>e&&this._valueMap.set(t[0],t[1]-1);return!0}return!1}clear(){this._values=[],this._valueMap.clear()}getAt(t){return this._values[t]}get size(){return this._values.length}}class Ah{static getLineSphereIntersectionWithSphereAtOrigin(t,e,i){const s=t.dot(t),n=t.dot(e),a=e.dot(e),r=n*n+(i*i-s)*a;return r<0?Number.NaN:(-n-Math.sqrt(r))/a}static getLineSphereIntersectionWithLineStartAtOrigin(t,e,i,s){const n=e.dot(e),a=e.dot(i),r=a*a+(s*s-i.dot(i))*n;if(r<0)t.min=t.max=Number.NaN;else{const e=Math.sqrt(r);t.min=(a-e)/n,t.max=(a+e)/n}}static getLLAFromXYZOnSphere(t,e,i){const s=e.magnitudeXY();t.lon=Math.atan2(e.y,e.x),t.lat=Math.atan(e.z/s),t.alt=e.magnitude()-i}static getXYZFromLLAOnSphere(t,e,i){t.x=(i+e.alt)*Math.cos(e.lat)*Math.cos(e.lon),t.y=(i+e.alt)*Math.cos(e.lat)*Math.sin(e.lon),t.z=(i+e.alt)*Math.sin(e.lat)}}class Ih extends ch{static get pool(){return Mh}static get Infinite(){return Ch}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this._min=t,this._max=e}get min(){return this._min}set min(t){this.throwIfFrozen(),this._min=t}get max(){return this._max}set max(t){this.throwIfFrozen(),this._max=t}toString(){return"["+this._min+", "+this._max+"]"}copy(t){this.throwIfFrozen(),this._min=t._min,this._max=t._max}set(t,e){this.throwIfFrozen(),this._min=t,this._max=e}length(){return this._max-this._min}clamp(t){return Math.min(Math.max(this._min,t),this._max)}expandTo(t){this.throwIfFrozen(),this._min=Math.min(this._min,t),this._max=Math.max(this._max,t)}contains(t){return this._min<=t&&t<this._max}intersects(t){return this._min<t._max&&t._min<this._max}intersection(t,e){this.throwIfFrozen(),this._min=Math.max(t._min,e._min),this._max=Math.min(t._max,e._max),this._max<this._min&&(this._max=this._min)}union(t,e){this.throwIfFrozen(),this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)}}const Mh=new uh(Ih),Ch=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY);Ch.freeze();class Nh{constructor(){this.epoch=0,this.eccentricity=0,this.semiMajorAxis=0,this.meanAngularMotion=0,this.meanAnomalyAtEpoch=0,this.orbitOrientation=new Lh}copy(t){this.epoch=t.epoch,this.eccentricity=t.eccentricity,this.semiMajorAxis=t.semiMajorAxis,this.meanAnomalyAtEpoch=t.meanAnomalyAtEpoch,this.meanAngularMotion=t.meanAngularMotion,this.orbitOrientation.copy(t.orbitOrientation)}projectFromMeanAnomaly(t,e,i){if(this.eccentricity<1){const s=this.getEccentricAnomalyFromMeanAnomaly(i),n=this.semiMajorAxis*(1-this.eccentricity*Math.cos(s)),a=this.meanAngularMotion*this.semiMajorAxis*this.semiMajorAxis/n;t.x=this.semiMajorAxis*(Math.cos(s)-this.eccentricity),t.y=this.semiMajorAxis*Math.sqrt(1-this.eccentricity*this.eccentricity)*Math.sin(s),e.x=-a*Math.sin(s),e.y=a*Math.sqrt(1-this.eccentricity*this.eccentricity)*Math.cos(s)}else{const s=this.getEccentricAnomalyFromMeanAnomaly(i),n=-this.semiMajorAxis*(1-this.eccentricity*Math.cosh(s)),a=this.meanAngularMotion*this.semiMajorAxis*this.semiMajorAxis/n;t.x=this.semiMajorAxis*(this.eccentricity-Math.cosh(s)),t.y=this.semiMajorAxis*Math.sqrt(this.eccentricity*this.eccentricity-1)*Math.sinh(s),e.x=-a*Math.sinh(s),e.y=a*Math.sqrt(this.eccentricity*this.eccentricity-1)*Math.cosh(s)}t.z=0,e.z=0,t.rotate(this.orbitOrientation,t),e.rotate(this.orbitOrientation,e)}project(t,e,i){let s=this.meanAnomalyAtEpoch+this.meanAngularMotion*(i-this.epoch);this.eccentricity<1&&(s=hh.wrap(s,-hh.pi,+hh.pi)),this.projectFromMeanAnomaly(t,e,s)}getTrueAnomalyFromPosition(t){const e=Vh.pool.get();e.rotateInverse(this.orbitOrientation,t);const i=Math.atan2(e.y,e.x);return Vh.pool.release(e),i}getMeanAnomalyFromTrueAnomaly(t){let e=0,i=0;return this.eccentricity<1?(e=2*Math.atan(Math.tan(t/2)*Math.sqrt((1-this.eccentricity)/(1+this.eccentricity))),i=e-this.eccentricity*Math.sin(e)):(e=2*Math.atanh(Math.tan(t/2)*Math.sqrt((this.eccentricity-1)/(1+this.eccentricity))),i=this.eccentricity*Math.sinh(e)-e),i}getEccentricAnomalyFromMeanAnomaly(t){if(this.eccentricity<1){let e=t;this.eccentricity>=.8&&(e=Math.sign(t)*hh.pi);for(let i=0;i<20;i++){const i=(e-this.eccentricity*Math.sin(e)-t)/(this.eccentricity*Math.cos(e)-1);if(e+=i,Math.abs(i)<.00174532925)break}return e}{let e=Math.log(2*Math.abs(t)/Math.E+1.8);this.eccentricity<=1.2&&(e=Math.log(2*Math.abs(t)/Math.E+1.8)),t<0&&(e*=-1);for(let i=0;i<20;i++){const i=(e-this.eccentricity*Math.sinh(e)+t)/(this.eccentricity*Math.cosh(e)-1);if(e+=i,Math.abs(i)<.00174532925)break}return e}}getMeanAnomalyFromEccentricAnomaly(t){if(this.eccentricity<1){const e=t-this.eccentricity*Math.sin(t);return hh.wrap(e,-Math.PI,+Math.PI)}return this.eccentricity*Math.sinh(t)-t}getTrueAnomalyFromEccentricAnomaly(t){return this.eccentricity<1?2*Math.atan(Math.sqrt((1+this.eccentricity)/(1-this.eccentricity))*Math.tan(t/2)):2*Math.atan(Math.sqrt((1+this.eccentricity)/(this.eccentricity-1))*Math.tanh(t/2))}getEccentricAnomalyFromTrueAnomaly(t){if(this.eccentricity<1){const e=2*Math.atan2(Math.tan(t/2),Math.sqrt((1+this.eccentricity)/(1-this.eccentricity)));return hh.wrap(e,-Math.PI,+Math.PI)}return 2*Math.atanh(Math.sqrt((this.eccentricity-1)/(this.eccentricity+1))*Math.tan(t/2))}getInclination(){const t=Vh.pool.get();this.orbitOrientation.getAxis(t,2);const e=t.angle(Vh.ZAxis);return Vh.pool.release(t),e}getLongitudeOfAscendingNode(){const t=Vh.pool.get();this.orbitOrientation.getAxis(t,2);const e=Math.atan2(t.x,-t.y);return Vh.pool.release(t),hh.wrap(e,0,hh.twoPi)}getArgumentOfPeriapsis(){const t=Vh.pool.get(),e=Vh.pool.get();this.orbitOrientation.getAxis(t,2),t.set(-t.y,t.x,0),this.orbitOrientation.getAxis(e,0);const i=t.angle(e);return Vh.pool.release(e),Vh.pool.release(t),hh.wrap(i,0,hh.twoPi)}getPeriod(){return hh.twoPi/this.meanAngularMotion}getPeriapsis(){return this.semiMajorAxis*(1-this.eccentricity)}getApoapsis(){return this.semiMajorAxis*(1+this.eccentricity)}setOrbitOrientationFromElements(t,e,i){const s=Vh.pool.get(),n=Vh.pool.get(),a=Lh.pool.get();s.set(Math.cos(e),Math.sin(e),0),n.set(Math.sin(e)*Math.sin(t),-Math.cos(e)*Math.sin(t),Math.cos(t)),this.orbitOrientation.setFromAxes(s,void 0,n),a.setFromAxisAngle(n,i),this.orbitOrientation.mult(a,this.orbitOrientation),Lh.pool.release(a),Vh.pool.release(n),Vh.pool.release(s)}setFromPositionAndVelocity(t,e,i,s){const n=1/s;this.epoch=i;const a=Vh.pool.get();a.cross(t,e);const r=Vh.pool.get(),o=Vh.pool.get();o.normalize(t),r.cross(e,a),r.mult(r,n),r.sub(r,o),this.eccentricity=r.magnitude();const l=a.dot(a)*n;this.semiMajorAxis=l/(1-this.eccentricity*this.eccentricity),this.eccentricity>1&&(this.semiMajorAxis*=-1);let c=Math.acos(hh.clamp(r.dot(o)/this.eccentricity,-1,1));t.dot(e)<0&&(c*=-1),c<-Math.PI&&(c+=hh.twoPi),c>=Math.PI&&(c-=hh.twoPi),r.normalize(r),a.normalize(a),this.orbitOrientation.setFromAxes(r,void 0,a),Vh.pool.release(o),Vh.pool.release(a),Vh.pool.release(r);const h=this.getEccentricAnomalyFromTrueAnomaly(c);this.meanAnomalyAtEpoch=this.getMeanAnomalyFromEccentricAnomaly(h),this.meanAngularMotion=Math.sqrt(s/(this.semiMajorAxis*this.semiMajorAxis*this.semiMajorAxis))}}class Ph extends ch{static get pool(){return Rh}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this._origin=new Fh(t,e),this._size=new Fh(i,s)}freeze(){this._origin.freeze(),this._size.freeze()}thaw(){this._origin.thaw(),this._size.thaw()}get origin(){return this._origin}get size(){return this._size}toString(){return"[Origin: ("+this._origin.x+", "+this._origin.y+"), Size: ("+this._size.x+", "+this._size.y+")]"}copy(t){this._origin.copy(t._origin),this._size.copy(t._size)}set(t,e,i,s){this._origin.set(t,e),this._size.set(i,s)}contains(t){return this._origin.x<=t.x&&t.x<this._origin.x+this._size.x&&this._origin.y<=t.y&&t.y<this._origin.y+this._size.y}intersects(t){return this._origin.x+this._size.x>t._origin.x&&t._origin.x+t._size.x>this._origin.x&&this._origin.y+this._size.y>t._origin.y&&t._origin.y+t._size.y>this._origin.y}}const Rh=new uh(Ph);class Lh extends ch{static get pool(){return Oh}static get NaN(){return kh}static get Identity(){return Dh}static fromAxisAngle(t,e){const i=new Lh;return i.setFromAxisAngle(t,e),i}static fromAxes(t,e,i){const s=new Lh;return s.setFromAxes(t,e,i),s}static fromEuler(t,e,i){const s=new Lh;return s.setFromEuler(t,e,i),s}static fromVectorFromTo(t,e){const i=new Lh;return i.setFromVectorFromTo(t,e),i}static fromFromAxis(t,e){const i=new Lh;return i.setFromAxis(t,e),i}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this._w=t,this._x=e,this._y=i,this._z=s}get w(){return this._w}set w(t){this.throwIfFrozen(),this._w=t}get x(){return this._x}set x(t){this.throwIfFrozen(),this._x=t}get y(){return this._y}set y(t){this.throwIfFrozen(),this._y=t}get z(){return this._z}set z(t){this.throwIfFrozen(),this._z=t}getAngle(){return 2*Math.acos(this._w)}copy(t){this.throwIfFrozen(),this._w=t._w,this._x=t._x,this._y=t._y,this._z=t._z}copyFromThreeJs(t){this.throwIfFrozen(),this._w=t.w,this._x=t.x,this._y=t.y,this._z=t.z}set(t,e,i,s){this.throwIfFrozen(),this._w=t,this._x=e,this._y=i,this._z=s}setFromAxisAngle(t,e){this.throwIfFrozen();const i=Math.sin(e/2);this._w=Math.cos(e/2),this._x=i*t.x,this._y=i*t.y,this._z=i*t.z}setFromAxes(t,e,i){let s;this.throwIfFrozen(),void 0===t?(s=t=Vh.pool.get(),t.cross(e,i)):void 0===e?(s=e=Vh.pool.get(),e.cross(i,t)):void 0===i&&(s=i=Vh.pool.get(),i.cross(t,e));const n=t.x+e.y+i.z;if(n>0){const s=2*Math.sqrt(n+1);this._w=.25*s,this._x=(e.z-i.y)/s,this._y=(i.x-t.z)/s,this._z=(t.y-e.x)/s}else if(t.x>e.y&&t.x>i.z){const s=2*Math.sqrt(1+t.x-e.y-i.z);this._w=(e.z-i.y)/s,this._x=.25*s,this._y=(e.x+t.y)/s,this._z=(i.x+t.z)/s}else if(e.y>i.z){const s=2*Math.sqrt(1+e.y-i.z-t.x);this._w=(i.x-t.z)/s,this._x=(e.x+t.y)/s,this._y=.25*s,this._z=(i.y+e.z)/s}else{const s=2*Math.sqrt(1+i.z-t.x-e.y);this._w=(t.y-e.x)/s,this._x=(i.x+t.z)/s,this._y=(i.y+e.z)/s,this._z=.25*s}Vh.pool.release(s)}setFromEuler(t,e,i){this.throwIfFrozen();const s=.5*t,n=.5*e,a=.5*i,r=Math.cos(s),o=Math.sin(s),l=Math.cos(n),c=Math.sin(n),h=Math.cos(a),u=Math.sin(a);this._w=r*l*h+o*c*u,this._x=o*l*h-r*c*u,this._y=r*c*h+o*l*u,this._z=r*l*u-o*c*h}setFromVectorFromTo(t,e){const i=Vh.pool.get(),s=t.dot(e);if(s>=1)this.set(1,0,0,0);else if(s<=-1)this.set(0,1,0,0);else{i.cross(t,e),i.normalize(i);const n=Math.acos(s);this.setFromAxisAngle(i,n)}Vh.pool.release(i)}setFromAxis(t,e){const i=Vh.pool.get(),s=Vh.pool.get();i.normalize(t),s.cross(i,Vh.XAxis),s.isZero()&&s.cross(i,Vh.YAxis),s.normalize(s),0===e?this.setFromAxes(i,s,void 0):1===e?this.setFromAxes(void 0,i,s):2===e&&this.setFromAxes(s,void 0,i),Vh.pool.release(i),Vh.pool.release(s)}toString(){return"["+this._w+", "+this._x+", "+this._y+", "+this._z+"]"}isNaN(){return!(this._w<=0||this._w>0)}magnitude(){return Math.sqrt(this._w*this._w+this._x*this._x+this._y*this._y+this._z*this._z)}normalize(t){this.throwIfFrozen();const e=t.magnitude();e>0&&(this._w=t._w/e,this._x=t._x/e,this._y=t._y/e,this._z=t._z/e)}inverse(t){this.throwIfFrozen(),this._w=t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z}mult(t,e){this.throwIfFrozen();const i=Lh.pool.get();i._w=t._w*e._w-t._x*e._x-t._y*e._y-t._z*e._z,i._x=t._w*e._x+t._x*e._w+t._y*e._z-t._z*e._y,i._y=t._w*e._y-t._x*e._z+t._y*e._w+t._z*e._x,i._z=t._w*e._z+t._x*e._y-t._y*e._x+t._z*e._w,this.copy(i),Lh.pool.release(i)}multInverseL(t,e){this.throwIfFrozen();const i=Lh.pool.get();i._w=t._w*e._w+t._x*e._x+t._y*e._y+t._z*e._z,i._x=t._w*e._x-t._x*e._w-t._y*e._z+t._z*e._y,i._y=t._w*e._y+t._x*e._z-t._y*e._w-t._z*e._x,i._z=t._w*e._z-t._x*e._y+t._y*e._x-t._z*e._w,this.copy(i),Lh.pool.release(i)}multInverseR(t,e){this.throwIfFrozen();const i=Lh.pool.get();i._w=+t._w*e._w+t._x*e._x+t._y*e._y+t._z*e._z,i._x=-t._w*e._x+t._x*e._w-t._y*e._z+t._z*e._y,i._y=-t._w*e._y+t._x*e._z+t._y*e._w-t._z*e._x,i._z=-t._w*e._z-t._x*e._y+t._y*e._x+t._z*e._w,this.copy(i),Lh.pool.release(i)}scaleAngle(t,e){this.throwIfFrozen();const i=Math.acos(t._w),s=Math.sin(i);if(0===s)return void this.copy(t);const n=Math.sin(i*e);this._w=Math.cos(i*e),this._x=t._x/s*n,this._y=t._y/s*n,this._z=t._z/s*n}angle(t){return 2*Math.acos(this._w*t._w+this._x*t._x+this._y*t._y+this._z*t._z)}slerp(t,e,i){this.throwIfFrozen();let s=t._w*e._w+t._x*e._x+t._y*e._y+t._z*e._z,n=1;if(s<0&&(n=-1,s=-s),s<=.9995){const a=Math.acos(s),r=n*Math.sin((1-i)*a)/Math.sin(a),o=Math.sin(i*a)/Math.sin(a);this._w=r*t._w+o*e._w,this._x=r*t._x+o*e._x,this._y=r*t._y+o*e._y,this._z=r*t._z+o*e._z}else{const s=n*(1-i),a=i;this._w=s*t._w+a*e._w,this._x=s*t._x+a*e._x,this._y=s*t._y+a*e._y,this._z=s*t._z+a*e._z,this.normalize(this)}}getAxis(t,e){void 0===e?(t.set(this._x,this._y,this._z),t.normalize(t)):0===e?(t.x=this._w*this._w+this._x*this._x-this._y*this._y-this._z*this._z,t.y=2*this._w*this._z+2*this._x*this._y,t.z=2*this._x*this._z-2*this._w*this._y):1===e?(t.x=2*this._y*this._x-2*this._w*this._z,t.y=this._w*this._w-this._x*this._x+this._y*this._y-this._z*this._z,t.z=2*this._x*this._w+2*this._y*this._z):2===e&&(t.x=2*this._y*this._w+2*this._z*this._x,t.y=2*this._z*this._y-2*this._w*this._x,t.z=this._w*this._w-this._x*this._x-this._y*this._y+this._z*this._z)}}const Oh=new uh(Lh),Dh=new Lh;Dh.freeze();const kh=new Lh(Number.NaN,Number.NaN,Number.NaN,Number.NaN);kh.freeze();class Fh extends ch{static get pool(){return Uh}static get NaN(){return Hh}static get Zero(){return zh}static get XAxis(){return jh}static get YAxis(){return Bh}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this._x=t,this._y=e}get x(){return this._x}set x(t){this.throwIfFrozen(),this._x=t}get y(){return this._y}set y(t){this.throwIfFrozen(),this._y=t}toString(){return"["+this._x+", "+this._y+"]"}equals(t){return this._x===t._x&&this._y===t._y}isZero(){return 0===this._x&&0===this._y}isNaN(){return!((this._x<=0||this._x>0)&&(this._y<=0||this._y>0))}copy(t){this.throwIfFrozen(),this._x=t._x,this._y=t._y}copyFromThreeJs(t){this.throwIfFrozen(),this._x=t.x,this._y=t.y}set(t,e){this.throwIfFrozen(),this._x=t,this._y=e}neg(t){this.throwIfFrozen(),this._x=-t._x,this._y=-t._y}add(t,e){this.throwIfFrozen(),this._x=t._x+e._x,this._y=t._y+e._y}sub(t,e){this.throwIfFrozen(),this._x=t._x-e._x,this._y=t._y-e._y}mult(t,e){this.throwIfFrozen(),this._x=t._x*e,this._y=t._y*e}addMult(t,e,i){this.throwIfFrozen(),this._x=t._x+e._x*i,this._y=t._y+e._y*i}div(t,e){this.throwIfFrozen(),this._x=t._x/e,this._y=t._y/e}scale(t,e){this.throwIfFrozen(),this._x=t._x*e._x,this._y=t._y*e._y}scaleInv(t,e){this.throwIfFrozen(),this._x=t._x/e._x,this._y=t._y/e._y}dot(t){return this._x*t._x+this._y*t._y}cross(t){return this._x*t._y-this._y*t._x}magnitudeSqr(){return this._x*this._x+this._y*this._y}magnitude(){return Math.sqrt(this.magnitudeSqr())}normalize(t){this.throwIfFrozen();const e=t.magnitude();e>0&&(this._x=t._x/e,this._y=t._y/e)}setMagnitude(t,e){this.throwIfFrozen(),this.normalize(t),this._x*=e,this._y*=e}distance(t){const e=this._x-t._x,i=this._y-t._y;return Math.sqrt(e*e+i*i)}angle(t){const e=this.magnitude()*t.magnitude();return e>0?Math.acos(hh.clamp(this.dot(t)/e,-1,1)):Number.NaN}clamp(t,e,i){this.throwIfFrozen(),this._x=hh.clamp(t._x,e._x,i._x),this._y=hh.clamp(t._y,e._y,i._y)}lerp(t,e,i){this.throwIfFrozen(),this._x=hh.lerp(t._x,e._x,i),this._y=hh.lerp(t._y,e._y,i)}}const Uh=new uh(Fh),zh=new Fh;zh.freeze();const jh=new Fh(1,0);jh.freeze();const Bh=new Fh(0,1);Bh.freeze();const Hh=new Fh(Number.NaN,Number.NaN);Hh.freeze();class Vh extends ch{static get pool(){return Gh}static get NaN(){return Zh}static get Zero(){return qh}static get XAxis(){return Jh}static get YAxis(){return Wh}static get ZAxis(){return Yh}static get XAxisNeg(){return $h}static get YAxisNeg(){return Xh}static get ZAxisNeg(){return Kh}static fromAER(t){const e=new Vh;return e.setFromAER(t),e}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this._x=t,this._y=e,this._z=i}get x(){return this._x}set x(t){this.throwIfFrozen(),this._x=t}get y(){return this._y}set y(t){this.throwIfFrozen(),this._y=t}get z(){return this._z}set z(t){this.throwIfFrozen(),this._z=t}toString(){return"["+this._x+", "+this._y+", "+this._z+"]"}equals(t){return this._x===t._x&&this._y===t._y&&this._z===t._z}isZero(){return 0===this._x&&0===this._y&&0===this._z}isNaN(){return!((this._x<=0||this._x>0)&&(this._y<=0||this._y>0)&&(this._z<=0||this._z>0))}copy(t){this.throwIfFrozen(),this._x=t._x,this._y=t._y,this._z=t._z}copyFromThreeJs(t){this.throwIfFrozen(),this._x=t.x,this._y=t.y,this._z=t.z}set(t,e,i){this.throwIfFrozen(),this._x=t,this._y=e,this._z=i}setFromAER(t){this.throwIfFrozen();const e=Math.cos(t.elevation);this._x=t.range*e*Math.cos(t.azimuth),this._y=t.range*e*Math.sin(t.azimuth),this._z=t.range*Math.sin(t.elevation)}neg(t){this.throwIfFrozen(),this._x=-t._x,this._y=-t._y,this._z=-t._z}add(t,e){this.throwIfFrozen(),this._x=t._x+e._x,this._y=t._y+e._y,this._z=t._z+e._z}sub(t,e){this.throwIfFrozen(),this._x=t._x-e._x,this._y=t._y-e._y,this._z=t._z-e._z}mult(t,e){this.throwIfFrozen(),this._x=t._x*e,this._y=t._y*e,this._z=t._z*e}addMult(t,e,i){this.throwIfFrozen(),this._x=t._x+e._x*i,this._y=t._y+e._y*i,this._z=t._z+e._z*i}div(t,e){this.throwIfFrozen(),this._x=t._x/e,this._y=t._y/e,this._z=t._z/e}scale(t,e){this.throwIfFrozen(),this._x=t._x*e._x,this._y=t._y*e._y,this._z=t._z*e._z}scaleInv(t,e){this.throwIfFrozen(),this._x=t._x/e._x,this._y=t._y/e._y,this._z=t._z/e._z}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z}cross(t,e){this.throwIfFrozen();const i=t._y*e._z-t._z*e._y,s=t._z*e._x-t._x*e._z,n=t._x*e._y-t._y*e._x;this._x=i,this._y=s,this._z=n}magnitudeSqr(){return this._x*this._x+this._y*this._y+this._z*this._z}magnitude(){return Math.sqrt(this.magnitudeSqr())}magnitudeXY(){return Math.sqrt(this._x*this._x+this._y*this._y)}normalize(t){this.throwIfFrozen();const e=t.magnitude();e>0?(this._x=t._x/e,this._y=t._y/e,this._z=t._z/e):this.copy(t)}setMagnitude(t,e){this.throwIfFrozen(),this.normalize(t),this._x*=e,this._y*=e,this._z*=e}distance(t){const e=this._x-t._x,i=this._y-t._y,s=this._z-t._z;return Math.sqrt(e*e+i*i+s*s)}angle(t){const e=this.magnitude()*t.magnitude();return e>0?Math.acos(hh.clamp(this.dot(t)/e,-1,1)):Number.NaN}angleAroundAxis(t,e){const i=Vh.pool.get(),s=Vh.pool.get();i.addMult(this,e,-this.dot(e)),s.addMult(t,e,-t.dot(e));let n=i.angle(s);return i.cross(i,s),i.dot(e)<0&&(n*=-1),Vh.pool.release(i),Vh.pool.release(s),n}clamp(t,e,i){this.throwIfFrozen(),this._x=hh.clamp(t._x,e._x,i._x),this._y=hh.clamp(t._y,e._y,i._y),this._z=hh.clamp(t._z,e._z,i._z)}lerp(t,e,i){this.throwIfFrozen(),this._x=hh.lerp(t._x,e._x,i),this._y=hh.lerp(t._y,e._y,i),this._z=hh.lerp(t._z,e._z,i)}slerp(t,e,i){this.throwIfFrozen();const s=t.magnitude(),n=e.magnitude();if(s>0&&n>0){const a=Math.acos(hh.clamp(t.dot(e)/(s*n),-1,1));if(Math.abs(a)>.01745327777){const r=1/Math.sin(a),o=Math.sin((1-i)*a)*r,l=Math.sin(i*a)*r;this.set(t.x*o/s+e.x*l/n,t.y*o/s+e.y*l/n,t.z*o/s+e.z*l/n),this.mult(this,(1-i)*s+i*n)}else this.lerp(t,e,i)}else this.lerp(t,e,i)}rotate(t,e){this.throwIfFrozen();const i=t.w*e._x+t.y*e._z-t.z*e._y,s=t.w*e._y+t.z*e._x-t.x*e._z,n=t.w*e._z+t.x*e._y-t.y*e._x,a=-t.x*e._x-t.y*e._y-t.z*e._z;this._x=i*t.w-a*t.x-s*t.z+n*t.y,this._y=s*t.w-a*t.y-n*t.x+i*t.z,this._z=n*t.w-a*t.z-i*t.y+s*t.x}rotateInverse(t,e){this.throwIfFrozen();const i=t.w*e._x-t.y*e._z+t.z*e._y,s=t.w*e._y-t.z*e._x+t.x*e._z,n=t.w*e._z-t.x*e._y+t.y*e._x,a=t.x*e._x+t.y*e._y+t.z*e._z;this._x=i*t.w+a*t.x+s*t.z-n*t.y,this._y=s*t.w+a*t.y+n*t.x-i*t.z,this._z=n*t.w+a*t.z+i*t.y-s*t.x}setNormalTo(t,e){const i=e._x*(t._y*t._y+t._z*t._z)-t._x*(t._y*e._y+t._z*e._z),s=e._y*(t._z*t._z+t._x*t._x)-t._y*(t._z*e._z+t._x*e._x),n=e._z*(t._x*t._x+t._y*t._y)-t._z*(t._x*e._x+t._y*e._y);this._x=i,this._y=s,this._z=n,this.normalize(this)}}const Gh=new uh(Vh),qh=new Vh;qh.freeze();const Jh=new Vh(1,0,0);Jh.freeze();const Wh=new Vh(0,1,0);Wh.freeze();const Yh=new Vh(0,0,1);Yh.freeze();const $h=new Vh(-1,0,0);Jh.freeze();const Xh=new Vh(0,-1,0);Wh.freeze();const Kh=new Vh(0,0,-1);Yh.freeze();const Zh=new Vh(Number.NaN,Number.NaN,Number.NaN);Zh.freeze();class Qh extends oh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this._keysToEntries=new wh,this._itemToKeys=new Map,this._itemConstructor=t,this._itemDestructor=e}get(t){const e=this._keysToEntries.get(t);if(void 0===e){const e={item:this._itemConstructor(t),count:1};return this._keysToEntries.set(t,e),this._itemToKeys.set(e.item,t),e.item}return e.count+=1,e.item}release(t){const e=this._itemToKeys.get(t);if(void 0!==e){const i=this._keysToEntries.get(e);i.count-=1,0===i.count&&(this._itemDestructor(i.item),this._keysToEntries.delete(e),this._itemToKeys.delete(t))}}getAt(t){return this._keysToEntries.getAt(t).value.item}get size(){return this._keysToEntries.size}}class tu extends ih{constructor(t){super(t),this._entityName="",this._componentName="",this._componentType="",this._componentTypeIndex=0}getEntityName(){return this._entityName}getComponentName(){return this._componentName}getComponentType(){return this._componentType}getComponentTypeIndex(){return this._componentTypeIndex}setByName(t,e){this._entityName=t,this._componentName=e,this._componentType=""}setByType(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._entityName=t,this._componentType=e,this._componentTypeIndex=i,this._componentName=""}update(){if(""===this._entityName||""===this._componentName&&""===this._componentType)this._setRef(null);else if(""!==this._componentName){const t=this._scene.getEntity(this._entityName);if(null!==t&&t.isEnabled()){const e=t.getComponent(this._componentName);this._setRef(e)}else this._setRef(null)}else{const t=this._scene.getEntity(this._entityName);if(null!==t&&t.isEnabled()){const e=t.getComponentByType(this._componentType,this._componentTypeIndex);this._setRef(e)}else this._setRef(null)}}}class eu{static xyzToUVFace(t,e){let i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._defaultCubeMapFaceFrames;for(let n=0;n<6;n++){const a=s[n],r=a[2];let o=0,l=0,c=0,h=!1;r===Vh.XAxis||r===Vh.XAxisNeg?(o=e.x,l=e.y,c=e.z,h=r===Vh.XAxisNeg):r===Vh.YAxis||r===Vh.YAxisNeg?(o=e.y,l=e.z,c=e.x,h=r===Vh.YAxisNeg):(o=e.z,l=e.x,c=e.y,h=r===Vh.ZAxisNeg),Math.abs(o)>=Math.abs(l)&&Math.abs(o)>=Math.abs(c)&&(o>=0&&!h||o<0&&h)&&(i=a,t.z=n)}if(void 0===i)return void t.set(NaN,NaN,NaN);let n=i[2].x*e.x+i[2].y*e.y+i[2].z*e.z;n<0&&(n=1),t.x=(i[0].x*e.x+i[0].y*e.y+i[0].z*e.z)/n,t.y=(i[1].x*e.x+i[1].y*e.y+i[1].z*e.z)/n,t.x=.5*(t.x+1),t.y=.5*(t.y+1)}}eu._defaultCubeMapFaceFrames=[[Vh.YAxis,Vh.ZAxis,Vh.XAxis],[Vh.XAxisNeg,Vh.ZAxis,Vh.YAxis],[Vh.YAxisNeg,Vh.ZAxis,Vh.XAxisNeg],[Vh.XAxis,Vh.ZAxis,Vh.YAxisNeg],[Vh.YAxis,Vh.XAxisNeg,Vh.ZAxis],[Vh.YAxis,Vh.XAxis,Vh.ZAxisNeg]];class iu extends ih{constructor(t,e){super(t),this._name=void 0!==e?e:""}getName(){return this._name}setName(t){this._name=t}update(){if(""===this._name)null!==this._ref&&this._setRef(null);else if(null===this._ref||this._ref.isDestroyed()||!this._ref.isEnabled()||this._ref.getName()!==this._name){const t=this._scene.getEntity(this._name);this._setRef(t)}}}class su extends ch{static get pool(){return nu}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this._lat=t,this._lon=e,this._alt=i}get lat(){return this._lat}set lat(t){this.throwIfFrozen(),this._lat=t}get lon(){return this._lon}set lon(t){this.throwIfFrozen(),this._lon=t}get alt(){return this._alt}set alt(t){this.throwIfFrozen(),this._alt=t}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"["+hh.radToDeg(this._lat)+", "+hh.radToDeg(this._lon)+", "+this._alt+"]":"["+this._lat+", "+this._lon+", "+this._alt+"]"}copy(t){this.throwIfFrozen(),this._lat=t._lat,this._lon=t._lon,this._alt=t._alt}set(t,e,i){this.throwIfFrozen(),this._lat=t,this._lon=e,this._alt=i}}const nu=new uh(su);class au{constructor(t){this._component=t,this._alphaMultiplier=1,this._position=new Vh,this._orientation=new Lh,this._scale=1,this._dashGapLength=0,this._dashLength=1,this._glowWidth=0,this._threeJsObjects=[],this._threeJsMaterial=null,this._threeJsMaterial=t.getEntity().getScene().getEngine().getMaterialManager().getPreloaded("line"),t.getThreeJsMaterials().push(this._threeJsMaterial),this._threeJsMaterial.uniforms.alphaMultiplier.value=this._alphaMultiplier,this._threeJsMaterial.uniforms.dashLength.value=this._dashLength,this._threeJsMaterial.uniforms.dashGapLength.value=this._dashGapLength,this._threeJsMaterial.uniforms.glowWidth.value=this._glowWidth}setPositions(t){if(t.length%2!=0)throw new Error("Number of positions in the LineMesh must be even.");this._adjustVerticesInGeometries(2*t.length);const e=Vh.pool.get(),i=Vh.pool.get(),s=Vh.pool.get(),n=Vh.pool.get(),a=Vh.pool.get();let r=0;for(let s=0;s<this._threeJsObjects.length;s++){const n=this._threeJsObjects[s].geometry.getAttribute("position"),o=n.array;for(let n=0;n<o.length/(2*au._floatsPerVertex);n++){const l=n+s*(au._verticesPerGeometry/2);o[2*n*au._floatsPerVertex+0]=t[l].x,o[2*n*au._floatsPerVertex+1]=t[l].y,o[2*n*au._floatsPerVertex+2]=t[l].z,o[(2*n+1)*au._floatsPerVertex+0]=t[l].x,o[(2*n+1)*au._floatsPerVertex+1]=t[l].y,o[(2*n+1)*au._floatsPerVertex+2]=t[l].z,l%2==0?t[l].equals(t[hh.wrap(l-1,0,t.length)])?(e.copy(t[hh.wrap(l-2,0,t.length)]),i.copy(t[l+1])):(e.copy(t[l]),i.copy(t[l+1]),r=0):l%2==1&&(t[l].equals(t[hh.wrap(l+1,0,t.length)])?(e.copy(t[l-1]),i.copy(t[hh.wrap(l+2,0,t.length)])):(e.copy(t[l-1]),i.copy(t[l])),a.sub(t[l],t[l-1]),r+=a.magnitude()),o[2*n*au._floatsPerVertex+3]=e.x,o[2*n*au._floatsPerVertex+4]=e.y,o[2*n*au._floatsPerVertex+5]=e.z,o[(2*n+1)*au._floatsPerVertex+3]=e.x,o[(2*n+1)*au._floatsPerVertex+4]=e.y,o[(2*n+1)*au._floatsPerVertex+5]=e.z,o[2*n*au._floatsPerVertex+6]=i.x,o[2*n*au._floatsPerVertex+7]=i.y,o[2*n*au._floatsPerVertex+8]=i.z,o[(2*n+1)*au._floatsPerVertex+6]=i.x,o[(2*n+1)*au._floatsPerVertex+7]=i.y,o[(2*n+1)*au._floatsPerVertex+8]=i.z,o[2*n*au._floatsPerVertex+14]=r,o[(2*n+1)*au._floatsPerVertex+14]=r}n.data.needsUpdate=!0}Vh.pool.release(s),Vh.pool.release(n),Vh.pool.release(e),Vh.pool.release(i),Vh.pool.release(a)}setColors(t){if(t.length%2!=0)throw new Error("Number of colors in the LineMesh must be even.");this._adjustVerticesInGeometries(2*t.length);for(let e=0;e<this._threeJsObjects.length;e++){const i=this._threeJsObjects[e].geometry.getAttribute("color"),s=i.array;for(let i=0;i<s.length/(2*au._floatsPerVertex);i++){const n=i+e*(au._verticesPerGeometry/2);s[2*i*au._floatsPerVertex+9]=t[n].r,s[2*i*au._floatsPerVertex+10]=t[n].g,s[2*i*au._floatsPerVertex+11]=t[n].b,s[2*i*au._floatsPerVertex+12]=t[n].a,s[(2*i+1)*au._floatsPerVertex+9]=t[n].r,s[(2*i+1)*au._floatsPerVertex+10]=t[n].g,s[(2*i+1)*au._floatsPerVertex+11]=t[n].b,s[(2*i+1)*au._floatsPerVertex+12]=t[n].a}i.data.needsUpdate=!0}}setWidths(t){if("number"==typeof t)for(let e=0;e<this._threeJsObjects.length;e++){const i=this._threeJsObjects[e].geometry.getAttribute("width"),s=i.array;for(let e=0;e<s.length/(2*au._floatsPerVertex);e++)s[2*e*au._floatsPerVertex+13]=t,s[(2*e+1)*au._floatsPerVertex+13]=-t;i.data.needsUpdate=!0}else{if(t.length%2!=0)throw new Error("Number of widths in the LineMesh must be even.");this._adjustVerticesInGeometries(2*t.length);for(let e=0;e<this._threeJsObjects.length;e++){const i=this._threeJsObjects[e].geometry.getAttribute("width"),s=i.array;for(let i=0;i<s.length/(2*au._floatsPerVertex);i++){const n=i+e*(au._verticesPerGeometry/2);s[2*i*au._floatsPerVertex+13]=t[n],s[(2*i+1)*au._floatsPerVertex+13]=-t[n]}i.data.needsUpdate=!0}}}setDashLength(t,e){this._dashLength=t,this._dashGapLength=e,du.setUniformNumber(this._threeJsMaterial,"dashLength",this._dashLength),du.setUniformNumber(this._threeJsMaterial,"dashGapLength",this._dashGapLength)}setGlowWidth(t){this._glowWidth=t,du.setUniformNumber(this._threeJsMaterial,"glowWidth",this._glowWidth)}setScale(t){this._scale=t,du.setScale(this._threeJsObjects,t)}getAlphaMultiplier(){return this._alphaMultiplier}setAlphaMultiplier(t){this._alphaMultiplier=t,du.setUniformNumber(this._threeJsMaterial,"alphaMultiplier",this._alphaMultiplier)}prepareForRender(t){const e=Fh.pool.get();if("spout"===t.getType()){const i=t;e.set(.1*i.getRenderWidth(),.5*i.getRenderWidth()*.1)}else e.copy(t.getViewport().getBounds().size);du.setUniformVector2(this._threeJsMaterial,"viewportSize",e),Fh.pool.release(e)}_adjustVerticesInGeometries(t){const e=Math.ceil(t/au._verticesPerGeometry);for(;this._threeJsObjects.length>e;){const t=this._threeJsObjects[this._threeJsObjects.length-1];du.destroyObject(t),this._threeJsObjects.splice(this._threeJsObjects.length-1,1);for(let e=0,i=this._component.getThreeJsObjects().length;e<i;e++)if(this._component.getThreeJsObjects()[e]===t){this._component.getThreeJsObjects().splice(e,1);break}}if(this._threeJsObjects.length<e){this._threeJsObjects.length>0&&this._setupThreeJsGeometry(this._threeJsObjects[this._threeJsObjects.length-1].geometry,au._verticesPerGeometry);for(let i=this._threeJsObjects.length;i<e;i++){const e=du.createMeshObject(this._component,this._threeJsMaterial,[],!1);this._threeJsObjects.push(e),this._component.getThreeJsObjects().push(e);const s=Math.min(t-i*au._verticesPerGeometry,au._verticesPerGeometry);this._setupThreeJsGeometry(e.geometry,s),du.setPosition(e,this._position),du.setOrientation(e,this._orientation),du.setScale(e,this._scale),e.frustumCulled=!1}}else if(e>0){const i=this._threeJsObjects[e-1].geometry,s=t-(e-1)*au._verticesPerGeometry;i.getAttribute("position").array.length!==s*au._floatsPerVertex&&this._setupThreeJsGeometry(i,s)}}_setupThreeJsGeometry(t,e){const i=new Float32Array(e*au._floatsPerVertex),s=new Br(i,au._floatsPerVertex);t.setAttribute("position",new Vr(s,3,0,!1)),t.setAttribute("positionPrev",new Vr(s,3,3,!1)),t.setAttribute("positionNext",new Vr(s,3,6,!1)),t.setAttribute("color",new Vr(s,4,9,!1)),t.setAttribute("width",new Vr(s,1,13,!1)),t.setAttribute("dashOffset",new Vr(s,1,14,!1));const n=new Uint16Array(6*e/4);for(let t=0;t<e/4;t++)n[6*t+0]=4*t,n[6*t+1]=4*t+2,n[6*t+2]=4*t+3,n[6*t+3]=4*t,n[6*t+4]=4*t+3,n[6*t+5]=4*t+1;t.setIndex(new hs(n,1))}}au._floatsPerVertex=15,au._verticesPerGeometry=65536;class ru{static get(){null===ru._material&&(ru._material=new Js({uniforms:{entityPos:new ql(new ze),ambientLightColor:new ql(new as),lightPositions:new ql([new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0)]),lightColors:new ql([new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0)]),lightRadii:new ql([0,0,0,0,0]),numLights:new ql(0),color:new ql(new as(1,1,1)),specularColor:new ql(new as(1,1,1)),specularIntensity:new ql(0),specularHardness:new ql(50),colorTexture:new ql(null),normalTexture:new ql(null),specularTexture:new ql(null),nightTexture:new ql(null),decalTexture:new ql(null),normalScale:new ql(new pe),numShadowEntities:new ql(0),shadowEntityPositions:new ql([new ze,new ze,new ze,new ze,new ze]),shadowEntityRadii:new ql([0,0,0,0,0]),shadowEntitySunsetIntensity:new ql([0,0,0,0,0]),shadowEntitySunsetColors:new ql([new ze,new ze,new ze,new ze,new ze]),shadowRingsInnerRadius:new ql(0),shadowRingsOuterRadius:new ql(0),shadowRingsTexture:new ql(null),shadowRingsNormal:new ql(new ze),atmospherePosition:new ql(new ze(0,0,0)),atmosphereOrientation:new ql(new Oe(1,0,0,0)),atmosphereEquatorialRadius:new ql(1),atmospherePolarRadius:new ql(1),atmosphereDensity:new ql(0),atmosphereScaleHeight:new ql(1),atmosphereEmissivity:new ql(0),atmosphereColor:new ql(new ze(0,0,0)),atmosphereSunBrightness:new ql(1),atmosphereSunsetColor:new ql(new ze(0,0,0)),atmosphereSunsetIntensity:new ql(0),atmosphereGroundIsSpheroid:new ql(0),...eh.ThreeUniforms},vertexShader:`\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tattribute vec4 tangent;\n\t\t\t\t\t\tvarying vec4 viewTangent;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef normalUVs\n\t\t\t\t\t\tattribute vec2 normalUV;\n\t\t\t\t\t\tvarying vec2 vNormalUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef specularUVs\n\t\t\t\t\t\tattribute vec2 specularUV;\n\t\t\t\t\t\tvarying vec2 vSpecularUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef nightUVs\n\t\t\t\t\t\tattribute vec2 nightUV;\n\t\t\t\t\t\tvarying vec2 vNightUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef decalUVs\n\t\t\t\t\t\tattribute vec2 decalUV;\n\t\t\t\t\t\tvarying vec2 vDecalUV;\n\t\t\t\t\t#endif\n\t\t\t\t\tvarying vec2 vColorUV;\n\t\t\t\t\tvarying vec3 cameraSpacePosition;\n\t\t\t\t\tvarying vec3 cameraSpaceNormal;\n\n\t\t\t\t\t${eh.VertexHead}\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\t\tviewTangent = vec4((modelMatrix * vec4(tangent.xyz, 0.0)).xyz, tangent.w);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\tvColorUV = uv;\n\t\t\t\t\t\t#ifdef normalUVs\n\t\t\t\t\t\t\tvNormalUV = normalUV;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#ifdef specularUVs\n\t\t\t\t\t\t\tvSpecularUV = specularUV;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#ifdef nightUVs\n\t\t\t\t\t\t\tvNightUV = nightUV;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#ifdef decalUVs\n\t\t\t\t\t\t\tvDecalUV = decalUV;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\tcameraSpacePosition = (modelMatrix * vec4(position, 1.)).xyz;\n\t\t\t\t\t\tcameraSpaceNormal = (modelMatrix * vec4(normal, 0.)).xyz;\n\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n\n\t\t\t\t\t\t${eh.Vertex}\n\t\t\t\t\t}`,fragmentShader:`\n\t\t\t\t\tprecision highp float;\n\n\t\t\t\t\t#ifndef saturate\n\t\t\t\t\t\t#define saturate(a) clamp(a, 0.0, 1.0)\n\t\t\t\t\t#endif\n\t\t\t\t\tuniform mat3 normalMatrix;\n\n\t\t\t\t\t// External lighting and camera.\n\t\t\t\t\tuniform vec3 entityPos;\n\n\t\t\t\t\t// Lights\n\t\t\t\t\tuniform vec3 ambientLightColor;\n\t\t\t\t\tuniform vec3 lightPositions[5];\n\t\t\t\t\tuniform vec3 lightColors[5];\n\t\t\t\t\tuniform float lightRadii[5];\n\t\t\t\t\tuniform int numLights;\n\n\t\t\t\t\t// Shading.\n\t\t\t\t\tuniform vec3 color;\n\t\t\t\t\tuniform vec3 specularColor;\n\t\t\t\t\tuniform float specularIntensity;\n\t\t\t\t\tuniform float specularHardness;\n\n\t\t\t\t\t// Shadow Entities.\n\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\tuniform int numShadowEntities;\n\t\t\t\t\t\tuniform vec3 shadowEntityPositions[5];\n\t\t\t\t\t\tuniform float shadowEntityRadii[5];\n\t\t\t\t\t\tuniform float shadowEntitySunsetIntensity[5];\n\t\t\t\t\t\tuniform vec3 shadowEntitySunsetColors[5];\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef shadowRings\n\t\t\t\t\t\tuniform float shadowRingsInnerRadius;\n\t\t\t\t\t\tuniform float shadowRingsOuterRadius;\n\t\t\t\t\t\tuniform sampler2D shadowRingsTexture;\n\t\t\t\t\t\tuniform vec3 shadowRingsNormal;\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// Textures.\n\t\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tuniform sampler2D normalTexture;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef specularMap\n\t\t\t\t\t\tuniform sampler2D specularTexture;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef nightMap\n\t\t\t\t\t\tuniform sampler2D nightTexture;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef decalMap\n\t\t\t\t\t\tuniform sampler2D decalTexture;\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// Modifications on the textures.\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tuniform vec2 normalScale;\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// The varying attributes.\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tvarying vec4 viewTangent;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef normalUVs\n\t\t\t\t\t\tvarying vec2 vNormalUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef specularUVs\n\t\t\t\t\t\tvarying vec2 vSpecularUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef nightUVs\n\t\t\t\t\t\tvarying vec2 vNightUV;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef decalUVs\n\t\t\t\t\t\tvarying vec2 vDecalUV;\n\t\t\t\t\t#endif\n\t\t\t\t\tvarying vec2 vColorUV;\n\t\t\t\t\tvarying vec3 cameraSpacePosition;\n\t\t\t\t\tvarying vec3 cameraSpaceNormal;\n\n\t\t\t\t\t${eh.FragmentHead}\n\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tvec3 getNormalFromMap() {\n\t\t\t\t\t\t\tvec3 normal = normalize(cameraSpaceNormal);\n\t\t\t\t\t\t\tvec3 tangent = normalize(viewTangent.xyz);\n\t\t\t\t\t\t\tvec3 bitangent = normalize(cross(normal, tangent));\n\t\t\t\t\t\t\tif (viewTangent.w < 0.0) {\n\t\t\t\t\t\t\t\tbitangent *= -1.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmat3 transform = mat3(tangent, bitangent, normal);\n\t\t\t\t\t\t\t#ifdef normalUVs\n\t\t\t\t\t\t\t\tvec2 uv = vNormalUV;\n\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tvec2 uv = vColorUV;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tvec3 normalFromMap = texture2D(normalTexture, uv).rgb * 2.0 - 1.0;\n\t\t\t\t\t\t\tnormalFromMap.xy *= vec2(1, -1);\n\t\t\t\t\t\t\tnormalFromMap.xy *= normalScale;\n\t\t\t\t\t\t\treturn normalize(transform * normalFromMap);\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef colorTextureEnvironment\n\t\t\t\t\t\tvec4 getColorFromEnvironmentMap(sampler2D environmentTexture, vec3 positionDir, vec3 normal) {\n\t\t\t\t\t\t\tvec3 r = reflect(positionDir, normal);\n\t\t\t\t\t\t\tfloat m = 2. * sqrt(r.x * r.x + r.y * r.y + (r.z + 1.) * (r.z + 1.));\n\t\t\t\t\t\t\tvec2 uv = r.xy / m + .5;\n\t\t\t\t\t\t\treturn vec4(texture2D(environmentTexture, uv).rgb, 1.);\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\tvec3 applyRayleighScattering(vec3 color, float amount) {\n\t\t\t\t\t\t\tfloat value = (color.r + color.g + color.b);\n\t\t\t\t\t\t\tif (value > 0.0) {\n\t\t\t\t\t\t\t\tfloat rFactor = 1.0; // 6.3^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tfloat gFactor = 1.602; // 5.6^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tfloat bFactor = 3.228; // 4.7^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tcolor.r *= pow(rFactor, -amount);\n\t\t\t\t\t\t\t\tcolor.g *= pow(gFactor, -amount);\n\t\t\t\t\t\t\t\tcolor.b *= pow(bFactor, -amount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn color;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvec3 getLightColorFromShadowEntities(vec3 lightColor, vec3 lightDir, vec3 lightPosition, float lightRadius, vec3 normal) {\n\t\t\t\t\t\t\tvec3 color = lightColor;\n\t\t\t\t\t\t\tfor (int i = 0; i < 5; i++) {\n\t\t\t\t\t\t\t\tif (i >= numShadowEntities || lightRadius < 0.0) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvec3 origin = cameraSpacePosition - shadowEntityPositions[i];\n\t\t\t\t\t\t\t\tvec3 axis = normalize(shadowEntityPositions[i] - lightPosition);\n\t\t\t\t\t\t\t\tfloat sd = dot(origin, axis);\n\t\t\t\t\t\t\t\tif (sd > 0.0) {\n\t\t\t\t\t\t\t\t\tfloat e = length(origin - sd * axis);\n\t\t\t\t\t\t\t\t\tfloat ld = dot(cameraSpacePosition - lightPosition, axis);\n\t\t\t\t\t\t\t\t\tfloat lr = lightRadius;\n\t\t\t\t\t\t\t\t\tfloat sr = shadowEntityRadii[i];\n\t\t\t\t\t\t\t\t\tfloat e0 = (ld * sr - sd * lr) / (ld - sd);\n\t\t\t\t\t\t\t\t\tfloat e1 = (ld * sr + sd * lr) / (ld - sd);\n\t\t\t\t\t\t\t\t\tfloat lightLevel = 0.0;\n\t\t\t\t\t\t\t\t\tif (e1 < 0.0 || sd < 0.0) { // light in front of shadow entity\n\t\t\t\t\t\t\t\t\t\tlightLevel = 1.0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (e0 < e1) {\n\t\t\t\t\t\t\t\t\t\te0 /= max(1.0, shadowEntitySunsetIntensity[i] * 2.0);\n\t\t\t\t\t\t\t\t\t\tlightLevel = (e - e0) / (e1 - e0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tlightLevel = e < e0 ? 0.0 : 1.0; // 0 radius light.\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcolor = saturate(lightLevel) * applyRayleighScattering(color, saturate(1.5 - lightLevel) * saturate(shadowEntitySunsetIntensity[i]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn color;\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef shadowRings\n\t\t\t\t\t\tvec3 getLightColorFromShadowRings(vec3 lightColor, vec3 lightDir) {\n\t\t\t\t\t\t\tvec3 position = cameraSpacePosition - entityPos;\n\t\t\t\t\t\t\tfloat d = dot(position, shadowRingsNormal) / dot(lightDir, shadowRingsNormal);\n\t\t\t\t\t\t\thighp vec3 pointOnDisc = -d * lightDir + position;\n\t\t\t\t\t\t\tfloat lengthOnDisc = length(pointOnDisc - dot(pointOnDisc, shadowRingsNormal) * shadowRingsNormal);\n\t\t\t\t\t\t\tfloat u = (lengthOnDisc - shadowRingsInnerRadius) / (shadowRingsOuterRadius - shadowRingsInnerRadius);\n\t\t\t\t\t\t\tfloat shadow = 1.0 - texture2D(shadowRingsTexture, vec2(u, 0.0), 0.0).a;\n\t\t\t\t\t\t\tif (shadowRingsInnerRadius <= lengthOnDisc && lengthOnDisc <= shadowRingsOuterRadius && d > 0.0) {\n\t\t\t\t\t\t\t\treturn lightColor * saturate(shadow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn lightColor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// ATMOSPHERE\n\n\t\t\t\t\t#ifdef atmosphere\n\t\t\t\t\t\tuniform vec3 atmospherePosition;\n\t\t\t\t\t\tuniform vec4 atmosphereOrientation;\n\t\t\t\t\t\tuniform float atmosphereEquatorialRadius;\n\t\t\t\t\t\tuniform float atmospherePolarRadius;\n\t\t\t\t\t\tuniform float atmosphereDensity;\n\t\t\t\t\t\tuniform float atmosphereScaleHeight;\n\t\t\t\t\t\tuniform vec3 atmosphereColor;\n\t\t\t\t\t\tuniform float atmosphereEmissivity;\n\t\t\t\t\t\tuniform float atmosphereSunBrightness;\n\t\t\t\t\t\tuniform vec3 atmosphereSunsetColor;\n\t\t\t\t\t\tuniform float atmosphereSunsetIntensity;\n\t\t\t\t\t\tuniform float atmosphereGroundIsSpheroid;\n\n\t\t\t\t\t\tconst int atmosphereNumIterations = 5;\n\n\t\t\t\t\t\t// Inverse rotate a vector by a quaternion.\n\t\t\t\t\t\tvec3 quatRotInv(vec4 q, vec3 v) {\n\t\t\t\t\t\t\tfloat tx = q.w * v.x - q.y * v.z + q.z * v.y;\n\t\t\t\t\t\t\tfloat ty = q.w * v.y - q.z * v.x + q.x * v.z;\n\t\t\t\t\t\t\tfloat tz = q.w * v.z - q.x * v.y + q.y * v.x;\n\t\t\t\t\t\t\tfloat tw = q.x * v.x + q.y * v.y + q.z * v.z;\n\t\t\t\t\t\t\tfloat x = tx * q.w + tw * q.x + ty * q.z - tz * q.y;\n\t\t\t\t\t\t\tfloat y = ty * q.w + tw * q.y + tz * q.x - tx * q.z;\n\t\t\t\t\t\t\tfloat z = tz * q.w + tw * q.z + tx * q.y - ty * q.x;\n\t\t\t\t\t\t\treturn vec3(x, y, z);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Given an origin and direction, computes the sampling start and end as distance from the origin in the direction.\n\t\t\t\t\t\tvoid getStartEndSamples(out float start, out float end, vec3 origin, vec3 direction, float maxDistance, float groundRadius, float atmosphereScaleHeight) {\n\t\t\t\t\t\t\t// Get the along the ray perpendicular to the sphere.\n\t\t\t\t\t\t\tfloat perpD = -dot(origin, direction);\n\t\t\t\t\t\t\tvec3 perp = origin + direction * perpD;\n\n\t\t\t\t\t\t\t// Figure out the sample distance.\n\t\t\t\t\t\t\tfloat atmosphereRadius = groundRadius + atmosphereScaleHeight * 6.0;\n\t\t\t\t\t\t\tfloat chordHalfLength = sqrt(max(0.0, atmosphereRadius * atmosphereRadius - dot(perp, perp)));\n\n\t\t\t\t\t\t\t// Figure out starting and ending sample points.\n\t\t\t\t\t\t\tstart = max(0.0, perpD - chordHalfLength);\n\t\t\t\t\t\t\tend = min(maxDistance, perpD + chordHalfLength);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Gets the density of the atmosphere at a given position.\n\t\t\t\t\t\tfloat getDensity(vec3 position, float radius, float density, float atmosphereScaleHeight) {\n\t\t\t\t\t\t\treturn density * exp((radius - length(position)) / atmosphereScaleHeight);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Returns 0 if the ray does not intersect and 1.0 if the ray very intersects (with a gradient inbetween).\n\t\t\t\t\t\tfloat getDayLevel(vec3 origin, vec3 direction, float radius, float scaleHeight) {\n\t\t\t\t\t\t\tfloat blendHeight = scaleHeight * radius / 200.0;\n\t\t\t\t\t\t\tfloat perpD = -dot(origin, direction);\n\t\t\t\t\t\t\tfloat depth = radius - sqrt(dot(origin, origin) - sign(perpD) * perpD * perpD);\n\t\t\t\t\t\t\tif (depth < 0.0) { // day\n\t\t\t\t\t\t\t\treturn 1.0 - max(0.0, 0.25 * depth / blendHeight + 0.25);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse { // night\n\t\t\t\t\t\t\t\treturn 1.0 - min(1.0, 0.75 * depth / blendHeight + 0.25);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Adjusts the color if one of the RGB values is greater than 1.0.\n\t\t\t\t\t\tvec3 adjustOverbrightness(vec3 color) {\n\t\t\t\t\t\t\tfloat maxColor = max(color.r, max(color.g, color.b));\n\t\t\t\t\t\t\tif (maxColor > 1.0) {\n\t\t\t\t\t\t\t\tfloat f = (maxColor - 1.0) / maxColor;\n\t\t\t\t\t\t\t\tcolor.r = min(1.0, pow(color.r / maxColor, 1.0 / maxColor));\n\t\t\t\t\t\t\t\tcolor.g = min(1.0, pow(color.g / maxColor, 1.0 / maxColor));\n\t\t\t\t\t\t\t\tcolor.b = min(1.0, pow(color.b / maxColor, 1.0 / maxColor));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn color;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfloat easeInOut(float x, float sharpness) {\n\t\t\t\t\t\t\tfloat b = sharpness;\n\t\t\t\t\t\t\tif (x < 0.5) {\n\t\t\t\t\t\t\t\treturn max(0.0, (pow(b, 2.0 * x) - 1.0) / (2.0 * (b - 1.0)));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn min(1.0, 1.0 - (pow(b, 2.0 * (1.0 - x)) - 1.0) / (2.0 * (b - 1.0)));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Calculates a glow around the light direction.\n\t\t\t\t\t\tfloat glow(float spread, float amount, float lightDotCamera) {\n\t\t\t\t\t\t\treturn amount * spread / (1.0 + spread - lightDotCamera);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstruct AtmosphereInfo {\n\t\t\t\t\t\t\tfloat spheroidRatio;\n\t\t\t\t\t\t\thighp vec3 position;\n\t\t\t\t\t\t\thighp vec3 cameraPosition;\n\t\t\t\t\t\t\thighp vec3 cameraToPosition;\n\t\t\t\t\t\t\tfloat cameraToPositionDist;\n\t\t\t\t\t\t\thighp vec3 cameraToPositionUnit;\n\t\t\t\t\t\t\tfloat start;\n\t\t\t\t\t\t\tfloat end;\n\t\t\t\t\t\t\tfloat totalDensity;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Get atmosphere info that is independent of any light.\n\t\t\t\t\t\tAtmosphereInfo getAtmosphereInfo() {\n\n\t\t\t\t\t\t\tAtmosphereInfo atmosphereInfo;\n\n\t\t\t\t\t\t\t// Get position and camera in the atmosphere frame.\n\t\t\t\t\t\t\tatmosphereInfo.position = quatRotInv(atmosphereOrientation, cameraSpacePosition - atmospherePosition);\n\t\t\t\t\t\t\tatmosphereInfo.cameraPosition = quatRotInv(atmosphereOrientation, -atmospherePosition);\n\n\t\t\t\t\t\t\t// Convert everything into a sphere frame.\n\t\t\t\t\t\t\tatmosphereInfo.spheroidRatio = atmosphereEquatorialRadius / atmospherePolarRadius;\n\t\t\t\t\t\t\tatmosphereInfo.position.z *= atmosphereInfo.spheroidRatio;\n\t\t\t\t\t\t\tatmosphereInfo.cameraPosition.z *= atmosphereInfo.spheroidRatio;\n\n\t\t\t\t\t\t\t// Make sure the position is right on the ground.\n\t\t\t\t\t\t\tatmosphereInfo.position = normalize(atmosphereInfo.position / 1.0e8) * atmosphereEquatorialRadius;\n\n\t\t\t\t\t\t\t// Get some shortcut vectors.\n\t\t\t\t\t\t\tatmosphereInfo.cameraToPosition = atmosphereInfo.position - atmosphereInfo.cameraPosition;\n\t\t\t\t\t\t\tatmosphereInfo.cameraToPositionDist = length(atmosphereInfo.cameraToPosition / 1.0e8) * 1.0e8;\n\t\t\t\t\t\t\tatmosphereInfo.cameraToPositionUnit = atmosphereInfo.cameraToPosition / atmosphereInfo.cameraToPositionDist;\n\n\t\t\t\t\t\t\t// Get the start and end of the sampling from the camera to the position.\n\t\t\t\t\t\t\tgetStartEndSamples(atmosphereInfo.start, atmosphereInfo.end, atmosphereInfo.cameraPosition, atmosphereInfo.cameraToPositionUnit, atmosphereInfo.cameraToPositionDist, atmosphereEquatorialRadius, atmosphereScaleHeight);\n\t\t\t\t\t\t\tfloat step = 1.0 / float(atmosphereNumIterations - 1);\n\t\t\t\t\t\t\tfloat stepDist = step * (atmosphereInfo.end - atmosphereInfo.start);\n\n\t\t\t\t\t\t\t// Do the sampling.\n\t\t\t\t\t\t\tatmosphereInfo.totalDensity = 0.0;\n\t\t\t\t\t\t\tfloat segmentStart = atmosphereInfo.start;\n\t\t\t\t\t\t\tfor (int j = 0; j < atmosphereNumIterations; j++) {\n\t\t\t\t\t\t\t\t// Get the distance that this segment covers.\n\t\t\t\t\t\t\t\tfloat segDist = stepDist;\n\t\t\t\t\t\t\t\tif (j == 0 || j == atmosphereNumIterations - 1) {\n\t\t\t\t\t\t\t\t\tsegDist *= 0.5;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Get the segment start that we're looking at.\n\t\t\t\t\t\t\t\tvec3 p = atmosphereInfo.cameraPosition + segmentStart * atmosphereInfo.cameraToPositionUnit;\n\n\t\t\t\t\t\t\t\t// Get the density at that segment start. It'll be the density for the whole segment.\n\t\t\t\t\t\t\t\tfloat densityAtP = getDensity(p, atmosphereEquatorialRadius, atmosphereDensity, atmosphereScaleHeight);\n\n\t\t\t\t\t\t\t\t// Add it to the total density.\n\t\t\t\t\t\t\t\tatmosphereInfo.totalDensity += densityAtP * segDist;\n\n\t\t\t\t\t\t\t\t// Next step.\n\t\t\t\t\t\t\t\tsegmentStart += stepDist;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn atmosphereInfo;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvec4 getAtmosphereEmissiveColor(AtmosphereInfo atmosphereInfo, vec3 color, float emissivity) {\n\n\t\t\t\t\t\t\t// Scale the total density with the emissivity.\n\t\t\t\t\t\t\tatmosphereInfo.totalDensity *= emissivity;\n\n\t\t\t\t\t\t\t// Apply the total density to the transparency of the atmosphere.\n\t\t\t\t\t\t\tvec4 outColor = vec4(0.0);\n\t\t\t\t\t\t\toutColor.a = clamp(pow(3.0 * atmosphereInfo.totalDensity, 0.3), 0.0, 1.0);\n\n\t\t\t\t\t\t\t// Multiply it all together with the source light color.\n\t\t\t\t\t\t\toutColor.rgb = emissivity * color * clamp(pow(15.0 * atmosphereInfo.totalDensity / (atmosphereDensity * atmosphereEquatorialRadius), 0.2), 0.75, 1.0);\n\n\t\t\t\t\t\t\t// Make it more opaque when lower down.\n\t\t\t\t\t\t\toutColor.a *= 1.0 + 0.5 * getDensity(atmosphereInfo.cameraPosition, atmosphereEquatorialRadius, 1.0, atmosphereScaleHeight);\n\n\t\t\t\t\t\t\t// Clamp it to make it clean.\n\t\t\t\t\t\t\toutColor.a = clamp(outColor.a, 0.0, 1.0);\n\n\t\t\t\t\t\t\t// Return the color.\n\t\t\t\t\t\t\treturn outColor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Adjust the incoming light for the atmosphere.\n\t\t\t\t\t\tvec4 getAtmosphereColor(AtmosphereInfo atmosphereInfo, vec3 incomingLight, vec3 lightPosition) {\n\n\t\t\t\t\t\t\t// The color starts out in full brightness (as if emissivity was 1.0).\n\t\t\t\t\t\t\tvec4 outColor = getAtmosphereEmissiveColor(atmosphereInfo, incomingLight * atmosphereColor, 1.0);\n\n\t\t\t\t\t\t\t// Get the light position in the sphere entity-space.\n\t\t\t\t\t\t\tlightPosition = quatRotInv(atmosphereOrientation, lightPosition);\n\t\t\t\t\t\t\tlightPosition.z *= atmosphereInfo.spheroidRatio;\n\t\t\t\t\t\t\thighp vec3 lightToPosition = atmosphereInfo.position - lightPosition;\n\t\t\t\t\t\t\thighp vec3 lightToPositionUnit = normalize(lightToPosition / 1.0e8);\n\n\t\t\t\t\t\t\t// Get the day level, from 0 to 1, and apply it to the alpha.\n\t\t\t\t\t\t\tfloat ambientLightIntensity = min(1.0, length(ambientLightColor));\n\t\t\t\t\t\t\tvec3 dayRefUp = normalize(atmosphereInfo.cameraPosition + atmosphereInfo.end * atmosphereInfo.cameraToPositionUnit);\n\t\t\t\t\t\t\tfloat dayLevel = -dot(lightToPositionUnit, dayRefUp);\n\t\t\t\t\t\t\tfloat lightIntensity = mix(dayLevel, 0.0, ambientLightIntensity);\n\t\t\t\t\t\t\toutColor.a *= easeInOut(0.25 * 700.0 * atmosphereDensity + 1.0 * lightIntensity, 2.0);\n\n\t\t\t\t\t\t\t// Add broader sun glare.\n\t\t\t\t\t\t\tfloat lightDotCamera = max(0.0, -dot(lightToPositionUnit, atmosphereInfo.cameraToPositionUnit));\n\t\t\t\t\t\t\toutColor.rgb *= incomingLight * (1.0 + atmosphereSunBrightness * outColor.a * glow(0.04, 0.125, lightDotCamera));\n\n\t\t\t\t\t\t\t// Apply the sunset.\n\t\t\t\t\t\t\tfloat sunsetAmount = mix(atmosphereSunsetIntensity * easeInOut(0.5 * (1.0 - abs(dayLevel)), 4.0), 0.0, ambientLightIntensity);\n\t\t\t\t\t\t\toutColor.rgb *= mix(vec3(1.0), atmosphereSunsetColor, clamp(sunsetAmount, 0.0, 1.0));\n\n\t\t\t\t\t\t\t// Adjust for values that are greater than one.\n\t\t\t\t\t\t\toutColor.rgb = adjustOverbrightness(outColor.rgb);\n\n\t\t\t\t\t\t\treturn outColor;\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\t// Get the camera direction to the position.\n\t\t\t\t\t\tvec3 positionDir = normalize(cameraSpacePosition);\n\n\t\t\t\t\t\t// Calculate the normal.\n\t\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\t\tvec3 normal = getNormalFromMap();\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tvec3 normal = normalize(cameraSpaceNormal);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// The diffuse light.\n\t\t\t\t\t\tvec3 diffuseLight = ambientLightColor;\n\t\t\t\t\t\tvec3 specularLight = vec3(0, 0, 0);\n\n\t\t\t\t\t\t// Atmosphere emissive shading.\n\t\t\t\t\t\t#ifdef atmosphere\n\t\t\t\t\t\t\tAtmosphereInfo atmosphereInfo = getAtmosphereInfo();\n\t\t\t\t\t\t\tvec4 atmosphereColor = getAtmosphereEmissiveColor(atmosphereInfo, atmosphereColor, atmosphereEmissivity);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// For each light,\n\t\t\t\t\t\tfor (int i = 0; i < 5; i++) {\n\t\t\t\t\t\t\tif (i >= numLights) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Get lighting angles.\n\t\t\t\t\t\t\tvec3 lightDir = normalize(cameraSpacePosition - lightPositions[i]);\n\t\t\t\t\t\t\tfloat lightCosAngle = -dot(lightDir, normal);\n\n\t\t\t\t\t\t\t// Make the shadows a bit sharper, depending on atmospheres.\n\t\t\t\t\t\t\tfloat sharpness = 3.0;\n\t\t\t\t\t\t\t#ifdef atmosphere\n\t\t\t\t\t\t\t\tsharpness /= 1.0 + 700.0 * atmosphereDensity;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tlightCosAngle = 2.0 * (1.0 + exp(-sharpness)) / (1.0 + exp(-sharpness * lightCosAngle)) - 1.0;\n\n\t\t\t\t\t\t\t// Get the incoming light after shadows.\n\t\t\t\t\t\t\tvec3 incomingLight = lightColors[i];\n\t\t\t\t\t\t\t#if !defined(colorMapEmmissive) | !defined(nightMapEmmissive) | !defined(decalMapEmmissive)\n\t\t\t\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\t\t\t\tincomingLight = getLightColorFromShadowEntities(incomingLight, lightDir, lightPositions[i], lightRadii[i], normal);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t\t#ifdef shadowRings\n\t\t\t\t\t\t\t\t\tincomingLight = getLightColorFromShadowRings(incomingLight, lightDir);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t\t// Diffuse shading.\n\t\t\t\t\t\t\tdiffuseLight += incomingLight * saturate(lightCosAngle);\n\n\t\t\t\t\t\t\t// Specular shading.\n\t\t\t\t\t\t\tvec3 reflectedLightDir = reflect(lightDir, normal);\n\t\t\t\t\t\t\tvec3 halfVector = normalize(-lightDir - positionDir);\n\t\t\t\t\t\t\tfloat phongHighlight = 0.25 * pow(saturate(-dot(reflectedLightDir, positionDir)), specularHardness / 2.0);\n\t\t\t\t\t\t\tfloat blinnHighlight = 4.0 * pow(saturate(dot(halfVector, normal)), specularHardness);\n\t\t\t\t\t\t\tfloat specularAngle = phongHighlight + pow(1.0 - saturate(-dot(positionDir, normal)), specularHardness / 12.0) * blinnHighlight;\n\t\t\t\t\t\t\tspecularLight += saturate(lightCosAngle * 20.0) * specularAngle * incomingLight;\t\n\n\t\t\t\t\t\t\t// Atmosphere shading.\n\t\t\t\t\t\t\t#ifdef atmosphere\n\t\t\t\t\t\t\t\tif (length(lightPositions[i]) > 0.0) { // don't use a camera light\n\t\t\t\t\t\t\t\t\tatmosphereColor += getAtmosphereColor(atmosphereInfo, incomingLight, lightPositions[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiffuseLight = saturate(diffuseLight);\n\n\t\t\t\t\t\t// If there's ambience, remove the direct light components.\n\t\t\t\t\t\tspecularLight *= vec3(1, 1, 1) - ambientLightColor;\n\n\t\t\t\t\t\t// Main Color map.\n\t\t\t\t\t\tvec4 colorPixel = vec4(1, 0, 1, 1);\n\t\t\t\t\t\t#ifdef colorTextureEnvironment\n\t\t\t\t\t\t\tcolorPixel = getColorFromEnvironmentMap(colorTexture, positionDir, normal);\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tcolorPixel = texture2D(colorTexture, vColorUV) * vec4(color, 1);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#ifdef baseColor\n\t\t\t\t\t\t\tcolorPixel = vec4(color, 1);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Apply diffuse shading.\n\t\t\t\t\t\t#ifndef colorMapEmmissive\n\t\t\t\t\t\t\tcolorPixel *= vec4(diffuseLight, 1.0);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\tgl_FragColor = colorPixel;\n\n\t\t\t\t\t\t// Specular Map\n\t\t\t\t\t\tvec3 specularPixel = specularColor * specularIntensity;\n\t\t\t\t\t\t#ifdef specularMap\n\t\t\t\t\t\t\t#ifdef specularUVs\n\t\t\t\t\t\t\t\tvec2 specularUV = vSpecularUV;\n\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tvec2 specularUV = vColorUV;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tspecularPixel = specularColor * texture2D(specularTexture, specularUV).r;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Apply specular Shading\n\t\t\t\t\t\tgl_FragColor.rgb += specularLight * specularPixel;\n\n\t\t\t\t\t\t// Night-Side Map\n\t\t\t\t\t\t#ifdef nightMap\n\t\t\t\t\t\t\tfloat ambientLightIntensity = min(1.0, length(ambientLightColor));\n\t\t\t\t\t\t\t#ifdef nightUVs\n\t\t\t\t\t\t\t\tvec2 nightUV = vNightUV;\n\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tvec2 nightUV = vColorUV;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tvec4 nightPixel = texture2D(nightTexture, nightUV);\n\t\t\t\t\t\t\t#ifndef nightMapEmmissive\n\t\t\t\t\t\t\t\tnightPixel *= vec4(diffuseLight, 1.0);\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tgl_FragColor = mix(gl_FragColor, nightPixel, 1.0 - min(1.0, length(ambientLightColor + diffuseLight)));//(1.0 - ambientLightIntensity) * saturate(0.5 - length(diffuseLight)));\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Decal Map\n\t\t\t\t\t\t#ifdef decalMap\n\t\t\t\t\t\t\t#ifdef decalUVs\n\t\t\t\t\t\t\t\tvec2 decalUV = vDecalUV;\n\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tvec2 decalUV = vColorUV;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tvec4 decalPixel = texture2D(decalTexture, decalUV);\n\t\t\t\t\t\t\t#ifndef decalMapEmmissive\n\t\t\t\t\t\t\t\tdecalPixel *= vec4(diffuseLight, 1.0);\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\tgl_FragColor.rgb = mix(gl_FragColor.rgb, decalPixel.rgb, decalPixel.a);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Atmosphere\n\t\t\t\t\t\t#ifdef atmosphere\n\t\t\t\t\t\t\tgl_FragColor.rgb = mix(gl_FragColor.rgb, atmosphereColor.rgb, clamp(atmosphereColor.a, 0.0, 1.0));\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t${eh.Fragment}\n\t\t\t\t\t}`}));const t=ru._material.clone();for(let e=0;e<t.uniforms.shadowEntityPositions.value.length;e++)t.uniforms.shadowEntityPositions.value[e]=ru._material.uniforms.shadowEntityPositions.value[e].clone();for(let e=0;e<t.uniforms.shadowEntitySunsetColors.value.length;e++)t.uniforms.shadowEntitySunsetColors.value[e]=ru._material.uniforms.shadowEntitySunsetColors.value[e].clone();return du.setupLogDepthBuffering(t),t.extensions.derivatives=!0,t.needsUpdate=!0,t}}ru._material=null;class ou{static get(){null===ou._material&&(ou._material=new Js({uniforms:{ambientLightColor:new ql(new as),lightPositions:new ql([new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0)]),lightColors:new ql([new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0)]),lightRadii:new ql([0,0,0,0,0]),numLights:new ql(0),environmentIntensity:new ql(1),gammaCorrectionFactor:new ql(1),entityPos:new ql(new ze),color:new ql(new as(1,1,1)),metalness:new ql(0),roughness:new ql(0),emissiveColor:new ql(new as(0,0,0)),alphaMultiplier:new ql(1),colorTexture:new ql(null),roughnessTexture:new ql(null),metalnessTexture:new ql(null),normalTexture:new ql(null),emissiveTexture:new ql(null),numShadowEntities:new ql(0),shadowEntityPositions:new ql([new ze,new ze,new ze,new ze,new ze]),shadowEntityRadii:new ql([0,0,0,0,0]),shadowEntitySunsetIntensity:new ql([0,0,0,0,0]),shadowEntitySunsetColors:new ql([new ze,new ze,new ze,new ze,new ze]),envTexture:new ql(null),maxMipLevel:new ql(0),dynEnvTexture:new ql(null),dynEnvFaceSize:new ql(0),normalScale:new ql(new pe),...eh.ThreeUniforms},vertexShader:`\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tattribute vec4 tangent;\n\t\t\t\t\t\tvarying vec4 localTangent;\n\t\t\t\t\t\tvarying vec3 localNormal;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 modelNormal;\n\t\t\t\t\t#endif\n\t\t\t\t\t#if defined(normalMap) || defined(colorMap) || defined(roughnessMap) || defined(metalnessMap) || defined(emissiveMap)\n\t\t\t\t\t\tvarying vec2 localUV;\n\t\t\t\t\t#endif\n\t\t\t\t\tvarying vec3 cameraSpacePosition;\n\n\t\t\t\t\t${eh.VertexHead}\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\t\tlocalTangent = tangent;\n\t\t\t\t\t\t\tlocalNormal = normal;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tmodelNormal = normalize((modelMatrix * vec4(normal, 0.)).xyz);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#if defined(normalMap) || defined(colorMap) || defined(roughnessMap) || defined(metalnessMap) || defined(emissiveMap)\n\t\t\t\t\t\t\tlocalUV = uv;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\tcameraSpacePosition = (modelMatrix * vec4(position, 1.)).xyz;\n\t\t\t\t\t\tvec4 viewPosition = modelViewMatrix * vec4(position, 1.);\n\t\t\t\t\t\tgl_Position = projectionMatrix * viewPosition;\n\n\t\t\t\t\t\t${eh.Vertex}\n\t\t\t\t\t}`,fragmentShader:`\n\t\t\t\t\tprecision highp float;\n\n\t\t\t\t\t#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\t\t\t\t\t#define EPSILON 1e-6\n\t\t\t\t\t#define PI 3.14159265359\n\t\t\t\t\t#define RECIPROCAL_PI 0.31830988618\n\t\t\t\t\t#define RECIPROCAL_PI2 0.15915494\n\t\t\t\t\t#ifndef saturate\n\t\t\t\t\t\t#define saturate(a) clamp( a, 0.0, 1.0 )\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat pow2( float x ) { return x*x; }\n\n\t\t\t\t\tuniform mat4 modelMatrix;\n\n\t\t\t\t\t// Lights\n\t\t\t\t\tuniform vec3 ambientLightColor;\n\t\t\t\t\tuniform vec3 lightPositions[5];\n\t\t\t\t\tuniform vec3 lightColors[5];\n\t\t\t\t\tuniform float lightRadii[5];\n\t\t\t\t\tuniform int numLights;\n\t\t\t\t\tuniform float environmentIntensity;\n\t\t\t\t\tuniform float gammaCorrectionFactor;\n\n\t\t\t\t\t// External lighting and camera.\n\t\t\t\t\tuniform vec3 entityPos;\n\n\t\t\t\t\t// Textures.\n\t\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\t\tuniform sampler2D roughnessTexture;\n\t\t\t\t\tuniform sampler2D metalnessTexture;\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tuniform sampler2D normalTexture;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef emissiveMap\n\t\t\t\t\t\tuniform sampler2D emissiveTexture;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef dynEnvMap\n\t\t\t\t\t\tuniform sampler2D dynEnvTexture;\n\t\t\t\t\t\tuniform float dynEnvFaceSize;\n\t\t\t\t\t#elif defined( envMap )\n\t\t\t\t\t\t#ifdef envIsCube\n\t\t\t\t\t\t\tuniform samplerCube envTexture;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tuniform sampler2D envTexture;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tuniform vec2 normalScale;\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// Shadow Entities.\n\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\tuniform int numShadowEntities;\n\t\t\t\t\t\tuniform vec3 shadowEntityPositions[5];\n\t\t\t\t\t\tuniform float shadowEntityRadii[5];\n\t\t\t\t\t\tuniform float shadowEntitySunsetIntensity[5];\n\t\t\t\t\t\tuniform vec3 shadowEntitySunsetColors[5];\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// Scalars\n\t\t\t\t\tuniform vec3 color;\n\t\t\t\t\tuniform float roughness;\n\t\t\t\t\tuniform float metalness;\n\t\t\t\t\tuniform vec3 emissiveColor;\n\t\t\t\t\tuniform float alphaMultiplier;\n\n\t\t\t\t\t// The varying attributes.\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tvarying vec4 localTangent;\n\t\t\t\t\t\tvarying vec3 localNormal;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 modelNormal;\n\t\t\t\t\t#endif\n\t\t\t\t\t#if defined(normalMap) || defined(colorMap) || defined(roughnessMap) || defined(metalnessMap) || defined(emissiveMap)\n\t\t\t\t\t\tvarying vec2 localUV;\n\t\t\t\t\t#endif\n\t\t\t\t\tvarying vec3 cameraSpacePosition;\n\n\t\t\t\t\t${eh.FragmentHead}\n\n\t\t\t\t\tstruct PhysicalMaterial {\n\t\t\t\t\t\tvec3 diffuseColor;\n\t\t\t\t\t\tvec3 specularColor;\n\t\t\t\t\t\tfloat specularRoughness;\n\t\t\t\t\t};\n\t\t\t\t\tstruct IncidentLight {\n\t\t\t\t\t\tvec3 color;\n\t\t\t\t\t\tvec3 direction;\n\t\t\t\t\t};\n\n\t\t\t\t\tstruct ReflectedLight {\n\t\t\t\t\t\tvec3 directDiffuse;\n\t\t\t\t\t\tvec3 directSpecular;\n\t\t\t\t\t\tvec3 indirectDiffuse;\n\t\t\t\t\t\tvec3 indirectSpecular;\n\t\t\t\t\t};\n\n\t\t\t\t\tstruct GeometricContext {\n\t\t\t\t\t\tvec3 normal;\n\t\t\t\t\t\tvec3 viewDir;\n\t\t\t\t\t};\n\n\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\tvec3 getNormalFromMap() {\n\t\t\t\t\t\t\tvec3 normal = normalize(localNormal);\n\t\t\t\t\t\t\tvec3 tangent = normalize(localTangent.xyz);\n\t\t\t\t\t\t\tvec3 bitangent = normalize(cross(normal, tangent));\n\t\t\t\t\t\t\tif (localTangent.w < 0.0) {\n\t\t\t\t\t\t\t\tbitangent *= -1.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmat3 transform = mat3(tangent, bitangent, normal);\n\t\t\t\t\t\t\tvec3 normalFromMap = texture2D(normalTexture, localUV).rgb * 2.0 - 1.0;\n\t\t\t\t\t\t\tnormalFromMap.xy *= vec2(1, -1);\n\t\t\t\t\t\t\tnormalFromMap.xy *= normalScale;\n\t\t\t\t\t\t\treturn normalize(transform * normalFromMap);\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\tvec3 applyRayleighScattering(vec3 color, float amount) {\n\t\t\t\t\t\t\tfloat value = (color.r + color.g + color.b);\n\t\t\t\t\t\t\tif (value > 0.0) {\n\t\t\t\t\t\t\t\tfloat rFactor = 1.0; // 6.3^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tfloat gFactor = 1.602; // 5.6^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tfloat bFactor = 3.228; // 4.7^-4 / 6.3^-4\n\t\t\t\t\t\t\t\tcolor.r *= pow(rFactor, -amount);\n\t\t\t\t\t\t\t\tcolor.g *= pow(gFactor, -amount);\n\t\t\t\t\t\t\t\tcolor.b *= pow(bFactor, -amount);\n\t\t\t\t\t\t\t\tcolor = value * color / (color.r + color.g + color.b);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn color;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvec3 getLightColorFromShadowEntities(vec3 lightColor, vec3 lightDir, vec3 lightPosition, float lightRadius, vec3 normal) {\n\t\t\t\t\t\t\tvec3 color = lightColor;\n\t\t\t\t\t\t\tfor (int i = 0; i < 5; i++) {\n\t\t\t\t\t\t\t\tif (i >= numShadowEntities || lightRadius < 0.0) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvec3 origin = cameraSpacePosition - shadowEntityPositions[i];\n\t\t\t\t\t\t\t\tvec3 axis = normalize(shadowEntityPositions[i] - lightPosition);\n\t\t\t\t\t\t\t\tfloat sd = dot(origin, axis);\n\t\t\t\t\t\t\t\tif (sd > 0.0) {\n\t\t\t\t\t\t\t\t\tfloat e = length(origin - sd * axis);\n\t\t\t\t\t\t\t\t\tfloat ld = dot(cameraSpacePosition - lightPosition, axis);\n\t\t\t\t\t\t\t\t\tfloat lr = lightRadius;\n\t\t\t\t\t\t\t\t\tfloat sr = shadowEntityRadii[i];\n\t\t\t\t\t\t\t\t\tfloat e0 = (ld * sr - sd * lr) / (ld - sd);\n\t\t\t\t\t\t\t\t\tfloat e1 = (ld * sr + sd * lr) / (ld - sd);\n\t\t\t\t\t\t\t\t\tfloat lightLevel = 0.0;\n\t\t\t\t\t\t\t\t\tif (e1 < 0.0 || sd < 0.0) { // light in front of shadow entity\n\t\t\t\t\t\t\t\t\t\tlightLevel = 1.0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (e0 < e1) {\n\t\t\t\t\t\t\t\t\t\te0 -= (e1 - e0) * saturate(shadowEntitySunsetIntensity[i] / 3.0);\n\t\t\t\t\t\t\t\t\t\tlightLevel = pow(saturate((e - e0) / (e1 - e0)), 0.5); // soft light\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tlightLevel = e < e0 ? 0.0 : 1.0; // 0 radius light.\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcolor = lightLevel * mix(color, shadowEntitySunsetColors[i], (1.0 - lightLevel) * saturate(shadowEntitySunsetIntensity[i]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn color;\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\t\t\t\t\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t\t\t\t\t}\n\n\t\t\t\t\t// These use optimizations found in https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf.\n\n\t\t\t\t\t// The Smith-method geometry function. Calculates the ratio of incident light that is blocked by the microfacets to never reach the viewer.\n\t\t\t\t\t// alpha is the roughness^2\n\t\t\t\t\t// dotNL is the normal  the light vector.\n\t\t\t\t\t// dotNV is the normal  the view vector.\n\t\t\t\t\tfloat G_GGX_SmithCorrelated( float alpha, float dotNL, float dotNV ) {\n\t\t\t\t\t\tfloat a2 = pow2( alpha );\n\t\t\t\t\t\t// Get the light direction part of the geometry function.\n\t\t\t\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\t\t\t\t\t\t// Get the view direction part of the geometry function.\n\t\t\t\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\t\t\t\t\t\t// It would normally be be gv * gl, but this is using an optimization by Heitz (2014),\n\t\t\t\t\t\t// including the BRDF denominator, simplifying the results.\n\t\t\t\t\t\treturn 0.5 / max( gv + gl, EPSILON );\n\t\t\t\t\t}\n\n\t\t\t\t\t// The Trowbridge-Reitz normal distribution function. Calculates the relative surface area microfacets exactly aligned to the halfway vector, how "smooth" the surface is.\n\t\t\t\t\t// alpha is the roughness^2.\n\t\t\t\t\t// dotNH is the normal  the halfway vector.\n\t\t\t\t\tfloat D_GGX( float alpha, float dotNH ) {\n\t\t\t\t\t\tfloat a2 = pow2( alpha );\n\t\t\t\t\t\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\t\t\t\t\t\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\t\t\t\t\t}\n\n\t\t\t\t\t// The Schlick approximation for the Fresnel equation.\n\t\t\t\t\t// Since metallic and non-metallic surfaces have different equations, this function combines the two by approximation.\n\t\t\t\t\t// specularColor is the specular color at normal incidence.\n\t\t\t\t\t// dotLH is the light direction  the halfway vector.\n\t\t\t\t\tvec3 F_Schlick( vec3 specularColor, float dotLH ) {\n\t\t\t\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\t\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t\t\t\t}\n\n\t\t\t\t\t// The specular part of the main BRDF function that describes the weighting function for the sum of every incoming light.\n\t\t\t\t\t// It uses the Cook-Torrance model.\n\t\t\t\t\tvec3 BRDF_Specular_GGX( IncidentLight incidentLight, GeometricContext geometry, vec3 specularColor, float roughness ) {\n\t\t\t\t\t\tfloat alpha = pow2( roughness );\n\t\t\t\t\t\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\t\t\t\t\t\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t\t\t\t\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\t\t\t\t\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\t\t\t\t\t\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\t\t\t\t\t\tvec3 F = F_Schlick( specularColor, dotLH );\n\t\t\t\t\t\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\t\t\t\t\tfloat D = D_GGX( alpha, dotNH );\n\t\t\t\t\t\treturn F * ( G * D );\n\t\t\t\t\t}\n\n\t\t\t\t\t// The diffuse part of the main BRDF function.\n\t\t\t\t\tvec3 BRDF_Diffuse_Lambert( vec3 diffuseColor ) {\n\t\t\t\t\t\treturn RECIPROCAL_PI * diffuseColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat BlinnExponentToGGXRoughness( float blinnExponent ) {\n\t\t\t\t\t\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat GGXRoughnessToBlinnExponent( float ggxRoughness ) {\n\t\t\t\t\t\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n\t\t\t\t\t}\n\n\t\t\t\t\tvec2 integrateSpecularBRDF( float dotNV, float roughness ) {\n\t\t\t\t\t\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\t\t\t\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\t\t\t\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\t\t\t\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\t\t\t\t\t\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\t\t\t\t\t}\n\n\t\t\t\t\tvec3 BRDF_Specular_GGX_Environment( GeometricContext geometry, vec3 specularColor, float roughness ) {\n\t\t\t\t\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\t\t\t\t\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\t\t\t\t\t\treturn specularColor * brdf.x + brdf.y;\n\t\t\t\t\t}\n\n\t\t\t\t\tvoid BRDF_Specular_Multiscattering_Environment( GeometricContext geometry, vec3 specularColor, float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\t\t\t\t\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\t\t\t\t\tvec3 F = F_Schlick( specularColor, dotNV );\n\t\t\t\t\t\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\t\t\t\t\t\tvec3 FssEss = F * brdf.x + brdf.y;\n\t\t\t\t\t\tfloat Ess = brdf.x + brdf.y;\n\t\t\t\t\t\tfloat Ems = 1.0 - Ess;\n\t\t\t\t\t\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\t\t\t\t\t\tsingleScatter += FssEss;\n\t\t\t\t\t\tmultiScatter += Fms * Ems;\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat opacity = 1.0;\n\n\t\t\t\t\tuniform float reflectivity;\n\t\t\t\t\tuniform int maxMipLevel;\n\n\t\t\t\t\t// Returns the radiance: the incoming light * the cos(light angle to the normal)\n\t\t\t\t\tvec3 getIncomingLight( IncidentLight directLight, GeometricContext geometry) {\n\t\t\t\t\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\t\t\t\t\treturn (dotNL * directLight.color);\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat getSpecularMIPLevel( float blinnShininessExponent, int maxMIPLevel ) {\n\t\t\t\t\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\t\t\t\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\t\t\t\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t\t\t\t\t}\n\n\t\t\t\t\t#ifdef envIsCubeUV\n\t\t\t\t\t\t// These defines must match with PMREMGenerator\n\t\t\t\t\t\t#define cubeUV_maxMipLevel 8.0\n\t\t\t\t\t\t#define cubeUV_minMipLevel 4.0\n\t\t\t\t\t\t#define cubeUV_maxTileSize 256.0\n\t\t\t\t\t\t#define cubeUV_minTileSize 16.0\n\t\t\t\t\t\t// These shader functions convert between the UV coordinates of a single face of\n\t\t\t\t\t\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\n\t\t\t\t\t\t// sampling a textureCube (not generally normalized ).\n\t\t\t\t\t\tfloat getFace( vec3 direction ) {\n\t\t\t\t\t\t\tvec3 absDirection = abs( direction );\n\t\t\t\t\t\t\tfloat face = - 1.0;\n\t\t\t\t\t\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\t\t\t\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn face;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// RH coordinate system; PMREM face-indexing convention\n\t\t\t\t\t\tvec2 getUV( vec3 direction, float face ) {\n\t\t\t\t\t\t\tvec2 uv;\n\t\t\t\t\t\t\tif ( face == 0.0 ) {\n\t\t\t\t\t\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x ); // pos x\n\t\t\t\t\t\t\t} else if ( face == 1.0 ) {\n\t\t\t\t\t\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y ); // pos y\n\t\t\t\t\t\t\t} else if ( face == 2.0 ) {\n\t\t\t\t\t\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z ); // pos z\n\t\t\t\t\t\t\t} else if ( face == 3.0 ) {\n\t\t\t\t\t\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x ); // neg x\n\t\t\t\t\t\t\t} else if ( face == 4.0 ) {\n\t\t\t\t\t\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y ); // neg y\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z ); // neg z\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0.5 * ( uv + 1.0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 bilinearCubeUV( sampler2D environmentMap, vec3 direction, float mipInt ) {\n\t\t\t\t\t\t\tfloat face = getFace( direction );\n\t\t\t\t\t\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\t\t\t\t\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\t\t\t\t\t\tfloat faceSize = exp2( mipInt );\n\t\t\t\t\t\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\t\t\t\t\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\t\t\t\t\t\tvec2 f = fract( uv );\n\t\t\t\t\t\t\tuv += 0.5 - f;\n\t\t\t\t\t\t\tif ( face > 2.0 ) {\n\t\t\t\t\t\t\t\tuv.y += faceSize;\n\t\t\t\t\t\t\t\tface -= 3.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuv.x += face * faceSize;\n\t\t\t\t\t\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\t\t\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\t\t\t\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\t\t\t\t\t\tuv *= texelSize;\n\t\t\t\t\t\t\tvec3 tl = texture2D( environmentMap, uv ).rgb;\n\t\t\t\t\t\t\tuv.x += texelSize;\n\t\t\t\t\t\t\tvec3 tr = texture2D( environmentMap, uv ).rgb;\n\t\t\t\t\t\t\tuv.y += texelSize;\n\t\t\t\t\t\t\tvec3 br = texture2D( environmentMap, uv ).rgb;\n\t\t\t\t\t\t\tuv.x -= texelSize;\n\t\t\t\t\t\t\tvec3 bl = texture2D( environmentMap, uv ).rgb;\n\t\t\t\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\t\t\t\treturn mix( tm, bm, f.y );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#define r0 1.0\n\t\t\t\t\t\t#define v0 0.339\n\t\t\t\t\t\t#define m0 - 2.0\n\t\t\t\t\t\t#define r1 0.8\n\t\t\t\t\t\t#define v1 0.276\n\t\t\t\t\t\t#define m1 - 1.0\n\t\t\t\t\t\t#define r4 0.4\n\t\t\t\t\t\t#define v4 0.046\n\t\t\t\t\t\t#define m4 2.0\n\t\t\t\t\t\t#define r5 0.305\n\t\t\t\t\t\t#define v5 0.016\n\t\t\t\t\t\t#define m5 3.0\n\t\t\t\t\t\t#define r6 0.21\n\t\t\t\t\t\t#define v6 0.0038\n\t\t\t\t\t\t#define m6 4.0\n\t\t\t\t\t\tfloat roughnessToMip( float roughness ) {\n\t\t\t\t\t\t\tfloat mip = 0.0;\n\t\t\t\t\t\t\tif ( roughness >= r1 ) {\n\t\t\t\t\t\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t\t\t\t\t\t} else if ( roughness >= r4 ) {\n\t\t\t\t\t\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t\t\t\t\t\t} else if ( roughness >= r5 ) {\n\t\t\t\t\t\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t\t\t\t\t\t} else if ( roughness >= r6 ) {\n\t\t\t\t\t\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmip = - 2.0 * log2( 1.16 * roughness ); // 1.16 = 1.79^0.25\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn mip;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec4 textureCubeUV( sampler2D environmentMap, vec3 sampleDir, float roughness ) {\n\t\t\t\t\t\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\t\t\t\t\t\tfloat mipF = fract( mip );\n\t\t\t\t\t\t\tfloat mipInt = floor( mip );\n\t\t\t\t\t\t\tvec3 color0 = bilinearCubeUV( environmentMap, sampleDir, mipInt );\n\t\t\t\t\t\t\tif ( mipF == 0.0 ) {\n\t\t\t\t\t\t\t\treturn vec4( color0, 1.0 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 color1 = bilinearCubeUV( environmentMap, sampleDir, mipInt + 1.0 );\n\t\t\t\t\t\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef dynEnvMap\n\t\t\t\t\t\t// Converts an XY in cylindrical space to a face (z) with coordinates within that face (xy).\n\t\t\t\t\t\tvec3 xyzToUvFace(vec3 xyz, float pixelSize) {\n\t\t\t\t\t\t\t// Figure out which basis we're using.\n\t\t\t\t\t\t\tvec3 basis[3];\n\t\t\t\t\t\t\tfloat face;\n\t\t\t\t\t\t\tif (xyz.x * xyz.x >= xyz.y * xyz.y && xyz.x * xyz.x >= xyz.z * xyz.z) {\n\t\t\t\t\t\t\t\tif (xyz.x >= 0.0) {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(1, 0, 0);\n\t\t\t\t\t\t\t\t\tface = 0.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(0, -1, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(-1, 0, 0);\n\t\t\t\t\t\t\t\t\tface = 2.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyz.y * xyz.y >= xyz.x * xyz.x && xyz.y * xyz.y >= xyz.z * xyz.z) {\n\t\t\t\t\t\t\t\tif (xyz.y >= 0.0) {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(-1, 0, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(0, 1, 0);\n\t\t\t\t\t\t\t\t\tface = 1.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(1, 0, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(0, -1, 0);\n\t\t\t\t\t\t\t\t\tface = 3.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (xyz.z >= 0.0) {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(-1, 0, 0); basis[2] = vec3(0, 0, 1);\n\t\t\t\t\t\t\t\t\tface = 4.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(1, 0, 0); basis[2] = vec3(0, 0, -1);\n\t\t\t\t\t\t\t\t\tface = 5.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Convert into the uv basis from the xyz basis.\n\t\t\t\t\t\t\tfloat z = basis[2].x * xyz.x + basis[2].y * xyz.y + basis[2].z * xyz.z;\n\t\t\t\t\t\t\tif (z < 0.0) {\n\t\t\t\t\t\t\t\tz = 1.0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvec2 uv = vec2(\n\t\t\t\t\t\t\t\t(basis[0].x * xyz.x + basis[0].y * xyz.y + basis[0].z * xyz.z) / z,\n\t\t\t\t\t\t\t\t(basis[1].x * xyz.x + basis[1].y * xyz.y + basis[1].z * xyz.z) / z);\n\n\t\t\t\t\t\t\t// Convert from -1 to +1, to 0 to 1.\n\t\t\t\t\t\t\tuv = 0.5 * (uv + vec2(1.0));\n\n\t\t\t\t\t\t\t// Convert to pixel-space.\n\t\t\t\t\t\t\tuv *= pixelSize;\n\n\t\t\t\t\t\t\t// Shrink to ignore 1 pixel borders.\n\t\t\t\t\t\t\tuv.x = (pixelSize - 2.0) / pixelSize * uv.x + 1.0;\n\t\t\t\t\t\t\tuv.y = (pixelSize - 2.0) / pixelSize * uv.y + 1.0;\n\n\t\t\t\t\t\t\t// Convert back to unit-space.\n\t\t\t\t\t\t\tuv /= pixelSize;\n\n\t\t\t\t\t\t\treturn vec3(uv, face);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Gets the dynamic environmental lighting given the outward direction.\n\t\t\t\t\t\tvec3 getEnvLight(vec3 direction, float roughness) {\n\t\t\t\t\t\t\t// Get the mip levels.\n\t\t\t\t\t\t\tfloat mipLevel = pow(roughness, 0.25) * (log2(dynEnvFaceSize) - 2.0);\n\t\t\t\t\t\t\tfloat mipLevel0 = floor(mipLevel);\n\t\t\t\t\t\t\tfloat mipLevel1 = floor(mipLevel) + 1.0;\n\t\t\t\t\t\t\tfloat mipLevelU = mipLevel - mipLevel0;\n\t\t\t\t\t\t\tfloat mipSizeX0 = pow(2.0, -mipLevel0);\n\t\t\t\t\t\t\tfloat mipOffsetY0 = 1.0 - pow(2.0, -mipLevel0);\n\t\t\t\t\t\t\tfloat mipSizeX1 = pow(2.0, -mipLevel1);\n\t\t\t\t\t\t\tfloat mipOffsetY1 = 1.0 - pow(2.0, -mipLevel1);\n\t\t\t\t\t\t\t// Get UV within a mip of cube faces.\n\t\t\t\t\t\t\tvec3 uvFace0 = xyzToUvFace(direction, dynEnvFaceSize * mipSizeX0);\n\t\t\t\t\t\t\tvec3 uvFace1 = xyzToUvFace(direction, dynEnvFaceSize * mipSizeX1);\n\t\t\t\t\t\t\tvec2 faceOffset = vec2(mod(uvFace0.z, 3.0) / 3.0, floor(uvFace0.z / 3.0) / 2.0);\n\t\t\t\t\t\t\tvec2 uvInMip0 = vec2(faceOffset.x + uvFace0.x / 3.0, faceOffset.y + uvFace0.y / 2.0);\n\t\t\t\t\t\t\tvec2 uvInMip1 = vec2(faceOffset.x + uvFace1.x / 3.0, faceOffset.y + uvFace1.y / 2.0);\n\t\t\t\t\t\t\t// Get the UVs within the textures.\n\t\t\t\t\t\t\tvec2 uv0 = vec2(uvInMip0.x * mipSizeX0 * 0.75, 0.5 * uvInMip0.y * mipSizeX0 + mipOffsetY0);\n\t\t\t\t\t\t\tvec2 uv1 = vec2(uvInMip1.x * mipSizeX1 * 0.75, 0.5 * uvInMip1.y * mipSizeX1 + mipOffsetY1);\n\t\t\t\t\t\t\tvec3 color0 = texture2D(dynEnvTexture, uv0).rgb;\n\t\t\t\t\t\t\tvec3 color1 = texture2D(dynEnvTexture, uv1).rgb;\n\t\t\t\t\t\t\treturn mix(color0, color1, mipLevelU) * environmentIntensity * ((PI - 1.0) * roughness + 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvec3 getLightProbeIndirectRadiance( GeometricContext geometry, float blinnShininessExponent, int maxMIPLevel ) {\n\t\t\t\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t\t\t\t\t#if defined( envMap )\n\t\t\t\t\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\t\t\t\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t\t\t\t\t\tvec3 queryReflectVec = vec3( reflectVec.x, reflectVec.yz );\n\t\t\t\t\t\t\t#ifdef envIsCube\n\t\t\t\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envTexture, queryReflectVec, specularMIPLevel );\n\t\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = textureCube( envTexture, queryReflectVec, specularMIPLevel );\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t#elif defined( envIsCubeUV )\n\t\t\t\t\t\t\t\tvec4 envMapColor = textureCubeUV( envTexture, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tvec2 sampleUV;\n\t\t\t\t\t\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\t\t\t\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = texture2DLodEXT( envTexture, sampleUV, specularMIPLevel );\n\t\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = texture2D( envTexture, sampleUV, specularMIPLevel );\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\treturn envMapColor.rgb * environmentIntensity;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\treturn vec3(0, 0, 0);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t}\n\n\t\t\t\t\t// Given the directLight, accumulates onto the reflectedLight the irradiance as the BRDF function.\n\t\t\t\t\tvoid RE_Direct_Physical( IncidentLight directLight, GeometricContext geometry, PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getIncomingLight( directLight, geometry );\n\t\t\t\t\t\tirradiance *= PI;\n\t\t\t\t\t\tfloat clearCoatDHR = 0.0;\n\t\t\t\t\t\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\t\t\t\t\t\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\n\t\t\t\t\tvoid RE_IndirectDiffuse_Physical( vec3 irradiance, GeometricContext geometry, PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\n\t\t\t\t\tvoid RE_IndirectSpecular_Physical( vec3 radiance, vec3 irradiance, vec3 clearCoatRadiance, GeometricContext geometry, PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t\t\t\t\t\tfloat clearCoatDHR = 0.0;\n\t\t\t\t\t\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t\t\t\t\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t\t\t\t\t}\n\n\t\t\t\t\t#define RE_Direct RE_Direct_Physical\n\t\t\t\t\t#define Material_BlinnShininessExponent( material ) GGXRoughnessToBlinnExponent( material.specularRoughness )\n\t\t\t\t\t#define RE_IndirectDiffuse RE_IndirectDiffuse_Physical\n\t\t\t\t\t#define RE_IndirectSpecular RE_IndirectSpecular_Physical\n\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tvec4 diffuseColor = vec4( color, 1.0 );\n\t\t\t\t\t\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t\t\t\t\t\t#ifdef colorMap\n\t\t\t\t\t\t\tvec4 texelColor = texture2D(colorTexture, localUV);\n\t\t\t\t\t\t\tdiffuseColor *= texelColor;\n\t\t\t\t\t\t\topacity = texelColor.a;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// PBR variables\n\t\t\t\t\t\tfloat roughnessFactor;\n\t\t\t\t\t\tfloat metalnessFactor;\n\n\t\t\t\t\t\troughnessFactor = roughness;\n\t\t\t\t\t\t#ifdef roughnessMap\n\t\t\t\t\t\t\troughnessFactor *= texture2D( roughnessTexture, localUV ).g;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tmetalnessFactor = metalness;\n\t\t\t\t\t\t#ifdef metalnessMap\n\t\t\t\t\t\t\tmetalnessFactor *= texture2D( metalnessTexture, localUV ).b;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tPhysicalMaterial material;\n\t\t\t\t\t\tmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\n\t\t\t\t\t\tmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n\t\t\t\t\t\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n\t\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\t\tgeometry.viewDir = -normalize(cameraSpacePosition);\n\t\t\t\t\t\t#ifdef normalMap\n\t\t\t\t\t\t\tgeometry.normal = normalize((modelMatrix * vec4(getNormalFromMap(), 0.)).xyz);\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tgeometry.normal = modelNormal;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Env Light\n\t\t\t\t\t\tvec3 irradiance = ambientLightColor;\n\t\t\t\t\t\t#ifdef dynEnvMap\n\t\t\t\t\t\t\tirradiance += getEnvLight(geometry.normal, 1.0);\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\tvec3 radiance = ambientLightColor / 2.0;\n\t\t\t\t\t\t#ifdef dynEnvMap\n\t\t\t\t\t\t\tradiance += getEnvLight(reflect(-geometry.viewDir, geometry.normal), material.specularRoughness);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Add emissivity.\n\t\t\t\t\t\tvec3 totalEmissiveRadiance = emissiveColor;\n\t\t\t\t\t\t#ifdef emissiveMap\n\t\t\t\t\t\t\ttotalEmissiveRadiance *= texture2D(emissiveTexture, localUV).rgb;\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// Add direct radiance.\n\t\t\t\t\t\tvec3 totalDirectIrradiance = ambientLightColor / 2.0;\n\t\t\t\t\t\t#ifdef dynEnvMap\n\t\t\t\t\t\t\ttotalDirectIrradiance += getEnvLight(reflect(-geometry.viewDir, geometry.normal), material.specularRoughness);\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// For each light,\n\t\t\t\t\t\tfor (int i = 0; i < 5; i++) {\n\t\t\t\t\t\t\tif (i >= numLights) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\t\t\tdirectLight.color = lightColors[i];\n\t\t\t\t\t\t\tdirectLight.direction = -normalize(cameraSpacePosition - lightPositions[i]);\n\t\t\t\t\t\t\t#ifdef shadowEntities\n\t\t\t\t\t\t\t\tdirectLight.color = getLightColorFromShadowEntities(directLight.color, directLight.direction, lightPositions[i], lightRadii[i], geometry.normal);\n\t\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t\tRE_Direct(directLight, geometry, material, reflectedLight);\n\n\t\t\t\t\t\t\tradiance += getLightProbeIndirectRadiance(geometry, Material_BlinnShininessExponent(material), maxMipLevel);\n\t\t\t\t\t\t\tRE_IndirectDiffuse(irradiance, geometry, material, reflectedLight);\n\t\t\t\t\t\t\tRE_IndirectSpecular(radiance, irradiance, vec3(0.0), geometry, material, reflectedLight);\n\n\t\t\t\t\t\t\t// Modify env light by total incoming light.\n\t\t\t\t\t\t\ttotalDirectIrradiance += getIncomingLight(directLight, geometry);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multiply in the direct irradiance.\n\t\t\t\t\t\treflectedLight.indirectSpecular *= totalDirectIrradiance;\n\n\t\t\t\t\t\t// If there's ambience, remove the direct light components.\n\t\t\t\t\t\treflectedLight.directDiffuse *= vec3(1, 1, 1) - ambientLightColor;\n\t\t\t\t\t\treflectedLight.directSpecular *= vec3(1, 1, 1) - ambientLightColor;\n\n\t\t\t\t\t\t// Add the reflected light to the outgoing light.\n\t\t\t\t\t\tvec3 outgoingLight = totalEmissiveRadiance + reflectedLight.directDiffuse + reflectedLight.directSpecular + reflectedLight.indirectDiffuse + reflectedLight.indirectSpecular;\n\n\t\t\t\t\t\t// Set the frag color based on the total outgoing light.\n\t\t\t\t\t\tgl_FragColor = vec4( outgoingLight, opacity );\n\n\t\t\t\t\t\t// Gamma correction\n\t\t\t\t\t\tgl_FragColor = vec4( pow( abs(gl_FragColor.rgb), vec3( 1.0 / gammaCorrectionFactor ) ), gl_FragColor.a );\n\n\t\t\t\t\t\t// Convert to sRGB.\n\t\t\t\t\t\tgl_FragColor = LinearTosRGB(gl_FragColor);\n\n\t\t\t\t\t\t// Multiply the alphaMultiplier.\n\t\t\t\t\t\tgl_FragColor.a *= alphaMultiplier;\n\n\t\t\t\t\t\t${eh.Fragment}\n\t\t\t\t\t}`}));const t=ou._material.clone();for(let e=0;e<t.uniforms.shadowEntityPositions.value.length;e++)t.uniforms.shadowEntityPositions.value[e]=ou._material.uniforms.shadowEntityPositions.value[e].clone();for(let e=0;e<t.uniforms.shadowEntitySunsetColors.value.length;e++)t.uniforms.shadowEntitySunsetColors.value[e]=ou._material.uniforms.shadowEntitySunsetColors.value[e].clone();return du.setupLogDepthBuffering(t),pu.hasGLExtension("EXT_shader_texture_lod")&&(t.extensions.shaderTextureLOD=!0),t.extensions.derivatives=!0,t.needsUpdate=!0,t}}ou._material=null;class lu{static setLightSourceUniforms(t,e,i){const s=e.getScene(),n=vh.pool.get();let a=0;for(let r=0,o=s.getNumLightSources();r<Math.min(o,5);r++){const o=s.getLightSource(r);if(null!==o&&o!==e.getComponentByType("lightSource")){const e=o.getEntity().getCameraSpacePosition(i),s=1;n.mult(o.getColor(),s);const r=null===o.getEntity().getComponentByType("camera")?o.getEntity().getOcclusionRadius():-1;for(let i=0,s=t.length;i<s;i++)void 0!==t[i].uniforms.lightPositions&&(t[i].uniforms.lightPositions.value[a].set(e.x,e.y,e.z),t[i].uniforms.lightColors.value[a].set(n.r,n.g,n.b),t[i].uniforms.lightRadii.value[a]=r);a+=1}}for(let e=0,i=t.length;e<i;e++)void 0!==t[e].uniforms.numLights&&(t[e].uniforms.numLights.value=a);vh.pool.release(n)}static setUniforms(t,e,i,s,n,a){const r=i.getScene().getEngine().getTime(),o=i.getScene().getAmbientLightColor();lu.setLightSourceUniforms(t,i,e);for(let l=0,c=t.length;l<c;l++){const c=t[l],h=c.uniforms;if(c instanceof ko)void 0!==h.time&&(h.time.value=hh.wrap(r,0,3600));else{const n=i.getCameraSpacePosition(e);if(h.entityPos.value.set(n.x,n.y,n.z),h.ambientLightColor.value.setRGB(o.r,o.g,o.b),void 0!==s&&s.length>0){let t=0;for(let i=0;i<s.length;i++){const n=s[i].get();if(null!==n){const i=n.getCameraSpacePosition(e);h.shadowEntityPositions.value[t].set(i.x,i.y,i.z),h.shadowEntityRadii.value[t]=n.getOcclusionRadius();const s=n.get("atmosphere");if(null!==s){const e=s.getSunsetColor();h.shadowEntitySunsetColors.value[t].set(e.r,e.g,e.b),h.shadowEntitySunsetIntensity.value[t]=s.getSunsetIntensity()}else h.shadowEntitySunsetIntensity.value[t]=0;t+=1}else h.shadowEntityRadii.value[t]=0,h.shadowEntitySunsetIntensity.value[t]=0}h.numShadowEntities.value=t}if(t[l].defines.shadowRings){const t=i.get("rings");if(null!==t){const e=Vh.pool.get();i.getOrientation().getAxis(e,2),h.shadowRingsInnerRadius.value=t.getInnerRadius(),h.shadowRingsOuterRadius.value=t.getOuterRadius(),h.shadowRingsTexture.value=t.getTopTexture(),h.shadowRingsNormal.value.set(e.x,e.y,e.z),Vh.pool.release(e)}}}if(null===n||"loaded"!==n.getLoadState()||n.isExcludedFromCamera(e)||void 0===h.atmospherePosition)!0===c.defines.atmosphere&&(delete c.defines.atmosphere,c.needsUpdate=!0);else{const t=n.getSpheroid(),i=n.getEntity().getCameraSpacePosition(e),s=n.getEntity().getOrientation(),r=n.getColor(),o=n.getSunsetColor();h.atmospherePosition.value.set(i.x,i.y,i.z),h.atmosphereOrientation.value.set(s.x,s.y,s.z,s.w),null!==t?(h.atmosphereEquatorialRadius.value=t.getEquatorialRadius(),h.atmospherePolarRadius.value=t.getPolarRadius()):(h.atmosphereEquatorialRadius.value=0,h.atmospherePolarRadius.value=0),h.atmosphereDensity.value=n.getDensity(),h.atmosphereScaleHeight.value=n.getScaleHeight(),h.atmosphereEmissivity.value=n.getEmissivity(),h.atmosphereColor.value.set(r.r,r.g,r.b),h.atmosphereSunsetColor.value.set(o.r,o.g,o.b),h.atmosphereSunsetIntensity.value=n.getSunsetIntensity(),h.atmosphereGroundIsSpheroid.value=a?1:0,void 0===c.defines.atmosphere&&(c.defines.atmosphere=!0,c.needsUpdate=!0)}}}}lu.get=ru.get,lu.getPBR=ou.get;class cu{static fix(t){const e=pu.isWebGL2(),i=pu.hasFragDepth();let s="",n="";e?(s+="\n\t\t\t\t#define attribute in\n\t\t\t\t#define varying out\n\t\t\t\t#define texture2D texture\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision highp int;\n\t\t\t\t#define L_EXT_frag_depth true\n\t\t\t\t",n+="\n\t\t\t\t#define varying in\n\t\t\t\tout highp vec4 pc_fragColor;\n\t\t\t\t#define gl_FragColor pc_fragColor\n\t\t\t\t#define gl_FragDepthEXT gl_FragDepth\n\t\t\t\t#define texture2D texture\n\t\t\t\t#define textureCube texture\n\t\t\t\t#define texture2DProj textureProj\n\t\t\t\t#define texture2DLodEXT textureLod\n\t\t\t\t#define texture2DProjLodEXT textureProjLod\n\t\t\t\t#define textureCubeLodEXT textureLod\n\t\t\t\t#define texture2DGradEXT textureGrad\n\t\t\t\t#define texture2DProjGradEXT textureProjGrad\n\t\t\t\t#define textureCubeGradEXT textureGrad\n\t\t\t\t#define L_EXT_frag_depth true\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision highp int;\n\t\t\t\t",t.glslVersion=$t):(i&&(s+="\n\t\t\t\t\t#extension GL_EXT_frag_depth : enable\n\t\t\t\t\t#define L_EXT_frag_depth true\n\t\t\t\t\t",n+="\n\t\t\t\t\t#extension GL_EXT_frag_depth : enable\n\t\t\t\t\t#define L_EXT_frag_depth true\n\t\t\t\t\t"),s+="\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision highp int;\n\t\t\t\t",n+="\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision highp int;\n\t\t\t\t",t.glslVersion="100"),t.vertexShader=s+t.vertexShader,t.fragmentShader=n+t.fragmentShader}}class hu{constructor(t){this._component=t,this._relativeToEntityOrientation=!0,this._offsetArray=new Float32Array(0),this._colorArray=new Float32Array(0),this._scaleArray=new Float32Array(0),this._threeJsGeometry=null,this._threeJsMaterial=null,this._threeJsObject=null,this._threeJsGeometry=new Nl,this._threeJsGeometry.setAttribute("position",new hs(new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),3)),this._threeJsGeometry.setIndex(new hs(new Uint16Array([0,1,2,2,3,0]),1)),this._threeJsGeometry.setAttribute("offset",new ao(this._offsetArray,3)),this._threeJsGeometry.setAttribute("color",new ao(this._colorArray,4)),this._threeJsGeometry.setAttribute("scale",new ao(this._scaleArray,1)),this._threeJsMaterial=this._component.getEntity().getScene().getEngine().getMaterialManager().getPreloaded("sprite_particles"),this._threeJsObject=du.createMeshObjectGivenGeometry(t,this._threeJsMaterial,this._threeJsGeometry)}getThreeJsObject(){return this._threeJsObject}getThreeJsMaterial(){return this._threeJsMaterial}setParticleOffsets(t){this._setAttribute("offset",t,3)}setParticleColors(t){this._setAttribute("color",t,4)}setParticleScales(t){this._setAttribute("scale",t,1)}getRelativeToEntityOrientation(){return this._relativeToEntityOrientation}setRelativeToEntityOrientation(t){this._relativeToEntityOrientation=t}prepareForRender(t){du.setPositionToEntity(this._threeJsObject,this._component.getEntity(),t),this._relativeToEntityOrientation&&du.setOrientationToEntity(this._threeJsObject,this._component.getEntity())}_setAttribute(t,e,i){let s=this._threeJsGeometry.getAttribute(t);s instanceof ao&&s.count!==e.length/i&&(this._offsetArray=new Float32Array(e.length/i*3),this._colorArray=new Float32Array(e.length/i*4),this._scaleArray=new Float32Array(e.length/i*1),this._threeJsGeometry.instanceCount=e.length/i,this._threeJsGeometry.setAttribute("offset",new ao(this._offsetArray,3)),this._threeJsGeometry.setAttribute("color",new ao(this._colorArray,4)),this._threeJsGeometry.setAttribute("scale",new ao(this._scaleArray,1))),s=this._threeJsGeometry.getAttribute(t),s instanceof ao&&(s.copyArray(e),s.needsUpdate=!0)}}class uu{constructor(t){this._engine=t.getEntity().getScene().getEngine(),this._component=t,this._uniform=null,this._url="",this._sizes=[],this._currentSize=0,this._forcedSize=void 0,this._useCompression=!1,this._loadedPromise=Promise.resolve(),this._loading=!1}getUrl(){return this._url}setUrl(t){this._url=t,this._currentSize=0}getUniform(){return this._uniform}setUniform(t){this._uniform=t,this._currentSize=0}getSizes(){return this._sizes.slice()}setSizes(t){this._sizes=t.slice(),this._currentSize=0}getCurrentSize(){return this._currentSize}getForcedSize(){return this._forcedSize}setForcedSize(t){this._forcedSize=t}getUseCompression(){return this._useCompression}setUseCompression(t){this._useCompression=t,this._currentSize=0}getLoadedPromise(){return this._loadedPromise}update(){if(this._loading||null===this._uniform)return;if(""===this._url||0===this._sizes.length||"unloaded"===this._component.getLoadState()&&void 0===this._forcedSize)return void(null!==this._uniform.value&&(du.destroyTexture(this._uniform.value),this._uniform.value=null,this._currentSize=0));let t=this._sizes[0];t=void 0!==this._forcedSize?this._forcedSize:this._component.getEntity().getGreatestPixelSpaceExtentsRadius();let e=0;for(let i=0,s=this._sizes.length;i<s;i++){const n=this._sizes[i];i===s-1&&(e=i);const a=this._engine.getConfig().getValue("maxTextureSize");if(n>=t||"number"==typeof a&&n>=a&&void 0===this._forcedSize){e=i;break}}this._currentSize!==this._sizes[e]&&(this._currentSize=this._sizes[e],this._loadTexture(this._currentSize))}_loadTexture(t){const e=this._url.replace("$SIZE",t.toString());this._loading=!0,this._loadedPromise=du.loadTextureIntoUniform(this._component,this._uniform,e,!0,this._useCompression).then((()=>{this._loading=!1})).catch((t=>{throw Error(t)}))}}class du{static createGeometry(t,e){const i=new xs;if(e){let e=0;for(let i=0;i<t.length;i++)e+=t[i].dimensions;const s=new Br(new Float32Array(0),e);let n=0;for(let e=0;e<t.length;e++)i.setAttribute(t[e].name,new Vr(s,t[e].dimensions,n)),n+=t[e].dimensions}else for(let e=0;e<t.length;e++)i.setAttribute(t[e].name,new hs(new Float32Array(0),t[e].dimensions));return i.setIndex(new hs(new Uint16Array(0),1)),i}static setupObject(t,e){e.name=t+"."+Math.floor(1e4*Math.random()),e.matrixAutoUpdate=!1,e.frustumCulled=!1,e.visible=!1,t.getEntity().getScene().getThreeJsScene().add(e)}static createMeshObjectGivenGeometry(t,e,i){const s=new zs(i,e);return this.setupObject(t,s),s}static createMeshObject(t,e,i,s){const n=this.createGeometry(i,s);return this.createMeshObjectGivenGeometry(t,e,n)}static destroyGeometry(t){t.dispose()}static destroyObject(t){for(;t.children.length>0;)this.destroyObject(t.children[t.children.length-1]);null!==t.parent&&t.parent.remove(t),t instanceof zs&&this.destroyGeometry(t.geometry)}static destroyTexture(t){(t.source.data instanceof HTMLImageElement||t.source.data instanceof HTMLVideoElement)&&URL.revokeObjectURL(t.source.data.src),t.dispose()}static destroyMaterial(t,e){if(e){const e=t.uniforms;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const i=e[t].value;i instanceof Le&&this.destroyTexture(i)}}t.dispose()}static destroyRenderTarget(t){t.dispose()}static destroyAllObjectsAndMaterials(t){const e=t.getThreeJsObjects(),i=t.getThreeJsMaterials();for(let t=0;t<e.length;t++)this.destroyObject(e[t]);for(let t=0;t<i.length;t++)this.destroyMaterial(i[t],!0)}static setPosition(t,e){if(t)if(Array.isArray(t))for(let i=0,s=t.length;i<s;i++)t[i].position.set(e.x,e.y,e.z);else t.position.set(e.x,e.y,e.z)}static setPositionToEntity(t,e,i,s,n){if(!t)return;const a=e.getCameraSpacePosition(i);if(this._tempThreeJsVector3.set(a.x,a.y,a.z),s){const t=Vh.pool.get();n?t.rotate(e.getOrientation(),s):t.copy(s),this._tempThreeJsVector3.x+=t.x,this._tempThreeJsVector3.y+=t.y,this._tempThreeJsVector3.z+=t.z,Vh.pool.release(t)}if(Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e].position.copy(this._tempThreeJsVector3);else t.position.copy(this._tempThreeJsVector3)}static setScale(t,e){if(t)if(Array.isArray(t))for(let i=0,s=t.length;i<s;i++)"number"==typeof e?t[i].scale.set(e,e,e):t[i].scale.set(e.x,e.y,e.z);else"number"==typeof e?t.scale.set(e,e,e):t.scale.set(e.x,e.y,e.z)}static setOrientation(t,e){if(t)if(Yu._tempThreeJsQuaternion.set(e.x,e.y,e.z,e.w),Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e].setRotationFromQuaternion(Yu._tempThreeJsQuaternion);else t.setRotationFromQuaternion(Yu._tempThreeJsQuaternion)}static setOrientationToBillboard(t,e,i){if(!t)return;const s=Lh.pool.get(),n=Vh.pool.get(),a=Vh.pool.get();if(n.normalize(e.getCameraSpacePosition(i)),i.getEntity().getOrientation().getAxis(a,0),a.setNormalTo(n,a),s.setFromAxes(a,void 0,n),Yu._tempThreeJsQuaternion.set(s.x,s.y,s.z,s.w),Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e].setRotationFromQuaternion(Yu._tempThreeJsQuaternion);else t.setRotationFromQuaternion(Yu._tempThreeJsQuaternion);Lh.pool.release(s),Vh.pool.release(n),Vh.pool.release(a)}static setOrientationToEntity(t,e,i){if(!t)return;const s=e.getOrientation();if(void 0===i)Yu._tempThreeJsQuaternion.set(s.x,s.y,s.z,s.w);else{const t=Lh.pool.get();t.mult(s,i),Yu._tempThreeJsQuaternion.set(t.x,t.y,t.z,t.w),Lh.pool.release(t)}if(Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e].setRotationFromQuaternion(Yu._tempThreeJsQuaternion);else t.setRotationFromQuaternion(Yu._tempThreeJsQuaternion)}static useInDynEnvMap(t,e){e?t.layers.enable(1):t.layers.disable(1)}static setVertices(t,e,i){const s=t.getAttribute(e);s instanceof hs&&(s.array.length===i.length?(s.copyArray(i),s.needsUpdate=!0):t.setAttribute(e,new hs(i,t.getAttribute(e).itemSize)))}static setIndices(t,e){const i=t.getIndex();i.array.length===e.length?(i.copyArray(e),i.needsUpdate=!0):t.setIndex(new hs(e,1))}static computeTangents(t){t.computeTangents()}static setRenderOrder(t,e){t&&(t.renderOrder=e)}static setupLogDepthBuffering(t){pu.hasFragDepth()?(t.defines.L_EXT_frag_depth=!0,t.extensions.fragDepth=!0):delete t.defines.L_EXT_frag_depth,t.needsUpdate=!0}static loadTexture(t,e,i,s){const n=t.getEntity().getScene().getEngine(),a=s?n.getTextureLoaderCompressed():n.getTextureLoader();return new Promise(((s,n)=>{a.load(e,(t=>{s(t)}),void 0,(t=>{n(new Error(`Failed to load ${e}: ${t}`))}),-t.getEntity().getLeastCameraDepth(),i)}))}static loadTextureFromCanvas(t){const e=new Do(t);return e.magFilter=yt,e.minFilter=yt,e.flipY=!1,e.needsUpdate=!0,e}static async loadTextureIntoUniform(t,e,i,s,n){const a=await this.loadTexture(t,i,s,n);e.value&&du.destroyTexture(e.value),e.value=a}static setOverlay(t,e){t&&(t.depthFunc=e?1:3)}static setTransparent(t,e){t&&(t.transparent=e,t.depthWrite=!e)}static setBlending(t,e){if(t){switch(e){case"normal":t.blending=1;break;case"additive":t.blending=2;break;case"subtractive":t.blending=3;break;case"multiply":t.blending=4;break;case"custom":t.blending=5;break;default:t.blending=0}t.needsUpdate=!0}}static setDefine(t,e,i){i&&!t.defines[e]?(t.defines[e]=!0,t.needsUpdate=!0):i||!0!==t.defines[e]||(delete t.defines[e],t.needsUpdate=!0)}static setUniformNumber(t,e,i){t&&(t.uniforms[e].value=i)}static setUniformVector2(t,e,i){t&&t.uniforms[e].value.set(i.x,i.y)}static setUniformVector3(t,e,i){t&&t.uniforms[e].value.set(i.x,i.y,i.z)}static setUniformColorRGB(t,e,i){t&&t.uniforms[e].value.set(i.r,i.g,i.b)}static setUniformColorRGBA(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t&&t.uniforms[e].value.set(i.r,i.g,i.b,i.a*s)}static setUniformQuaternion(t,e,i){t&&t.uniforms[e].value.set(i.x,i.y,i.z,i.w)}static setUniformTexture(t,e,i){t&&(t.uniforms[e].value&&du.destroyTexture(t.uniforms[e].value),t.uniforms[e].value=i)}}du._tempThreeJsVector3=new ze;class pu{static isWebGL2(){return"undefined"!=typeof WebGL2RenderingContext&&gu instanceof WebGL2RenderingContext}static hasFragDepth(){return this.isWebGL2()||this.hasGLExtension("EXT_frag_depth")}static hasGLExtension(t){if(null===gu)return!1;let e=mu.get(t);return void 0===e&&(e=null!==gu.getExtension(t),mu.set(t,e)),e}static __getCompressedTextureExtension(){return _u}static __setContext(t){gu=t,fu.forEach(((t,e)=>{!0!==this.hasGLExtension("WEBGL_compressed_texture_"+e)&&!0!==this.hasGLExtension("WEBKIT_WEBGL_compressed_texture_"+e)||""===_u&&(_u=t)}))}}const mu=new Map;let gu=null,_u="";const fu=new Map([["astc","astc"],["s3tc","dxt"],["pvrtc","pvrtc"],["etc","etc2"],["etc1","etc1"]]);class yu{constructor(){this._valueMap=new Map,this._callbacksMap=new Map,this.setValue("maxTextureSize",512),this.setValue("useTextureCompression",!0),this.setValue("fontFamily","Arial"),this.setValue("fontSize",16),this.setValue("gammaCorrection",1)}getValue(t){return this._valueMap.get(t)}setValue(t,e){if(this._valueMap.get(t)!==e){this._valueMap.set(t,e);const i=this._callbacksMap.get(t);if(i)for(let s=0;s<i.length;s++)i[s](t,e)}}addEventListener(t,e){let i=this._callbacksMap.get(t);void 0===i&&(i=[],this._callbacksMap.set(t,i)),i.push(e)}removeEventListener(t,e){const i=this._callbacksMap.get(t);if(i)for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}}}class vu{constructor(t,e,i){this.url=t,this.actualUrl=e,this.progress=0,this.totalBytes=0,this.content=void 0,this.binary=i,this.mimeType="",this.status="downloading",this.errorMessage=""}}class bu{constructor(t,e,i){this.download=new vu(t,e,i),this.promise=null,this.resolve=null,this.progressCallbacks=[],this.request=null}}class xu{constructor(){this._replacements=new Map,this._currentDownloads=new Map,this._downloadQueue=[],this._maxCurrentDownloads=20}getReplacement(t){return this._replacements.get(t)}setReplacement(t,e){this._replacements.set(t,e)}cancel(t){const e=this.processUrl(t);if(this._currentDownloads.has(e)){const t=this._currentDownloads.get(e);void 0!==t&&null!==t.request&&t.request.abort()}else{const t=this._downloadQueue.findIndex((t=>{let[i,s]=t;return s.download.actualUrl===e}));if(-1!==t){const e=this._downloadQueue[t][1];e.download.content=void 0,e.download.status="cancelled",this._downloadQueue.splice(t,1),e.resolve(e.download)}}}processUrl(t){let e=t;for(const[t,i]of this._replacements)e=e.replace("$"+t,i);return e}download(t,e,i,s){const n=this.processUrl(t);let a=this._currentDownloads.get(n);if(void 0!==a&&null!==a.promise)return s&&a.progressCallbacks.push(s),a.promise;const r=this._downloadQueue.findIndex((t=>{let[e,i]=t;return i.download.actualUrl===n}));return-1!==r?(a=this._downloadQueue[r][1],s&&a.progressCallbacks.push(s),i>this._downloadQueue[r][0]&&(this._downloadQueue.splice(r,1),ph.add([i,a],this._downloadQueue,((t,e)=>t[0]>e[0]),((t,e)=>t[0]===e[0]))),a.promise):(a=new bu(t,n,e),a.promise=new Promise((t=>{a.resolve=t,ph.add([i,a],this._downloadQueue,((t,e)=>t[0]>e[0]),((t,e)=>t[0]===e[0])),this.checkDownloadQueue()})),a.promise)}doRequest(t){const e=new XMLHttpRequest;e.addEventListener("load",(()=>{200<=e.status&&e.status<=299?(t.download.content=e.response,t.download.mimeType=e.getResponseHeader("Content-Type"),t.download.status="completed"):(t.download.content=void 0,t.download.status="failed"),this._currentDownloads.delete(t.download.actualUrl),this.checkDownloadQueue(),t.resolve(t.download)})),e.addEventListener("progress",(e=>{t.download.progress=e.lengthComputable?e.loaded/e.total:0,t.download.totalBytes=e.lengthComputable?e.total:0;for(const e of t.progressCallbacks)e(t.download)})),e.addEventListener("abort",(()=>{t.download.content=void 0,t.download.status="cancelled",this._currentDownloads.delete(t.download.actualUrl),this.checkDownloadQueue(),t.resolve(t.download)})),e.addEventListener("error",(()=>{t.download.content=void 0,t.download.status="failed",t.download.errorMessage=e.statusText,this._currentDownloads.delete(t.download.actualUrl),this.checkDownloadQueue(),t.resolve(t.download)})),t.download.binary?e.responseType="arraybuffer":e.responseType="text",t.request=e,e.open("GET",t.download.actualUrl),e.send()}checkDownloadQueue(){if(this._currentDownloads.size<this._maxCurrentDownloads&&this._downloadQueue.length>0){const[t,e]=this._downloadQueue.shift();this._currentDownloads.set(e.download.actualUrl,e),this.doRequest(e)}}}class Su{constructor(t){if(!(t instanceof HTMLDivElement))throw new Error("The root div param is not an actual div element.");this._rootDiv=t,this._canvas=null,this._renderSize=new Fh,this._renderSize.freeze(),this._input=new Nu(this),this._config=new yu,this._downloader=new xu,this._textureLoader=null,this._textureLoaderCompressed=null,this._materialManager=null,this._scenes=new nh(this,new Map([["scene",Hu]])),this._viewports=new nh(this,new Map([["viewport",Wu]])),this._lastAppTime=Date.now(),this._realDeltaTime=0,this._fps=new lh,this._fpsLimit=Number.POSITIVE_INFINITY,this._time=0,this._timeRate=0,this._callbacks=[],this._callbacksToRemove=[],this._thisLoop=this._loop.bind(this),this._threeJsRenderer=null,this._viewportDiv=null,"relative"!==this._rootDiv.style.position&&"absolute"!==this._rootDiv.style.position&&(this._rootDiv.style.position="relative"),this._rootDiv.style.userSelect="none",this._rootDiv.style.webkitUserSelect="none",this._rootDiv.style.touchAction="none",this._canvas=document.createElement("canvas"),this._canvas.style.position="absolute",this._canvas.style.left="0px",this._canvas.style.top="0px",this._canvas.style.width="100%",this._canvas.style.height="100%",this._rootDiv.appendChild(this._canvas),this._viewportDiv=document.createElement("div"),this._viewportDiv.style.position="absolute",this._viewportDiv.style.left="0px",this._viewportDiv.style.top="0px",this._viewportDiv.style.width="100%",this._viewportDiv.style.height="100%",this._viewportDiv.style.overflow="hidden",this._rootDiv.appendChild(this._viewportDiv);try{this._threeJsRenderer=new zr({canvas:this._canvas,antialias:!0}),this._threeJsRenderer.setScissorTest(!0),this._threeJsRenderer.setPixelRatio(window.devicePixelRatio),this._textureLoader=new Vu(this._downloader,this._threeJsRenderer),this._textureLoaderCompressed=new qu(this._downloader,this._config,this._threeJsRenderer),al.enabled=!1;const t=this._threeJsRenderer.getContext().getShaderInfoLog.bind(this._threeJsRenderer.getContext());this._threeJsRenderer.getContext().getShaderInfoLog=e=>{const i=t(e);return i.includes("GL_ARB_gpu_shader5")?"":i},pu.__setContext(this._threeJsRenderer.getContext()),this._materialManager=new Bu(this._downloader)}catch(t){throw console.log(t),t}requestAnimationFrame(this._thisLoop)}getVersion(){return Ju}getRootDiv(){return this._rootDiv}getRenderSize(){return this._renderSize}getCanvas(){return this._canvas}getViewportDiv(){return this._viewportDiv}getConfig(){return this._config}getInput(){return this._input}getDownloader(){return this._downloader}getTextureLoader(){return this._textureLoader}getTextureLoaderCompressed(){return this._textureLoaderCompressed}getMaterialManager(){return this._materialManager}getScene(t){return this._scenes.get(t)}getNumScenes(){return this._scenes.size}addScene(t){return this._scenes.add("scene",t)}removeScene(t){this._scenes.remove(t)}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=this._scenes.get(t);return void 0===e||null===n?n:n.get(e,i,s)}getViewport(t){return this._viewports.get(t)}getNumViewports(){return this._viewports.size}addViewport(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._viewports.add("viewport",t)}removeViewport(t){this._viewports.remove(t)}getTime(){return this._time}setTime(t){this._time=t}getTimeRate(){return this._timeRate}setTimeRate(t){this._timeRate=t}getFPS(){return this._fps.getFPS()}getFPSLimit(){return this._fpsLimit}setFPSLimit(t){this._fpsLimit=t}getDeltaTime(){return this._realDeltaTime}isComponentTypeRegistered(t){return vp.Components.has(t)}registerComponentType(t,e){if(vp.Components.has(t))throw new Error("Already registered component type '"+t+"'.");vp.Components.set(t,e)}unregisterComponentType(t){vp.Components.delete(t)}isControllerTypeRegistered(t){return vp.Controllers.has(t)}registerControllerType(t,e){if(vp.Controllers.has(t))throw new Error("Already registered controller type '"+t+"'.");vp.Controllers.set(t,e)}unregisterControllerType(t){vp.Controllers.delete(t)}waitUntilNextFrame(){return new Promise((t=>{this.addCallback((()=>{t()}),!1)}))}addCallback(t,e){this._callbacks.push({callback:t,recurring:e})}removeCallback(t){this._callbacksToRemove.push(t)}__getThreeJsRenderer(){return this._threeJsRenderer}_loop(){try{const t=Date.now();if(this._realDeltaTime=(t-this._lastAppTime)/1e3,this._realDeltaTime<1/this._fpsLimit)return void requestAnimationFrame(this._thisLoop);this._lastAppTime=t,this._fps.update(this._realDeltaTime),this._time+=this._timeRate*this._realDeltaTime,this._renderSize.x===this._rootDiv.clientWidth&&this._renderSize.y===this._rootDiv.clientHeight||(this._renderSize.thaw(),this._renderSize.set(this._rootDiv.clientWidth,this._rootDiv.clientHeight),this._renderSize.freeze(),this._threeJsRenderer.setSize(this._renderSize.x,this._renderSize.y,!1));for(let t=0;t<this._scenes.size;t++)this._scenes.get(t).__update();for(let t=0;t<this._viewports.size;t++)this._viewports.get(t).__updateViewportVariables();for(let t=0;t<this._scenes.size;t++)this._scenes.get(t).__updateVisuals();this._threeJsRenderer.setViewport(0,0,this._renderSize.x,this._renderSize.y),this._threeJsRenderer.setScissor(0,0,this._renderSize.x,this._renderSize.y),this._threeJsRenderer.clear();for(let t=0;t<this._viewports.size;t++)this._viewports.get(t).__render();for(let t=0,e=this._callbacksToRemove.length;t<e;t++)for(let e=0,i=this._callbacks.length;e<i;e++)if(this._callbacks[e].callback===this._callbacksToRemove[t]){this._callbacks.splice(e,1);break}this._callbacksToRemove=[];for(let t=0;t<this._callbacks.length;t++)this._callbacks[t].callback(),this._callbacks[t].recurring||this._callbacksToRemove.push(this._callbacks[t].callback);this._input.__resetStatesForNextFrame()}catch(t){throw console.log(t),t}requestAnimationFrame(this._thisLoop)}}class Tu extends sh{constructor(t,e,i){super(t,e,i),this._enabled=!0,this._disabledByAncestor=!1,this._destroyed=!1,this._parent=null,this._lastParent=null,this._children=[],this._parentingTable=[],this._parentChangedCallbacks=[],this._childChangedCallbacks=[],this._state=new wu,this._lastState=new wu,this._cameraSpacePosition=new wh,this._normalSpacePosition=new wh,this._pixelSpacePosition=new wh,this._normalSpaceExtentsRadius=new wh,this._pixelSpaceExtentsRadius=new wh,this._greatestPixelSpaceExtentsRadius=0,this._cameraDepths=new wh,this._leastCameraDepth=Number.MAX_SAFE_INTEGER,this._components=new nh(this,vp.Components),this._controllers=new nh(this,vp.Controllers),this._occlusionRadius=0,this._extentsRadius=0,this._canOcclude=!0,this._positionCoverage=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._positionCoverage.freeze(),this._orientationCoverage=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._orientationCoverage.freeze(),this._isInPositionCoverage=!1,this._isInOrientationCoverage=!1}getScene(){return this.__getCollectionParent()}isEnabled(){return this._enabled&&!this._disabledByAncestor}isDisabledByAncestor(){return this._disabledByAncestor}setEnabled(t){this._enabled!==t&&(this._enabled=t,this._updateEnabled())}_updateEnabled(){for(let t=0;t<this._components.size;t++)this._components.get(t).__updateLoadState();for(let t=0,e=this._children.length;t<e;t++)this._children[t]._updateDisabledByAncestor()}_updateDisabledByAncestor(){let t=!1,e=this._parent;for(;null!==e;){if(!e._enabled||e._disabledByAncestor){t=!0;break}e=e._parent}this._disabledByAncestor!==t&&(this._disabledByAncestor=t,this._updateEnabled())}isDestroyed(){return this._destroyed}getPosition(){return this._state.position}setPosition(t){this._state.position.thaw(),this._state.position.copy(t),this._state.position.freeze()}getVelocity(){return this._state.velocity}setVelocity(t){this._state.velocity.thaw(),this._state.velocity.copy(t),this._state.velocity.freeze()}getOrientation(){return this._state.orientation}setOrientation(t){this._state.orientation.thaw(),this._state.orientation.copy(t),this._state.orientation.freeze()}getAngularVelocity(){return this._state.angularVelocity}setAngularVelocity(t){this._state.angularVelocity.thaw(),this._state.angularVelocity.copy(t),this._state.angularVelocity.freeze()}getLastPosition(){return this._lastState.position}getLastVelocity(){return this._lastState.velocity}getLastOrientation(){return this._lastState.orientation}getLastAngularVelocity(){return this._lastState.angularVelocity}getPositionRelativeToEntity(t,e,i,s){let n=this;if(t.copy(e),void 0===s){const e=this.getLowestCommonAncestor(i);if(null===e)return void t.copy(Vh.NaN);for(t.add(t,n.getPosition());n!==e;)n=n.getParent(),t.add(t,n.getPosition());if(null!==i)for(n=i,t.sub(t,n.getPosition());n!==e;)n=n.getParent(),t.sub(t,n.getPosition())}else{const e=this.getScene(),a=Vh.pool.get(),r=this.getLowestCommonAncestorAtTime(i,s);if(null!==r){for(n.getPositionAtTime(a,s),t.add(t,a);n!==r;){const i=n.getParentAtTime(s);if(n=e.getEntity(i),null===n)return void t.copy(Vh.NaN);n.getPositionAtTime(a,s),t.add(t,a)}if(null!==i)for(n=i,n.getPositionAtTime(a,s),t.sub(t,a);n!==r;){const i=n.getParentAtTime(s);if(n=e.getEntity(i),null===n)return void t.copy(Vh.NaN);n.getPositionAtTime(a,s),t.sub(t,a)}}else t.copy(Vh.NaN);Vh.pool.release(a)}}getVelocityRelativeToEntity(t,e,i,s){let n=this;if(t.copy(e),void 0===s){const e=this.getLowestCommonAncestor(i);if(null===e)return void t.copy(Vh.NaN);for(t.add(t,n.getVelocity());n!==e;)n=n.getParent(),t.add(t,n.getVelocity());if(null!==i)for(n=i,t.sub(t,n.getVelocity());n!==e;)n=n.getParent(),t.sub(t,n.getVelocity())}else{const e=this.getScene(),a=Vh.pool.get(),r=this.getLowestCommonAncestorAtTime(i,s);if(null!==r){for(n.getVelocityAtTime(a,s),t.add(t,a);n!==r;){const i=n.getParentAtTime(s);if(n=e.getEntity(i),null===n)return void t.copy(Vh.NaN);n.getVelocityAtTime(a,s),t.add(t,a)}if(null!==i)for(n=i,n.getVelocityAtTime(a,s),t.sub(t,a);n!==r;){const i=n.getParentAtTime(s);if(n=e.getEntity(i),null===n)return void t.copy(Vh.NaN);n.getVelocityAtTime(a,s),t.sub(t,a)}}else t.copy(Vh.NaN);Vh.pool.release(a)}}getPositionAtTime(t,e){if(this.isEnabled()){void 0===e||0===this._controllers.size?t.copy(this._state.position):t.set(Number.NaN,Number.NaN,Number.NaN);for(let i=0;i<this._controllers.size;i++){const s=this._controllers.get(i);s.hasModifiedState("position")&&s.getCoverage().contains(e)&&s.isEnabled()&&s.__updatePositionAtTime(t,e)}}else t.set(Number.NaN,Number.NaN,Number.NaN)}getVelocityAtTime(t,e){if(this.isEnabled()){void 0===e||0===this._controllers.size?t.copy(this._state.velocity):t.set(Number.NaN,Number.NaN,Number.NaN);for(let i=0;i<this._controllers.size;i++){const s=this._controllers.get(i);s.hasModifiedState("velocity")&&s.getCoverage().contains(e)&&s.isEnabled()&&s.__updateVelocityAtTime(t,e)}}else t.set(Number.NaN,Number.NaN,Number.NaN)}getOrientationAtTime(t,e){if(this.isEnabled()){void 0===e||0===this._controllers.size?t.copy(this._state.orientation):t.set(Number.NaN,Number.NaN,Number.NaN,Number.NaN);for(let i=0;i<this._controllers.size;i++){const s=this._controllers.get(i);s.hasModifiedState("orientation")&&s.getCoverage().contains(e)&&s.isEnabled()&&s.__updateOrientationAtTime(t,e)}}else t.set(Number.NaN,Number.NaN,Number.NaN,Number.NaN)}getOcclusionRadius(){return this._occlusionRadius}getExtentsRadius(){return this._extentsRadius}setOcclusionRadius(t){this._occlusionRadius=t}setExtentsRadius(t){this._extentsRadius=t}getPositionCoverage(){return this._positionCoverage}getOrientationCoverage(){return this._orientationCoverage}isInPositionCoverage(){return this._isInPositionCoverage}isInOrientationCoverage(){return this._isInOrientationCoverage}__updateLastState(){this._lastState.position.thaw(),this._lastState.position.copy(this._state.position),this._lastState.position.freeze(),this._lastState.velocity.thaw(),this._lastState.velocity.copy(this._state.velocity),this._lastState.velocity.freeze(),this._lastState.orientation.thaw(),this._lastState.orientation.copy(this._state.orientation),this._lastState.orientation.freeze(),this._lastState.angularVelocity.thaw(),this._lastState.angularVelocity.copy(this._state.angularVelocity),this._lastState.angularVelocity.freeze()}__updateCoverage(){this._positionCoverage.thaw(),this._orientationCoverage.thaw(),this._positionCoverage.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY),this._orientationCoverage.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY);let t=0,e=0;for(let i=0;i<this._controllers.size;i++){const s=this._controllers.get(i);s.isEnabled()&&(s.hasModifiedState("position")&&(this._positionCoverage.union(this._positionCoverage,s.getCoverage()),t++),s.hasModifiedState("orientation")&&(this._orientationCoverage.union(this._orientationCoverage,s.getCoverage()),e++))}if(0===t&&this._positionCoverage.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),0===e&&this._orientationCoverage.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._parentingTable.length>0){const t=this._parentingTable[0],e=this._parentingTable[this._parentingTable.length-1];this._positionCoverage.min=Math.max(this._positionCoverage.min,""!==t[1]?t[0]:Number.POSITIVE_INFINITY),this._positionCoverage.max=Math.min(this._positionCoverage.max,""!==e[1]?Number.POSITIVE_INFINITY:e[0])}this._positionCoverage.freeze(),this._orientationCoverage.freeze()}canOcclude(){return this._canOcclude}setCanOcclude(t){this._canOcclude=t}isOccludingPosition(t,e){if(!this._canOcclude||!this.isInPositionCoverage())return!1;const i=Math.min(this._occlusionRadius,this.getCameraSpacePosition(t).magnitude()),s=Ih.pool.get();Ah.getLineSphereIntersectionWithLineStartAtOrigin(s,e,this.getCameraSpacePosition(t),i);const n=s.min<s.max&&0<=s.min+s.max&&s.min+s.max<2;return Ih.pool.release(s),n}getParent(){return this._parent}getParentAtTime(t){const e=ph.getIndex(t,this._parentingTable,Iu);return e<this._parentingTable.length&&t===this._parentingTable[e][0]?this._parentingTable[e][1]:e>0?this._parentingTable[e-1][1]:this._parentingTable.length>0?"":null!==this._parent?this._parent.getName():""}setParent(t){if(t===this._parent)return;const e=Vh.pool.get();if(this.getPositionRelativeToEntity(e,Vh.Zero,t),e.isNaN()||this.setPosition(e),Vh.pool.release(e),null!==this._parent)for(let t=0;t<this._parent._children.length;t++)this._parent._children[t]===this&&this._parent._children.splice(t,1);const i=this._parent;this._parent=t,null!==this._parent&&this._parent._children.push(this),this._clearCameraReferences(),this._updateDisabledByAncestor();for(let t=0,e=this._parentChangedCallbacks.length;t<e;t++)this._parentChangedCallbacks[t](this,i,this._parent);if(null!==i)for(let t=0,e=i._childChangedCallbacks.length;t<e;t++)i._childChangedCallbacks[t](i,this,!1);if(null!==this._parent)for(let t=0,e=this._parent._childChangedCallbacks.length;t<e;t++)this._parent._childChangedCallbacks[t](this._parent,this,!0)}_clearCameraReferences(){this._cameraSpacePosition.clear(),this._normalSpacePosition.clear(),this._pixelSpacePosition.clear(),this._normalSpaceExtentsRadius.clear(),this._pixelSpaceExtentsRadius.clear(),this._cameraDepths.clear();for(let t=0,e=this._components.size;t<e;t++)this._components.get(t).__clearCameraDependentsBase();for(let t=0,e=this._children.length;t<e;t++)this._children[t]._clearCameraReferences()}getNumChildren(){return this._children.length}getChild(t){return this._children[t]}getLowestCommonAncestor(t){if(null===t)return null;let e=this,i=t,s=0,n=0;for(;null!==e.getParent();)s+=1,e=e.getParent();for(;null!==i.getParent();)n+=1,i=i.getParent();for(e=this,i=t;s>n;)s-=1,e=e.getParent();for(;n>s;)n-=1,i=i.getParent();for(;e!==i&&null!==e;)e=e.getParent(),i=i.getParent();return e}getLowestCommonAncestorAtTime(t,e){if(null===t)return null;let i=this,s=t,n=0,a=0;const r=this.getScene();for(;;){const t=i.getParentAtTime(e);if(""===t)break;const s=r.getEntity(t);if(null===s)return null;n+=1,i=s}for(;;){const t=s.getParentAtTime(e);if(""===t)break;const i=r.getEntity(t);if(null===i)return null;a+=1,s=i}for(i=this,s=t;n>a;){n-=1;const t=i.getParentAtTime(e),s=r.getEntity(t);if(null===s)return null;i=s}for(;a>n;){a-=1;const t=s.getParentAtTime(e),i=r.getEntity(t);if(null===i)return null;s=i}for(;i!==s&&null!==i;){const t=i.getParentAtTime(e),n=r.getEntity(t);if(null===n)return null;i=n;const a=s.getParentAtTime(e),o=r.getEntity(a);if(null===o)return null;s=o}return i}getNumParentingTableEntries(){return this._parentingTable.length}getParentingTableEntry(t){return this._parentingTable[t]}addParentingTableEntry(t,e){ph.add([t,e],this._parentingTable,Eu,Au),this.__updateCoverage()}removeParentingTableEntry(t){this._parentingTable.splice(t),this.__updateCoverage()}clearParentingTableEntries(){this._parentingTable=[],this.__updateCoverage()}addParentChangedCallback(t){this._parentChangedCallbacks.push(t)}removeParentChangedCallback(t){const e=this._parentChangedCallbacks.indexOf(t);-1!==e&&this._parentChangedCallbacks.splice(e,1)}addChildChangedCallback(t){this._childChangedCallbacks.push(t)}removeChildChangedCallback(t){const e=this._childChangedCallbacks.indexOf(t);-1!==e&&this._childChangedCallbacks.splice(e,1)}getNumComponents(){return this._components.size}getComponent(t){return this._components.get(t)}getComponentByType(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._components.getByType(t,e)}getComponentByClass(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._components.getByClass(t,e)}addComponent(t,e,i){return this._components.add(t,e,i)}addComponentByClass(t,e,i){return this._components.addByClass(t,e,i)}removeComponent(t){this._components.remove(t)}clearComponents(){this._components.clear()}getNumControllers(){return this._controllers.size}getController(t){return this._controllers.get(t)}getControllerByType(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._controllers.getByType(t,e)}getControllerByClass(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._controllers.getByClass(t,e)}addController(t,e,i){const s=this._controllers.add(t,e,i);return this.__updateCoverage(),s}addControllerByClass(t,e,i){return this._controllers.addByClass(t,e,i)}removeController(t){this._controllers.remove(t),this.__updateCoverage()}clearControllers(){this._controllers.clear(),this.__updateCoverage()}getCameraSpacePosition(t){const e=this._cameraSpacePosition.get(t);return void 0!==e?e:Vh.NaN}getNormalSpacePosition(t){const e=this._normalSpacePosition.get(t);return void 0!==e?e:Vh.NaN}getPixelSpacePosition(t){const e=this._pixelSpacePosition.get(t);return void 0!==e?e:Fh.NaN}getNormalSpaceOcclusionRadius(t){return 0!==this._extentsRadius?this.getNormalSpaceExtentsRadius(t)*this._occlusionRadius/this._extentsRadius:0}getNormalSpaceExtentsRadius(t){const e=this._normalSpaceExtentsRadius.get(t);return void 0!==e?e:Number.NaN}getPixelSpaceOcclusionRadius(t){return 0!==this._extentsRadius?this.getPixelSpaceExtentsRadius(t)*this._occlusionRadius/this._extentsRadius:0}getPixelSpaceExtentsRadius(t){const e=this._pixelSpaceExtentsRadius.get(t);return void 0!==e?e:Number.NaN}getGreatestPixelSpaceOcclusionRadius(){return 0!==this._extentsRadius?this.getGreatestPixelSpaceExtentsRadius()*this._occlusionRadius/this._extentsRadius:0}getGreatestPixelSpaceExtentsRadius(){return this._greatestPixelSpaceExtentsRadius}getLeastCameraDepth(){return this._leastCameraDepth}__setCameraDependentVariables(t,e,i){const s=t.getViewport();if(null===s)return;let n=this._cameraSpacePosition.get(t);void 0===n?(n=new Vh,this._cameraSpacePosition.set(t,n)):n.thaw(),n.copy(e),n.freeze();let a=this._normalSpacePosition.get(t);void 0===a?(a=new Vh,this._normalSpacePosition.set(t,a)):a.thaw(),t.getNormalSpacePositionFromCameraSpacePosition(a,n),a.freeze();let r=this._pixelSpacePosition.get(t);void 0===r?(r=new Fh,this._pixelSpacePosition.set(t,r)):r.thaw(),s.getPixelSpacePositionFromNormalSpacePosition(r,a),r.freeze();const o=t.getNormalSpaceRadiusFromRadius(this._extentsRadius,n.magnitude());this._normalSpaceExtentsRadius.set(t,o);const l=s.getPixelSpaceRadiusFromNormalSpaceRadius(o);this._pixelSpaceExtentsRadius.set(t,l),this._cameraDepths.set(t,i)}__removeCameraDependents(t){this._cameraSpacePosition.delete(t),this._normalSpacePosition.delete(t),this._pixelSpacePosition.delete(t),this._normalSpaceExtentsRadius.delete(t),this._pixelSpaceExtentsRadius.delete(t),this._cameraDepths.delete(t);for(let e=0;e<this._components.size;e++)this._components.get(e).__removeCameraDependentsBase(t)}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._components.getByType(t,e);return null!==i?i:this._controllers.getByType(t,e)}getLoadedPromise(){const t=[];if(this.isEnabled()){for(let e=0;e<this._controllers.size;e++)t.push(this._controllers.get(e).getLoadedPromise());for(let e=0;e<this._components.size;e++)t.push(this._components.get(e).getLoadedPromise())}return Promise.all(t).then()}toString(){return this.getName()}__destroy(){this._destroyed=!0,super.__destroy();for(let t=0;t<this._children.length;t++)this._children[t].setParent(null);null!==this._parent&&this.setParent(null),this._controllers.__destroy(),this._components.__destroy()}__updateParent(t){const e=this.getParentAtTime(t);if(""!==e){const t=this.getScene().getEntity(e);t!==this._parent&&this.setParent(t)}else null!==this._parent&&this.setParent(null);this._parent!==this._lastParent&&(this.getScene().getControllerDependencyGraph().needsSorting(),this._lastParent=this._parent)}__updateIsInCoverages(t){this._isInPositionCoverage=this._positionCoverage.contains(t),this._isInOrientationCoverage=this._orientationCoverage.contains(t);for(let t=0;t<this._components.size;t++)this._components.get(t).__updateLoadState()}__updateVisuals(){this._greatestPixelSpaceExtentsRadius=0;for(let t=0,e=this._pixelSpaceExtentsRadius.size;t<e;t++){const e=this._pixelSpaceExtentsRadius.getAt(t).value;this._greatestPixelSpaceExtentsRadius<e&&(this._greatestPixelSpaceExtentsRadius=e)}this._leastCameraDepth=Number.MAX_SAFE_INTEGER;for(let t=0,e=this._cameraDepths.size;t<e;t++){const e=this._cameraDepths.getAt(t).value;this._leastCameraDepth=Math.min(e,this._leastCameraDepth)}for(let t=0,e=this._components.size;t<e;t++){const e=this._components.get(t);e.isEnabled()&&e.__updateBase()}}__updateCameraVariables(t,e,i,s){if(this.isEnabled()){const n=Vh.pool.get();this===t.getEntity()?n.set(0,0,0):i?n.sub(e.getCameraSpacePosition(t),e.getPosition()):n.add(e.getCameraSpacePosition(t),this._state.position),this.__setCameraDependentVariables(t,n,s),this._canOcclude&&this.getPixelSpaceOcclusionRadius(t)>=1&&t.__addToOccludingEntities(this),Vh.pool.release(n);for(let e=0,i=this._components.size;e<i;e++){const i=this._components.get(e);i!==t&&i.isEnabled()&&i.__updateCameraVariablesBase(t)}}null===this._parent||!i&&this!==t.getEntity()||this._parent.__updateCameraVariables(t,this,!0,s+1);for(let i=0,n=this._children.length;i<n;i++){const n=this._children[i];n!==e&&n.__updateCameraVariables(t,this,!1,s+1)}}__prepareForRender(t){for(let e=0,i=this._components.size;e<i;e++){const i=this._components.get(e);"__render"in i||i.__prepareForRenderBase(t)}}}class wu{constructor(){this.position=new Vh(Number.NaN,Number.NaN,Number.NaN),this.position.freeze(),this.velocity=new Vh(Number.NaN,Number.NaN,Number.NaN),this.velocity.freeze(),this.orientation=new Lh(Number.NaN,Number.NaN,Number.NaN,Number.NaN),this.orientation.freeze(),this.angularVelocity=new Vh(Number.NaN,Number.NaN,Number.NaN),this.angularVelocity.freeze()}}function Eu(t,e){return t[0]<e[0]}function Au(t,e){return t[0]===e[0]}function Iu(t,e){return t[0]<e}class Mu extends sh{constructor(t,e,i){super(t,e,i),this._enabled=!0,this._destroyed=!1}getEntity(){return this.__getCollectionParent()}isDestroyed(){return this._destroyed}__destroy(){this._destroyed=!0,super.__destroy()}isEnabled(){return this._enabled}setEnabled(t){this._enabled=t}getLoadedPromise(){return Promise.resolve()}__update(){}}class Cu{constructor(){this.identifier=0,this.pressedPosition=new Fh,this.pressedTime=0,this.lastFramePosition=new Fh,this.thisFramePosition=new Fh}}class Nu{constructor(t){this._engine=t,this._activeViewport=null,this._draggedOffset=new Fh,this._draggedOffset.freeze(),this._zoomedOffset=0,this._rotatedOffset=0,this._shiftPressed=!1,this._keysPressed=new Set,this._modifierKeysPressed=new Set,this._maxSelectTime=.5,this._maxSelectDistance=5,this._cursorPosition=new Fh,this._selected=!1,this._selectedPosition=new Fh,this._selectedPosition.freeze(),this._touches=[],window.addEventListener("blur",(()=>{this._touches=[],this._keysPressed.clear(),this._modifierKeysPressed.clear(),this._shiftPressed=!1})),window.addEventListener("keydown",(t=>{t.target instanceof HTMLElement&&["INPUT","SELECT","TEXTAREA"].includes(t.target.tagName)||("Shift"===t.key?this._shiftPressed=!0:Pu.has(t.key)?(this._modifierKeysPressed.add(t.key.toLowerCase()),this._keysPressed.clear(),this._shiftPressed=!1):0===this._modifierKeysPressed.size&&this._keysPressed.add(t.key.toLowerCase()))})),window.addEventListener("keyup",(t=>{"Shift"===t.key?this._shiftPressed=!1:Pu.has(t.key)?this._modifierKeysPressed.delete(t.key.toLowerCase()):this._keysPressed.delete(t.key.toLowerCase())})),this._engine.getRootDiv().addEventListener("mousedown",(t=>{if(0===t.button&&(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),0===this._touches.length)){const e=this._engine.getRootDiv().getBoundingClientRect();let i=null;for(let t=0;t<this._touches.length;t++)0===this._touches[t].identifier&&(i=this._touches[t]);null===i&&(i=new Cu),i.identifier=0,i.pressedPosition.set(t.clientX-e.left,t.clientY-e.top),i.pressedTime=Date.now(),i.lastFramePosition.copy(i.pressedPosition),i.thisFramePosition.copy(i.pressedPosition),this._touches.push(i),this._updateActiveViewport()}})),window.addEventListener("mousemove",(t=>{const e=this._engine.getRootDiv().getBoundingClientRect();if(1===this._touches.length&&0===this._touches[0].identifier){const i=this._touches[0];i.thisFramePosition.set(t.clientX-e.left,t.clientY-e.top),this._draggedOffset.thaw(),this._draggedOffset.sub(i.thisFramePosition,i.lastFramePosition);const s=Math.max(Math.abs(i.thisFramePosition.x-i.pressedPosition.x),Math.abs(i.thisFramePosition.y-i.pressedPosition.y));(Date.now()-i.pressedTime)/1e3<=this._maxSelectTime&&s<=this._maxSelectDistance&&this._draggedOffset.set(0,0),this._draggedOffset.freeze()}this._touches.length<=1&&this._cursorPosition.set(t.clientX-e.left,t.clientY-e.top)})),window.addEventListener("mouseup",(t=>{if(0===t.button&&1===this._touches.length&&0===this._touches[0].identifier){const e=this._engine.getRootDiv().getBoundingClientRect(),i=this._touches[0];i.thisFramePosition.set(t.clientX-e.left,t.clientY-e.top);const s=Math.max(Math.abs(i.thisFramePosition.x-i.pressedPosition.x),Math.abs(i.thisFramePosition.y-i.pressedPosition.y));(Date.now()-i.pressedTime)/1e3<=this._maxSelectTime&&s<=this._maxSelectDistance&&(this._selected=!0,this._selectedPosition.thaw(),this._selectedPosition.copy(i.thisFramePosition),this._selectedPosition.freeze()),this._touches.splice(0,1)}})),this._engine.getRootDiv().addEventListener("wheel",(t=>{t.deltaY&&(this._zoomedOffset+=.1*t.deltaY),t.preventDefault()}),{passive:!1}),this._engine.getRootDiv().addEventListener("touchstart",(t=>{const e=this._engine.getRootDiv().getBoundingClientRect();for(let i=0;i<t.changedTouches.length;i++){const s=t.changedTouches[i];let n=null;for(let t=0;t<this._touches.length;t++)this._touches[t].identifier===s.identifier&&(n=this._touches[t]);null===n&&(n=new Cu),n.identifier=s.identifier,n.pressedPosition.thaw(),n.pressedPosition.set(s.pageX-window.pageXOffset-e.left,s.pageY-window.pageYOffset-e.top),n.pressedPosition.freeze(),n.pressedTime=Date.now(),n.lastFramePosition.copy(n.pressedPosition),n.thisFramePosition.copy(n.pressedPosition),this._touches.push(n),1===this._touches.length&&this._cursorPosition.copy(n.thisFramePosition),this._updateActiveViewport()}}),{passive:!1}),window.addEventListener("touchmove",(t=>{const e=this._engine.getRootDiv().getBoundingClientRect();for(let i=0;i<t.changedTouches.length;i++){const s=t.changedTouches[i];for(let t=0;t<this._touches.length;t++){const n=this._touches[t];if(n.identifier===s.identifier)if(n.thisFramePosition.set(s.pageX-window.pageXOffset-e.left,s.pageY-window.pageYOffset-e.top),1===this._touches.length){this._draggedOffset.thaw(),this._draggedOffset.sub(n.thisFramePosition,n.lastFramePosition);const t=Math.max(Math.abs(n.thisFramePosition.x-n.pressedPosition.x),Math.abs(n.thisFramePosition.y-n.pressedPosition.y));(Date.now()-n.pressedTime)/1e3<=this._maxSelectTime&&t<=this._maxSelectDistance&&this._draggedOffset.set(0,0),this._draggedOffset.freeze(),this._cursorPosition.copy(n.thisFramePosition)}else if(2===this._touches.length){const t=Fh.pool.get();t.sub(this._touches[i].thisFramePosition,this._touches[1-i].thisFramePosition);const e=Fh.pool.get();e.sub(this._touches[i].thisFramePosition,this._touches[i].lastFramePosition);const s=e.dot(t)/t.magnitude()/e.magnitude(),a=e.cross(t)/t.magnitude()/e.magnitude();s<-.7?this._zoomedOffset+=-(s+.7)*e.magnitude():s>.7?this._zoomedOffset+=-(s-.7)*e.magnitude():Math.abs(a)>.3&&(this._rotatedOffset+=a*e.magnitude()),Fh.pool.release(e),Fh.pool.release(t);const r=Math.max(Math.abs(n.thisFramePosition.x-n.pressedPosition.x),Math.abs(n.thisFramePosition.y-n.pressedPosition.y));(Date.now()-n.pressedTime)/1e3<=this._maxSelectTime&&r<=this._maxSelectDistance&&(this._zoomedOffset=0,this._rotatedOffset=0)}}}})),window.addEventListener("touchend",(t=>{const e=this._engine.getRootDiv().getBoundingClientRect();for(let i=0;i<t.changedTouches.length;i++){const s=t.changedTouches[i];for(let t=0;t<this._touches.length;t++){const i=this._touches[t];if(i.identifier===s.identifier){if(i.thisFramePosition.set(s.pageX-window.pageXOffset-e.left,s.pageY-window.pageYOffset-e.top),1===this._touches.length){const t=Math.max(Math.abs(i.thisFramePosition.x-i.pressedPosition.x),Math.abs(i.thisFramePosition.y-i.pressedPosition.y));(Date.now()-i.pressedTime)/1e3<=this._maxSelectTime&&t<=this._maxSelectDistance&&(this._selected=!0,this._selectedPosition.thaw(),this._selectedPosition.copy(i.thisFramePosition),this._selectedPosition.freeze())}this._touches.splice(t,1)}}}})),window.addEventListener("touchcancel",(()=>{}))}getActiveViewport(){return this._activeViewport}getDraggedOffset(){return this._draggedOffset}getZoomedOffset(){return this._zoomedOffset}getRotatedOffset(){return this._rotatedOffset}isShiftPressed(){return this._shiftPressed}isKeyPressed(t){return this._keysPressed.has(t)}isSelected(){return this._selected}getSelectedPosition(){return this._selectedPosition}getCursorPosition(){return this._cursorPosition}__setActiveViewport(t){this._activeViewport=t}__resetStatesForNextFrame(){for(let t=0;t<this._touches.length;t++)this._touches[t].lastFramePosition.copy(this._touches[t].thisFramePosition);this._selected=!1,this._altSelected=!1,this._draggedOffset.thaw(),this._draggedOffset.set(0,0),this._draggedOffset.freeze(),this._zoomedOffset=0,this._rotatedOffset=0}_updateActiveViewport(){this._activeViewport=null;for(let t=this._engine.getNumViewports()-1;t>=0;t--){const e=this._engine.getViewport(t).getBounds();if(this._engine.getViewport(t).isEnabled()&&e.contains(this._touches[0].pressedPosition)){this._activeViewport=this._engine.getViewport(t);break}}}}const Pu=new Set(["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","ScrollLock","Shift","Super","Symbol","SymbolLock"]),Ru={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",color:"vec4",...eh.Uniforms},properties:{},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\tattribute vec3 position;\n\t\tuniform mat4 modelViewMatrix;\n\t\tuniform mat4 projectionMatrix;\n\n\t\t${eh.VertexHead}\n\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n\t\t\t${eh.Vertex}\n\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform vec4 color;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = color;\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},Lu={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",color:"vec4",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"normal"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform vec4 color;\n\n\t\t\t${eh.FragmentHead}\n\t\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = color;\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},Ou={uniforms:{projectionMatrix:"highp mat4",vAxis:"vec3",color:"vec4",colorTexture:"sampler2D",width1:"float",width2:"float",textureYOffset:"float",repeatAmount:"float",...eh.Uniforms},properties:{side:"double",transparent:!0,depthWrite:!1,blending:"normal"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\n\t\t\tuniform mat4 modelMatrix;\n\t\t\tuniform mat4 viewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tuniform vec3 vAxis;\n\t\t\tuniform float width1;\n\t\t\tuniform float width2;\n\n\t\t\tvarying vec2 vPosition;\n\t\t\tvarying float vU;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\n\t\t\t\t// Get the horizontal axis.\n\t\t\t\tfloat width = mix(width1, width2, position.z);\n\t\t\t\tvec3 viewVAxis = (viewMatrix * vec4(vAxis, 0)).xyz;\n\t\t\t\tvec2 viewHAxisXZ = normalize(cross(vec3(0, 1, 0), viewVAxis)).xz;\n\t\t\t\tvec4 viewHAxis = vec4(viewHAxisXZ.x, 0, viewHAxisXZ.y, 0);\n\n\t\t\t\t// Get the view position.\n\t\t\t\tvec4 modelPosition = modelMatrix * vec4(0, 0, 0, 1) + vec4(vAxis, 0) * position.z;\n\t\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\n\t\t\t\t// Set the final projected position.\n\t\t\t\tgl_Position = projectionMatrix * viewPosition + projectionMatrix * viewHAxis * width * position.x;\n\n\t\t\t\t// Setup a vPosition and vU for use in the fragment shader.\n\t\t\t\tvPosition = vec2(0.5 * (position.x + 1.0), position.z);\n\t\t\t\t#ifdef PIXEL_BASED\n\t\t\t\t\tvPosition.y *= abs(gl_Position.w);\n\t\t\t\t#endif\n\t\t\t\tvU = position.z;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform vec4 color;\n\t\t\tuniform sampler2D colorTexture;\n\t\t\tuniform float width1;\n\t\t\tuniform float width2;\n\t\t\tuniform float textureYOffset;\n\t\t\tuniform float repeatAmount;\n\n\t\t\tvarying vec2 vPosition;\n\t\t\tvarying float vU;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tvoid main() {\n\n\t\t\t\t// If we're using pixel-based, we need to undo the perspective divide that happened.\n\t\t\t\t#ifdef PIXEL_BASED\n\t\t\t\t\tvec2 uv = vec2(vPosition.x, vPosition.y * gl_FragCoord.w);\n\t\t\t\t#else\n\t\t\t\t\tvec2 uv = vPosition;\n\t\t\t\t#endif\n\n\t\t\t\t// Get a correct use that uses the repeat amount and y offset.\n\t\t\t\t// There's a complicated formula, because the widths may be different and the shape of the sprite may be a trapezoid.\n\t\t\t\tfloat f = width2 * vU / (width1 * (1.0 - vU) + width2 * vU);\n\t\t\t\tfloat uFactor = step(vU, uv.x);\n\t\t\t\tuv.x = (1.0 - uFactor) * uv.x * f / vU + uFactor * (1.0 + (uv.x - 1.0) * (1.0 - f) / (1.0 - vU));\n\t\t\t\tuv.y = uv.y * repeatAmount + textureYOffset;\n\n\t\t\t\t// Apply the texture and color.\n\t\t\t\tgl_FragColor = color * texture2D(colorTexture, uv);\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}`}},Du={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",viewportSize:"vec2",alphaMultiplier:"float",dashLength:"float",dashGapLength:"float",glowWidth:"float",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"additive"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec3 positionPrev;\n\t\t\tattribute vec3 positionNext;\n\t\t\tattribute vec4 color;\n\t\t\tattribute float width;\n\t\t\tattribute float dashOffset;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\t\t\tuniform vec2 viewportSize;\n\t\t\tuniform float glowWidth;\n\n\t\t\tvarying vec4 fColor;\n\t\t\tvarying float fDashOffset;\n\t\t\tvarying float fWidth;\n\t\t\tvarying float fOffsetScalar;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\t\t\t\t// Get the line vertices into pixel space.\n\t\t\t\tvec4 view_center = modelViewMatrix * vec4(position, 1.0);\n\t\t\t\tvec4 view_prev = modelViewMatrix * vec4(positionPrev, 1.0);\n\t\t\t\tvec4 view_next = modelViewMatrix * vec4(positionNext, 1.0);\n\t\t\t\tvec4 projected_center = projectionMatrix * view_center;\n\t\t\t\tvec4 projected_prev = projectionMatrix * view_prev;\n\t\t\t\tvec4 projected_next = projectionMatrix * view_next;\n\t\t\t\tvec2 ndc_center = projected_center.xy / view_center.y;\n\t\t\t\tvec2 ndc_prev = projected_prev.xy / view_prev.y;\n\t\t\t\tvec2 ndc_next = projected_next.xy / view_next.y;\n\t\t\t\tvec2 pixel_center = (ndc_center.xy + 1.0) / 2.0 * viewportSize;\n\t\t\t\tvec2 pixel_prev = (ndc_prev.xy + 1.0) / 2.0 * viewportSize;\n\t\t\t\tvec2 pixel_next = (ndc_next.xy + 1.0) / 2.0 * viewportSize;\n\n\t\t\t\t// Get the offset of the part perpendicular to the lines.\n\t\t\t\tvec2 l0 = normalize(pixel_center - pixel_prev);\n\t\t\t\tvec2 l1 = normalize(pixel_next - pixel_center);\n\t\t\t\tfloat resolutionFactor = max(1.0, min(viewportSize.x, viewportSize.y) / 800.0);\n\t\t\t\tfloat offsetScalar = sign(width) * (abs(width) / 2.0 + glowWidth) * resolutionFactor;\n\t\t\t\tvec2 offset = vec2(offsetScalar, offsetScalar);\n\t\t\t\tif (pixel_center == pixel_prev) {\n\t\t\t\t\tif (pixel_center == pixel_next) {\n\t\t\t\t\t\toffset = vec2(0.0, 0.0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\toffset *= vec2(-l1.y, l1.x);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (pixel_center == pixel_next) {\n\t\t\t\t\toffset *= vec2(-l0.y, l0.x);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toffset *= normalize(vec2(-l0.y - l1.y, l0.x + l1.x));\n\t\t\t\t\toffset /= max(0.25, sqrt((1.0 + dot(l0, l1)) / 2.0));\n\t\t\t\t}\n\n\t\t\t\t// Re-add the perpendicular part to the center as the final vertex.\n\t\t\t\tndc_center = (pixel_center + offset) / viewportSize * 2.0 - 1.0;\n\t\t\t\tgl_Position = vec4(ndc_center * view_center.y, projected_center.z, projected_center.w);\n\n\t\t\t\t// Set the varyings.\n\t\t\t\tfColor = color;\n\t\t\t\tfDashOffset = dashOffset;\n\t\t\t\tfWidth = width;\n\t\t\t\tfOffsetScalar = offsetScalar;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform float alphaMultiplier;\n\t\t\tuniform float dashLength;\n\t\t\tuniform float dashGapLength;\n\t\t\tuniform float glowWidth;\n\n\t\t\tvarying vec4 fColor;\n\t\t\tvarying float fDashOffset;\n\t\t\tvarying float fWidth;\n\t\t\tvarying float fOffsetScalar;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tfloat line_dash_func() {\n\t\t\t\tfloat u = mod(fDashOffset, dashLength + dashGapLength);\n\t\t\t\treturn float(u < dashLength);\n\t\t\t}\n\n\t\t\tfloat edgeGlow() {\n\t\t\t\tif (glowWidth > 0.0) {\n\t\t\t\t\tfloat value = clamp((fWidth / 2.0 + glowWidth - abs(fOffsetScalar)) / glowWidth, 0.0, 1.0);\n\t\t\t\t\tif (value < 1.0) {\n\t\t\t\t\t\tvalue *= 0.75;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\treturn 1.0;\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = fColor;\n\t\t\t\tgl_FragColor.a *= alphaMultiplier * edgeGlow() * line_dash_func();\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},ku={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",colorTexture:"sampler2D",colorMultiplier:"vec4",speed:"float",time:"float",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"normal"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvarying vec2 vUV;\n\n\t\t\tvoid main() {\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\t\tvUV = uv;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform sampler2D colorTexture;\n\t\t\tuniform vec4 colorMultiplier;\n\t\t\tuniform float speed;\n\t\t\tuniform float time;\n\t\t\tvarying vec2 vUV;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tvec2 v2_construct_func(float x, float y) {\n\t\t\t\treturn vec2(x, y);\n\t\t\t}\n\t\t\tfloat s_mult_func(float s1, float s2) {\n\t\t\t\treturn s1 * s2;\n\t\t\t}\n\t\t\tfloat s_mod_func(float s1, float s2) {\n\t\t\t\treturn mod(s1, s2);\n\t\t\t}\n\t\t\tvec2 v2s_mult_func(vec2 v, float s) {\n\t\t\t\treturn v * s;\n\t\t\t}\n\t\t\tvec2 v2_add_func(vec2 v1, vec2 v2) {\n\t\t\t\treturn v1 + v2;\n\t\t\t}\n\t\t\tvec4 texture_func(sampler2D tex, vec2 uv) {\n\t\t\t\treturn texture2D(tex, uv);\n\t\t\t}\n\t\t\tvec4 v4v4_mult_func(vec4 v1, vec4 v2) {\n\t\t\t\treturn v1 * v2;\n\t\t\t}\n\t\t\tfloat s_sub_func(float s1, float s2) {\n\t\t\t\treturn s1 - s2;\n\t\t\t}\n\t\t\tvec4 alpha_mult_func(vec4 color, float alpha) {\n\t\t\t\treturn vec4(color.rgb, color.a * alpha);\n\t\t\t}\n\t\t\tvoid main() {\n\t\t\t\tvec2 yAxis = v2_construct_func(0.0, 1.0);\n\t\t\t\tfloat yMultiplier = s_mult_func(time, speed);\n\t\t\t\tfloat yMultiplierMod = s_mod_func(yMultiplier, 1.0);\n\t\t\t\tvec2 uvOffset = v2s_mult_func(yAxis, yMultiplierMod);\n\t\t\t\tvec2 finalUV = v2_add_func(vUV, uvOffset);\n\t\t\t\tvec4 textureOffset = texture_func(colorTexture, finalUV);\n\t\t\t\tvec4 color = v4v4_mult_func(textureOffset, colorMultiplier);\n\t\t\t\tfloat fade = s_sub_func(1.0, vUV.y);\n\t\t\t\tvec4 color_with_fade = alpha_mult_func(color, fade);\n\t\t\t\tgl_FragColor = color_with_fade;\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},Fu={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",pixelBased:"float",color:"vec4",colorTexture:"sampler2D",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"normal"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\t\t\tuniform float pixelBased;\n\n\t\t\tvarying vec2 vUV;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\t\tif (pixelBased != 0.0) {\n\t\t\t\t\tgl_Position /= abs(gl_Position.w);\n\t\t\t\t}\n\t\t\t\tvUV = uv;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform vec4 color;\n\t\t\tuniform sampler2D colorTexture;\n\n\t\t\tvarying vec2 vUV;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D(colorTexture, vUV) * color;\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},Uu={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"additive"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec4 color;\n\t\t\tattribute vec3 offset;\n\t\t\tattribute float scale;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tvarying vec4 fColor;\n\t\t\tvarying vec2 fPosition;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 viewPosition = modelViewMatrix * vec4(offset, 1.0) + vec4(position.x, position.y, -1.0, 0.0) * scale;\n\t\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t\t\tfColor = color;\n\t\t\t\tfPosition = position.xy;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tvarying vec4 fColor;\n\t\t\tvarying vec2 fPosition;\n\n\t\t\t${eh.FragmentHead}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = fColor * (1.0 - length(fPosition));\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}},zu={uniforms:{modelViewMatrix:"mat4",projectionMatrix:"highp mat4",viewportSize:"vec2",alphaMultiplier:"float",dashLength:"float",dashGapLength:"float",glowWidth:"float",indexStart:"float",indexCount:"float",indexLength:"float",color:"vec4",alphaFade:"float",widthMin:"float",widthMax:"float",...eh.Uniforms},properties:{transparent:!0,depthWrite:!1,side:"double",blending:"additive"},vertex:{extensions:["EXT_frag_depth"],code:`\n\t\t\tattribute vec3 positionCurr;\n\t\t\tattribute vec3 positionPrev;\n\t\t\tattribute vec3 positionNext;\n\t\t\tattribute float side;\n\t\t\tattribute float index;\n\t\t\tattribute float dashOffset;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tuniform vec2 viewportSize;\n\t\t\tuniform float glowWidth;\n\t\t\tuniform float indexStart;\n\t\t\tuniform float indexCount;\n\t\t\tuniform float indexLength;\n\t\t\tuniform float widthMin;\n\t\t\tuniform float widthMax;\n\n\t\t\tvarying vec4 fColor;\n\t\t\tvarying float fDashOffset;\n\t\t\tvarying float fWidth;\n\t\t\tvarying float fOffsetScalar;\n\t\t\tvarying float fIndexU;\n\n\t\t\t${eh.VertexHead}\n\n\t\t\tvoid main() {\n\t\t\t\t// Get the width depending on the length.\n\t\t\t\tfloat indexU = mod(index - indexStart + indexLength, indexLength) / (indexCount - 1.0);\n\t\t\t\tfloat width = mix(widthMin, widthMax, indexU);\n\n\t\t\t\t// Get the line vertices into pixel space.\n\t\t\t\tvec4 viewCenter = modelViewMatrix * vec4(positionCurr, 1.0);\n\t\t\t\tvec4 viewPrev = modelViewMatrix * vec4(positionPrev, 1.0);\n\t\t\t\tvec4 viewNext = modelViewMatrix * vec4(positionNext, 1.0);\n\t\t\t\tvec4 projectedCenter = projectionMatrix * viewCenter;\n\t\t\t\tvec4 projected_prev = projectionMatrix * viewPrev;\n\t\t\t\tvec4 projected_next = projectionMatrix * viewNext;\n\t\t\t\tvec2 ndcCenter = projectedCenter.xy / viewCenter.y;\n\t\t\t\tvec2 ndcPrev = projected_prev.xy / viewPrev.y;\n\t\t\t\tvec2 ndcNext = projected_next.xy / viewNext.y;\n\t\t\t\tvec2 pixelCenter = (ndcCenter.xy + 1.0) / 2.0 * viewportSize;\n\t\t\t\tvec2 pixelPrev = (ndcPrev.xy + 1.0) / 2.0 * viewportSize;\n\t\t\t\tvec2 pixelNext = (ndcNext.xy + 1.0) / 2.0 * viewportSize;\n\n\t\t\t\t// Get the offset of the part perpendicular to the lines.\n\t\t\t\tvec2 l0 = normalize(pixelCenter - pixelPrev);\n\t\t\t\tvec2 l1 = normalize(pixelNext - pixelCenter);\n\t\t\t\tfloat resolutionFactor = max(1.0, min(viewportSize.x, viewportSize.y) / 800.0);\n\t\t\t\tfloat offsetScalar = side * (width / 2.0 + glowWidth) * resolutionFactor;\n\t\t\t\tvec2 offset = vec2(offsetScalar, offsetScalar);\n\t\t\t\tif (pixelCenter == pixelPrev) {\n\t\t\t\t\tif (pixelCenter == pixelNext) {\n\t\t\t\t\t\toffset = vec2(0.0, 0.0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\toffset *= vec2(-l1.y, l1.x);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (pixelCenter == pixelNext) {\n\t\t\t\t\toffset *= vec2(-l0.y, l0.x);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toffset *= normalize(vec2(-l0.y - l1.y, l0.x + l1.x));\n\t\t\t\t\toffset /= sqrt((1.0 + max(0.0, dot(l0, l1))) / 2.0);\n\t\t\t\t}\n\n\t\t\t\t// Re-add the perpendicular part to the center as the final vertex.\n\t\t\t\tndcCenter = (pixelCenter + offset) / viewportSize * 2.0 - 1.0;\n\t\t\t\tgl_Position = vec4(ndcCenter * viewCenter.y, projectedCenter.z, projectedCenter.w);\n\n\t\t\t\t// Set the varyings.\n\t\t\t\tfIndexU = indexU;\n\t\t\t\tfDashOffset = dashOffset;\n\t\t\t\tfWidth = width;\n\t\t\t\tfOffsetScalar = offsetScalar;\n\n\t\t\t\t${eh.Vertex}\n\t\t\t}\n\t\t\t`},fragment:{extensions:["EXT_frag_depth"],code:`\n\t\t\tprecision highp float;\n\n\t\t\tuniform vec4 color;\n\t\t\tuniform float alphaMultiplier;\n\t\t\tuniform float alphaFade;\n\t\t\tuniform float dashLength;\n\t\t\tuniform float dashGapLength;\n\t\t\tuniform float glowWidth;\n\n\t\t\tvarying float fIndexU;\n\t\t\tvarying float fDashOffset;\n\t\t\tvarying float fWidth;\n\t\t\tvarying float fOffsetScalar;\n\n\t\t\t${eh.FragmentHead}\n\t\n\t\t\tfloat lineDash() {\n\t\t\t\tfloat u = mod(fDashOffset, dashLength + dashGapLength);\n\t\t\t\treturn float(u < dashLength);\n\t\t\t}\n\n\t\t\tfloat edgeGlow() {\n\t\t\t\tif (glowWidth > 0.0) {\n\t\t\t\t\tfloat value = clamp((fWidth / 2.0 + glowWidth - abs(fOffsetScalar)) / glowWidth, 0.0, 1.0);\n\t\t\t\t\tif (value < 1.0) {\n\t\t\t\t\t\tvalue *= 0.75;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\treturn 1.0;\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = color;\n\t\t\t\tgl_FragColor.a *= alphaMultiplier * edgeGlow() * lineDash() * mix(alphaFade, 1.0, fIndexU);\n\n\t\t\t\t${eh.Fragment}\n\t\t\t}\n\t\t\t`}};class ju{constructor(t){this.value=t,this.useCount=0}}class Bu{constructor(t){this._downloader=t,this._cache=new Map,this._clonedMaterials=new Map,this._promises=new Map,this._preload()}async get(t,e){let i=this._cache.get(t);if(void 0===i){const e=this._promises.get(t);void 0!==e&&(i=await e)}if(void 0===i){const s=await this._downloader.download(t,!1,e);if("completed"!==s.status||"string"!=typeof s.content)throw new Error('Failed to download material "'+t+'".');const n=JSON.parse(s.content);i=new ju(await this._load(t,n)),this._cache.set(t,i)}return i.useCount+=1,this._clone(i.value,t)}getPreloaded(t){const e=this._cache.get(t);if(void 0===e)throw new Error('Invalid pre-loaded material "'+t+'".');return e.useCount+=1,this._clone(e.value,t)}release(t){const e=this._clonedMaterials.get(t);if(void 0===e)return;this._clonedMaterials.delete(t);const i=this._cache.get(e);i&&(i.useCount-=1,0===i.useCount&&(du.destroyMaterial(i.value,!0),this._cache.delete(e)))}_preload(){const t=new Map;t.set("basic",Ru),t.set("basic_alpha",Lu),t.set("connected_sprite",Ou),t.set("line",Du),t.set("plumes",ku),t.set("sprite",Fu),t.set("sprite_particles",Uu),t.set("trail",zu);for(const[e,i]of t){const t=this._load(e,i),s=new ju(t);s.useCount+=1,this._cache.set(e,s)}}_load(t,e){try{const t={};if(e.uniforms)for(const[i,s]of Object.entries(e.uniforms))["modelMatrix","modelViewMatrix","projectionMatrix","viewMatrix","normalMatrix","cameraPosition"].includes(i)||(t[i]=new ql(this._getUniformValueFromType(s)));let i=!1,s=!0,n=0,a=0;if(e.properties){switch(!0===e.properties.transparent&&(i=!0),!1===e.properties.depthWrite&&(s=!1),e.properties.side){case"front":n=0;break;case"back":n=1;break;case"double":n=2}switch(e.properties.blending){case"normal":a=1;break;case"additive":a=2;break;case"subtractive":a=3;break;case"multiply":a=4;break;case"custom":a=5}}if("object"!=typeof e.vertex||"string"!=typeof e.vertex.code)throw new Error("Missing vertex stage code.");if("object"!=typeof e.fragment||"string"!=typeof e.fragment.code)throw new Error("Missing fragment stage code.");if(Array.isArray(e.vertex.extensions)){let t="";for(const i of e.vertex.extensions)pu.hasGLExtension(i)&&(t+="#extension GL_"+i+": enable\n");for(const i of e.vertex.extensions)pu.hasGLExtension(i)&&(t+="#define L_"+i+" true\n"),pu.isWebGL2()&&"EXT_frag_depth"===i&&(t+="#define L_"+i+" true\n");e.vertex.code=t+e.vertex.code}if(Array.isArray(e.fragment.extensions)){let t="";for(const i of e.fragment.extensions)pu.hasGLExtension(i)&&(t+="#extension GL_"+i+": enable\n");for(const i of e.fragment.extensions)pu.hasGLExtension(i)&&(t+="#define L_"+i+" true\n");e.fragment.code=t+e.fragment.code}const r=new ko({uniforms:t,vertexShader:e.vertex.code,fragmentShader:e.fragment.code,transparent:i,depthWrite:s,side:n,blending:a,glslVersion:$t});return cu.fix(r),r.needsUpdate=!0,r}catch(e){throw e instanceof Error&&(e.message=`While processing material "${t}": ${e.message}`),e}}_getUniformValueFromType(t){switch(t=t.replace(/.* /,"")){case"int":case"float":return 0;case"ivec2":case"vec2":return new pe(0,0);case"ivec3":case"vec3":return new ze(0,0,0);case"ivec4":case"vec4":return new Oe(0,0,0,0);case"mat3":return new me;case"mat4":return new gi;case"sampler2D":case"samplerCube":return null}if(t.endsWith("]")){const e=t.indexOf("["),i=t.indexOf("]"),s=t.substring(0,e),n=Number.parseInt(t.substring(e+1,i)),a=[];for(let t=0;t<n;t++)a.push(this._getUniformValueFromType(s));return a}throw new Error("Unrecognized type: "+t+".")}_clone(t,e){const i=t.clone();for(const[e,i]of Object.entries(t.uniforms)){const s=i.value;if(Array.isArray(s)){const i=s[0];if(i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)){t.uniforms[e].value=[];for(let i=0;i<s.length;i++)t.uniforms[e].value[i]=s[i].clone()}}}return i.needsUpdate=!0,this._clonedMaterials.set(i,e),i}}class Hu extends sh{constructor(t,e,i){super(t,e,i),this._entities=new nh(this,new Map([["entity",Tu]])),this._controllerDependencyGraph=new ah,this._ambientLightColor=new vh(.02,.02,.02),this._ambientLightColor.freeze(),this._lightSources=[],this._threeJsScene=null,this._threeJsScene=new jr,this._controllerDependencyGraph.setUpdateItemCallback((t=>{t.getEntity().isEnabled()&&t.getCoverage().contains(t.getEntity().getScene().getEngine().getTime())&&t.isEnabled()&&t.__update()})),this._controllerDependencyGraph.setCompareItemCallback(((t,e)=>{if(t===e)return!1;if(!(t.getEntity().isEnabled()&&e.getEntity().isEnabled()&&t.isEnabled()&&e.isEnabled()))return!1;const i=t.getEntity().getScene().getEngine().getTime();if(!t.getCoverage().contains(i)||!e.getCoverage().contains(i))return!1;if(t.getEntity()===e.getEntity()){const i=t.getEntity();for(let s=0,n=i.getNumControllers();s<n;s++){const n=i.getController(s);if(e===n)return!0;if(t===n)break}}if(t.getEntity().getParent()===e.getEntity()){if(t.hasModifiedState("position")&&e.hasModifiedState("position")||t.hasModifiedState("velocity")&&e.hasModifiedState("velocity"))return!0;for(const i of e.__modifiedStates)if(t.hasDependentState("parent",i))return!0}for(const i of e.__modifiedStates)if(t.hasDependentState(e.getEntity().getName(),i))return!0;return!1}))}getEngine(){return this.__getCollectionParent()}getEntity(t){return this._entities.get(t)}getNumEntities(){return this._entities.size}addEntity(t){return this._entities.add("entity",t)}removeEntity(t){this._entities.remove(t)}moveEntity(t,e){const i=this._entities.get(t);this._entities.move(t,e._entities);for(let t=0,s=i.getNumControllers();t<s;t++)this._controllerDependencyGraph.removeItem(i.getController(t)),e._controllerDependencyGraph.addItem(i.getController(t));for(let t=0,e=i.getNumComponents();t<e;t++){const e=i.getComponent(t);if("lightSource"===e.getType()&&"loaded"===e.getLoadState())for(let t=0,s=this._lightSources.length;t<s;t++)if(this._lightSources[t].getEntityName()===i.getName()&&this._lightSources[t].getComponentTypeIndex()===e.getTypeIndex()){this.__removeLightSource(i.getName(),e.getTypeIndex()),this.__addLightSource(i.getName(),e.getTypeIndex());break}}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this._entities.get(t);return void 0===e||null===s?s:s.get(e,i)}getControllerDependencyGraph(){return this._controllerDependencyGraph}getAmbientLightColor(){return this._ambientLightColor}setAmbientLightColor(t){this._ambientLightColor.thaw(),this._ambientLightColor.copy(t),this._ambientLightColor.freeze()}__addLightSource(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=0,s=this._lightSources.length;i<s;i++){const s=this._lightSources[i];if(s.getEntityName()===t&&s.getComponentTypeIndex()===e)throw new Error(`Light source on ${t} with type index ${e} already added.`)}const i=new tu(this);i.setByType(t,"lightSource",e),this._lightSources.push(i)}__removeLightSource(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=0,s=this._lightSources.length;i<s;i++){const s=this._lightSources[i];if(s.getEntityName()===t&&s.getComponentTypeIndex()===e)return void this._lightSources.splice(i,1)}throw new Error(`Light source on ${t} with type index ${e} not found.`)}getLightSource(t){return 0<=t&&t<this._lightSources.length?this._lightSources[t].get():null}getNumLightSources(){return this._lightSources.length}getLoadedPromise(){const t=[];for(let e=0,i=this._entities.size;e<i;e++)t.push(this._entities.get(e).getLoadedPromise());return Promise.all(t).then()}__destroy(){super.__destroy(),this._entities.__destroy()}getThreeJsScene(){return this._threeJsScene}__update(){const t=this.getEngine().getTime();for(let e=this._entities.size-1;e>=0;e--){const i=this._entities.get(e);i.__updateLastState(),i.__updateParent(t),i.__updateIsInCoverages(t)}this._controllerDependencyGraph.update()}__updateVisuals(){for(let t=this._entities.size-1;t>=0;t--){const e=this._entities.get(t);e.isInPositionCoverage()&&e.isEnabled()&&this._entities.get(t).__updateVisuals()}}__removeCameraDependents(t){for(let e=this._entities.size-1;e>=0;e--)this._entities.get(e).__removeCameraDependents(t)}}class Vu extends ll{constructor(t,e){super(),this._downloader=t,this._renderer=e,this._crossOrigin="anonymous",this._defaultDownloadPriority=0,this._defaultUseMipMaps=!0,this._path=void 0,this._white=null,this._black=null,this._clear=null,this._pink=null,this._gray=null,this._threeJsTextureLoader=new ml,this._threeJsTextureLoader.setCrossOrigin(this._crossOrigin),this._threeJsTextureLoader.setPath(this._path),this._white=Vu._newTexture(new vh(1,1,1,1)),this._black=Vu._newTexture(new vh(0,0,0,1)),this._clear=Vu._newTexture(new vh(0,0,0,0)),this._pink=Vu._newTexture(new vh(1,105/255,180/255,1)),this._gray=Vu._newTexture(new vh(.4,.4,.4,1)),ol.addHandler(/.$/i,this)}setDefaultDownloadPriority(t){this._defaultDownloadPriority=t}setDefaultUseMipMaps(t){this._defaultUseMipMaps=t}async loadCubeTexture(t,e,i){const s=new Ks,n=[];for(let a=0;a<6;a++){const r=t.replace("$FACE",Gu[a]);n.push(new Promise(((s,n)=>{this.load(r,(t=>{s(t)}),void 0,(e=>{n(new Error(`Failed to load ${t}: ${e}`))}),e,i)})).then((t=>{s.images[a]=t.image})))}return Promise.all(n).then((()=>(s.needsUpdate=!0,s)))}generateEnvMap(t){let e=t;t instanceof Ks||(e=new Zs(512,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!0,minFilter:1008,magFilter:xt}).fromEquirectangularTexture(this._renderer,t).texture);const i=new Mn(this._renderer);return i.compileEquirectangularShader(),i.fromEquirectangular(e).texture}load(t,e,i,s,n,a){void 0===n&&(n=this._defaultDownloadPriority),void 0===a&&(a=this._defaultUseMipMaps),t=this._downloader.processUrl(t);let r=null;if("white"===t?r=this._white:"black"===t?r=this._black:"clear"===t?r=this._clear:"pink"===t?r=this._pink:"gray"===t&&(r=this._gray),null!==r)e(r);else if(t.includes(".mp4")){const i=document.createElement("video");i.src=t,i.muted=!0,i.playsInline=!0,i.loop=!1,i.crossOrigin="anonymous",r=new Lo(i),r.format=Ct,r.flipY=!1,r.needsUpdate=!0,this._downloader.download(t,!0,n).then((t=>{i.src=URL.createObjectURL(new Blob([t.content],{type:t.mimeType})),i.onerror=t=>{du.destroyTexture(r),s(t.toString())},i.oncanplaythrough=()=>{e(r)},i.load()}))}else{const i=document.createElement("img");r=new Le(i),r.format=Ct,r.flipY=!1,r.needsUpdate=!0,r.minFilter=a?1008:xt,r.generateMipmaps=a,this._downloader.download(t,!0,n).then((t=>{i.src=URL.createObjectURL(new Blob([t.content],{type:t.mimeType})),i.crossOrigin="anonymous",i.onerror=t=>{du.destroyTexture(r),s(t.toString())},i.onload=()=>{e(r)}}))}return r}get crossOrigin(){return this._crossOrigin}set crossOrigin(t){this._crossOrigin=t,this._threeJsTextureLoader&&this._threeJsTextureLoader.setCrossOrigin(this._crossOrigin)}setCrossOrigin(t){return this.crossOrigin=t,this}get path(){return this._path}set path(t){this._path=t,this._threeJsTextureLoader&&this._threeJsTextureLoader.setPath(this._path)}setPath(t){return this.path=t,this}static _newTexture(t){const e=document.createElement("canvas");e.width=1,e.height=1;const i=e.getContext("2d");return i.fillStyle="rgba("+255*t.r+","+255*t.g+","+255*t.b+","+255*t.a+")",i.fillRect(0,0,1,1),new Do(e)}}const Gu=["posx","negx","posy","negy","posz","negz"];class qu extends Vu{constructor(t,e,i){super(t,i),this._config=e,this._threeJsKTXLoader=new $c,this._threeJsKTXLoader.setCrossOrigin(this._crossOrigin),this._threeJsKTXLoader.setPath(this._path)}load(t,e,i,s,n,a){if(null!==t.match(/_n\.[^.]+$/))return super.load(t,e,i,s,n,a);let r=null;return"white"===(t=this._downloader.processUrl(t))?r=this._white:"black"===t?r=this._black:"clear"===t?r=this._clear:"pink"===t&&(r=this._pink),null!==r?e(r):(t=t.replace(/\.(\w+)$/,"-"+pu.__getCompressedTextureExtension()+".ktx"),this._threeJsKTXLoader.load(t,(t=>{t.flipY=!1,t.needsUpdate=!0,!1===a&&(t.minFilter=xt,t.generateMipmaps=!1),t.ktxFormat=t.format,e(t)}),void 0,(t=>{s(t.message)}))),r}}const Ju="54.0.0";class Wu extends sh{constructor(t,e,i){super(t,e,i),this._enabled=!0,this._camera=null,this._div=document.createElement("div"),this._bounds=new Ph(0,0,0,0),this._bounds.freeze(),this._backgroundColor=new vh(0,0,0,1),this._backgroundColor.freeze(),this._threeJsBackgroundColor=new as,this._div.style.position="absolute",this._div.style.overflow="hidden",this._div.id=e??"",this._div.classList.add("viewport"),this._enabled||(this._div.style.display="none"),this.getEngine().getViewportDiv().appendChild(this._div);const s=this.getEngine().getRootDiv();this._bounds.thaw(),this._bounds.set(this._div.offsetLeft-s.offsetLeft,this._div.offsetTop-s.offsetTop,this._div.offsetWidth,this._div.offsetHeight),this._bounds.freeze();const n=this.getEngine().getInput();null===n.getActiveViewport()&&n.__setActiveViewport(this)}getEngine(){return this.__getCollectionParent()}getDiv(){return this._div}getBounds(){return this._bounds}getBackgroundColor(){return this._backgroundColor}setBackgroundColor(t){this._backgroundColor.thaw(),this._backgroundColor=t,this._backgroundColor.freeze(),this._threeJsBackgroundColor.setRGB(this._backgroundColor.r,this._backgroundColor.g,this._backgroundColor.b)}getCamera(){return this._camera}setCamera(t){this._camera=t,null!==this._camera&&this._camera.__setViewport(this)}isEnabled(){return this._enabled}setEnabled(t){this._enabled=t,this._enabled?this._div.style.display="block":this._div.style.display="none"}getNormalSpacePositionFromPixelSpacePosition(t,e){t.x=2*(e.x-this._bounds.origin.x)/this._bounds.size.x-1,t.y=1-2*(e.y-this._bounds.origin.y)/this._bounds.size.y,t.z=-1}getPixelSpacePositionFromNormalSpacePosition(t,e){-1<e.z&&e.z<1?(t.x=this._bounds.size.x*(e.x+1)/2+this._bounds.origin.x,t.y=this._bounds.size.y*(1-e.y)/2+this._bounds.origin.y):t.copy(Fh.NaN)}getPixelSpaceRadiusFromNormalSpaceRadius(t){return t*Math.max(this._bounds.size.x,this._bounds.size.y)}getNormalSpaceRadiusFromPixelSpaceRadius(t){return t/Math.max(this._bounds.size.x,this._bounds.size.y)}getDirectionOfCursor(t){const e=this.getCamera();if(null===e)return void t.copy(Vh.NaN);const i=this.getEngine().getInput();this.getNormalSpacePositionFromPixelSpacePosition(t,i.getCursorPosition()),t.x<-1||t.x>1||t.y<-1||t.y>1||t.z<-1||t.z>1?t.copy(Vh.NaN):(e.getCameraSpacePositionFromNormalSpacePosition(t,t),t.normalize(t))}__destroy(){super.__destroy(),this._div.parentNode.removeChild(this._div)}__updateViewportVariables(){this._enabled&&(this._bounds.thaw(),this._bounds.set(this._div.offsetLeft,this._div.offsetTop,this._div.offsetWidth,this._div.offsetHeight),this._bounds.freeze(),null!==this._camera&&this._camera.__updateCameraVariablesForConnectedScene())}__render(){if(!this._enabled)return;const t=this.getEngine().__getThreeJsRenderer(),e=this.getEngine().getRootDiv().offsetHeight-this._div.offsetTop-this._div.offsetHeight;t.setViewport(this._bounds.origin.x,e,this._bounds.size.x,this._bounds.size.y),t.setScissor(this._bounds.origin.x,e,this._bounds.size.x,this._bounds.size.y),this._threeJsBackgroundColor.setRGB(this._backgroundColor.r,this._backgroundColor.g,this._backgroundColor.b),t.setClearColor(this._threeJsBackgroundColor,this._backgroundColor.a),null!==this._camera?(this._camera.__prepareForRender(),this._camera.__render()):this.getEngine().__getThreeJsRenderer().clear()}}class Yu extends Mu{constructor(t,e,i){super(t,e,i),this._radius=.5,this._pixelSpaceRadiusPerCamera=new wh,this._greatestPixelSpaceRadius=0,this._loadState="unloaded",this._forceLoaded=!1,this._resourcesLoadedCallback=null,this._resourcesUnloadedCallback=null,this._loadedPromise=Promise.resolve(),this._excludedCameras=new Set,this._visible=!0,this._threeJsObjects=[],this._threeJsMaterials=[],this._usesEntityOrientation=!1}__destroy(){"loaded"===this._loadState&&this._unloadResources(),super.__destroy()}setEnabled(t){super.setEnabled(t),this.__updateLoadState()}getRadius(){return this._radius}__setRadius(t){this._radius=t}getPixelSpaceRadiusInCamera(t){return this._pixelSpaceRadiusPerCamera.get(t)}getGreatestPixelSpaceRadius(){return this._greatestPixelSpaceRadius}getThreeJsObjects(){return this._threeJsObjects}getThreeJsMaterials(){return this._threeJsMaterials}getThreeJsObjectByName(t){for(let e=0;e<this._threeJsObjects.length;e++){const i=this._threeJsObjects[e];if(i.name===t)return i}return null}getLoadState(){return this._loadState}setForceLoaded(t){this._forceLoaded=t,this._forceLoaded&&"unloaded"===this._loadState&&this._loadResources()}__updateLoadState(){const t=this.getEntity(),e=t.isEnabled()&&this.isEnabled(),i=t.isInPositionCoverage()&&(t.isInOrientationCoverage()||!this._usesEntityOrientation);e&&(this._forceLoaded||i&&this._greatestPixelSpaceRadius>.5)&&"unloaded"===this._loadState?this._loadResources():e&&(this._forceLoaded||i&&!(this._greatestPixelSpaceRadius<.25))||"loaded"!==this._loadState||this._unloadResources()}resetResources(){"loading"===this._loadState?this._loadState="unloaded":"loaded"===this._loadState&&this._unloadResources()}setResourcesLoadedCallback(t){this._resourcesLoadedCallback=t}setResourcesUnloadedCallback(t){this._resourcesUnloadedCallback=t}_loadResources(){this._loadState="loading",this._loadedPromise=this.__loadResources().then((()=>{"loading"===this._loadState?(this._loadState="loaded",null!==this._resourcesLoadedCallback&&this._resourcesLoadedCallback()):this._unloadResources()}))}_unloadResources(){this.__unloadResources(),this._loadState="unloaded",this._threeJsObjects=[],this._threeJsMaterials=[],null!==this._resourcesUnloadedCallback&&this._resourcesUnloadedCallback()}__loadResources(){return Promise.resolve()}__unloadResources(){}getLoadedPromise(){return this._loadedPromise}__updateCameraVariablesBase(t){const e=t.getViewport(),i=t.getNormalSpaceRadiusFromRadius(this._radius,this.getEntity().getCameraSpacePosition(t).magnitude()),s=e.getPixelSpaceRadiusFromNormalSpaceRadius(i);this._pixelSpaceRadiusPerCamera.set(t,s),this.__updateCameraVariables(t)}__updateBase(){this._greatestPixelSpaceRadius=0;for(let t=0,e=this._pixelSpaceRadiusPerCamera.size;t<e;t++){const e=this._pixelSpaceRadiusPerCamera.getAt(t).value;this._greatestPixelSpaceRadius<e&&(this._greatestPixelSpaceRadius=e)}this.__updateLoadState(),this.__update()}__prepareForRenderBase(t){if("loaded"===this._loadState)if(!this._excludedCameras.has(t)&&this._visible){for(let t=0;t<this._threeJsObjects.length;t++)this._threeJsObjects[t].visible=!0;this.__prepareForRender(t);for(let e=0;e<this._threeJsMaterials.length;e++){const i=this._threeJsMaterials[e].uniforms;void 0!==i.invertDepth&&(i.invertDepth.value=t.getInvertDepth(),i.nearDistance.value=t.getAutoNearDistance(),i.midDistance.value=t.getAutoMidDistance())}for(let t=0;t<this._threeJsObjects.length;t++)this._threeJsObjects[t].updateMatrix()}else for(let t=0;t<this._threeJsObjects.length;t++)this._threeJsObjects[t].visible=!1}__updateCameraVariables(t){}__prepareForRender(t){}getUsesEntityOrientation(){return this._usesEntityOrientation}__setUsesEntityOrientation(t){this._usesEntityOrientation=t,this.__updateLoadState()}isExcludedFromCamera(t){return this._excludedCameras.has(t)}setExcludedFromCamera(t,e){!e&&this._excludedCameras.has(t)?this._excludedCameras.delete(t):e&&!this._excludedCameras.has(t)&&(this.__removeCameraDependents(t),this._excludedCameras.add(t))}isVisible(){return this._visible}setVisible(t){this._visible=t}__removeCameraDependentsBase(t){this._pixelSpaceRadiusPerCamera.delete(t),this.__removeCameraDependents(t)}__clearCameraDependentsBase(){this._pixelSpaceRadiusPerCamera.clear(),this.__clearCameraDependents()}__removeCameraDependents(t){}__clearCameraDependents(){}toString(){let t=0;for(let e=0,i=this.getEntity().getNumComponents();e<i;e++){const i=this.getEntity().getComponent(e);if(this===i)break;this.getType()===i.getType()&&(t+=1)}return this.getEntity().getName()+"."+this.getType()+"."+t}}Yu._tempThreeJsQuaternion=new Ue;class $u extends Yu{constructor(t,e,i){super(t,e,i),this._density=0,this._scaleHeight=1,this._emissivity=0,this._color=new vh,this._color.freeze(),this._sunBrightness=1,this._sunsetColor=new vh,this._sunsetColor.freeze(),this._sunsetIntensity=0,this._spheroidComponentRef=new tu(this.getEntity().getScene()),this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid"),this._spheroidComponentRef.setRefChangedCallback(this._spheroidRefChangedCallback.bind(this)),this._spheroidChangedCallback=this._spheroidChangedCallback.bind(this),this.__setUsesEntityOrientation(!0)}getSpheroid(){return this._spheroidComponentRef.get()}getDensity(){return this._density}setDensity(t){this._density=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"density",t)}getScaleHeight(){return this._scaleHeight}setScaleHeight(t){this._scaleHeight=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"scaleHeight",t)}getEmissivity(){return this._emissivity}setEmissivity(t){this._emissivity=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"emissivity",t)}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze(),du.setUniformColorRGB(this.getThreeJsMaterials()[0],"color",t)}getSunBrightness(){return this._sunBrightness}setSunBrightness(t){this._sunBrightness=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"sunBrightness",t)}getSunsetColor(){return this._sunsetColor}setSunsetColor(t){this._sunsetColor.thaw(),this._sunsetColor.copy(t),this._sunsetColor.freeze(),du.setUniformColorRGB(this.getThreeJsMaterials()[0],"sunsetColor",t)}getSunsetIntensity(){return this._sunsetIntensity}setSunsetIntensity(t){this._sunsetIntensity=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"sunsetIntensity",t)}setSpheroidReference(t){"string"==typeof t?this._spheroidComponentRef.setByName(this.getEntity().getName(),t):this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid",t)}__destroy(){const t=this._spheroidComponentRef.get();null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),super.__destroy()}__update(){this._spheroidComponentRef.update()}__prepareForRender(t){const e=Vh.pool.get();e.neg(this.getEntity().getCameraSpacePosition(t)),e.rotateInverse(this.getEntity().getOrientation(),e),du.setUniformVector3(this.getThreeJsMaterials()[0],"cameraPosition",e),Vh.pool.release(e),lu.setLightSourceUniforms(this.getThreeJsMaterials(),this.getEntity(),t),du.setUniformQuaternion(this.getThreeJsMaterials()[0],"entityOrientation",this.getEntity().getOrientation()),du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity()),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}__loadResources(){const t=new ko({uniforms:{lightPositions:new ql([new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0)]),lightColors:new ql([new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0)]),lightRadii:new ql([0,0,0,0,0]),numLights:new ql(0),density:new ql(this._density),scaleHeight:new ql(this._scaleHeight),emissivity:new ql(this._emissivity),equatorialRadius:new ql(1),polarRadius:new ql(1),cameraPosition:new ql(new ze(1,0,0)),entityOrientation:new ql(new Oe(1,0,0,0)),color:new ql(new ze(this._color.r,this._color.g,this._color.b)),sunBrightness:new ql(this._sunBrightness),sunsetColor:new ql(new ze(this._sunsetColor.r,this._sunsetColor.g,this._sunsetColor.b)),sunsetIntensity:new ql(this._sunsetIntensity),...eh.ThreeUniforms},vertexShader:Xu,fragmentShader:Ku,transparent:!0,depthWrite:!1,blending:1});cu.fix(t),this.getThreeJsMaterials().push(t);const e=du.createMeshObject(this,t,[{name:"position",dimensions:3}],!1);this.getThreeJsObjects().push(e);const i=hh.pi/63,s=hh.twoPi/128,n=new Float32Array(24768),a=new Uint16Array(48384),r=Vh.pool.get(),o=su.pool.get();for(let t=0;t<64;t++){o.lat=t*i-hh.halfPi,o.alt=0;const e=Math.cos(o.lat),r=Math.sin(o.lat);for(let i=0;i<129;i++){o.lon=i*s-hh.pi;const l=129*t+i;n[3*l+0]=e*Math.cos(o.lon),n[3*l+1]=e*Math.sin(o.lon),n[3*l+2]=r;const c=128*t+i;t<63&&i<128&&(a[6*c+0]=129*(t+0)+(i+0),a[6*c+1]=129*(t+1)+(i+0),a[6*c+2]=129*(t+1)+(i+1),a[6*c+3]=129*(t+0)+(i+0),a[6*c+4]=129*(t+1)+(i+1),a[6*c+5]=129*(t+0)+(i+1))}}return su.pool.release(o),Vh.pool.release(r),du.setVertices(e.geometry,"position",n),du.setIndices(e.geometry,a),du.setRenderOrder(e,-1),du.useInDynEnvMap(e,!0),this._spheroidChangedCallback(),Promise.resolve()}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_spheroidRefChangedCallback(t,e){null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),null!==e&&e.addChangedCallback(this._spheroidChangedCallback),this._spheroidChangedCallback()}_spheroidChangedCallback(){const t=this._spheroidComponentRef.get(),e=this.getThreeJsMaterials()[0];null!==t?(this.__setRadius(Math.max(t.getEquatorialRadius(),t.getPolarRadius())),void 0!==e&&(du.setUniformNumber(e,"equatorialRadius",t.getEquatorialRadius()),du.setUniformNumber(e,"polarRadius",t.getPolarRadius()))):(this.__setRadius(0),void 0!==e&&(du.setUniformNumber(e,"equatorialRadius",0),du.setUniformNumber(e,"polarRadius",0)))}}const Xu=`\n\tattribute vec3 position;\n\tuniform mat4 projectionMatrix;\n\tuniform mat4 modelViewMatrix;\n\n\tuniform float scaleHeight;\n\tuniform float equatorialRadius;\n\tuniform float polarRadius;\n\n\t${eh.VertexHead}\n\n\tvarying vec3 localPosition;\n\n\tvoid main() {\n\t\tfloat scaleHeightMultiplier = 20.0;\n\t\tlocalPosition = vec3(position.x * (equatorialRadius + scaleHeight * scaleHeightMultiplier), position.y * (equatorialRadius + scaleHeight * scaleHeightMultiplier), position.z * (polarRadius + scaleHeight * scaleHeightMultiplier));\n\t\tvec4 viewPosition = modelViewMatrix * vec4(localPosition, 1.);\n\t\tgl_Position = projectionMatrix * viewPosition;\n\t\tgl_Position.w = viewPosition.y;\n\n\t\t${eh.Vertex}\n\t}`,Ku=`\n\tprecision highp float;\n\n\tuniform vec3 lightPositions[5];\n\tuniform vec3 lightColors[5];\n\tuniform int numLights;\n\n\tuniform float density;\n\tuniform float scaleHeight;\n\tuniform float equatorialRadius;\n\tuniform float polarRadius;\n\tuniform vec3 cameraPosition;\n\tuniform vec4 entityOrientation;\n\tuniform vec3 color;\n\tuniform float emissivity;\n\tuniform float sunBrightness;\n\tuniform vec3 sunsetColor;\n\tuniform float sunsetIntensity;\n\n\t${eh.FragmentHead}\n\n\tvarying vec3 localPosition;\n\n\tconst int numIterations = 5;\n\n\t// Inverse rotate a vector by a quaternion.\n\tvec3 quatRotInv(vec4 q, vec3 v) {\n\t\tfloat tx = q.w * v.x - q.y * v.z + q.z * v.y;\n\t\tfloat ty = q.w * v.y - q.z * v.x + q.x * v.z;\n\t\tfloat tz = q.w * v.z - q.x * v.y + q.y * v.x;\n\t\tfloat tw = q.x * v.x + q.y * v.y + q.z * v.z;\n\t\tfloat x = tx * q.w + tw * q.x + ty * q.z - tz * q.y;\n\t\tfloat y = ty * q.w + tw * q.y + tz * q.x - tx * q.z;\n\t\tfloat z = tz * q.w + tw * q.z + tx * q.y - ty * q.x;\n\t\treturn vec3(x, y, z);\n\t}\n\n\t// Given an origin and direction, computes the sampling start and end as distance from the origin in the direction.\n\tvoid getStartEndSamples(out float start, out float end, vec3 origin, vec3 direction, float maxDistance, float groundRadius, float atmosphereScaleHeight) {\n\t\t// Get the along the ray perpendicular to the sphere.\n\t\tfloat perpD = -dot(origin, direction);\n\t\tvec3 perp = origin + direction * perpD;\n\n\t\t// Figure out the sample distance.\n\t\tfloat atmosphereRadius = groundRadius + atmosphereScaleHeight * 6.0;\n\t\tfloat chordHalfLength = sqrt(max(0.0, atmosphereRadius * atmosphereRadius - dot(perp, perp)));\n\n\t\t// Figure out starting and ending sample points, and step distance.\n\t\tstart = max(0.0, perpD - chordHalfLength);\n\t\tend = min(maxDistance, perpD + chordHalfLength);\n\t}\n\n\t// Gets the density of the atmosphere at a given position.\n\tfloat getDensity(vec3 position, float radius, float density, float atmosphereScaleHeight) {\n\t\treturn density * exp(min(radius - length(position), 0.0) / atmosphereScaleHeight);\n\t}\n\n\t// Returns 0 if the ray does not intersect and 1.0 if the ray very intersects (with a gradient inbetween).\n\tfloat getDayLevel(vec3 origin, vec3 direction, float radius, float scaleHeight) {\n\t\tfloat blendHeight = scaleHeight * radius / 200.0;\n\t\tfloat perpD = -dot(origin, direction);\n\t\tfloat depth = radius - sqrt(dot(origin, origin) - sign(perpD) * perpD * perpD);\n\t\tif (depth < 0.0) { // day\n\t\t\treturn 1.0 - max(0.0, 0.25 * depth / blendHeight + 0.25);\n\t\t}\n\t\telse { // night\n\t\t\treturn 1.0 - min(1.0, 0.75 * depth / blendHeight + 0.25);\n\t\t}\n\t}\n\n\tfloat easeInOut(float x, float sharpness) {\n\t\tfloat b = sharpness;\n\t\tif (x < 0.5) {\n\t\t\treturn max(0.0, (pow(b, 2.0 * x) - 1.0) / (2.0 * (b - 1.0)));\n\t\t}\n\t\telse {\n\t\t\treturn min(1.0, 1.0 - (pow(b, 2.0 * (1.0 - x)) - 1.0) / (2.0 * (b - 1.0)));\n\t\t}\n\t}\n\n\tvec3 adjustOverbrightness(vec3 color) {\n\t\tfloat maxColor = max(color.r, max(color.g, color.b));\n\t\tif (maxColor > 1.0) {\n\t\t\tfloat f = (maxColor - 1.0) / maxColor;\n\t\t\tcolor.r = min(1.0, pow(color.r / maxColor, 1.0 / maxColor));\n\t\t\tcolor.g = min(1.0, pow(color.g / maxColor, 1.0 / maxColor));\n\t\t\tcolor.b = min(1.0, pow(color.b / maxColor, 1.0 / maxColor));\n\t\t}\n\t\treturn color;\n\t}\n\n\t// Calculates a glow around the light direction (the star).\n\tfloat glow(float spread, float amount, float lightDotCamera) {\n\t\treturn amount * spread / (1.0 + spread - lightDotCamera);\n\t}\n\n\tvec4 getEmissiveColor(float totalDensity, vec3 cameraPositionS, vec3 color, float emissivity) {\n\n\t\t// The color that will be added onto gl_FragColor.\n\t\tvec4 outColor;\n\n\t\t// Apply the total density to the transparency of the atmosphere.\n\t\toutColor.a = emissivity * clamp(totalDensity, 0.0, 1.0);\n\n\t\t// Multiply it all together with the source light color.\n\t\toutColor.rgb = emissivity * color * clamp(pow(15.0 * totalDensity / (density * equatorialRadius), 0.2), 0.75, 1.0);\n\n\t\t// Make it more opaque when lower down.\n\t\toutColor.a = mix(outColor.a, emissivity, getDensity(cameraPositionS, equatorialRadius + scaleHeight, 1.0, 2.0 * scaleHeight));\n\n\t\t// Clamp it to make it clean for the day/night transition.\n\t\toutColor.a = clamp(outColor.a, 0.0, 1.0);\n\n\t\treturn outColor;\n\t}\n\n\t// Gets the color for an atmosphere for a light.\n\tvec4 getColor(float totalDensity, vec3 lightColor, vec3 lightPosition, float spheroidRatio, vec3 positionS, vec3 cameraPositionS, vec3 cameraToPositionUnit) {\n\n\t\t// The color starts out in full brightness (as if emissivity was 1.0).\n\t\tvec4 outColor = getEmissiveColor(totalDensity, cameraPositionS, lightColor * color, 1.0);\n\n\t\t// Make the alpha dependent on the brightness of the light.\n\t\toutColor.a *= length(lightColor) / sqrt(3.0);\n\n\t\t// Setup vectors.\n\t\thighp vec3 lightPositionS = quatRotInv(entityOrientation, lightPosition);\n\t\tlightPositionS.z *= spheroidRatio;\n\t\thighp vec3 lightToPosition = positionS - lightPositionS;\n\t\thighp vec3 lightToPositionUnit = normalize(lightToPosition / 1.0e8);\n\n\t\t// Get the day level, from 0 to 1, and apply it to the alpha. Lots of tricks to get it looking good on earth.\n\t\tvec3 dayRefUp = normalize(cameraPositionS - min(0.0, dot(cameraPositionS, cameraToPositionUnit)) * cameraToPositionUnit);\n\t\tfloat dayLevel = -dot(lightToPositionUnit, dayRefUp);\n\t\toutColor.rgb *= easeInOut(0.5 + 2.0 * dayLevel, 2.0);\n\t\toutColor.a *= easeInOut(1.0 + 2.0 * dayLevel, 2.0);\n\n\t\t// Brighten up the atmosphere when looking from space toward the sun.\n\t\tfloat lightDotCamera = max(0.0, -dot(lightToPositionUnit, cameraToPositionUnit));\n\t\toutColor.a = clamp(outColor.a * (1.0 + glow(0.004, 1.0, lightDotCamera)), 0.0, 1.0);\n\n\t\t// Add narrower sun glare.\n\t\toutColor.rgb *= lightColor * (1.0 + sunBrightness * outColor.a * glow(0.00004, 1.0, lightDotCamera));\n\n\t\t// Add broader sun glare.\n\t\toutColor.rgb *= lightColor * (1.0 + sunBrightness * outColor.a * glow(0.04, 0.125, lightDotCamera));\n\n\t\t// Apply the sunset.\n\t\tfloat lightDotHorizon = pow(clamp(1.0 - dot(lightToPositionUnit, dayRefUp), 0.0, 1.0), 2.0);\n\t\tfloat cameraDotHorizon = pow(clamp(1.0 - dot(cameraToPositionUnit, dayRefUp), 0.0, 1.0), 8.0);\n\t\tfloat sunsetAmount = sunsetIntensity * lightDotHorizon * cameraDotHorizon * glow(0.04, 0.5, lightDotCamera);\n\t\toutColor.rgb = mix(outColor.rgb, sunsetColor, clamp(sunsetAmount, 0.0, 1.0));\n\n\t\treturn outColor;\n\t}\n\n\tvoid main(void) {\n\t\t// Convert everything into a sphere frame.\n\t\tfloat spheroidRatio = equatorialRadius / polarRadius;\n\t\thighp vec3 positionS = localPosition;\n\t\thighp vec3 cameraPositionS = cameraPosition;\n\t\tpositionS.z *= spheroidRatio;\n\t\tcameraPositionS.z *= spheroidRatio;\n\n\t\thighp vec3 cameraToPosition = positionS - cameraPositionS;\n\t\tfloat cameraToPositionDist = length(cameraToPosition / 1.0e8) * 1.0e8;\n\t\thighp vec3 cameraToPositionUnit = cameraToPosition / cameraToPositionDist;\n\n\t\t// Get the start and end of the sampling from the camera to the position.\n\t\tfloat start;\n\t\tfloat end;\n\t\tgetStartEndSamples(start, end, cameraPositionS, cameraToPositionUnit, 1.0e24, equatorialRadius, scaleHeight);\n\t\tfloat fracPerStep = 1.0 / float(numIterations - 1);\n\t\tfloat stepDist = fracPerStep * (end - start);\n\n\t\t// Do the sampling.\n\t\tfloat totalDensity = 0.0;\n\t\tfloat segmentStart = start;\n\t\tfor (int j = 0; j < numIterations; j++) {\n\t\t\t// Get the distance that this segment covers.\n\t\t\tfloat segDist = stepDist;\n\t\t\tif (j == 0 || j == numIterations - 1) {\n\t\t\t\tsegDist *= 0.5;\n\t\t\t}\n\n\t\t\t// Get the segment start that we're looking at.\n\t\t\tvec3 p = cameraPositionS + segmentStart * cameraToPositionUnit;\n\n\t\t\t// Get the density at that segment start. It'll be the density for the whole segment.\n\t\t\tfloat densityAtP = getDensity(p, equatorialRadius, density, scaleHeight);\n\n\t\t\t// Add it to the total density.\n\t\t\ttotalDensity += densityAtP * segDist;\n\n\t\t\t// Next step.\n\t\t\tsegmentStart += stepDist;\n\t\t}\n\n\t\t// Add emissivity lightness.\n\t\tgl_FragColor += getEmissiveColor(totalDensity, cameraPositionS, color, emissivity);\n\n\t\t// For each light,\n\t\tfor (int i = 0; i < 5; i++) {\n\t\t\tif (i >= numLights) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// If it's not a camera light,\n\t\t\tif (length(lightPositions[i]) > 0.0) {\n\t\t\t\t// Add on the color for the light.\n\t\t\t\tgl_FragColor += getColor(totalDensity, lightColors[i], lightPositions[i], spheroidRatio, positionS, cameraPositionS, cameraToPositionUnit);\n\t\t\t}\n\t\t}\n\n\t\t// Adjust for values that are greater than one.\n\t\tgl_FragColor.rgb = adjustOverbrightness(gl_FragColor.rgb);\n\n\t\t${eh.Fragment}\n\t}`;class Zu extends Yu{constructor(t,e,i){super(t,e,i),this._threeJsRenderer=this.getEntity().getScene().getEngine().__getThreeJsRenderer(),this._viewport=null,this._threeJsScene=i.getScene().getThreeJsScene(),this._fieldOfView=1.0471975512,this._nearDistance=void 0,this._invertDepth=0,this._autoNearDistance=0,this._midDistance=void 0,this._autoMidDistance=0,this._aspectRatio=1,this._renderSize=new Fh,this._occludingEntities=[],this._threeJsCamera=new Ys(75,this._aspectRatio,.1,1e3),this._threeJsComposer=null,this._outlinePass=new Kc(void 0,this._threeJsScene,this._threeJsCamera,[]),this._outlinePass.enabled=!1,this._threeJsUnrealBloomPass=new th(void 0,0,0,0),this._threeJsUnrealBloomPass.enabled=!1,this.__setupEffectComposer()}getViewport(){return this._viewport}getFieldOfView(){return this._fieldOfView}getHorizontalFieldOfView(){return this._aspectRatio>=1?this._fieldOfView:2*Math.atan(Math.tan(this._fieldOfView/2)*this._aspectRatio)}getVerticalFieldOfView(){return this._aspectRatio>1?2*Math.atan(Math.tan(this._fieldOfView/2)/this._aspectRatio):this._fieldOfView}setFieldOfView(t){this._fieldOfView=t}getInvertDepth(){return this._invertDepth}setInvertDepth(t){this._invertDepth=t}getNearDistance(){return this._nearDistance}setNearDistance(t){this._nearDistance=t}getAutoNearDistance(){return this._autoNearDistance}getMidDistance(){return this._midDistance}setMidDistance(t){this._midDistance=t}getAutoMidDistance(){return this._autoMidDistance}getNormalSpacePositionFromCameraSpacePosition(t,e){const i=Lh.pool.get();i.copy(this.getEntity().getOrientation()),i.inverse(i);const s=Vh.pool.get();s.rotate(i,e),Lh.pool.release(i),t.x=this._threeJsCamera.projectionMatrix.elements[0]*s.x/s.y,t.y=this._threeJsCamera.projectionMatrix.elements[9]*s.z/s.y,t.z=this._threeJsCamera.projectionMatrix.elements[6]+this._threeJsCamera.projectionMatrix.elements[14]/s.y,Vh.pool.release(s)}getNormalSpaceRadiusFromRadius(t,e){return t/Math.abs(e)/Math.tan(this._fieldOfView/2)}getCameraSpacePositionFromNormalSpacePosition(t,e){const i=Vh.pool.get();i.y=this._threeJsCamera.projectionMatrix.elements[14]/(e.z-this._threeJsCamera.projectionMatrix.elements[6]),i.x=e.x*i.y/this._threeJsCamera.projectionMatrix.elements[0],i.z=e.y*i.y/this._threeJsCamera.projectionMatrix.elements[9],t.rotate(this.getEntity().getOrientation(),i),Vh.pool.release(i)}getRadiusFromNormalSpaceRadius(t,e){return t*Math.abs(e)*Math.tan(this._fieldOfView/2)}getRaycast(t,e,i){const s=new Jl,n=new ze(t.x,t.y,t.z),a=new ze(e.x,e.y,e.z);s.set(n,a);const r=[];for(let t=0,e=i.getNumComponents();t<e;t++){const e=i.getComponent(t),n=s.intersectObjects(e.getThreeJsObjects());for(let t=0,i=n.length;t<i;t++){const i=n[t];if(t>0&&i.object===n[t-1].object&&i.face.a===n[t-1].face.a&&i.face.b===n[t-1].face.b&&i.face.c===n[t-1].face.c)continue;const s=i.object,a=new Vh;a.copyFromThreeJs(i.point),this.getEntity().getPositionRelativeToEntity(a,a,e.getEntity()),a.rotateInverse(e.getEntity().getOrientation(),a),r.push({component:e,object:s,frameSpacePosition:a})}}return r}getRaycastColor(t,e,i){const s=new Jl,n=new ze(t.x,t.y,t.z),a=new ze(e.x,e.y,e.z);s.set(n,a);const r=[];for(let t=0,e=i.getNumComponents();t<e;t++){const e=i.getComponent(t),n=s.intersectObjects(e.getThreeJsObjects());for(let t=0,i=n.length;t<i;t++){const i=n[t];if(t>0&&i.object===n[t-1].object&&i.face.a===n[t-1].face.a&&i.face.b===n[t-1].face.b&&i.face.c===n[t-1].face.c)continue;const s=i.object;if(!(s instanceof zs))continue;let a=i.object.material;if(Array.isArray(a)&&(a=a[i.face.materialIndex]),a instanceof Js)for(const[t,n]of Object.entries(a.uniforms)){const a=n.value;if(!(a instanceof Le))continue;const o=t,l=document.createElement("canvas");l.width=a.image.width,l.height=a.image.height;const c=l.getContext("2d");try{c.drawImage(a.image,0,0)}catch{continue}const h=c.getImageData(0,0,a.image.width,a.image.height),u=i.uv,d=a.format===Ct?4:3,p=(Math.floor(u.y*h.height)*h.width+Math.floor(u.x*h.width))*d,m=new vh;m.set(h.data[p+0],h.data[p+1],h.data[p+2],4===d?h.data[p+3]:1),r.push({component:e,object:s,textureName:o,color:m})}}}return r}isPositionOccluded(t){for(let e=0;e<this._occludingEntities.length;e++)if(this._occludingEntities[e].isOccludingPosition(this,t))return!0;return!1}getNearestIntersectingEntity(t){let e=Number.POSITIVE_INFINITY,i=null;const s=Ih.pool.get();for(let n=0;n<this._occludingEntities.length;n++){const a=this._occludingEntities[n].getCameraSpacePosition(this);if(Ah.getLineSphereIntersectionWithLineStartAtOrigin(s,t,a,this._occludingEntities[n].getOcclusionRadius()),!Number.isNaN(s.min)&&s.min>=0){const t=s.min*a.magnitude();t<e&&(e=t,i=this._occludingEntities[n])}}return Ih.pool.release(s),i}setBloom(t){this._threeJsUnrealBloomPass.enabled=t>0,this._threeJsUnrealBloomPass.strength=t}setOutline(t,e,i){if(this._outlinePass.enabled=null!==e,null!==e){if(void 0!==i){const t=e.getThreeJsObjectByName(i);if(null===t)throw new Error(`Could not set outline on component ${e} sub-object ${i}.`);this._outlinePass.selectedObjects=[t]}else{const t=e.getThreeJsObjects();this._outlinePass.selectedObjects=[];for(let e=0,i=t.length;e<i;e++)t[e].parent===this._threeJsScene&&this._outlinePass.selectedObjects.push(t[e])}this._outlinePass.visibleEdgeColor.setRGB(t.r,t.g,t.b),this._outlinePass.hiddenEdgeColor.setRGB(t.r/4,t.g/4,t.b/4)}this.__setupEffectComposer()}__addToOccludingEntities(t){for(let e=0;e<this._occludingEntities.length;e++)if(this._occludingEntities[e]===t)return;this._occludingEntities.push(t)}__destroy(){super.__destroy(),this.getEntity().getScene().__removeCameraDependents(this),null!==this._viewport&&this._viewport.setCamera(null)}__updateCameraVariablesForConnectedScene(){const t=this._viewport.getBounds().size;if(!t.equals(this._renderSize)){const e=t.x/t.y;this._aspectRatio!==e&&(this._aspectRatio=e),this._threeJsComposer.setSize(t.x,t.y),this._renderSize.copy(t)}void 0===this._midDistance?null!==this.getEntity().getParent()&&(this._autoMidDistance=this.getEntity().getPosition().magnitude()+10*this.getEntity().getParent().getExtentsRadius()):this._autoMidDistance=this._midDistance,void 0===this._nearDistance?null!==this.getEntity().getParent()?this._autoNearDistance=Math.max(1e-5,.01*(this.getEntity().getPosition().magnitude()-this.getEntity().getParent().getExtentsRadius())):this._autoNearDistance=Math.max(1e-5,.01*this.getEntity().getPosition().magnitude()):this._autoNearDistance=this._nearDistance,this._updateProjectionMatrix(),this.getEntity().__updateCameraVariables(this,null,!1,0);for(let t=0;t<this._occludingEntities.length;t++)(this._occludingEntities[t].getPixelSpaceOcclusionRadius(this)<1||!this._occludingEntities[t].isEnabled()||!this._occludingEntities[t].canOcclude()||null===this.getEntity().getScene().get(this._occludingEntities[t].getName()))&&(this._occludingEntities.splice(t,1),t--)}__prepareForRender(){const t=this.getEntity().getScene();for(let e=0;e<t.getNumEntities();e++){const i=t.getEntity(e);i.isEnabled()&&i.__prepareForRender(this)}const e=this.getEntity().get("dynEnvMap");null!==e&&e.__render()}__render(){const t=this.getEntity().getOrientation();Zu._tempThreeJsQuaternion.set(t.x,t.y,t.z,t.w),this._threeJsCamera.setRotationFromQuaternion(Zu._tempThreeJsQuaternion),this._threeJsComposer.render()}__setViewport(t){null!==this._viewport&&this._viewport!==t&&this._viewport.setCamera(null),this._viewport=t}__setupEffectComposer(){const t=new pe;this._threeJsRenderer.getSize(t);const e={samples:pu.isWebGL2()&&!this._outlinePass.enabled?4:0},i=new De(t.x,t.y,e);if(null!==this._threeJsComposer)this._threeJsComposer.reset(i);else{this._threeJsComposer=new sc(this._threeJsRenderer,i);const t=new Zc(this._threeJsScene,this._threeJsCamera);this._threeJsComposer.addPass(t),this._threeJsComposer.addPass(this._outlinePass),this._threeJsComposer.addPass(this._threeJsUnrealBloomPass)}}_updateProjectionMatrix(){if(this._fieldOfView>0&&this._fieldOfView<180&&this._aspectRatio>0){const t=Math.tan(this._fieldOfView/2);let e=0,i=0;this._aspectRatio>=1?(e=1/t,i=this._aspectRatio/t):(e=1/(t*this._aspectRatio),i=1/t);const s=1-Number.EPSILON,n=this._autoNearDistance*(Number.EPSILON-2),a=new gi;a.set(e,0,0,0,0,0,i,0,0,s,0,n,0,1,0,0),this._threeJsCamera.projectionMatrix=a;const r=new gi;r.set(1/e,0,0,0,0,0,0,1,0,1/i,0,0,0,0,1/n,-s/n),this._threeJsCamera.projectionMatrixInverse=r}}__loadResources(){return Promise.resolve()}__unloadResources(){}}class Qu extends Yu{constructor(t,e,i){super(t,e,i),this._threeJsScene=this.getEntity().getScene().getThreeJsScene(),this._endPoints=new wh,this._heightScale=1,this._numEndPointsLoading=0,this._minLevel=Number.NEGATIVE_INFINITY,this._maxLevel=Number.POSITIVE_INFINITY,this._splitJoinThresholdFactor=512,this._colorTileSize=512,this._shadowEntities=[],this._engine=this.getEntity().getScene().getEngine(),this._cameraPositions=[],this._cameraFieldsOfView=[],this._rootTiles=[null,null,null,null,null,null],this._tilesLoadedPromise=null,this._transitionsCompleteCallback=null,this._textureCache=new Qh((t=>du.loadTexture(this,t,!0,!1)),(t=>{t.then((t=>{du.destroyTexture(t)}))})),this._numCurrentLoads=0,this._maxCurrentLoads=10,this._atmosphereComponentRef=new tu(this.getEntity().getScene()),this._atmosphereComponentRef.setByType(this.getEntity().getName(),"atmosphere"),this._spheroidComponentRef=new tu(this.getEntity().getScene()),this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid"),this._spheroidComponentRef.setRefChangedCallback(this._spheroidRefChangedCallback.bind(this)),this._spheroidChangedCallback=this._spheroidChangedCallback.bind(this),this.__setUsesEntityOrientation(!0)}setBaseUrl(t,e){this.resetResources(),this._endPoints.set(t,{url:e,configuration:null})}getHeightScale(){return this._heightScale}setHeightScale(t){this._heightScale=t,this.resetResources()}getMinLevel(){return this._minLevel}setMinLevel(t){this._minLevel=t}getMaxLevel(){return this._maxLevel}setMaxLevel(t){this._maxLevel=t}getNumShadowEntities(){return this._shadowEntities.length}getShadowEntity(t){return this._shadowEntities[t]?.getName()}setShadowEntities(t){this._shadowEntities=[];for(const e of t)this._shadowEntities.push(new iu(this.getEntity().getScene(),e));const e=t.length>0;for(let t=0,i=this.getThreeJsMaterials().length;t<i;t++)du.setDefine(this.getThreeJsMaterials()[t],"shadowEntities",e)}getGroundPosition(t,e,i){const s=this._spheroidComponentRef.get();if(null===s)return void t.copy(Vh.NaN);const n=su.pool.get();if(s.llaFromXYZ(n,i),n.alt=0,s.xyzFromLLA(t,n),s.upFromLLA(e,n),void 0!==this._endPoints.get("height")){const e=Vh.pool.get(),i=Vh.pool.get();n.alt=1,Ah.getXYZFromLLAOnSphere(i,n,0),eu.xyzToUVFace(e,i);let a=this._rootTiles[e.z];if(null==a)return Vh.pool.release(i),Vh.pool.release(e),void su.pool.release(n);for(;a.children.length>0;){const t=1<<a.getLevel()+1,i=Math.floor(e.x*t-2*a.getTileCoord().x),s=Math.floor(e.y*t-2*a.getTileCoord().y);a=a.children[2*s+i]}for(;!a.hasHeightData()&&null!==a.getParent();)a=a.getParent();const r=a.getHeight(e);n.alt=r,s.xyzFromLLA(t,n),Vh.pool.release(i),Vh.pool.release(e)}su.pool.release(n)}areTilesLoaded(){return null===this._tilesLoadedPromise}getTilesLoadedPromise(){return this._tilesLoadedPromise??Promise.resolve()}setSpheroidReference(t){"string"==typeof t?this._spheroidComponentRef.setByName(this.getEntity().getName(),t):this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid",t)}__destroy(){const t=this._spheroidComponentRef.get();null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),super.__destroy()}__update(){if(this._spheroidComponentRef.update(),"loaded"!==this.getLoadState()||null===this._spheroidComponentRef.get())return;if(null===this._rootTiles[0]){if(0!==this._numEndPointsLoading)return;for(let t=0;t<6;t++)this._rootTiles[t]=new td(this,null,t,0,new Fh(0,0)),this._rootTiles[t].forceLoad()}let t=!1;for(;this._cameraPositions.length>this._engine.getNumViewports();)this._cameraPositions.pop(),this._cameraFieldsOfView.pop();for(;this._cameraPositions.length<this._engine.getNumViewports();)this._cameraPositions.push(new Vh),this._cameraFieldsOfView.push(1);for(let t=0,e=this._engine.getNumViewports();t<e;t++){const e=this._cameraPositions[t],i=this._engine.getViewport(t).getCamera();i.getEntity().getPositionRelativeToEntity(e,Vh.Zero,this.getEntity()),e.rotateInverse(this.getEntity().getOrientation(),e),this._cameraFieldsOfView[t]=i.getFieldOfView()}for(let e=0;e<6;e++)t=this._rootTiles[e].update()||t;if(null===this._tilesLoadedPromise&&t&&(this._tilesLoadedPromise=new Promise((t=>{this._transitionsCompleteCallback=t}))),null!==this._tilesLoadedPromise&&!t){const t=this._transitionsCompleteCallback;this._tilesLoadedPromise=null,this._transitionsCompleteCallback=null,t()}}__prepareForRender(t){if(null===this._rootTiles[0])return;du.setOrientationToEntity(this.getThreeJsObjects(),this.getEntity());for(let e=0;e<6;e++)this._rootTiles[e].prepareForRender(t);const e=this._atmosphereComponentRef.get();lu.setUniforms(this.getThreeJsMaterials(),t,this.getEntity(),this._shadowEntities,e,!0)}__loadResources(){const t=[];for(let e=0,i=this._endPoints.size;e<i;e++){const i=this._endPoints.getAt(e),s=i.value.url;this._numEndPointsLoading+=1;const n=this.getEntity().getScene().getEngine().getDownloader().download(s+"/configuration.json",!1,-this.getEntity().getLeastCameraDepth()).then((t=>{if("failed"===t.status)throw new Error("Failed to download "+s+"/configuration.json");if("completed"===t.status&&"string"==typeof t.content){const e=JSON.parse(t.content);i.value.configuration=e,"color"===i.key&&(this._colorTileSize=e.tile_size),this._numEndPointsLoading-=1}}));t.push(n)}return Promise.all(t)}__unloadResources(){for(let t=0;t<6;t++)null!==this._rootTiles[t]&&this._rootTiles[t].destroy();this._rootTiles=[null,null,null,null,null,null]}__getNumCurrentLoads(){return this._numCurrentLoads}__incNumCurrentLoads(){this._numCurrentLoads+=1}__decNumCurrentLoads(){this._numCurrentLoads-=1}__getMaxCurrentLoads(){return this._maxCurrentLoads}__getEndPoints(){return this._endPoints}__endPointsAreLoaded(){return 0===this._numEndPointsLoading}__getTextureCache(){return this._textureCache}__getCameraPositions(){return this._cameraPositions}__getCameraFieldsOfView(){return this._cameraFieldsOfView}__getThreeJsScene(){return this._threeJsScene}__getSplitJoinThresholdFactor(){return this._splitJoinThresholdFactor}__getColorTileSize(){return this._colorTileSize}__getSpheroidComponent(){return this._spheroidComponentRef.get()}_spheroidRefChangedCallback(t,e){null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),null!==e&&e.addChangedCallback(this._spheroidChangedCallback),this._spheroidChangedCallback()}_spheroidChangedCallback(){const t=this._spheroidComponentRef.get();null!==t?this.__setRadius(Math.max(t.getEquatorialRadius(),t.getPolarRadius())):this.__setRadius(0),this.resetResources()}}class td extends mh{constructor(t,e,i,s,n){super(e),this._component=t,this._face=i,this._level=s,this._levelPow=Math.pow(2,-Math.max(0,s)),this._tile=new Fh,this._tile.copy(n),this._isLeaf=!0,this._center=new Vh,this._centerLLA=new su,this._radius=0,this._threeJsMaterial=null,this._textureLevels=new wh,this._texturePromises=new wh,this._nonPositiveTextureLoading=!1,this._threeJsObject=null,this._heightData=null;for(let t=0;t<2;t++)for(let e=0;e<2;e++)for(let i=0;i<this._component.__getEndPoints().size;i++){const s=this._component.__getEndPoints().getAt(i).value.configuration;this._isLeaf=this._isLeaf&&!td._isInABoundary(s,this._face,this._level+1,new Fh(2*this._tile.x+e,2*this._tile.y+t))}const a=t.__getSpheroidComponent();td.cmtsCoordToPosition(this._center,this._face,this._levelPow,this._tile.x+.5,this._tile.y+.5,a),a.llaFromXYZ(this._centerLLA,this._center);const r=new Vh,o=new Vh,l=new Vh,c=new Vh;td.cmtsCoordToPosition(r,this._face,this._levelPow,this._tile.x,this._tile.y,a),td.cmtsCoordToPosition(o,this._face,this._levelPow,this._tile.x+1,this._tile.y,a),td.cmtsCoordToPosition(l,this._face,this._levelPow,this._tile.x+1,this._tile.y+1,a),td.cmtsCoordToPosition(c,this._face,this._levelPow,this._tile.x,this._tile.y+1,a),r.sub(this._center,r),o.sub(this._center,o),l.sub(this._center,l),c.sub(this._center,c),this._radius=Math.max(r.magnitude(),o.magnitude(),l.magnitude(),c.magnitude());const h=this._component.__getEndPoints();for(let t=0;t<h.size;t++){const e=h.getAt(t).key,i=h.getAt(t).value;if(td._isInABoundary(i.configuration,this._face,this._level,this._tile)){const t=0===this._level?this._getNonPositiveLevel(e):0,i=0===this._level?t:this._level;this._textureLevels.set(e,i)}else{let i=this.getParent();for(;null!==i&&i._level!==i._textureLevels.getAt(t).value;)i=i.getParent();null!==i?this._textureLevels.set(e,i._textureLevels.getAt(t).value):this._textureLevels.set(e,0)}}}getLevel(){return this._level}getTileCoord(){return this._tile}hasHeightData(){return null!==this._heightData}getHeight(t){if(null===this._heightData)return 0;const e=Math.max(0,1<<this._level),i=1<<this._level-Math.max(0,this._textureLevels.get("height")),s=new Fh((this._tile.x-Math.floor(this._tile.x/i)*i)/i,(this._tile.y-Math.floor(this._tile.y/i)*i)/i),n=new Fh(1/i,1/i),a=t.x*e-this._tile.x,r=t.y*e-this._tile.y,o=(s.x+a*n.x)*(this._heightData.width-4)/this._heightData.width+2/this._heightData.width,l=1-((s.y+r*n.y)*(this._heightData.width-4)/this._heightData.width+2/this._heightData.width),c=o*this._heightData.width,h=l*this._heightData.width,u=td.getLinearInterpolatedHeightPixel(c,h,this._heightData.data,this._heightData.width),d=this._component.__getEndPoints().get("height").configuration;return d.height_range.min*this._component.getHeightScale()+u*((d.height_range.max-d.height_range.min)*this._component.getHeightScale())}createNewTile(t,e,i){const s=this._level+1,n=new Fh(2*t._tile.x+i,2*t._tile.y+e);return new td(t._component,this,this._face,s,n)}checkSplit(){if(this._isLeaf||this._level>=this._component.getMaxLevel())return!1;if(this._component.__getNumCurrentLoads()>=this._component.__getMaxCurrentLoads())return!1;if(this._level<this._component.getMinLevel())return!0;const t=this._component.__getColorTileSize();return this._getNearestDistance()<this._component.__getSplitJoinThresholdFactor()*this._radius/t}checkJoin(){if(this._level>=this._component.getMaxLevel())return!0;if(this._component.__getNumCurrentLoads()>=this._component.__getMaxCurrentLoads())return!1;if(this._level<this._component.getMinLevel())return!1;const t=this._component.__getColorTileSize();return this._getNearestDistance()>this._component.__getSplitJoinThresholdFactor()*this._radius/t*4}async load(){if(this._component.__incNumCurrentLoads(),null!==this._threeJsMaterial)throw this._component.__decNumCurrentLoads(),new Error("Tile already has material.");this._threeJsMaterial=lu.get(),this._component.getThreeJsMaterials().push(this._threeJsMaterial),this._threeJsMaterial.defines.shadowEntities=this._component.getNumShadowEntities()>0;const t=this._component.__getEndPoints(),e=[];for(let i=0;i<t.size;i++){const s=t.getAt(i).key,n=t.getAt(i).value,a=this._textureLevels.get(s);if(!isFinite(a))continue;const r=this._tile.x>>this._level-a,o=this._tile.y>>this._level-a,l=n.url+"/"+this._face+"/"+a+"/"+r+"/"+o+"."+n.configuration.extension;let c=this._component.__getTextureCache().get(l);this._texturePromises.set(s,c),e.push(c.then((t=>{this._setTexture(s,t)})).catch((async()=>{this._component.__getTextureCache().release(c),c=this._component.__getTextureCache().get("pink"),this._texturePromises.set(s,c);const t=await c;this._setTexture(s,t)})))}return Promise.all(e).finally((()=>{this._component.__decNumCurrentLoads()}))}async unload(){if(null===this._threeJsMaterial)throw new Error("Tile has no material to unload.");const t=this._component.getThreeJsMaterials();for(let e=0,i=t.length;e<i;e++)if(t[e]===this._threeJsMaterial){t.splice(e,1);break}du.destroyMaterial(this._threeJsMaterial,!1),this._threeJsMaterial=null;for(let t=0;t<this._texturePromises.size;t++)this._component.__getTextureCache().release(this._texturePromises.getAt(t).value)}async activate(){if(null!==this._threeJsObject||null===this._threeJsMaterial)throw new Error("NULL");const t=[{name:"position",dimensions:3},{name:"normal",dimensions:3},{name:"uv",dimensions:2}];this._textureLevels.has("normal")&&(t.push({name:"tangent",dimensions:3}),t.push({name:"bitangent",dimensions:3}));for(let e=0;e<this._textureLevels.size;e++){const i=this._textureLevels.getAt(e).key;"color"!==i&&"height"!==i&&t.push({name:i+"UV",dimensions:2})}this._threeJsObject=du.createMeshObject(this._component,this._threeJsMaterial,t,!1),this._component.getThreeJsObjects().push(this._threeJsObject),du.useInDynEnvMap(this._threeJsObject,!0),this._setupMesh()}async deactivate(){const t=this._component.getThreeJsObjects();for(let e=0,i=t.length;e<i;e++)if(t[e]===this._threeJsObject){t.splice(e,1);break}du.destroyObject(this._threeJsObject),this._threeJsObject=null}update(){if(!this._component.__endPointsAreLoaded())return!1;let t=this.check();for(let e=0,i=this.children.length;e<i;e++)t=this.children[e].update()||t;if(!t&&!this._nonPositiveTextureLoading&&0===this._level&&0===this.children.length){const e=this._component.__getEndPoints();for(let i=0;i<e.size;i++){const s=e.getAt(i).key,n=e.getAt(i).value,a=this._getNonPositiveLevel(s);if(a!==this._textureLevels.get(s)){if(this._textureLevels.set(s,a),!isFinite(a))continue;this._nonPositiveTextureLoading=!0,t=!0;const e=n.url+"/"+this._face+"/"+a+"/0/0."+n.configuration.extension,i=this._texturePromises.get(s);let r=this._component.__getTextureCache().get(e);this._texturePromises.set(s,r),r.then((t=>{this._setTexture(s,t),this._setupMesh(),this._nonPositiveTextureLoading=!1})).catch((async()=>{this._component.__getTextureCache().release(r),r=this._component.__getTextureCache().get("pink"),this._texturePromises.set(s,r);const t=await r;this._setTexture(s,t),this._nonPositiveTextureLoading=!1})).finally((()=>{void 0!==i&&this._component.__getTextureCache().release(i)}))}}}return t=this._nonPositiveTextureLoading||t,t}_setupMesh(){const t=this._component.__getColorTileSize(),e=new wh,i=new wh,s=new wh;for(let t=0;t<this._textureLevels.size;t++){const e=this._textureLevels.getAt(t).key,n=1<<this._level-Math.max(0,this._textureLevels.get(e));i.set(e,new Fh((this._tile.x-Math.floor(this._tile.x/n)*n)/n,(this._tile.y-Math.floor(this._tile.y/n)*n)/n)),s.set(e,new Fh(1/n,1/n))}const n=this._textureLevels.has("normal"),a=this._heightData?hh.clamp(Math.ceil(this._heightData.width*s.get("height").x)-2,5,129):5<<hh.clamp(2-this._level/2,0,2),r=this._heightData?hh.clamp(Math.ceil(this._heightData.height*s.get("height").y)-2,5,129):5<<hh.clamp(2-this._level/2,0,2),o=a*r,l=new Float32Array(3*o),c=new Float32Array(3*o);let h=null,u=null;n&&(h=new Float32Array(3*o),u=new Float32Array(3*o));const d=new Uint16Array((a-1)*(r-1)*6);for(let t=0;t<this._textureLevels.size;t++){const i=this._textureLevels.getAt(t).key;e.set(i,new Float32Array(2*o))}let p=0,m=1;if(this._textureLevels.has("height")){const t=this._component.__getEndPoints().get("height").configuration;p=t.height_range.min*this._component.getHeightScale(),m=(t.height_range.max-t.height_range.min)*this._component.getHeightScale()}const g=new Fh,_=new Fh,f=new Vh,y=new Vh,v=new Vh,b=new Vh,x=new Vh,S=new su,T=this._component.__getSpheroidComponent();for(let o=0;o<r;o++)for(let w=0;w<a;w++){const E=o*a+w;if(g.set(this._tile.x+(w-1)/(a-3),this._tile.y+(o-1)/(r-3)),_.set(this._tile.x+hh.clamp01((w-1)/(a-3)),this._tile.y+hh.clamp01((o-1)/(r-3))),td.cmtsCoordToPosition(f,this._face,this._levelPow,_.x,_.y,T),n&&(td.cmtsCoordToTangent(b,this._face,this._levelPow,g.x,g.y,T),td.cmtsCoordToBitangent(x,this._face,this._levelPow,g.x,g.y,T)),T.llaFromXYZ(S,f),T.upFromLLA(v,S),T.isPlanetographic()?y.copy(v):y.normalize(f),this._heightData){const t=this._heightData.data,e=i.get("height"),n=s.get("height"),l=this._heightData.width-4;if(td.getHeightPos(f,y,w,o,t,e,a,r,n,l,p,m),!this._textureLevels.has("normal")){const i=Vh.pool.get(),s=Vh.pool.get(),c=Vh.pool.get(),h=Vh.pool.get(),u=Vh.pool.get(),d=Vh.pool.get(),_=Vh.pool.get(),f=Vh.pool.get();td.cmtsCoordToPosition(i,this._face,this._levelPow,g.x-1/(a-3),g.y,T),td.getHeightPos(i,y,w-1,o,t,e,a,r,n,l,p,m),td.cmtsCoordToPosition(s,this._face,this._levelPow,g.x+1/(a-3),g.y,T),td.getHeightPos(s,y,w+1,o,t,e,a,r,n,l,p,m),td.cmtsCoordToPosition(c,this._face,this._levelPow,g.x,g.y-1/(r-3),T),td.getHeightPos(c,y,w,o-1,t,e,a,r,n,l,p,m),td.cmtsCoordToPosition(h,this._face,this._levelPow,g.x,g.y+1/(r-3),T),td.getHeightPos(h,y,w,o+1,t,e,a,r,n,l,p,m),td.cmtsCoordToPosition(u,this._face,this._levelPow,g.x-1/(a-3),g.y-1/(r-3),T),td.getHeightPos(u,y,w-1,o-1,t,e,a,r,n,l,p,m),td.cmtsCoordToPosition(d,this._face,this._levelPow,g.x+1/(a-3),g.y+1/(r-3),T),td.getHeightPos(d,y,w+1,o+1,t,e,a,r,n,l,p,m),i.sub(s,i),c.sub(h,c),y.cross(i,c),y.normalize(y),Vh.pool.release(i),Vh.pool.release(s),Vh.pool.release(c),Vh.pool.release(h),Vh.pool.release(u),Vh.pool.release(d),Vh.pool.release(_),Vh.pool.release(f)}}0!==w&&0!==o&&w!==a-1&&o!==r-1||f.setMagnitude(f,f.magnitude()-2*m*this._levelPow),f.sub(f,this._center),l[3*E+0]=f.x,l[3*E+1]=f.y,l[3*E+2]=f.z,c[3*E+0]=y.x,c[3*E+1]=y.y,c[3*E+2]=y.z,n&&(h[3*E+0]=b.x,h[3*E+1]=b.y,h[3*E+2]=b.z,u[3*E+0]=x.x,u[3*E+1]=x.y,u[3*E+2]=x.z);for(let n=0;n<this._textureLevels.size;n++){const l=this._textureLevels.getAt(n).key,c=i.get(l),h=s.get(l),u=e.get(l);u[2*E+0]=(c.x+(w-1)/(a-3)*h.x)*t/(t+4)+2/(t+4),u[2*E+1]=1-((c.y+(o-1)/(r-3)*h.y)*t/(t+4)+2/(t+4))}if(w<a-1&&o<r-1){const t=o*(a-1)+w;d[6*t+0]=a*(o+0)+(w+0),d[6*t+1]=a*(o+0)+(w+1),d[6*t+2]=a*(o+1)+(w+1),d[6*t+3]=a*(o+0)+(w+0),d[6*t+4]=a*(o+1)+(w+1),d[6*t+5]=a*(o+1)+(w+0)}}du.setVertices(this._threeJsObject.geometry,"position",l),du.setVertices(this._threeJsObject.geometry,"normal",c),n&&(du.setVertices(this._threeJsObject.geometry,"tangent",h),du.setVertices(this._threeJsObject.geometry,"bitangent",u));for(let t=0;t<this._textureLevels.size;t++){const i=this._textureLevels.getAt(t).key,s=e.get(i);"height"!==i&&("color"===i?du.setVertices(this._threeJsObject.geometry,"uv",s):du.setVertices(this._threeJsObject.geometry,i+"UV",s))}du.setIndices(this._threeJsObject.geometry,d)}_getNonPositiveLevel(t){const e=this._getNearestDistance();if(!Number.isFinite(e))return NaN;const i=this._component.__getEndPoints().get(t),s=i.configuration.tile_size;return hh.clamp(4-Math.floor(Math.log2(e/this._radius/this._component.__getSplitJoinThresholdFactor()*s*4)),i.configuration.first_level,0)}_getNearestDistance(){let t=Number.POSITIVE_INFINITY;const e=this._component.__getCameraPositions(),i=this._component.__getCameraFieldsOfView();for(let s=0,n=e.length;s<n;s++){const n=e[s],a=i[s];td._pos.sub(n,this._center);const r=Math.max(0,td._pos.magnitude()-this._radius)*Math.tan(a/2);t>r&&(t=r)}return t}toString(){return this._face+"/"+this._level+"/"+this._tile.x+"/"+this._tile.y}prepareForRender(t){const e=this._component.getEntity();if(null!==this._threeJsObject){const i=e.getCameraSpacePosition(t),s=Vh.pool.get();s.rotate(e.getOrientation(),this._center);const n=Math.acos(s.dot(i)/s.magnitude()/i.magnitude());if(Vh.pool.release(s),n<Math.PI/2-Math.PI/4*this._levelPow)return void(this._threeJsObject.visible=!1)}du.setPositionToEntity(this._threeJsObject,this._component.getEntity(),t,this._center,!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].prepareForRender(t)}_setTexture(t,e){if("loaded"===this._component.getLoadState())if("height"===t){const t=document.createElement("canvas");t.width=e.image.width,t.height=e.image.height;const i=t.getContext("2d",{desynchronized:!0,alpha:!1});i.drawImage(e.image,0,0),this._heightData=i.getImageData(0,0,e.image.width,e.image.height);const s=this._component.__getSpheroidComponent();td.cmtsCoordToPosition(this._center,this._face,this._levelPow,this._tile.x+.5,this._tile.y+.5,s);const n=Vh.pool.get(),a=su.pool.get();s.llaFromXYZ(a,this._center),s.upFromLLA(n,a);const r=td.getLinearInterpolatedHeightPixel(this._heightData.width/2,this._heightData.height/2,this._heightData.data,this._heightData.width),o=this._component.__getEndPoints().get("height").configuration,l=o.height_range.min*this._component.getHeightScale(),c=(o.height_range.max-o.height_range.min)*this._component.getHeightScale();this._center.addMult(this._center,n,l+r*c),Vh.pool.release(n),su.pool.release(a)}else this._threeJsMaterial.uniforms[t+"Texture"].value=e,"normal"===t?(this._threeJsMaterial.defines.normalMap=!0,this._threeJsMaterial.defines.normalUVs=!0,this._threeJsMaterial.defines.hasBitangents=!0,this._threeJsMaterial.uniforms.normalScale.value.set(this._component.getHeightScale(),this._component.getHeightScale()),this._threeJsMaterial.uniforms.specularIntensity.value=0,this._threeJsMaterial.uniforms.specularHardness.value=100):"specular"===t?(this._threeJsMaterial.defines.specularMap=!0,this._threeJsMaterial.defines.specularUVs=!0):"night"===t?(this._threeJsMaterial.defines.nightMap=!0,this._threeJsMaterial.defines.nightUVs=!0):"decal"===t&&(this._threeJsMaterial.defines.decalMap=!0,this._threeJsMaterial.defines.decalUVs=!0)}static _getGreatestLevel(t,e,i,s){let n=Number.NEGATIVE_INFINITY;for(let a=0,r=t.boundaries.length;a<r;a++){const r=t.boundaries[a];if(r.face!==e)continue;const o=r.last_level-i;r.min[0]<=s.x>>o&&s.x>>o<=r.max[0]&&r.min[1]<=s.y>>o&&s.y>>o<=r.max[1]&&n<r.last_level&&(n=r.last_level)}return n}static _isInABoundary(t,e,i,s){let n=!1;for(let a=0,r=t.boundaries.length;a<r;a++){const r=t.boundaries[a];if(r.face!==e)continue;if(r.last_level<i)continue;const o=1<<r.last_level-i;s.x<Math.floor(r.min[0]/o)||Math.floor(r.max[0]/o)<s.x||s.y<Math.floor(r.min[1]/o)||Math.floor(r.max[1]/o)<s.y||(n=!0)}return n}static getHeightPos(t,e,i,s,n,a,r,o,l,c,h,u){const d=((a.x+(i-1)/(r-3)*l.x)*c/(c+4)+2/(c+4))*(c+4),p=(1-((a.y+(s-1)/(o-3)*l.y)*c/(c+4)+2/(c+4)))*(c+4),m=this.getLinearInterpolatedHeightPixel(d,p,n,c+4);t.addMult(t,e,h+m*u)}static getLinearInterpolatedHeightPixel(t,e,i,s){const n=Math.floor(t),a=Math.floor(e),r=t-n,o=e-a,l=Math.abs(r-.5),c=Math.abs(o-.5);let h=this.getHeightFromPixel(n,a,i,s)*((1-l)*(1-c));return r>=.5?(h+=this.getHeightFromPixel(n+1,a,i,s)*(l*(1-c)),o<.5?h+=this.getHeightFromPixel(n+1,a-1,i,s)*(l*c):o>=.5&&(h+=this.getHeightFromPixel(n+1,a+1,i,s)*(l*c))):r<.5&&(h+=this.getHeightFromPixel(n-1,a,i,s)*(l*(1-c)),o<.5?h+=this.getHeightFromPixel(n-1,a-1,i,s)*(l*c):o>=.5&&(h+=this.getHeightFromPixel(n-1,a+1,i,s)*(l*c))),o>=.5?h+=this.getHeightFromPixel(n,a+1,i,s)*((1-l)*c):o<.5&&(h+=this.getHeightFromPixel(n,a-1,i,s)*((1-l)*c)),h}static getHeightFromPixel(t,e,i,s){t=hh.clamp(t,0,s-1);const n=4*((e=hh.clamp(e,0,s-1))*s+t);return i[n+0]/256+i[n+1]/65536+i[n+2]/16777216}static cmtsCoordToPosition(t,e,i,s,n,a){let r=s*i,o=n*i;for(;r<0||r>1||o<0||o>1;)if(0<=e&&e<=3){if(r>1)r-=1,e=(e+1)%4;else if(r<0)r+=1,e=(e+3)%4;else if(0===e)o<0?(o+=1,e=5):o>1&&(o-=1,e=4);else if(1===e){if(o<0){const t=r;r=o+1,o=1-t,e=5}else if(o>1){const t=r;r=2-o,o=t,e=4}}else if(2===e)o<0?(r=1-r,o=0-o,e=5):o>1&&(r=1-r,o=2-o,e=4);else if(3===e)if(o<0){const t=r;r=0-o,o=t,e=5}else if(o>1){const t=r;r=o-1,o=1-t,e=4}}else if(4===e)if(r<0){const t=r;r=1-o,o=t+1,e=3}else if(r>1){const t=r;r=o,o=2-t,e=1}else o<0?(o+=1,e=0):o>1&&(r=1-r,o=2-o,e=2);else if(5===e)if(r<0){const t=r;r=o,o=0-t,e=3}else if(r>1){const t=r;r=1-o,o=t-1,e=1}else o<0?(r=1-r,o=0-o,e=2):o>1&&(o-=1,e=0);const l=2*r-1,c=2*o-1,h=this._basis[e];t.set(h[0].x*l+h[1].x*c+h[2].x,h[0].y*l+h[1].y*c+h[2].y,h[0].z*l+h[1].z*c+h[2].z),t.normalize(t),Ah.getLLAFromXYZOnSphere(this._lla,t,0),this._lla.alt=0,a.xyzFromLLA(t,this._lla)}static cmtsCoordToTangent(t,e,i,s,n,a){this.cmtsCoordToPosition(t,e,i,s,n,a);const r=this._basis[e];t.setNormalTo(t,r[0])}static cmtsCoordToBitangent(t,e,i,s,n,a){this.cmtsCoordToPosition(t,e,i,s,n,a);const r=this._basis[e];t.setNormalTo(t,r[1])}}td._basis=[[Vh.YAxis,Vh.ZAxis,Vh.XAxis],[Vh.XAxisNeg,Vh.ZAxis,Vh.YAxis],[Vh.YAxisNeg,Vh.ZAxis,Vh.XAxisNeg],[Vh.XAxis,Vh.ZAxis,Vh.YAxisNeg],[Vh.YAxis,Vh.XAxisNeg,Vh.ZAxis],[Vh.YAxis,Vh.XAxis,Vh.ZAxisNeg]],td._lla=new su,td._pos=new Vh;class ed extends Yu{constructor(t,e,i){super(t,e,i),this._lightSource=new iu(this.getEntity().getScene()),this._timeLength=6e5,this._numberOfParticles=200,this._color=new vh,this._color.freeze(),this._starAccelerationMultiplier=1,this._timeOfParticle0=0}getLightSource(){return this._lightSource.getName()}setLightSource(t){this._lightSource.setName(t)}getTimeLength(){return this._timeLength}setTimeLength(t){this._timeLength=t,this.resetResources()}getStarAccelerationMultiplier(){return this._starAccelerationMultiplier}setStarAccelerationMultiplier(t){this._starAccelerationMultiplier=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"starAccelerationMultiplier",this._starAccelerationMultiplier)}getNumberOfParticles(){return this._numberOfParticles}setNumberOfParticles(t){this._numberOfParticles=t,this.resetResources()}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color)}__update(){if(this.__setRadius(Math.max(this.getEntity().getExtentsRadius(),this._timeLength*this.getEntity().getVelocity().magnitude())),"loaded"!==this.getLoadState())return;const t=this.getEntity().getScene().getEngine().getTime(),e=this.getThreeJsObjects()[0].geometry.attributes.originTime.array;for(let i=0,s=this._numberOfParticles;i<s;i++){const s=e[i]+this._timeOfParticle0;(s<t-this._timeLength||s>t)&&this._newParticle(i,hh.wrap(s,t-this._timeLength,t))}this._numberOfParticles>1?du.setUniformNumber(this.getThreeJsMaterials()[0],"time",t-this._timeOfParticle0):du.setUniformNumber(this.getThreeJsMaterials()[0],"time",0);const i=this._lightSource.get();if(null!==i){const t=i.getComponentByType("lightSource");null!==t&&du.setUniformNumber(this.getThreeJsMaterials()[0],"starAbsoluteMagnitude",t.getAbsoluteMagnitude());const e=Vh.pool.get();this.getEntity().getPositionRelativeToEntity(e,Vh.Zero,i),du.setUniformVector3(this.getThreeJsMaterials()[0],"positionOfEntity",e),Vh.pool.release(e)}}__prepareForRender(t){du.setPositionToEntity(this.getThreeJsObjects(),this.getEntity(),t);const e=this.getEntity().getCameraSpacePosition(t);if(du.setUniformVector3(this.getThreeJsMaterials()[0],"positionInCamera",e),e.magnitude()<4e4)this.getThreeJsObjects()[0].visible=!1;else{const t=(e.magnitude()-4e4)/4e5;this.getThreeJsMaterials()[0].uniforms.color.value.w=this._color.a*hh.clamp01(t),this.getThreeJsObjects()[0].visible=!0}}async __loadResources(){const t=new ko({uniforms:{time:new ql(0),timeLength:new ql(0),positionInCamera:new ql(new ze),starAbsoluteMagnitude:new ql(0),starAccelerationMultiplier:new ql(0),positionOfEntity:new ql(new ze),color:new ql(new Oe),...eh.ThreeUniforms},vertexShader:ed.vertexShader,fragmentShader:ed.fragmentShader,transparent:!0,depthWrite:!1,blending:2,side:2});cu.fix(t),this.getThreeJsMaterials().push(t);const e=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),i=new Uint16Array([0,1,2,2,3,0]),s=new Float32Array(1*this._numberOfParticles),n=new Float32Array(3*this._numberOfParticles),a=new Float32Array(1*this._numberOfParticles),r=new Nl;r.setAttribute("position",new hs(e,3)),r.setAttribute("originTime",new ao(s,1)),r.setAttribute("originPosition",new ao(n,3)),r.setAttribute("accelerationMultiplier",new ao(a,1)),r.setIndex(new hs(i,1)),r.instanceCount=this._numberOfParticles;const o=du.createMeshObjectGivenGeometry(this,t,r);this.getThreeJsObjects().push(o);const l=this.getEntity().getScene().getEngine().getTime();for(let t=0,e=this._numberOfParticles;t<e;t++)this._newParticle(t,l-t/e*this._timeLength);du.setUniformNumber(this.getThreeJsMaterials()[0],"timeLength",this._timeLength),du.setUniformNumber(this.getThreeJsMaterials()[0],"starAccelerationMultiplier",this._starAccelerationMultiplier),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color)}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_newParticle(t,e){const i=e,s=this.getThreeJsObjects()[0].geometry.attributes.originTime,n=s.array;if(t>0)n[t]=i-this._timeOfParticle0;else{for(let t=1,e=this._numberOfParticles;t<e;t++)n[t]+=this._timeOfParticle0-i;this._timeOfParticle0=i,n[0]=0}s.needsUpdate=!0;const a=Vh.pool.get(),r=this._lightSource.get();null!==r&&this.getEntity().getPositionRelativeToEntity(a,Vh.Zero,r,i);const o=this.getThreeJsObjects()[0].geometry.attributes.originPosition,l=o.array;l[3*t+0]=a.x,l[3*t+1]=a.y,l[3*t+2]=a.z,o.needsUpdate=!0,Vh.pool.release(a);const c=this.getThreeJsObjects()[0].geometry.attributes.accelerationMultiplier;c.array[t]=0+1*Math.random(),c.needsUpdate=!0}}ed.vertexShader=`\n\tattribute vec3 position;\n\tattribute float originTime;\n\tattribute vec3 originPosition;\n\tattribute vec3 originStarPosition;\n\tattribute vec3 originExternalAcceleration;\n\tattribute float accelerationMultiplier;\n\n\tuniform float time;\n\tuniform float timeLength;\n\tuniform vec3 positionInCamera;\n\tuniform float starAbsoluteMagnitude;\n\tuniform float starAccelerationMultiplier;\n\tuniform vec3 positionOfEntity;\n\tuniform mat4 viewMatrix;\n\tuniform mat4 modelViewMatrix;\n\tuniform mat4 projectionMatrix;\n\n\tvarying vec2 vPosition;\n\tvarying float vAlpha;\n\n\t${eh.VertexHead}\n\n\tvoid main() {\n\t\t// Get the position of the center point of the quad in model space.\n\t\tfloat deltaTime = time - originTime;\n\t\tvec3 externalAcceleration = starAccelerationMultiplier * accelerationMultiplier * normalize(originPosition) * 5.0e7 * pow(2.51188643151, 20.0 - starAbsoluteMagnitude) / dot(originPosition, originPosition);\n\t\tvec3 modelPosition = externalAcceleration * pow(deltaTime, 1.5);\n\n\t\t// Get a general expansion scale in all directions.\n\t\tfloat expansion = 0.2 * max(1.0e5, length(modelPosition));\n\n\t\t// Get the stretch direction in view space.\n\t\tvec3 modelStretch = modelPosition;\n\t\tvec3 cameraDirection = normalize(positionInCamera);\n\t\tmodelStretch = modelStretch - dot(cameraDirection, modelStretch) * cameraDirection;\n\t\tvec4 viewStretch = viewMatrix * vec4(modelStretch, 1.0);\n\n\t\t// Get the stretch amounts in the x and y directions.\n\t\tvec2 stretch2d = vec2(max(expansion, 2.0 * length(viewStretch.xz)), expansion);\n\n\t\t// Do the stretch calculation on the vertex position in view space.\n\t\t// It translates it, rotates it, stretches it, and unrotates it.\n\t\tvec2 translate = 0.5 * normalize(vec2(viewStretch.xz));\n\t\tfloat angle = length(viewStretch.xz) > 0.0 ? atan(viewStretch.z, viewStretch.x) : 0.0;\n\t\tfloat cosAngle = cos(angle);\n\t\tfloat sinAngle = sin(angle);\n\t\tfloat stretchedX = (stretch2d.x * cosAngle * cosAngle + stretch2d.y * sinAngle * sinAngle) * 0.5 * (position.x + translate.x) + (stretch2d.x - stretch2d.y) * sinAngle * cosAngle * 0.5 * (position.y + translate.y);\n\t\tfloat stretchedY = (stretch2d.x - stretch2d.y) * sinAngle * cosAngle * 0.5 * (position.x + translate.x) + (stretch2d.x * sinAngle * sinAngle + stretch2d.y * cosAngle * cosAngle) * 0.5 * (position.y + translate.y);\n\n\t\t// Get the position in view space and then in normalized space.\n\t\tvec4 viewPosition = vec4(stretchedX, 0.0, stretchedY, 0.0) + modelViewMatrix * vec4(modelPosition, 1.0);\n\t\tgl_Position = projectionMatrix * viewPosition;\n\t\tgl_Position.w = viewPosition.y;\n\n\t\t// Set the varying variables for adjusting te\n\t\tvPosition = vec2(cosAngle * position.x + sinAngle * position.y, -sinAngle * position.x + cosAngle * position.y);\n\t\tvAlpha = sqrt(1.0 - sqrt(deltaTime / timeLength));\n\n\t\t// Make the gas fade far from the star.\n\t\tvAlpha *= min(1.0, 1.0 - length(originPosition) / 7.0e8);\n\n\t\t${eh.Vertex}\n\t}`,ed.fragmentShader=`\n\tprecision highp float;\n\n\tuniform vec4 color;\n\n\tvarying vec2 vPosition;\n\tvarying float vAlpha;\n\n\t${eh.FragmentHead}\n\n\tvoid main(void) {\n\t\t// Set the color to be a circle tinted by the color.\n\t\tgl_FragColor = vec4(color.rgb, 0.5 * color.a) * max(0.0, 1.0 - dot(vPosition, vPosition)) * vAlpha;\n\n\t\t${eh.Fragment}\n\t}`;class id extends Yu{constructor(t,e,i){super(t,e,i),this._entity1=new iu(this.getEntity().getScene()),this._entity1Offset=new Vh,this._entity1Offset.freeze(),this._entity2=new iu(this.getEntity().getScene()),this._entity2Offset=new Vh,this._entity2Offset.freeze(),this._width1=1,this._width2=1,this._widthUnits="km",this._textureUrl="",this._textureAspectRatio=1,this._textureRepeat=!0,this._textureStretch=1,this._textureYOffset=0,this._uOffsetStart=0,this._uOffsetEnd=1,this._colorMultiplier=new vh(1,1,1,1),this._colorMultiplier.freeze(),this._blending="normal"}getEntity1(){return this._entity1.getName()}setEntity1(t){this._entity1.setName(t)}getEntity1Offset(){return this._entity1Offset}setEntity1Offset(t){this._entity1Offset.thaw(),this._entity1Offset.copy(t),this._entity1Offset.freeze()}getEntity2(){return this._entity2.getName()}setEntity2(t){this._entity2.setName(t)}getEntity2Offset(){return this._entity2Offset}setEntity2Offset(t){this._entity2Offset.thaw(),this._entity2Offset.copy(t),this._entity2Offset.freeze()}getWidth1(){return this._width1}getWidth2(){return this._width2}setWidths(t,e){this._width1=t,this._width2=e}getWidthUnits(){return this._widthUnits}setWidthUnits(t){if(this._widthUnits=t,"loaded"===this.getLoadState()){const e=this.getThreeJsMaterials()[0];e.defines.PIXEL_BASED="px"===t,e.needsUpdate=!0}}getTextureUrl(){return this._textureUrl}setTextureUrl(t){this._textureUrl=t,this.resetResources()}getTextureRepeat(){return this._textureRepeat}setTextureRepeat(t){this._textureRepeat=t}getTextureStretch(){return this._textureStretch}setTextureStretch(t){this._textureStretch=t}getTextureYOffset(){return this._textureYOffset}setTextureYOffset(t){this._textureYOffset=t}getUOffsetStart(){return this._uOffsetStart}setUOffsetStart(t){this._uOffsetStart=t}getUOffsetEnd(){return this._uOffsetEnd}setUOffsetEnd(t){this._uOffsetEnd=t}getColorMultiplier(){return this._colorMultiplier}setColorMultiplier(t){this._colorMultiplier.thaw(),this._colorMultiplier.copy(t),this._colorMultiplier.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._colorMultiplier,1)}setBlending(t){this._blending=t,du.setBlending(this.getThreeJsMaterials()[0],t)}__update(){const t=this._entity1.get(),e=this._entity2.get();if(null===t||null===e)return;const i=Vh.pool.get();t.getPositionRelativeToEntity(i,Vh.Zero,e),this.__setRadius(i.magnitude()+t.getExtentsRadius()+e.getExtentsRadius()),Vh.pool.release(i)}__prepareForRender(t){const e=this._entity1.get(),i=this._entity2.get();if(null===e||null===i)return void(this.getThreeJsObjects()[0].visible=!1);const s=Vh.pool.get(),n=Vh.pool.get(),a=Vh.pool.get();s.rotate(e.getOrientation(),this._entity1Offset),s.add(e.getCameraSpacePosition(t),s),n.rotate(i.getOrientation(),this._entity2Offset),n.add(i.getCameraSpacePosition(t),n),a.copy(s),s.lerp(s,n,this._uOffsetStart),n.lerp(a,n,this._uOffsetEnd);let r=s.magnitude(),o=n.magnitude(),l=!1;r>o&&(a.copy(s),s.copy(n),n.copy(a),r=s.magnitude(),o=n.magnitude(),l=!0),Vh.pool.release(a);const c=Vh.pool.get(),h=Vh.pool.get();t.getNormalSpacePositionFromCameraSpacePosition(c,s),t.getNormalSpacePositionFromCameraSpacePosition(h,n);const u=Vh.pool.get(),d=Vh.pool.get();u.sub(n,s),d.copy(s),d.cross(u,d),d.normalize(d),u.setMagnitude(u,Math.min(u.magnitude(),10*r)),n.add(s,u),t.getNormalSpacePositionFromCameraSpacePosition(h,n),o=n.magnitude();let p=l?this._width2:this._width1,m=l?this._width1:this._width2;if("px"===this._widthUnits){const e=Vh.pool.get();t.getEntity().getOrientation().getAxis(e,1),p=t.getViewport().getNormalSpaceRadiusFromPixelSpaceRadius(p),m=t.getViewport().getNormalSpaceRadiusFromPixelSpaceRadius(m),p=t.getRadiusFromNormalSpaceRadius(p,s.dot(e)),m=t.getRadiusFromNormalSpaceRadius(m,n.dot(e)),Vh.pool.release(e)}let g=1/this._textureStretch;if("px"===this._widthUnits){if(this._textureRepeat){const e=Fh.pool.get(),i=Fh.pool.get();t.getViewport().getPixelSpacePositionFromNormalSpacePosition(e,c),t.getViewport().getPixelSpacePositionFromNormalSpacePosition(i,h);const s=Fh.pool.get();if(s.sub(e,i),s.isNaN()){const e=t.getViewport().getBounds();s.x=e.size.x*(h.x-c.x)/2,s.y=e.size.y*(h.y-c.y)/2}g*=s.magnitude()/Math.max(this._width1,this._width2)*this._textureAspectRatio,Fh.pool.release(s),Fh.pool.release(e),Fh.pool.release(i)}}else this._textureRepeat&&(g*=u.magnitude()/Math.max(this._width1,this._width2)*this._textureAspectRatio);Vh.pool.release(c),Vh.pool.release(h),du.setPosition(this.getThreeJsObjects(),s),du.setUniformVector3(this.getThreeJsMaterials()[0],"vAxis",u),du.setUniformNumber(this.getThreeJsMaterials()[0],"width1",p),du.setUniformNumber(this.getThreeJsMaterials()[0],"width2",m),du.setUniformNumber(this.getThreeJsMaterials()[0],"textureYOffset",this._textureYOffset*(l?-1:1)),du.setUniformNumber(this.getThreeJsMaterials()[0],"repeatAmount",g),Vh.pool.release(s),Vh.pool.release(n),Vh.pool.release(u),Vh.pool.release(d)}async __loadResources(){const t=await du.loadTexture(this,this._textureUrl,!0,!1);if(t.wrapT=gt,this._textureAspectRatio=t.image.width/t.image.height,"loading"!==this.getLoadState())return void du.destroyTexture(t);const e=this.getEntity().getScene().getEngine().getMaterialManager().getPreloaded("connected_sprite");this.getThreeJsMaterials().push(e),du.setBlending(this.getThreeJsMaterials()[0],this._blending),du.setDefine(e,"PIXEL_BASED","px"===this._widthUnits),du.setUniformColorRGBA(e,"color",this._colorMultiplier,1),du.setUniformTexture(e,"colorTexture",t);const i=du.createMeshObject(this,e,[{name:"position",dimensions:3}],!1);this.getThreeJsObjects().push(i),du.setVertices(i.geometry,"position",new Float32Array([-1,-1,0,1,-1,0,-1,-1,1,1,-1,1])),du.setIndices(i.geometry,new Uint16Array([0,2,3,3,1,0]))}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}}class sd extends Yu{constructor(t,e,i){super(t,e,i),this._activeCamera=null,this._fadeWhenCloseToCamera=!0,this._fadeWhenCloseToEntity=new iu(this.getEntity().getScene()),this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.left="0",this._div.style.top="0",this._div.style.transform="translate(0%, 0%);",this._alignment=new Fh(0,.5),this._alignment.freeze(),this._sizeInPx=new Fh(0,0),this._currentHTML="",this.__setRadius(Number.POSITIVE_INFINITY)}getDiv(){return this._div}getActiveCamera(){return this._activeCamera}setActiveCamera(t){this._activeCamera=t,this.resetResources()}getFadeWhenCloseToCamera(){return this._fadeWhenCloseToCamera}setFadeWhenCloseToCamera(t){this._fadeWhenCloseToCamera=t}getFadeWhenCloseToEntity(){return this._fadeWhenCloseToEntity.getName()}setFadeWhenCloseToEntity(t){this._fadeWhenCloseToEntity.setName(t)}getAlignment(){return this._alignment}setAlignment(t){this._alignment.thaw(),this._alignment.copy(t),this._alignment.freeze()}__loadResources(){return Promise.resolve()}__unloadResources(){null!==this._div.parentNode&&this._div.parentNode.removeChild(this._div)}__prepareForRender(t){if(null===this._activeCamera){const t=this.getEntity().getScene().getEngine().getViewport(0);null!==t&&(this._activeCamera=t.getCamera())}if(this._activeCamera!==t||null===this._activeCamera||null===this._activeCamera.getViewport())return;this._activeCamera.getViewport().getDiv()!==this._div.parentNode&&this._activeCamera.getViewport().getDiv().appendChild(this._div);let e=1;if(e>0&&this._fadeWhenCloseToCamera){const i=this.getEntity().getNormalSpaceExtentsRadius(t);e*=hh.clamp01((.02-i)/.02)}const i=this.getEntity().getCameraSpacePosition(t);if(e>0){let i=null;if(i=""===this._fadeWhenCloseToEntity.getName()?this.getEntity().getParent():this._fadeWhenCloseToEntity.get(),null!==i){const s=Vh.pool.get();s.sub(this.getEntity().getNormalSpacePosition(t),i.getNormalSpacePosition(t));const n=s.magnitude();Vh.pool.release(s),i.getNormalSpaceExtentsRadius(t)<.02&&(e*=hh.clamp01((n-.02)/.02))}}if(e>0&&(null!==this.getEntity().getParent()&&this.getEntity().getParent().isOccludingPosition(t,i)||t.isPositionOccluded(i))&&(e=0),e>0){const i=Vh.pool.get();t.getEntity().getOrientation().getAxis(i,1),i.dot(this.getEntity().getCameraSpacePosition(t))<=0&&(e=0),Vh.pool.release(i)}if(this._div.style.opacity!==""+e&&(this._div.style.opacity=""+e,this._div.style.pointerEvents=0===e?"none":""),e>0){this._currentHTML!==this._div.innerHTML&&(this._sizeInPx.set(this._div.offsetWidth,this._div.offsetHeight),this._currentHTML=this._div.innerHTML);const e=t.getViewport().getBounds(),i=this.getEntity().getPixelSpacePosition(t),s=i.x-this._sizeInPx.x*this._alignment.x-e.origin.x+(e.size.x%2==0?-.5:0),n=i.y-this._sizeInPx.y*this._alignment.y-e.origin.y+(e.size.y%2==0?-.5:0);this._div.style.transform=`translate(${s}px, ${n}px)`}}}const nd=new Ue;class ad extends Yu{constructor(t,e,i){super(t,e,i),this._size=void 0,this._relativeToEntity=!0,this._joint="",this._jointObject=null,this._model=null,this._lineMesh=null,this.__setRadius(2*i.getExtentsRadius()),this.__setUsesEntityOrientation(this._relativeToEntity)}getSize(){return void 0!==this._size?this._size:Math.max(1e-4,2*this.getEntity().getExtentsRadius())}setSize(t){this._size=t,this.__setRadius(this.getSize())}isRelativeToEntity(){return this._relativeToEntity}setRelativeToEntity(t){this._relativeToEntity=t,this.__setUsesEntityOrientation(this._relativeToEntity)}setJoint(t,e){if(this._joint=t,e)this._model=e;else{const t=this.getEntity().get("model");null!==t&&(this._model=t)}}__prepareForRender(t){if(""===this._joint||null!==this._jointObject&&this._jointObject.name===this._joint||null===this._model||(this._jointObject=this._model.getThreeJsObjectByName(this._joint)),null!==this._jointObject){const e=Vh.pool.get();let i=this._jointObject;for(ad._tempThreeJsVector3.copy(i.position),ad._tempThreeJsQuaternion.copy(i.quaternion);null!==i.parent&&i.parent!==this._model.getThreeJsObjects()[0];)i=i.parent,ad._tempThreeJsVector3.add(i.position),ad._tempThreeJsQuaternion.multiplyQuaternions(i.quaternion,ad._tempThreeJsQuaternion);e.copyFromThreeJs(ad._tempThreeJsVector3),e.mult(e,.001),e.rotate(this._model.getRotation(),e),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t,e,!0),Vh.pool.release(e);const s=Lh.pool.get();s.copyFromThreeJs(ad._tempThreeJsQuaternion),s.mult(this._model.getRotation(),s),du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity(),s),Lh.pool.release(s)}else this._relativeToEntity?du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity()):du.setOrientation(this.getThreeJsObjects()[0],Lh.Identity),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t);du.setScale(this.getThreeJsObjects()[0],this.getSize()),this._lineMesh.prepareForRender(t)}__loadResources(){this._lineMesh=new au(this);const t=[];t.push(new Vh(0,0,0)),t.push(new Vh(1,0,0)),t.push(new Vh(0,0,0)),t.push(new Vh(0,1,0)),t.push(new Vh(0,0,0)),t.push(new Vh(0,0,1)),this._lineMesh.setPositions(t);const e=[];e.push(new vh(1,0,0)),e.push(new vh(1,0,0)),e.push(new vh(0,1,0)),e.push(new vh(0,1,0)),e.push(new vh(0,0,1)),e.push(new vh(0,0,1)),this._lineMesh.setColors(e);const i=[];return i.push(2),i.push(2),i.push(2),i.push(2),i.push(2),i.push(2),this._lineMesh.setWidths(i),Promise.resolve()}__unloadResources(){du.destroyAllObjectsAndMaterials(this),this._lineMesh=null}}ad._tempThreeJsVector3=new ze;class rd extends Yu{constructor(t,e,i){super(t,e,i),this._text="<PLACEHOLDER>",this._fontFamily="Arial",this._fontSize=16,this._color=new vh,this._color.freeze(),this._ignoreDistance=!1,this._alignment=new Fh(0,.5),this._alignment.freeze(),this._pixelOffset=new Fh(0,0),this._pixelOffset.freeze(),this._pixelSize=new Fh,this._devicePixelRatio=1,this._canvas=null,this._normalSpaceBounds=new Map;const s=i.getScene().getEngine().getConfig().getValue("fontFamily");"string"==typeof s&&(this._fontFamily=s);const n=i.getScene().getEngine().getConfig().getValue("fontSize");"number"==typeof n&&(this._fontSize=n),this.__setRadius(Number.POSITIVE_INFINITY)}getText(){return this._text}setText(t){this._text=t,this._updateText()}getFontFamily(){return this._fontFamily}setFontFamily(t){this._fontFamily=t,this._updateText()}getFontSize(){return this._fontSize}setFontSize(t){this._fontSize=t,this._updateText()}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze()}setIgnoreDistance(t){this._ignoreDistance=t}getAlignment(){return this._alignment}setAlignment(t){this._alignment.thaw(),this._alignment.copy(t),this._alignment.freeze(),this._updateText()}getPixelOffset(){return this._pixelOffset}setPixelOffset(t){this._pixelOffset.thaw(),this._pixelOffset.copy(t),this._pixelOffset.freeze()}getNormalSpaceBounds(t){return this._normalSpaceBounds.get(t)}__prepareForRender(t){const e=this.getEntity().getCameraSpacePosition(t);du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t),du.setOrientation(this.getThreeJsObjects()[0],Lh.Identity);let i=0;if("spout"===t.getType()){const e=t;du.setUniformNumber(this.getThreeJsMaterials()[0],"flipX",e.getForGlobe()?-1:1),i=e.getRenderWidth(),i/=4}else{du.setUniformNumber(this.getThreeJsMaterials()[0],"flipX",1);const e=t.getViewport().getBounds().size;i=Math.max(e.x,e.y)}const s=Fh.pool.get(),n=Fh.pool.get(),a=Vh.pool.get(),r=Vh.pool.get();if(s.set(this._pixelOffset.x-this._alignment.x*this._canvas.width,this._pixelOffset.y-this._alignment.y*this._canvas.height),n.set(this._canvas.width,this._canvas.height),t.getEntity().getOrientation().getAxis(a,2),t.getEntity().getOrientation().getAxis(r,0),du.setUniformVector2(this.getThreeJsMaterials()[0],"pixelOffset",s),du.setUniformVector2(this.getThreeJsMaterials()[0],"pixelSize",n),du.setUniformNumber(this.getThreeJsMaterials()[0],"renderSize",i),du.setUniformVector3(this.getThreeJsMaterials()[0],"renderUp",a),du.setUniformVector3(this.getThreeJsMaterials()[0],"renderRight",r),"spout"!==t.getType()){this._normalSpaceBounds.has(t)||this._normalSpaceBounds.set(t,new Ph);const e=this._normalSpaceBounds.get(t);e.thaw();const s=this.getEntity().getNormalSpacePosition(t);e.origin.x=s.x+2*(this._pixelOffset.x-this._alignment.x*this._pixelSize.x)/i,e.origin.y=s.y+2*(this._pixelOffset.y-this._alignment.y*this._pixelSize.y)/i,e.size.x=2*this._pixelSize.x/i,e.size.y=2*this._pixelSize.y/i,e.freeze()}Fh.pool.release(n),Fh.pool.release(s),Vh.pool.release(a),Vh.pool.release(r);let o=1;const l=this.getEntity().getNormalSpaceExtentsRadius(t);if(this._ignoreDistance||(o*=hh.clamp01((.02-l)/.02)),null!==this.getEntity().getParent()){const i=t.getNormalSpaceRadiusFromRadius(this.getEntity().getPosition().magnitude(),e.magnitude()),s=this.getEntity().getParent().getNormalSpaceExtentsRadius(t);!this._ignoreDistance&&s<.02&&(o*=hh.clamp01((i-.02)/.02))}(null!==this.getEntity().getParent()&&this.getEntity().getParent().isOccludingPosition(t,e)||t.isPositionOccluded(e))&&(o=0);const c=vh.pool.get();c.copy(this._color),c.a*=o,du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"colorMultiplier",c),vh.pool.release(c)}async __loadResources(){0===rd._useCount&&(rd._threeJsGeometry=du.createGeometry([{name:"position",dimensions:3},{name:"uv",dimensions:2}],!1),du.setVertices(rd._threeJsGeometry,"position",new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])),du.setVertices(rd._threeJsGeometry,"uv",new Float32Array([0,1,1,1,1,0,0,0])),du.setIndices(rd._threeJsGeometry,new Uint16Array([0,1,2,2,3,0])),rd._threeJsMaterial=new Js({uniforms:{colorMultiplier:new ql(new Oe(1,1,1,1)),colorTexture:new ql(null),pixelOffset:new ql(new pe(0,0)),pixelSize:new ql(new pe(1,1)),renderSize:new ql(1),renderUp:new ql(new ze(0,1,0)),renderRight:new ql(new ze(1,0,0)),flipX:new ql(1),...eh.ThreeUniforms},vertexShader:`\n\t\t\t\t\tuniform vec2 pixelOffset;\n\t\t\t\t\tuniform vec2 pixelSize;\n\t\t\t\t\tuniform float renderSize;\n\t\t\t\t\tuniform vec3 renderUp;\n\t\t\t\t\tuniform vec3 renderRight;\n\t\t\t\t\tuniform float flipX;\n\t\t\t\t\tvarying vec2 fUV;\n\n\t\t\t\t\t${eh.VertexHead}\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t// Get a frame for the label to be on the x-y axis.\n\t\t\t\t\t\tvec3 forward = (modelMatrix * vec4(0, 0, 0, 1.)).xyz;\n\t\t\t\t\t\tfloat distance = length(forward);\n\t\t\t\t\t\tforward = normalize(forward);\n\t\t\t\t\t\tvec3 up = normalize(renderUp);\n\t\t\t\t\t\tvec3 right = normalize(cross(forward, up));\n\n\t\t\t\t\t\t// Setup the up and right vectors.\n\t\t\t\t\t\tup *= (position.y * pixelSize.y + pixelOffset.y) / renderSize * distance;\n\t\t\t\t\t\tright *= (position.x * pixelSize.x + pixelOffset.x) / renderSize * distance * flipX;\n\n\t\t\t\t\t\t// Do the transforms.\n\t\t\t\t\t\tvec4 viewPosition = modelViewMatrix * vec4(up + right, 1.);\n\t\t\t\t\t\tgl_Position = projectionMatrix * viewPosition;\n\n\t\t\t\t\t\tfUV = uv;\n\n\t\t\t\t\t\t${eh.Vertex}\n\t\t\t\t\t}`,fragmentShader:`\n\t\t\t\t\tprecision highp float;\n\n\t\t\t\t\tuniform vec4 colorMultiplier;\n\t\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\t\tvarying vec2 fUV;\n\n\t\t\t\t\t${eh.FragmentHead}\n\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tgl_FragColor = texture2D(colorTexture, fUV);\n\t\t\t\t\t\tgl_FragColor *= colorMultiplier;\n\n\t\t\t\t\t\t${eh.Fragment}\n\t\t\t\t\t}`,side:2}),du.setupLogDepthBuffering(rd._threeJsMaterial)),rd._useCount+=1;const t=rd._threeJsMaterial.clone();this.getThreeJsMaterials().push(t),du.setTransparent(t,!0),du.setOverlay(t,!0),du.setUniformColorRGBA(t,"colorMultiplier",this._color);const e=du.createMeshObjectGivenGeometry(this,t,rd._threeJsGeometry);this.getThreeJsObjects().push(e),this._canvas=document.createElement("canvas"),this._canvas.width=1,this._canvas.height=1,this._updateText()}__unloadResources(){rd._useCount-=1,0===rd._useCount&&(du.destroyGeometry(rd._threeJsGeometry),du.destroyMaterial(rd._threeJsMaterial,!0));const t=this.getThreeJsObjects()[0];null!==t.parent&&t.parent.remove(t),du.destroyMaterial(this.getThreeJsMaterials()[0],!0),this._canvas=null}_updateText(){if(null===this._canvas)return;const t=this._canvas.getContext("2d");this._devicePixelRatio=window.devicePixelRatio,t.font=this._fontSize+"px "+this._fontFamily;const e=t.measureText(this._text);this._pixelSize.set(e.width*this._devicePixelRatio,this._fontSize*this._devicePixelRatio);const i=hh.ceilPow2(this._pixelSize.x),s=hh.ceilPow2(this._pixelSize.y);i===this._canvas.width&&s===this._canvas.height||(this._canvas.width=i,this._canvas.height=s),t.clearRect(0,0,this._canvas.width,this._canvas.height),this._canvas.style.width=i/this._devicePixelRatio+"px",this._canvas.style.height=s/this._devicePixelRatio+"px",t.font=this._pixelSize.y+"px "+this._fontFamily,t.fillStyle="rgba(255, 255, 255, 255)",t.fillText(this._text,(this._canvas.width-this._pixelSize.x)*hh.clamp01(this._alignment.x),this._canvas.height-.1875*this._pixelSize.y-(this._canvas.height-this._pixelSize.y)*hh.clamp01(this._alignment.y));const n=this.getThreeJsMaterials()[0];du.setUniformTexture(n,"colorTexture",du.loadTextureFromCanvas(this._canvas))}}rd._threeJsMaterial=null,rd._threeJsGeometry=null,rd._useCount=0;class od extends Yu{constructor(t,e,i){super(t,e,i),this._color=new vh(1,1,1),this._color.freeze(),this._absoluteMagnitude=1,this.__setRadius(Number.POSITIVE_INFINITY)}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze()}getAbsoluteMagnitude(){return this._absoluteMagnitude}setAbsoluteMagnitude(t){this._absoluteMagnitude=t}__loadResources(){return this.getEntity().getScene().__addLightSource(this.getEntity().getName(),this.getTypeIndex()),Promise.resolve()}__unloadResources(){this.getEntity().getScene().__removeLightSource(this.getEntity().getName(),this.getTypeIndex())}__setTypeIndex(t){"loaded"===this.getLoadState()&&this.getEntity().getScene().__removeLightSource(this.getEntity().getName(),this.getTypeIndex()),super.__setTypeIndex(t),"loaded"===this.getLoadState()&&this.getEntity().getScene().__addLightSource(this.getEntity().getName(),this.getTypeIndex())}}class ld extends Yu{constructor(t,e,i){super(t,e,i),this._url="",this._shadowEntities=[],this._translation=new Vh,this._translation.freeze(),this._rotation=new Lh,this._rotation.freeze(),this._urlReferenceMap=new Map,this._threeJsAnimationClips=new Map,this._hiddenObjects=new wh,this._scale=new Vh(.001,.001,.001),this._scale.freeze(),this._modelRadius=NaN,this._environmentCubemapUrl="",this._environmentCylindricalUrl="",this._environmentCubemap=null,this._environmentIntensity=.5,this._dynamicEnvironmentMapComponent=null,this._pixelRadiusVisibleInterval=void 0,this._useCompressedTextures=!1,this._onConfigChanged=this._onConfigChanged.bind(this),this.__setRadius(this.getEntity().getExtentsRadius())}getUrl(){return this._url}setUrl(t){""!==this._url&&this.getEntity().getScene().getEngine().getDownloader().cancel(this._url),this.resetResources(),this._modelRadius=NaN,this._loading=!1,this._url=t}setHiddenObject(t,e){e&&!this._hiddenObjects.has(t)?this._hiddenObjects.set(t,null):!e&&this._hiddenObjects.has(t)&&this._hiddenObjects.delete(t)}getTranslation(){return this._translation}setTranslation(t){this._translation.thaw(),this._translation=t,this._translation.freeze()}getScale(){return this._scale}setScale(t){this._scale.thaw(),"number"==typeof t?this._scale.set(t,t,t):this._scale.copy(t),this._scale.freeze(),du.setScale(this.getThreeJsObjects()[0],this._scale),isNaN(this._modelRadius)?this.__setRadius(this.getEntity().getExtentsRadius()):this.__setRadius(Math.max(this._scale.x,this._scale.y,this._scale.z)*this._modelRadius)}getRotation(){return this._rotation}setRotation(t){this._rotation.thaw(),this._rotation.copy(t),this._rotation.freeze()}getEnvironmentCubemapUrl(){return this._environmentCubemapUrl}setEnvironmentCubemapUrl(t){this._environmentCubemapUrl=t}getEnvironmentIntensity(){return this._environmentIntensity}setEnvironmentIntensity(t){this._environmentIntensity=t;for(let t=0,e=this.getThreeJsMaterials().length;t<e;t++)du.setUniformNumber(this.getThreeJsMaterials()[t],"environmentIntensity",this._environmentIntensity)}getEnvironmentCylindricalUrl(){return this._environmentCylindricalUrl}setEnvironmentCylindricalUrl(t){this._environmentCylindricalUrl=t}setPixelRadiusVisibleInterval(t){if(void 0!==t)void 0===this._pixelRadiusVisibleInterval?this._pixelRadiusVisibleInterval=new Ih(t.min,t.max):this._pixelRadiusVisibleInterval.copy(t);else{this._pixelRadiusVisibleInterval=void 0;for(const t of this.getThreeJsMaterials())du.setUniformNumber(t,"alphaMultiplier",1);this.getThreeJsObjects()[0].visible=!0}}setDynamicEnvironmentMapComponent(t){this._dynamicEnvironmentMapComponent=t;for(let e=0,i=this.getThreeJsMaterials().length;e<i;e++){const i=this.getThreeJsMaterials()[e];void 0!==i.uniforms.dynEnvTexture&&(du.setDefine(i,"dynEnvMap",!0),du.setUniformTexture(i,"dynEnvTexture",this._dynamicEnvironmentMapComponent.getTexture()),du.setUniformNumber(i,"dynEnvFaceSize",t.getFaceSize()))}null!==this._environmentCubemap&&(du.destroyTexture(this._environmentCubemap),this._environmentCubemap=null)}getUseCompressedTextures(){return this._useCompressedTextures}setUseCompressedTextures(t){this._useCompressedTextures=t}setURLReferenceMap(t){this._urlReferenceMap.clear();for(const e of t)this._urlReferenceMap.set(e[0],e[1])}getAnimationClip(t){return this._threeJsAnimationClips.get(t)||null}getMaterial(t){const e=this.getThreeJsMaterials();for(let i=0,s=e.length;i<s;i++)if(e[i].name===t)return e[i];return null}updateMaterial(t,e){const i=this.getThreeJsMaterials();let s;for(let n=0;n<i.length;n++){const a=i[n];if(a.name===t){s=a,i.splice(n,1),i.push(e);break}}if(!s)throw new Error(`No material with the name ${t} was found in ${this}.`);for(let i=0,n=this.getThreeJsObjects().length;i<n;i++){const n=this.getThreeJsObjects()[i];n instanceof zs&&n.material===s&&(n.material=e,n.material.name=t)}}getNumShadowEntities(){return this._shadowEntities.length}getShadowEntity(t){return this._shadowEntities[t]?.getName()}setShadowEntities(t){this._shadowEntities=[];for(const e of t)this._shadowEntities.push(new iu(this.getEntity().getScene(),e));const e=t.length>0;for(let t=0,i=this.getThreeJsMaterials().length;t<i;t++)du.setDefine(this.getThreeJsMaterials()[t],"shadowEntities",e)}__prepareForRender(t){for(let t=0,e=this._hiddenObjects.size;t<e;t++){const e=this._hiddenObjects.getAt(t);null===e.value&&(e.value=this.getThreeJsObjectByName(e.key)),null!==e.value&&(e.value.visible=!1)}if(void 0!==this._pixelRadiusVisibleInterval){const e=this.getEntity().getPixelSpaceExtentsRadius(t),i=hh.clamp01(Math.min(1+2*(e-this._pixelRadiusVisibleInterval.min)/this._pixelRadiusVisibleInterval.min,isFinite(this._pixelRadiusVisibleInterval.max)?1-2*(e-this._pixelRadiusVisibleInterval.max)/this._pixelRadiusVisibleInterval.max:1));for(const t of this.getThreeJsMaterials())du.setUniformNumber(t,"alphaMultiplier",i);0===i&&(this.getThreeJsObjects()[0].visible=!1)}du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t,this._translation,!0),du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity(),this._rotation),lu.setUniforms(this.getThreeJsMaterials(),t,this.getEntity(),this._shadowEntities,null,!1)}async __loadResources(){const t=this.getEntity().getScene().getEngine(),e=this._url.startsWith("blob:")||this._url.endsWith(".glb");try{const i=await t.getDownloader().download(this._url,e,-this.getEntity().getLeastCameraDepth());if("loading"!==this.getLoadState()||"cancelled"===i.status)return;if("failed"===i.status)throw new Error('Failed to load model component file "'+i.url+'": '+i.errorMessage);if(!i.actualUrl.endsWith(".gltf")&&!i.actualUrl.endsWith(".glb")&&!i.actualUrl.startsWith("blob:"))throw new Error("Unknown model format.");const s=new rl;0===this._urlReferenceMap.size&&s.addHandler(/.$/,this._useCompressedTextures?t.getTextureLoaderCompressed():t.getTextureLoader()),s.setURLModifier((t=>{const e=t.substring(t.lastIndexOf("/")+1);return this._urlReferenceMap.has(e)?this._urlReferenceMap.get(e):t}));const n=new ac(s);await new Promise(((e,s)=>{n.parse(i.content,Cl.extractUrlBase(i.actualUrl),(async i=>{const s=i.scene;this._populateThreeJsObjectsAndMaterials(i.scene),"loading"!==this.getLoadState()&&du.destroyAllObjectsAndMaterials(this),this._clean(),du.setupObject(this,s),du.setScale(s,this._scale);const n=(new He).setFromObject(s);this._modelRadius=Math.max(n.min.length(),n.max.length()),this.__setRadius(Math.max(this._scale.x,this._scale.y,this._scale.z)*this._modelRadius);for(let t=0;t<i.animations.length;t++)this._threeJsAnimationClips.set(i.animations[t].name,i.animations[t]);if(null===this._dynamicEnvironmentMapComponent&&null===this._environmentCubemap)if(""!==this._environmentCubemapUrl)await t.getTextureLoader().loadCubeTexture(this._environmentCubemapUrl,-this.getEntity().getLeastCameraDepth(),!0).then((e=>{this._environmentCubemap=t.getTextureLoader().generateEnvMap(e)}));else if(""!==this._environmentCylindricalUrl){const e=await du.loadTexture(this,this._environmentCubemapUrl,!0,!1);this._environmentCubemap=t.getTextureLoader().generateEnvMap(e)}this._updateMaterials(),this.getEntity().getScene().getEngine().getConfig().addEventListener("gammaCorrection",this._onConfigChanged),e()}),(t=>{s(new Error(`Error loading gltf: ${t}`))}))}))}catch(t){throw t instanceof Error&&(t.message=`While loading model "${this._url}": ${t.message}`),t}}__unloadResources(){for(let t=0,e=this._hiddenObjects.size;t<e;t++)this._hiddenObjects.getAt(t).value=null;this.getEntity().getScene().getEngine().getConfig().removeEventListener("gammaCorrection",this._onConfigChanged),du.destroyAllObjectsAndMaterials(this)}_populateThreeJsObjectsAndMaterials(t){if(this.getThreeJsObjects().push(t),t instanceof zs){let e=t.material;Array.isArray(e)||(e=[e]);for(const t of e){let e=!1;for(let i=0,s=this.getThreeJsMaterials().length;i<s;i++)if(this.getThreeJsMaterials()[i]===t){e=!0;break}e||this.getThreeJsMaterials().push(t)}}for(let e=0;e<t.children.length;e++)this._populateThreeJsObjectsAndMaterials(t.children[e])}_clean(){const t=/_(lamp|hemi)/i;for(let e=0;e<this.getThreeJsObjects().length;e++){const i=this.getThreeJsObjects()[e];i.name.match(t)&&(i.parent&&i.parent.remove(i),this.getThreeJsObjects().splice(e,1),e--)}for(let t=0,e=this.getThreeJsObjects().length;t<e;t++){let e=!1;const i=this.getThreeJsObjects()[t];i instanceof zs&&i.geometry instanceof xs&&(i.name.startsWith("_root")&&(e=!0),i instanceof zs&&i.material instanceof ts&&"transparent"===i.material.name&&(e=!0),e&&(i.geometry.deleteAttribute("position"),i.geometry.deleteAttribute("normal")))}}_onConfigChanged(){this._updateMaterials()}_updateMaterials(){for(let t=0,e=this.getThreeJsMaterials().length;t<e;t++){const e=this.getThreeJsMaterials()[t];if(!(e instanceof Fo))continue;const i=this._getNewPioneerMaterial(e);this.getThreeJsMaterials()[t]=i;let s=!1;i.defines.normalMap&&(s=!0);for(const t of this.getThreeJsObjects())if(t instanceof zs){let n=!1;if(Array.isArray(t.material))for(let s=0,a=t.material.length;s<a;s++)t.material[s]===e&&(t.material[s]=i,n=!0);else t.material===e&&(t.material=i,n=!0);n&&s&&t.geometry instanceof xs&&void 0===t.geometry.getAttribute("tangent")&&du.computeTangents(t.geometry)}du.destroyMaterial(e,!0)}}_getNewPioneerMaterial(t){const e=lu.getPBR();if(e.name=t.name,e.transparent=t.transparent,e.depthWrite=t.depthWrite,e.side=t.side,null!==t.map){const i=t.map.ktxFormat;void 0!==i&&(t.map.format=i),e.uniforms.colorTexture.value=t.map,e.defines.colorMap=!0,t.map=null}t.roughnessMap&&(e.uniforms.roughnessTexture.value=t.roughnessMap,e.defines.roughnessMap=!0,t.roughnessMap=null),t.metalnessMap&&(e.uniforms.metalnessTexture.value=t.metalnessMap,e.defines.metalnessMap=!0,t.metalnessMap=null),null!==t.normalMap&&(e.uniforms.normalTexture.value=t.normalMap,e.uniforms.normalScale.value=t.normalScale,e.defines.normalMap=!0,t.normalMap=null),e.uniforms.emissiveColor.value.copy(t.emissive),e.uniforms.emissiveColor.value.multiplyScalar(t.emissiveIntensity),null!==t.emissiveMap&&(e.uniforms.emissiveTexture.value=t.emissiveMap,e.defines.emissiveMap=!0,t.emissiveMap=null),e.uniforms.color.value=t.color,e.uniforms.roughness.value=t.roughness,e.uniforms.metalness.value=t.metalness;let i=0;return null!==this._dynamicEnvironmentMapComponent?(e.defines.dynEnvMap=!0,e.uniforms.dynEnvTexture.value=this._dynamicEnvironmentMapComponent.getTexture(),e.uniforms.dynEnvFaceSize.value=this._dynamicEnvironmentMapComponent.getFaceSize()):null!==this._environmentCubemap&&(e.defines.envMap=!0,e.defines.envIsCubeUV=!0,e.uniforms.envTexture.value=this._environmentCubemap,i=this._environmentCubemap.image.height,e.uniforms.maxMipLevel.value=Math.log(i)*Math.LOG2E),e.uniforms.environmentIntensity.value=this._environmentIntensity,e.uniforms.gammaCorrectionFactor.value=this.getEntity().getScene().getEngine().getConfig().getValue("gammaCorrection"),this._shadowEntities.length>0&&(e.defines.shadowEntities=!0),e.needsUpdate=!0,e}}class cd extends Yu{constructor(t,e,i){super(t,e,i),this._length=1,this._spread=30,this._numberOfParticles=0,this._speedOfParticles=.1,this._sizeOfParticles=.1,this._particleSpacingRandom=!0,this._colorOfParticles=new vh,this._colorOfParticles.freeze(),this._originOffset=new Vh,this._originOffset.freeze(),this._direction=new Vh,this._direction.freeze(),this._relativeToEntityOrientation=!0,this.__setRadius(this._length)}getLength(){return this._length}setLength(t){this._length=t,this.__setRadius(this._length),du.setUniformNumber(this.getThreeJsMaterials()[0],"length",this._length),du.setUniformNumber(this.getThreeJsMaterials()[0],"totalTime",this._length/this._speedOfParticles)}getSpread(){return this._spread}setSpread(t){this._spread=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"spread",hh.degToRad(this._spread))}getNumberOfParticles(){return this._numberOfParticles}setNumberOfParticles(t){this._numberOfParticles=t,this.resetResources()}getSpeedOfParticles(){return this._speedOfParticles}setSpeedOfParticles(t){this._speedOfParticles=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"totalTime",this._length/this._speedOfParticles)}getSizeOfParticles(){return this._sizeOfParticles}setSizeOfParticles(t){this._sizeOfParticles=t,this.resetResources()}getParticleSpacingRandom(){return this._particleSpacingRandom}setParticleSpacingRandom(t){this._particleSpacingRandom=t,this.resetResources()}getColorOfParticles(){return this._colorOfParticles}setColorOfParticles(t){this._colorOfParticles.thaw(),this._colorOfParticles.copy(t),this._colorOfParticles.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"globalColor",this._colorOfParticles)}getOriginOffset(){return this._originOffset}setOriginOffset(t){this._originOffset.thaw(),this._originOffset.copy(t),this._originOffset.freeze(),du.setUniformVector3(this.getThreeJsMaterials()[0],"originOffset",this._originOffset)}getDirection(){return this._direction}setDirection(t){this._direction.thaw(),this._direction.normalize(t),this._direction.freeze(),du.setUniformVector3(this.getThreeJsMaterials()[0],"direction",this._direction);const e=Vh.pool.get();e.cross(this._direction,Vh.XAxis),e.isZero()&&e.cross(this._direction,Vh.YAxis),e.normalize(e),du.setUniformVector3(this.getThreeJsMaterials()[0],"directionPerp",e),Vh.pool.release(e)}getRelativeToEntityOrientation(){return this._relativeToEntityOrientation}setRelativeToEntityOrientation(t){this._relativeToEntityOrientation=t}__prepareForRender(t){const e=hh.wrap(this.getEntity().getScene().getEngine().getTime(),0,this._length/this._speedOfParticles);if(du.setUniformNumber(this.getThreeJsMaterials()[0],"time",e),this._relativeToEntityOrientation){const t=Vh.pool.get(),e=Vh.pool.get();t.rotate(this.getEntity().getOrientation(),this._originOffset),e.rotate(this.getEntity().getOrientation(),this._direction),du.setUniformVector3(this.getThreeJsMaterials()[0],"originOffset",t),du.setUniformVector3(this.getThreeJsMaterials()[0],"direction",e);const i=Vh.pool.get();i.cross(e,Vh.XAxis),i.isZero()&&i.cross(e,Vh.YAxis),i.normalize(i),du.setUniformVector3(this.getThreeJsMaterials()[0],"directionPerp",i),Vh.pool.release(i),Vh.pool.release(t),Vh.pool.release(e)}du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}async __loadResources(){const t=new ko({uniforms:{spread:new ql(0),originOffset:new ql(new ze),direction:new ql(new ze),directionPerp:new ql(new ze),length:new ql(0),time:new ql(0),totalTime:new ql(0),globalColor:new ql(new Oe(1,1,1,1)),...eh.ThreeUniforms},vertexShader:cd.vertexShader,fragmentShader:cd.fragmentShader,transparent:!0,depthWrite:!1,blending:2,side:2});cu.fix(t),this.getThreeJsMaterials().push(t);const e=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),i=new Float32Array(3*this._numberOfParticles),s=new Float32Array(4*this._numberOfParticles),n=new Float32Array(1*this._numberOfParticles),a=new Uint16Array([0,1,2,2,3,0]),r=new Nl;r.setAttribute("position",new hs(e,3)),r.setAttribute("params",new ao(i,3)),r.setAttribute("color",new ao(s,4)),r.setAttribute("size",new ao(n,1)),r.setIndex(new hs(a,1)),r.instanceCount=this._numberOfParticles;const o=du.createMeshObjectGivenGeometry(this,t,r);this.getThreeJsObjects().push(o),du.setOrientation(this.getThreeJsObjects()[0],Lh.Identity),this._initializeParticles(),du.setUniformNumber(this.getThreeJsMaterials()[0],"length",this._length),du.setUniformNumber(this.getThreeJsMaterials()[0],"spread",hh.degToRad(this._spread)),du.setUniformNumber(this.getThreeJsMaterials()[0],"totalTime",this._length/this._speedOfParticles),du.setUniformVector3(this.getThreeJsMaterials()[0],"originOffset",this._originOffset),du.setUniformVector3(this.getThreeJsMaterials()[0],"direction",this._direction),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"globalColor",this._colorOfParticles);const l=Vh.pool.get();l.cross(this._direction,Vh.XAxis),l.isZero()&&l.cross(this._direction,Vh.YAxis),l.normalize(l),du.setUniformVector3(this.getThreeJsMaterials()[0],"directionPerp",l),Vh.pool.release(l)}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_initializeParticles(){const t=this.getThreeJsObjects()[0].geometry.attributes.params,e=this.getThreeJsObjects()[0].geometry.attributes.color,i=this.getThreeJsObjects()[0].geometry.attributes.size,s=t.array,n=e.array,a=i.array;for(let t=0,e=this._numberOfParticles;t<e;t++)s[3*t+0]=2*Math.random()-1,s[3*t+1]=2*Math.random()-1,this._particleSpacingRandom?s[3*t+2]=Math.random():s[3*t+2]=t/this._numberOfParticles,n[4*t+0]=1,n[4*t+1]=1,n[4*t+2]=1,n[4*t+3]=1,a[1*t+0]=this._sizeOfParticles;t.needsUpdate=!0,e.needsUpdate=!0,i.needsUpdate=!0}}cd.vertexShader=`\n\tattribute vec3 position;\n\tattribute vec3 params; // x, y are in plane made by direction if z were 1, z is 0 to 1 where the particle is in the total length at time = 0\n\tattribute vec4 color;\n\tattribute float size;\n\n\tuniform float spread;\n\tuniform vec3 originOffset; // in model-space\n\tuniform vec3 direction; // in model-space\n\tuniform vec3 directionPerp; // in model-space\n\tuniform float length;\n\tuniform float time;\n\tuniform float totalTime;\n\n\tuniform mat4 modelViewMatrix;\n\tuniform mat4 projectionMatrix;\n\n\tvarying vec2 vPosition;\n\tvarying vec4 vColor;\n\n\t${eh.VertexHead}\n\n\tvoid main() {\n\t\tfloat u = mod(params.z + time / totalTime, 1.0);\n\t\tfloat sinSpread = sin(spread);\n\t\tfloat uSpread = sinSpread > 0.0 ? u : (1.0 - u);\n\t\tfloat sizeAtU = size * max(0.1, uSpread);\n\t\tvec3 directionPerp2 = cross(direction, directionPerp);\n\t\tvec3 modelPosition = originOffset + (directionPerp * params.x * sinSpread * uSpread + directionPerp2 * params.y * sinSpread * uSpread + direction * u) * length;\n\t\tvec4 viewPosition = vec4(position.x * sizeAtU, 0, position.y * sizeAtU, 1) + modelViewMatrix * vec4(modelPosition, 1.0);\n\t\tgl_Position = projectionMatrix * viewPosition;\n\t\tgl_Position.w = viewPosition.y;\n\n\t\t// Set the varying variables.\n\t\tvPosition = position.xy;\n\t\tvColor = color * (1.0 - u);\n\n\t\t${eh.Vertex}\n\t}`,cd.fragmentShader=`\n\tprecision highp float;\n\n\tuniform vec4 globalColor;\n\n\tvarying vec2 vPosition;\n\tvarying vec4 vColor;\n\n\t${eh.FragmentHead}\n\n\tvoid main(void) {\n\t\t// Set the color to be a circle tinted by the color and globalColor.\n\t\tgl_FragColor = globalColor * vColor * max(0.0, 1.0 - dot(vPosition, vPosition));\n\n\t\t${eh.Fragment}\n\t}`;class hd extends Yu{constructor(t,e,i){super(t,e,i),this._topTextureUrl="",this._bottomTextureUrl="",this._innerRadius=0,this._outerRadius=0,this._fadeDistance=0,this._shadowEntities=[],this._spheroidComponentRef=new tu(this.getEntity().getScene()),this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid"),this._spheroidComponentRef.setRefChangedCallback(this._spheroidRefChangedCallback.bind(this)),this._spheroidChangedCallback=this._spheroidChangedCallback.bind(this),this.__setUsesEntityOrientation(!0)}getTopTextureUrl(){return this._topTextureUrl}setTopTextureUrl(t){this._topTextureUrl=t,"loaded"===this.getLoadState()&&du.loadTextureIntoUniform(this,this.getThreeJsMaterials()[0].uniforms.topTexture,this._topTextureUrl,!0,!1)}getBottomTextureUrl(){return this._bottomTextureUrl}setBottomTextureUrl(t){this._bottomTextureUrl=t,"loaded"===this.getLoadState()&&du.loadTextureIntoUniform(this,this.getThreeJsMaterials()[0].uniforms.bottomTexture,this._bottomTextureUrl,!0,!1)}getInnerRadius(){return this._innerRadius}setInnerRadius(t){this._innerRadius=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"innerRadius",this._innerRadius)}getOuterRadius(){return this._outerRadius}setOuterRadius(t){this._outerRadius=t,this.__setRadius(this._outerRadius),du.setUniformNumber(this.getThreeJsMaterials()[0],"outerRadius",this._outerRadius)}getTopTexture(){const t=this.getThreeJsMaterials()[0];return void 0!==t?t.uniforms.topTexture.value:null}getFadeDistance(){return this._fadeDistance}setFadeDistance(t){this._fadeDistance=t}getShadowEntity(t){return this._shadowEntities[t]?.getName()}setShadowEntities(t){this._shadowEntities=[];for(const e of t)this._shadowEntities.push(new iu(this.getEntity().getScene(),e));const e=t.length>0;for(let t=0,i=this.getThreeJsMaterials().length;t<i;t++)du.setDefine(this.getThreeJsMaterials()[t],"shadowEntities",e)}__destroy(){const t=this._spheroidComponentRef.get();null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),super.__destroy()}__update(){this._spheroidComponentRef.update()}__prepareForRender(t){if(this._fadeDistance>0){const e=Vh.pool.get(),i=Lh.pool.get(),s=this.getThreeJsObjects()[0].quaternion;i.copyFromThreeJs(s),e.rotateInverse(this.getEntity().getOrientation(),this.getEntity().getCameraSpacePosition(t)),du.setUniformNumber(this.getThreeJsMaterials()[0],"alphaFadeMultiplier",hh.lerp(0,1,hh.clamp01(2*(Math.abs(e.z)/this._fadeDistance-1)+1))),Lh.pool.release(i),Vh.pool.release(e)}lu.setLightSourceUniforms(this.getThreeJsMaterials(),this.getEntity(),t),lu.setUniforms(this.getThreeJsMaterials(),t,this.getEntity(),this._shadowEntities,null,!1),du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity()),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}async __loadResources(){const t=du.loadTexture(this,this._topTextureUrl,!0,!1),e=du.loadTexture(this,this._bottomTextureUrl,!0,!1),[i,s]=await Promise.all([t,e]);if(this.isDestroyed())return du.destroyTexture(i),void du.destroyTexture(s);const n=new Js({uniforms:{ambientLightColor:new ql(new as),lightPositions:new ql([new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0),new ze(1,0,0)]),lightColors:new ql([new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0),new ze(0,0,0)]),lightRadii:new ql([0,0,0,0,0]),numLights:new ql(0),entityPos:new ql(new ze),innerRadius:new ql(this._innerRadius),outerRadius:new ql(this._outerRadius),topTexture:new ql(i),bottomTexture:new ql(s),alphaFadeMultiplier:new ql(1),spheroidEquatorialRadius:new ql(0),spheroidPolarRadius:new ql(0),numShadowEntities:new ql(0),shadowEntityPositions:new ql([new ze,new ze,new ze,new ze,new ze]),shadowEntityRadii:new ql([0,0,0,0,0]),shadowEntitySunsetIntensity:new ql([0,0,0,0,0]),shadowEntitySunsetColors:new ql([new ze,new ze,new ze,new ze,new ze]),...eh.ThreeUniforms},vertexShader:hd.vertexShader,fragmentShader:hd.fragmentShader,transparent:!0,depthWrite:!1,blending:1,side:2});du.setupLogDepthBuffering(n),du.setDefine(n,"shadowEntities",this._shadowEntities.length>0),this.getThreeJsMaterials().push(n);const a=du.createMeshObject(this,n,[{name:"position",dimensions:3},{name:"normal",dimensions:3}],!1),r=10,o=new Float32Array(300),l=new Float32Array(300),c=new Uint16Array(486);for(let t=0;t<r;t++)for(let e=0;e<r;e++){const i=e+t*r;o[3*i+0]=e/9*2-1,o[3*i+1]=t/9*2-1,o[3*i+2]=0,l[3*i+0]=0,l[3*i+1]=0,l[3*i+2]=1,e+1<r&&t+1<r&&(c[6*(e+9*t)+0]=e+0+(t+0)*r,c[6*(e+9*t)+1]=e+0+(t+1)*r,c[6*(e+9*t)+2]=e+1+(t+0)*r,c[6*(e+9*t)+3]=e+1+(t+0)*r,c[6*(e+9*t)+4]=e+0+(t+1)*r,c[6*(e+9*t)+5]=e+1+(t+1)*r)}du.setVertices(a.geometry,"position",o),du.setVertices(a.geometry,"normal",l),du.setIndices(a.geometry,c),a.material=n,this.getThreeJsObjects().push(a),this._spheroidChangedCallback()}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_spheroidRefChangedCallback(t,e){null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),null!==e&&e.addChangedCallback(this._spheroidChangedCallback),this._spheroidChangedCallback()}_spheroidChangedCallback(){const t=this.getThreeJsMaterials()[0];if(null!==t){const e=this._spheroidComponentRef.get();null!==e?(du.setUniformNumber(t,"spheroidEquatorialRadius",e.getEquatorialRadius()),du.setUniformNumber(t,"spheroidPolarRadius",e.getPolarRadius())):(du.setUniformNumber(t,"spheroidEquatorialRadius",0),du.setUniformNumber(t,"spheroidPolarRadius",0))}}}hd.vertexShader=`\n\tuniform float outerRadius;\n\n\tvarying vec3 localPosition;\n\tvarying vec3 cameraSpacePosition;\n\tvarying vec3 modelNormal;\n\n\t${eh.VertexHead}\n\n\tvoid main() {\n\t\tlocalPosition = position * outerRadius;\n\t\tcameraSpacePosition = (modelMatrix * vec4(localPosition, 1.)).xyz;\n\t\tmodelNormal = (modelMatrix * vec4(normal, 0.)).xyz;\n\t\tvec4 viewPosition = viewMatrix * vec4(cameraSpacePosition, 1.);\n\t\tgl_Position = projectionMatrix * viewPosition;\n\n\t\t${eh.Vertex}\n\t}`,hd.fragmentShader=`\n\tprecision highp float;\n\n\t#ifndef saturate\n\t\t#define saturate(a) clamp(a, 0.0, 1.0)\n\t#endif\n\n\t// Lights\n\tuniform vec3 ambientLightColor;\n\tuniform vec3 lightPositions[5];\n\tuniform vec3 lightColors[5];\n\tuniform float lightRadii[5];\n\tuniform int numLights;\n\n\tuniform float innerRadius;\n\tuniform float outerRadius;\n\tuniform sampler2D topTexture;\n\tuniform sampler2D bottomTexture;\n\tuniform float alphaFadeMultiplier;\n\tuniform float spheroidEquatorialRadius;\n\tuniform float spheroidPolarRadius;\n\tuniform vec3 entityPos;\n\n\t// Shadow Entities.\n\t#ifdef shadowEntities\n\t\tuniform int numShadowEntities;\n\t\tuniform vec3 shadowEntityPositions[5];\n\t\tuniform float shadowEntityRadii[5];\n\t\tuniform float shadowEntitySunsetIntensity[5];\n\t\tuniform vec3 shadowEntitySunsetColors[5];\n\t#endif\n\n\t// The varying attributes.\n\tvarying vec3 localPosition;\n\tvarying vec3 cameraSpacePosition;\n\tvarying vec3 modelNormal;\n\n\t${eh.FragmentHead}\n\n\tfloat spheroidShadow(vec3 lightDir, float lightCosAngle, float spheroidScaling, vec3 normal, vec3 ringPos) {\n\t\tvec3 sunDirScaled = normalize(lightDir - (spheroidScaling - 1.0) * lightCosAngle * normal);\n\t\tfloat pDotLScaled = dot(ringPos, sunDirScaled);\n\t\tif(dot(ringPos, ringPos) - pDotLScaled * pDotLScaled < spheroidEquatorialRadius * spheroidEquatorialRadius && pDotLScaled > 0.0) {\n\t\t\treturn 0.0;\n\t\t}\n\t\telse {\n\t\t\treturn 1.0;\n\t\t}\n\t}\n\n\t#ifdef shadowEntities\n\t\tvec3 applyRayleighScattering(vec3 color, float amount) {\n\t\t\tfloat value = (color.r + color.g + color.b);\n\t\t\tif (value > 0.0) {\n\t\t\t\tfloat rFactor = 1.0; // 6.3^-4 / 6.3^-4\n\t\t\t\tfloat gFactor = 1.602; // 5.6^-4 / 6.3^-4\n\t\t\t\tfloat bFactor = 3.228; // 4.7^-4 / 6.3^-4\n\t\t\t\tcolor.r *= pow(rFactor, -amount);\n\t\t\t\tcolor.g *= pow(gFactor, -amount);\n\t\t\t\tcolor.b *= pow(bFactor, -amount);\n\t\t\t\tcolor = value * color / (color.r + color.g + color.b);\n\t\t\t}\n\t\t\treturn color;\n\t\t}\n\n\t\tvec3 getLightColorFromShadowEntities(vec3 lightColor, vec3 lightDir, vec3 lightPosition, float lightRadius, vec3 normal) {\n\t\t\tvec3 color = lightColor;\n\t\t\tfor (int i = 0; i < 5; i++) {\n\t\t\t\tif (i >= numShadowEntities) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvec3 origin = cameraSpacePosition - shadowEntityPositions[i];\n\t\t\t\tvec3 axis = normalize(shadowEntityPositions[i] - lightPosition);\n\t\t\t\tfloat sd = dot(origin, axis);\n\t\t\t\tif (sd > 0.0) {\n\t\t\t\t\tfloat e = length(origin - sd * axis);\n\t\t\t\t\tfloat ld = dot(cameraSpacePosition - lightPosition, axis);\n\t\t\t\t\tfloat lr = lightRadius;\n\t\t\t\t\tfloat sr = shadowEntityRadii[i];\n\t\t\t\t\tfloat e0 = (ld * sr - sd * lr) / (ld - sd);\n\t\t\t\t\tfloat e1 = (ld * sr + sd * lr) / (ld - sd);\n\t\t\t\t\tfloat lightLevel = 0.0;\n\t\t\t\t\tif (e1 < 0.0 || sd < 0.0) { // light in front of shadow entity\n\t\t\t\t\t\tlightLevel = 1.0;\n\t\t\t\t\t}\n\t\t\t\t\telse if (e0 < e1) {\n\t\t\t\t\t\te0 /= max(1.0, shadowEntitySunsetIntensity[i] * 2.0);\n\t\t\t\t\t\tlightLevel = (e - e0) / (e1 - e0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlightLevel = e < e0 ? 0.0 : 1.0; // 0 radius light.\n\t\t\t\t\t}\n\t\t\t\t\tcolor = saturate(lightLevel) * applyRayleighScattering(color, saturate(1.5 - lightLevel) * saturate(shadowEntitySunsetIntensity[i]));\n\t\t\t\t}\n}\n\t\t\treturn color;\n\t\t}\n\t#endif\n\n\tvoid main(void) {\n\t\tfloat spheroidScaling = spheroidEquatorialRadius / spheroidPolarRadius;\n\t\tvec3 positionDir = normalize(cameraSpacePosition);\n\t\tvec3 ringPos = cameraSpacePosition - entityPos;\n\t\tvec3 normal = normalize(modelNormal);\n\t\tfloat cameraCosAngle = -dot(positionDir, normal);\n\n\t\t// Calculate the UVs.\n\t\tvec2 uv;\n\t\tuv.x = (length(localPosition) - innerRadius) / (outerRadius - innerRadius);\n\t\tif (uv.x < 0.0 || uv.x > 1.0) {\n\t\t\tgl_FragColor = vec4(0, 0, 0, 0);\n\t\t\treturn;\n\t\t}\n\t\tuv.y = 0.0;\n\n\t\t// Get the pixels at those uvs.\n\t\tvec4 topPixel = texture2D(topTexture, uv);\n\t\tvec4 bottomPixel = texture2D(bottomTexture, uv);\n\n\t\t// Get the initial diffuse light.\n\t\tvec3 diffuseLight = ambientLightColor;\n\t\t\n\t\t// For each light,\n\t\tfor (int i = 0; i < 5; i++) {\n\t\t\tif (i >= numLights) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvec3 lightDir = normalize(cameraSpacePosition - lightPositions[i]);\n\t\t\tfloat lightCosAngle = -dot(lightDir, normal);\n\n\t\t\tvec3 incomingLight = lightColors[i];\n\n\t\t\t#ifdef shadowEntities\n\t\t\t\tincomingLight = getLightColorFromShadowEntities(incomingLight, lightDir, lightPositions[i], lightRadii[i], normal);\n\t\t\t#endif\n\n\t\t\tfloat cameraDirDotLight = dot(positionDir, lightDir);\n\t\t\tfloat bottomTopRatio = (1.0 + 0.2 * cameraDirDotLight) * sign(cameraCosAngle) * lightCosAngle;\n\t\t\tfloat shadow = spheroidShadow(lightDir, lightCosAngle, spheroidScaling, normal, ringPos);\n\t\t\tvec3 bottomColor = saturate(incomingLight * (1.0 - bottomTopRatio) * shadow);\n\t\t\tvec3 topColor = 2.0 * saturate(incomingLight * bottomTopRatio * shadow);\n\n\t\t\tvec3 color = mix(bottomPixel.rgb * bottomColor, topPixel.rgb * topColor, bottomTopRatio);\n\t\t\tgl_FragColor.rgb += color;\n\t\t}\n\n\t\tgl_FragColor.a = topPixel.a;\n\t\tgl_FragColor.a *= alphaFadeMultiplier;\n\n\t\t${eh.Fragment}\n\t}`;class ud extends Yu{constructor(t,e,i){super(t,e,i),this._numLatVerts=20,this._textureUrl="",this.__setRadius(1e24),this.__setUsesEntityOrientation(!0)}getTextureUrl(){return this._textureUrl}setTextureUrl(t){this._textureUrl=t,this.resetResources()}__prepareForRender(t){du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity()),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}async __loadResources(){const t=await du.loadTexture(this,this._textureUrl,!1,!1);if("loading"!==this.getLoadState())return void du.destroyTexture(t);const e=lu.get();this.getThreeJsMaterials().push(e),e.defines.colorMapEmmissive=!0,e.needsUpdate=!0,e.uniforms.colorTexture.value=t;const i=du.createMeshObject(this,e,[{name:"position",dimensions:3},{name:"uv",dimensions:2}],!1);this.getThreeJsObjects().push(i),du.useInDynEnvMap(i,!0);const s=hh.pi/(this._numLatVerts-1),n=hh.pi/this._numLatVerts,a=(2*this._numLatVerts+1)*this._numLatVerts,r=new Float32Array(3*a),o=new Float32Array(2*a),l=new Uint16Array(this._numLatVerts*(this._numLatVerts-1)*12),c=Vh.pool.get(),h=su.pool.get();for(let t=0;t<this._numLatVerts;t++)for(let e=0;e<2*this._numLatVerts+1;e++){h.lat=t*s-hh.halfPi,h.lon=e*n-hh.pi,h.alt=0,c.x=5e23*Math.cos(h.lat)*Math.cos(h.lon),c.y=5e23*Math.cos(h.lat)*Math.sin(h.lon),c.z=5e23*Math.sin(h.lat);const i=t*(2*this._numLatVerts+1)+e;r[3*i+0]=c.x,r[3*i+1]=c.y,r[3*i+2]=c.z,o[2*i+0]=.5-h.lon/hh.twoPi,o[2*i+1]=.5-h.lat/hh.pi;const a=t*this._numLatVerts*2+e;t<this._numLatVerts-1&&e<2*this._numLatVerts&&(l[6*a+0]=(2*this._numLatVerts+1)*(t+0)+(e+0),l[6*a+1]=(2*this._numLatVerts+1)*(t+1)+(e+0),l[6*a+2]=(2*this._numLatVerts+1)*(t+1)+(e+1),l[6*a+3]=(2*this._numLatVerts+1)*(t+0)+(e+0),l[6*a+4]=(2*this._numLatVerts+1)*(t+1)+(e+1),l[6*a+5]=(2*this._numLatVerts+1)*(t+0)+(e+1))}su.pool.release(h),Vh.pool.release(c);const u=this.getThreeJsObjects()[0].geometry;du.setVertices(u,"position",r),du.setVertices(u,"uv",o),du.setIndices(u,l)}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}}class dd extends Yu{constructor(t,e,i){super(t,e,i),this._equatorialRadius=1,this._polarRadius=1,this._planetographic=!1,this._changed=!0,this._changedCallbacks=new Eh}getEquatorialRadius(){return this._equatorialRadius}setEquatorialRadius(t){this._equatorialRadius=t,this._changed=!0}getPolarRadius(){return this._polarRadius}setPolarRadius(t){this._polarRadius=t,this._changed=!0}isPlanetographic(){return this._planetographic}setPlanetographic(t){this._planetographic=t,this._changed=!0}addChangedCallback(t){this._changedCallbacks.add(t)}removeChangedCallback(t){this._changedCallbacks.delete(t)}__update(){if(this._changed){for(let t=0,e=this._changedCallbacks.size;t<e;t++)this._changedCallbacks.getAt(t)();this._changed=!1}}xyzFromLLA(t,e){const i=Math.cos(e.lat),s=Math.sin(e.lat);if(this._planetographic){const n=1-this._polarRadius*this._polarRadius/(this._equatorialRadius*this._equatorialRadius),a=this._equatorialRadius/Math.sqrt(1-n*s*s);t.x=(a+e.alt)*i*Math.cos(e.lon),t.y=(a+e.alt)*i*Math.sin(e.lon),t.z=((1-n)*a+e.alt)*s}else{const n=this._equatorialRadius,a=this._polarRadius,r=n*a/Math.sqrt(a*a*i*i+n*n*s*s);t.x=(r+e.alt)*i*Math.cos(e.lon),t.y=(r+e.alt)*i*Math.sin(e.lon),t.z=(r+e.alt)*s}}radiusFromXYZ(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(this._planetographic){const i=t.magnitudeXY(),s=1-this._polarRadius*this._polarRadius/(this._equatorialRadius*this._equatorialRadius);let n=Math.atan(t.z/((1-s)*i)),a=0;for(let r=0;r<e;r++){const e=Math.sin(n);a=this._equatorialRadius/Math.sqrt(1-s*e*e),n=Math.atan((t.z+a*s*e)/i)}return a}{const e=t.z*t.z/(t.x*t.x+t.y*t.y),i=1/(1+e),s=e*i,n=this._equatorialRadius,a=this._polarRadius;return n*a/Math.sqrt(a*a*i+n*n*s)}}llaFromXYZ(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(this._planetographic){t.lon=Math.atan2(e.y,e.x);const s=e.magnitudeXY(),n=1-this._polarRadius*this._polarRadius/(this._equatorialRadius*this._equatorialRadius);t.lat=Math.atan(e.z/((1-n)*s));let a=0;for(let r=0;r<i;r++){const i=Math.sin(t.lat);a=1/Math.sqrt(1-n*i*i),t.lat=Math.atan((e.z+this._equatorialRadius*a*n*i)/s)}t.alt=s/Math.cos(t.lat)-this._equatorialRadius*a}else{const i=e.magnitudeXY();t.lon=Math.atan2(e.y,e.x),t.lat=Math.atan(e.z/i);const s=Math.cos(t.lat),n=Math.sin(t.lat),a=this._equatorialRadius,r=this._polarRadius,o=a*r/Math.sqrt(r*r*s*s+a*a*n*n);t.alt=e.magnitude()-o}}llaToggleGraphicCentric(t,e){const i=Vh.pool.get();this.xyzFromLLA(i,e),this._planetographic=!this._planetographic,this.llaFromXYZ(t,i),this._planetographic=!this._planetographic,Vh.pool.release(i)}upFromLLA(t,e){const i=su.pool.get();this._planetographic?i.copy(e):this.llaToggleGraphicCentric(i,e),t.x=Math.cos(i.lat)*Math.cos(i.lon),t.y=Math.cos(i.lat)*Math.sin(i.lon),t.z=Math.sin(i.lat),su.pool.release(i)}eastFromLLA(t,e){t.x=-Math.sin(e.lon),t.y=Math.cos(e.lon),t.z=0}northFromLLA(t,e){const i=su.pool.get();this._planetographic?i.copy(e):this.llaToggleGraphicCentric(i,e),t.x=-Math.sin(i.lat)*Math.cos(i.lon),t.y=-Math.sin(i.lat)*Math.sin(i.lon),t.z=Math.cos(i.lat),su.pool.release(i)}orientationFromLLA(t,e){const i=su.pool.get();this._planetographic?i.copy(e):this.llaToggleGraphicCentric(i,e);const s=Math.sin(i.lat),n=Math.sin(i.lon),a=Math.cos(i.lon);t.w=.5*Math.sqrt((1+s)*(1-n)),t.x=.5*Math.sqrt((1-s)*(1-n)),t.y=.5*Math.sqrt((1-s)*(1+n))*Math.sign(a),t.z=.5*Math.sqrt((1+s)*(1+n))*Math.sign(a),su.pool.release(i)}aerFromXYZRelToLLA(t,e,i){const s=Vh.pool.get();this.xyzFromLLA(s,i);const n=su.pool.get();this._planetographic?n.copy(i):this.llaFromXYZ(n,s),s.sub(e,s),t.range=s.magnitude(),s.mult(s,1/t.range);const a=Vh.pool.get();this.upFromLLA(a,n);const r=s.dot(a);t.elevation=hh.halfPi-Math.acos(r),s.addMult(s,a,-r),Vh.pool.release(a);const o=Vh.pool.get();this.northFromLLA(o,n);const l=Vh.pool.get();this.eastFromLLA(l,n),t.azimuth=Math.atan2(s.dot(l),s.dot(o)),Vh.pool.release(o),Vh.pool.release(l),su.pool.release(n),Vh.pool.release(s)}getRayIntersection(t,e,i){const s=this._equatorialRadius/this._polarRadius,n=Vh.pool.get(),a=Vh.pool.get();n.set(e.x,e.y,e.z*s),a.set(i.x,i.y,i.z*s);const r=Ah.getLineSphereIntersectionWithSphereAtOrigin(n,a,this._equatorialRadius);t.addMult(n,a,r),Vh.pool.release(n),Vh.pool.release(a),t.z/=s}getGroundPosition(t,e,i){const s=su.pool.get();this.llaFromXYZ(s,i),s.alt=0,this.xyzFromLLA(t,s);const n=Vh.pool.get();this.upFromLLA(e,s),su.pool.release(s),Vh.pool.release(n)}}class pd extends Yu{constructor(t,e,i){super(t,e,i),this._textureUrls=new wh,this._textureLODs=new wh,this._textureSizes=new wh,this._mapping="cylinder",this._longitudinalRotation=0,this._numFaces=1,this._lowerLeftBounds=new su(-hh.halfPi,-hh.pi,0),this._upperRightBounds=new su(+hh.halfPi,hh.pi,0),this._cubeMapFaceFrames=eu._defaultCubeMapFaceFrames,this._shadowEntities=[],this._features=new Set,this._useCompression=!1,this._atmosphereComponentRef=new tu(this.getEntity().getScene()),this._atmosphereComponentRef.setByType(this.getEntity().getName(),"atmosphere"),this._spheroidComponentRef=new tu(this.getEntity().getScene()),this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid"),this._spheroidComponentRef.setRefChangedCallback(this._spheroidRefChangedCallback.bind(this)),this._spheroidChangedCallback=this._spheroidChangedCallback.bind(this),this.__setUsesEntityOrientation(!0)}getTextureNames(){const t=[];for(let e=0;e<this._textureUrls.size;e++)t.push(this._textureUrls.getAt(e).key);return t}getTextureUrl(t){return this._textureUrls.get(t)}getTextureSizes(t){return this._textureSizes.get(t)}setTexture(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[4,512,4096];pd._textureToFeature.has(t)&&this.setFeature(pd._textureToFeature.get(t),""!==e),this._textureUrls.set(t,e),this._textureSizes.set(t,[...i]);let s=this._textureLODs.get(t);if(void 0===s){s=[];const e=this.getThreeJsMaterials();for(let i=0,n=this._numFaces;i<n;i++){const n=new uu(this);if(e.length>0){const s=e[i].uniforms[t+"Texture"];void 0!==s&&n.setUniform(s)}s.push(n)}this._textureLODs.set(t,s)}for(let t=0,n=this._numFaces;t<n;t++)s[t].setUrl(e.replace("$FACE",t.toString())),s[t].setSizes(i)}forceTextureSize(t,e){const i=this._textureLODs.get(t);if(void 0===i)throw new Error('No texture named "'+t+'" has been defined.');for(let t=0;t<i.length;t++)i[t].setForcedSize(e)}unsetTexture(t){pd._textureToFeature.has(t)&&this.setFeature(pd._textureToFeature.get(t),!1),this._textureUrls.delete(t),this._textureLODs.delete(t),this._textureSizes.delete(t);const e=this.getThreeJsMaterials();for(let i=0,s=e.length;i<s;i++){const s=e[i].uniforms[t+"Texture"];void 0!==s&&(du.destroyTexture(s.value),s.value=null)}}getTextureCurrentSize(t,e){const i=this._textureLODs.get(t);if(void 0!==i&&void 0!==i[e])return i[e].getCurrentSize()}isFeatureEnabled(t){return this._features.has(t)}setFeature(t,e){const i=this.getThreeJsMaterials();if(e&&!this._features.has(t)){this._features.add(t);for(let e=0,s=i.length;e<s;e++){const s=i[e];s.defines[t]=!0,s.needsUpdate=!0}"normalMap"===t&&this._updateMeshes()}else if(!e&&this._features.has(t)){this._features.delete(t);for(let e=0,s=i.length;e<s;e++){const s=i[e];delete s.defines[t],s.needsUpdate=!0}"normalMap"===t&&this._updateMeshes()}}getMapping(){return this._mapping}setMapping(t){const e=this._numFaces;if("cylinder"===t)this._numFaces=1;else{if("cube"!==t)throw new Error("Invalid mapping type.");this._numFaces=6}if(this._numFaces!==e)for(let t=0;t<this._textureLODs.size;t++){const e=this._textureLODs.getAt(t).key,i=[];for(let t=0,s=this._numFaces;t<s;t++){const s=new uu(this);s.setUrl(this._textureUrls.get(e).replace("$FACE",t.toString())),s.setSizes(this._textureSizes.get(e)),i.push(s)}this._textureLODs.set(e,i)}this._mapping=t,this.resetResources()}setBounds(t,e){this._lowerLeftBounds.copy(t),this._upperRightBounds.copy(e),this.resetResources()}setCubeMapLayout(t){this._cubeMapFaceFrames=[];for(let e=0;e<6;e++){this._cubeMapFaceFrames.push([]);for(let i=0;i<3;i++){let s=null;switch(t[e][i]){case"+x":s=Vh.XAxis;break;case"-x":s=Vh.XAxisNeg;break;case"+y":s=Vh.YAxis;break;case"-y":s=Vh.YAxisNeg;break;case"+z":s=Vh.ZAxis;break;case"-z":s=Vh.ZAxisNeg;break;default:throw new Error("Invalid cubemap layout component.")}this._cubeMapFaceFrames[e][i]=s}}this.resetResources()}getNumShadowEntities(){return this._shadowEntities.length}getShadowEntity(t){return this._shadowEntities[t]?.getName()}setShadowEntities(t){this._shadowEntities=[];for(const e of t)this._shadowEntities.push(new iu(this.getEntity().getScene(),e));const e=t.length>0;for(let t=0,i=this.getThreeJsMaterials().length;t<i;t++)du.setDefine(this.getThreeJsMaterials()[t],"shadowEntities",e)}getUseCompression(){return this._useCompression}setUseCompression(t){this._useCompression=t}getLongitudeRotation(){return this._longitudinalRotation}setLongitudeRotation(t){this._longitudinalRotation=t}getLoadedPromise(){const t=[super.getLoadedPromise()];for(let e=0;e<this._textureLODs.size;e++){const i=this._textureLODs.getAt(e).value;for(let e=0,s=i.length;e<s;e++)t.push(i[e].getLoadedPromise())}return Promise.all(t).then()}setSpheroidReference(t){"string"==typeof t?this._spheroidComponentRef.setByName(this.getEntity().getName(),t):this._spheroidComponentRef.setByType(this.getEntity().getName(),"spheroid",t)}__destroy(){const t=this._spheroidComponentRef.get();null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),super.__destroy()}__update(){for(let t=0;t<this._textureLODs.size;t++){const e=this._textureLODs.getAt(t).value;for(let t=0,i=e.length;t<i;t++)e[t].update()}this._spheroidComponentRef.update()}__prepareForRender(t){const e=this.getThreeJsObjects(),i=Lh.pool.get();i.setFromAxisAngle(Vh.ZAxis,this._longitudinalRotation);for(let s=0;s<e.length;s++)du.setOrientationToEntity(e[s],this.getEntity(),i),du.setPositionToEntity(e[s],this.getEntity(),t);Lh.pool.release(i);const s=this._atmosphereComponentRef.get();lu.setUniforms(this.getThreeJsMaterials(),t,this.getEntity(),this._shadowEntities,s,!0)}__loadResources(){const t=[];for(let e=0;e<this._numFaces;e++){const i=lu.get();this.getThreeJsMaterials().push(i);for(const t of this._features)i.defines[t]=!0,i.needsUpdate=!0;const s=du.createMeshObject(this,i,[{name:"position",dimensions:3},{name:"normal",dimensions:3},{name:"uv",dimensions:2}],!1);this.getThreeJsObjects().push(s),du.useInDynEnvMap(s,!0);for(let s=0;s<this._textureLODs.size;s++){const n=this._textureLODs.getAt(s).key,a=i.uniforms[n+"Texture"];if(void 0!==a){const i=this._textureLODs.get(n)[e];i.setUniform(a),i.update(),t.push(i.getLoadedPromise())}}}return Promise.all(t).then((()=>{this._updateMeshes()}))}__unloadResources(){du.destroyAllObjectsAndMaterials(this);for(let t=0;t<this._textureLODs.size;t++){const e=this._textureLODs.getAt(t).key;for(let t=0;t<this._numFaces;t++)this._textureLODs.get(e)[t].setUniform(null)}}_updateMeshes(){if(0===this.getThreeJsObjects().length)return;const t=this._spheroidComponentRef.get();if(null!==t)if("cylinder"===this._mapping){const e=this._upperRightBounds.lat-this._lowerLeftBounds.lat,i=this._upperRightBounds.lon-this._lowerLeftBounds.lon,s=Math.max(Math.ceil(100*e/hh.pi),4),n=Math.max(Math.ceil(200*i/hh.twoPi),4),a=e/(s-1),r=i/(n-1),o=n*s,l=new Float32Array(3*o),c=new Float32Array(3*o),h=new Float32Array(2*o),u=new Uint16Array((n-1)*(s-1)*6),d=Vh.pool.get(),p=su.pool.get();for(let e=0;e<s;e++)for(let i=0;i<n;i++){p.lat=this._lowerLeftBounds.lat+e*a,p.lon=this._lowerLeftBounds.lon+i*r,p.alt=0;const o=e*n+i;if(t.xyzFromLLA(d,p),l[3*o+0]=d.x,l[3*o+1]=d.y,l[3*o+2]=d.z,t.upFromLLA(d,p),c[3*o+0]=d.x,c[3*o+1]=d.y,c[3*o+2]=d.z,h[2*o+0]=i/(n-1),h[2*o+1]=1-e/(s-1),e+1<s&&i+1<n){const t=e*(n-1)+i;u[6*t+0]=n*(e+0)+(i+0),u[6*t+1]=n*(e+1)+(i+1),u[6*t+2]=n*(e+1)+(i+0),u[6*t+3]=n*(e+0)+(i+0),u[6*t+4]=n*(e+0)+(i+1),u[6*t+5]=n*(e+1)+(i+1)}}su.pool.release(p),Vh.pool.release(d);const m=this.getThreeJsObjects()[0];du.setVertices(m.geometry,"position",l),du.setVertices(m.geometry,"normal",c),du.setVertices(m.geometry,"uv",h),du.setIndices(m.geometry,u),this._features.has("normalMap")&&du.computeTangents(m.geometry)}else if("cube"===this._mapping){const e=50,i=Vh.pool.get(),s=su.pool.get();for(let n=0;n<6;n++){const a=new Float32Array(e*e*3),r=new Float32Array(e*e*3),o=new Float32Array(e*e*2),l=new Uint16Array((e-1)*(e-1)*6);let c=!1;const h=Vh.pool.get();h.cross(this._cubeMapFaceFrames[n][0],this._cubeMapFaceFrames[n][1]),h.x===this._cubeMapFaceFrames[n][2].x&&h.y===this._cubeMapFaceFrames[n][2].y&&h.z===this._cubeMapFaceFrames[n][2].z||(c=!0),Vh.pool.release(h);let u=0,d=0;for(let h=0;h<e;h++)for(let p=0;p<e;p++)i.mult(this._cubeMapFaceFrames[n][0],2*p/(e-1)-1),i.addMult(i,this._cubeMapFaceFrames[n][1],2*h/(e-1)-1),i.addMult(i,this._cubeMapFaceFrames[n][2],1),i.normalize(i),Ah.getLLAFromXYZOnSphere(s,i,0),s.alt=0,t.xyzFromLLA(i,s),a[3*u+0]=i.x,a[3*u+1]=i.y,a[3*u+2]=i.z,t.upFromLLA(i,s),r[3*u+0]=i.x,r[3*u+1]=i.y,r[3*u+2]=i.z,o[2*u+0]=p/(e-1),o[2*u+1]=1-h/(e-1),p<e-1&&h<e-1&&(l[6*d+0]=(h+0)*e+(p+0),l[6*d+3]=(h+1)*e+(p+1),c?(l[6*d+1]=(h+1)*e+(p+1),l[6*d+2]=(h+0)*e+(p+1),l[6*d+4]=(h+0)*e+(p+0),l[6*d+5]=(h+1)*e+(p+0)):(l[6*d+1]=(h+0)*e+(p+1),l[6*d+2]=(h+1)*e+(p+1),l[6*d+4]=(h+1)*e+(p+0),l[6*d+5]=(h+0)*e+(p+0)),d+=1),u+=1;const p=this.getThreeJsObjects()[n];du.setVertices(p.geometry,"position",a),du.setVertices(p.geometry,"normal",r),du.setVertices(p.geometry,"uv",o),du.setIndices(p.geometry,l),this._features.has("normalMap")&&du.computeTangents(p.geometry)}su.pool.release(s),Vh.pool.release(i)}}_spheroidRefChangedCallback(t,e){null!==t&&t.removeChangedCallback(this._spheroidChangedCallback),null!==e&&e.addChangedCallback(this._spheroidChangedCallback),this._spheroidChangedCallback()}_spheroidChangedCallback(){const t=this._spheroidComponentRef.get();null!==t?this.__setRadius(Math.max(t.getEquatorialRadius(),t.getPolarRadius())):this.__setRadius(0),this.resetResources()}}pd._textureToFeature=new Map([["normal","normalMap"],["night","nightMap"],["decal","decalMap"],["specular","specularMap"]]);class md extends Zu{constructor(t,e,i){super(t,e,i),this._renderWidth=2048,this._globeDistance=1,this._threeJsFaceCameras=[],this._threeJsFaceRenderTargets=[],this._threeJsQuad=new zs,this._threeJsSpoutScene=new jr,this._threeJsCubeCamera=new bn(-1,1,-1,1,-1,1),this._tagStart=new De(2,3,{minFilter:xt,magFilter:yt}),this._tagEnd=new De(3,2,{minFilter:xt,magFilter:yt}),this._tagSend=new De(3,3,{minFilter:xt,magFilter:yt}),this._spoutTexture=new De(this._renderWidth,this._renderWidth/2,{minFilter:xt,magFilter:yt}),this._setupFaceCameras(),this._setupQuad()}getRenderWidth(){return this._renderWidth}setRenderWidth(t){this._renderWidth=t,this._spoutTexture.width!==this._renderWidth&&this._spoutTexture.setSize(this._renderWidth,this._renderWidth/2);for(let t=0;t<6;t++)this._threeJsFaceRenderTargets[t].setSize(this._renderWidth/4,this._renderWidth/4)}getForGlobe(){return 1===this.getInvertDepth()}setForGlobe(t,e){this.setInvertDepth(t?1:0),this._globeDistance=e}__render(){this.getForGlobe()&&(this.setNearDistance(Math.max(.1,.5*this.getEntity().getParent().getOcclusionRadius())),this.setMidDistance(this.getAutoNearDistance())),this._updateProjectionMatrices();const t=.7071067811865476,e=this.getEntity().getOrientation();gd.set(e.x,e.y,e.z,e.w),this._threeJsFaceCameras[0].setRotationFromQuaternion(gd),gd.set(t*(e.x-e.y),t*(e.x+e.y),t*(-e.w+e.z),t*(e.w+e.z)),this._threeJsFaceCameras[1].setRotationFromQuaternion(gd),gd.set(e.y,-e.x,e.w,-e.z),this._threeJsFaceCameras[2].setRotationFromQuaternion(gd),gd.set(t*(e.x+e.y),t*(-e.x+e.y),t*(e.w+e.z),t*(e.w-e.z)),this._threeJsFaceCameras[3].setRotationFromQuaternion(gd),gd.set(t*(e.w+e.x),t*(e.y+e.z),t*(-e.y+e.z),t*(e.w-e.x)),this._threeJsFaceCameras[4].setRotationFromQuaternion(gd),gd.set(t*(-e.w+e.x),t*(e.y-e.z),t*(e.y+e.z),t*(e.w+e.x)),this._threeJsFaceCameras[5].setRotationFromQuaternion(gd),this.getForGlobe()&&this._threeJsRenderer.state.setCullFace(2);for(let t=0;t<6;t++)this._threeJsRenderer.setRenderTarget(this._threeJsFaceRenderTargets[t]),this._threeJsRenderer.render(this.getEntity().getScene().getThreeJsScene(),this._threeJsFaceCameras[t]);this.getForGlobe()&&this._threeJsRenderer.state.setCullFace(1),this._threeJsRenderer.setRenderTarget(this._tagStart),this._threeJsRenderer.clearColor(),this._threeJsRenderer.setRenderTarget(this._spoutTexture),this._threeJsRenderer.clearColor(),this._threeJsRenderer.setRenderTarget(this._tagEnd),this._threeJsRenderer.clearColor(),this._threeJsRenderer.setRenderTarget(this._spoutTexture),this._threeJsRenderer.render(this._threeJsSpoutScene,this._threeJsCubeCamera),this._threeJsRenderer.setRenderTarget(this._tagSend),this._threeJsRenderer.clearColor(),this._threeJsRenderer.setRenderTarget(null)}_setupFaceCameras(){for(let t=0;t<6;t++){this._threeJsFaceCameras.push(new Ys(90,1,.1,1e3));const e=new gi;e.set(1,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0),this._threeJsFaceCameras[t].projectionMatrix=e,this._threeJsFaceCameras[t].projectionMatrixInverse.copy(e).invert();const i=new De(this._renderWidth/4,this._renderWidth/4,{minFilter:xt,magFilter:xt});this._threeJsFaceRenderTargets.push(i)}}_updateProjectionMatrices(){const t=this.getAutoNearDistance();let e=Number.EPSILON-1,i=t*(2-Number.EPSILON);if(1===this.getInvertDepth()){const s=this._globeDistance;e=(t+s)*(1-Number.EPSILON)/(t-s),i=-2*t*s*(1-Number.EPSILON)/(t-s)}for(let t=0;t<6;t++)this._threeJsFaceCameras[t].projectionMatrix.elements[6]=e,this._threeJsFaceCameras[t].projectionMatrix.elements[14]=i}_setupQuad(){const t=new xs,e=new Float32Array([-1,-1,1,-1,1,1,-1,1]),i=new Uint16Array([0,1,2,0,2,3]);t.setAttribute("position",new hs(e,2)),t.setIndex(new hs(i,1));const s={textures:new ql([])};for(let t=0;t<6;t++)s.textures.value.push(this._threeJsFaceRenderTargets[t].texture);const n=new ko({uniforms:s,vertexShader:"\n\t\t\t\tattribute vec2 position;\n\t\t\t\tvarying vec2 xy;\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_Position = vec4(position.x, position.y, 0.0, 1.0);\n\t\t\t\t\txy = position;\n\t\t\t\t}",fragmentShader:"\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D textures[6];\n\n\t\t\t\tvarying vec2 xy;\n\t\t\t\tconst float PI = 3.1415926535897932384626433832795;\n\n\t\t\t\tvec3 xyToUvFace(vec2 xy) {\n\t\t\t\t\tvec3 xyz = vec3(\n\t\t\t\t\t\tcos(xy.y * PI / 2.0) * cos(xy.x * PI),\n\t\t\t\t\t\tcos(xy.y * PI / 2.0) * sin(xy.x * PI),\n\t\t\t\t\t\tsin(-xy.y * PI / 2.0));\n\n\t\t\t\t\tvec3 basis[3];\n\t\t\t\t\tfloat face;\n\t\t\t\t\tif (xyz.x * xyz.x >= xyz.y * xyz.y && xyz.x * xyz.x >= xyz.z * xyz.z) {\n\t\t\t\t\t\tif (xyz.x >= 0.0) {\n\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(1, 0, 0);\n\t\t\t\t\t\t\tface = 0.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbasis[0] = vec3(0, -1, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(-1, 0, 0);\n\t\t\t\t\t\t\tface = 2.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (xyz.y * xyz.y >= xyz.x * xyz.x && xyz.y * xyz.y >= xyz.z * xyz.z) {\n\t\t\t\t\t\tif (xyz.y >= 0.0) {\n\t\t\t\t\t\t\tbasis[0] = vec3(-1, 0, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(0, 1, 0);\n\t\t\t\t\t\t\tface = 1.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbasis[0] = vec3(1, 0, 0); basis[1] = vec3(0, 0, 1); basis[2] = vec3(0, -1, 0);\n\t\t\t\t\t\t\tface = 3.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (xyz.z >= 0.0) {\n\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(-1, 0, 0); basis[2] = vec3(0, 0, 1);\n\t\t\t\t\t\t\tface = 4.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbasis[0] = vec3(0, 1, 0); basis[1] = vec3(1, 0, 0); basis[2] = vec3(0, 0, -1);\n\t\t\t\t\t\t\tface = 5.0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvec3 uv = vec3(\n\t\t\t\t\t\tbasis[0].x * xyz.x + basis[0].y * xyz.y + basis[0].z * xyz.z,\n\t\t\t\t\t\tbasis[1].x * xyz.x + basis[1].y * xyz.y + basis[1].z * xyz.z,\n\t\t\t\t\t\tbasis[2].x * xyz.x + basis[2].y * xyz.y + basis[2].z * xyz.z);\n\t\t\t\t\tuv.x /= uv.z;\n\t\t\t\t\tuv.y /= uv.z;\n\n\t\t\t\t\treturn vec3(0.5 * (uv.x + 1.0), 0.5 * (uv.y + 1.0), face);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec3 uvFace = xyToUvFace(xy);\n\n\t\t\t\t\tvec4 pixel;\n\t\t\t\t\tint face = int(uvFace.z);\n\n\t\t\t\t\tif (face == 0) {\n\t\t\t\t\t\tpixel = texture2D(textures[0], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\t\t\t\t\telse if (face == 1) {\n\t\t\t\t\t\tpixel = texture2D(textures[1], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\t\t\t\t\telse if (face == 2) {\n\t\t\t\t\t\tpixel = texture2D(textures[2], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\t\t\t\t\telse if (face == 3) {\n\t\t\t\t\t\tpixel = texture2D(textures[3], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\t\t\t\t\telse if (face == 4) {\n\t\t\t\t\t\tpixel = texture2D(textures[4], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\t\t\t\t\telse if (face == 5) {\n\t\t\t\t\t\tpixel = texture2D(textures[5], vec2(uvFace.x, uvFace.y));\n\t\t\t\t\t}\n\n\t\t\t\t\tgl_FragColor = pixel;\n\t\t\t\t}",depthTest:!1,depthWrite:!1,side:2});this._threeJsQuad=new zs(t,n),this._threeJsQuad.frustumCulled=!1,this._threeJsSpoutScene.add(this._threeJsQuad)}}const gd=new Ue;class _d extends Yu{constructor(t,e,i){super(t,e,i),this._textureUrl="",this._size=new Fh(1,Number.NaN),this._size.freeze(),this._sizeUnits="km",this._colorMultiplier=new vh(1,1,1,1),this._colorMultiplier.freeze(),this._alignment=new Fh(.5,.5),this._alignment.freeze(),this._fadeDistance=0,this._transparent=!1,this._blending="normal",this._billboard=!1,this._renderOrder=0}getTextureUrl(){return this._textureUrl}setTextureUrl(t){this._textureUrl=t,this.resetResources()}getSize(){return this._size}setSize(t){this._size.thaw(),this._size.copy(t),this._size.freeze(),this._updateSizeUniform()}getSizeUnits(){return this._sizeUnits}setSizeUnits(t){this._sizeUnits=t,this._updateSizeUniform()}getColorMultiplier(){return this._colorMultiplier}setColorMultiplier(t){this._colorMultiplier.thaw(),this._colorMultiplier.copy(t),this._colorMultiplier.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"colorMultiplier",t)}getAlignment(){return this._alignment}setAlignment(t){this._alignment.thaw(),this._alignment.copy(t),this._alignment.freeze(),du.setUniformVector2(this.getThreeJsMaterials()[0],"origin",this._alignment)}getFadeDistance(){return this._fadeDistance}setFadeDistance(t){this._fadeDistance=t}isBillboard(){return this._billboard}setBillboard(t){this._billboard=t}getTransparent(){return this._transparent}setTransparent(t){this._transparent=t,du.setTransparent(this.getThreeJsMaterials()[0],this._transparent)}setBlending(t){this._blending=t,du.setBlending(this.getThreeJsMaterials()[0],this._blending)}getRenderOrder(){return this._renderOrder}setRenderOrder(t){this._renderOrder=t,du.setRenderOrder(this.getThreeJsObjects()[0],this._renderOrder)}__prepareForRender(t){if("pixels"===this._sizeUnits){const e=Fh.pool.get(),i=this.getEntity().getExtentsRadius()/this.getEntity().getPixelSpaceExtentsRadius(t);e.mult(this._size,i),du.setUniformVector2(this.getThreeJsMaterials()[0],"size",e),Fh.pool.release(e)}if(this.getThreeJsObjects().length>0&&(this._billboard?du.setOrientationToBillboard(this.getThreeJsObjects()[0],this.getEntity(),t):du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity())),this._fadeDistance>0){const e=Vh.pool.get(),i=Lh.pool.get(),s=this.getThreeJsObjects()[0].quaternion;i.copyFromThreeJs(s),e.rotateInverse(this.getEntity().getOrientation(),this.getEntity().getCameraSpacePosition(t)),du.setUniformNumber(this.getThreeJsMaterials()[0],"alphaFadeMultiplier",hh.lerp(0,1,hh.clamp01(2*(Math.abs(e.z)/this._fadeDistance-1)+1))),Lh.pool.release(i),Vh.pool.release(e)}du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}async __loadResources(){const t=await du.loadTexture(this,this._textureUrl,!1,!1);if("loading"!==this.getLoadState())return void du.destroyTexture(t);0===_d._useCount&&(_d._threeJsGeometry=du.createGeometry([{name:"position",dimensions:3},{name:"uv",dimensions:2}],!1),du.setVertices(_d._threeJsGeometry,"position",new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])),du.setVertices(_d._threeJsGeometry,"uv",new Float32Array([0,1,1,1,1,0,0,0])),du.setIndices(_d._threeJsGeometry,new Uint16Array([0,1,2,2,3,0])),_d._threeJsMaterial=new Js({uniforms:{colorMultiplier:new ql(new Oe(1,1,1,1)),alphaFadeMultiplier:new ql(1),size:new ql(new pe(1,1)),colorTexture:new ql(null),origin:new ql(new pe(0,0)),...eh.ThreeUniforms},vertexShader:`\n\t\t\t\t\tuniform vec2 size;\n\t\t\t\t\tuniform vec2 origin;\n\t\t\t\t\tvarying vec2 fUV;\n\n\t\t\t\t\t${eh.VertexHead}\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tvec4 viewPosition = modelViewMatrix * vec4((position.x - origin.x) * size.x, (position.y - origin.y) * size.y, 0.0, 1.0);\n\t\t\t\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t\t\t\t\tfUV = uv;\n\n\t\t\t\t\t\t${eh.Vertex}\n\t\t\t\t\t}`,fragmentShader:`\n\t\t\t\t\tprecision highp float;\n\n\t\t\t\t\tuniform vec4 colorMultiplier;\n\t\t\t\t\tuniform float alphaFadeMultiplier;\n\t\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\t\tvarying vec2 fUV;\n\n\t\t\t\t\t${eh.FragmentHead}\n\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tgl_FragColor = texture2D(colorTexture, fUV);\n\t\t\t\t\t\tgl_FragColor *= colorMultiplier;\n\t\t\t\t\t\tgl_FragColor.a *= alphaFadeMultiplier;\n\n\t\t\t\t\t\t${eh.Fragment}\n\t\t\t\t\t}`,side:2}),du.setupLogDepthBuffering(_d._threeJsMaterial)),_d._useCount+=1;const e=_d._threeJsMaterial.clone();this.getThreeJsMaterials().push(e),du.setTransparent(e,this._transparent),du.setBlending(e,this._blending),du.setUniformColorRGBA(e,"colorMultiplier",this._colorMultiplier),du.setUniformNumber(e,"alphaFadeMultiplier",1),du.setUniformVector2(e,"origin",this._alignment),du.setUniformTexture(e,"colorTexture",t);const i=du.createMeshObjectGivenGeometry(this,e,_d._threeJsGeometry);this.getThreeJsObjects().push(i),du.setRenderOrder(i,this._renderOrder),this._updateSizeUniform()}__unloadResources(){du.destroyMaterial(this.getThreeJsMaterials()[0],!0);const t=this.getThreeJsObjects()[0];void 0!==t.parent&&t.parent.remove(t),_d._useCount-=1,0===_d._useCount&&(du.destroyGeometry(_d._threeJsGeometry),du.destroyMaterial(_d._threeJsMaterial,!0))}_updateSizeUniform(){if(this.getThreeJsMaterials().length>0){const t=this.getThreeJsMaterials()[0].uniforms.colorTexture.value;if(null!==t){const e=t.image.width/t.image.height,i=Fh.pool.get();Number.isNaN(this._size.x)?i.set(this._size.y*e,this._size.y):Number.isNaN(this._size.y)?i.set(this._size.x,this._size.x/e):i.set(this._size.x,this._size.y),du.setUniformVector2(this.getThreeJsMaterials()[0],"size",i),Fh.pool.release(i),"km"===this._sizeUnits?this.__setRadius(Math.max(i.x,i.y)):this.__setRadius(Number.POSITIVE_INFINITY)}}else"km"===this._sizeUnits?Number.isNaN(this._size.x)||Number.isNaN(this._size.y)?this.__setRadius(this._size.y):this.__setRadius(Math.max(this._size.x,this._size.y)):this.__setRadius(Number.POSITIVE_INFINITY)}}_d._threeJsMaterial=null,_d._threeJsGeometry=null,_d._useCount=0;const fd=new Lh(.9791532214288992,.2031230389823101,0,0);class yd{constructor(){this.mag=0,this.absMag=0,this.color=new vh,this.position=new Vh,this.particle=null}}class vd extends Yu{constructor(t,e,i){super(t,e,i),this._url="",this.__setRadius(1e24)}getUrl(){return this._url}setUrl(t){this._url=t,this.resetResources()}__prepareForRender(t){const e=Fh.pool.get();if("spout"===t.getType()){const i=t;e.set(i.getRenderWidth(),.5*i.getRenderWidth())}else e.copy(t.getViewport().getBounds().size);const i=Math.sqrt(Math.max(e.x,e.y)*window.devicePixelRatio)/60;du.setUniformNumber(this.getThreeJsMaterials()[0],"resolutionFactor",i),Fh.pool.release(e),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t)}async __loadResources(){const t=await this._loadStars();if(this.isDestroyed())return;const e=new Js({vertexShader:vd.vertexShader,fragmentShader:vd.fragmentShader,transparent:!0,blending:2,depthWrite:!1,uniforms:{resolutionFactor:new ql(1),...eh.ThreeUniforms}});du.setupLogDepthBuffering(e),this.getThreeJsMaterials().push(e);const i=new xs;i.setAttribute("position",new hs(new Float32Array(0),3)),i.setAttribute("color",new hs(new Float32Array(0),4)),i.setIndex(new hs(new Uint16Array(0),1));const s=new Po(i,e);du.setupObject(this,s),s.renderOrder=-2,this.getThreeJsObjects().push(s);const n=new Float32Array(3*t.length),a=new Float32Array(4*t.length),r=new Uint16Array(t.length);for(let e=0;e<t.length;e++){const i=t[e];n[3*e+0]=i.position.x,n[3*e+1]=i.position.y,n[3*e+2]=i.position.z,a[4*e+0]=i.color.r,a[4*e+1]=i.color.g,a[4*e+2]=i.color.b,a[4*e+3]=i.absMag,r[e]=e}du.setVertices(i,"position",n),du.setVertices(i,"color",a),du.setIndices(i,r)}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_loadStars(){return this.getEntity().getScene().getEngine().getDownloader().download(this._url,!0,-this.getEntity().getLeastCameraDepth()).then((t=>{if("cancelled"===t.status)return Promise.resolve([]);if("failed"===t.status)return Promise.reject(new Error('Failed to load starfield component file "'+t.url+'": '+t.errorMessage));if(!(t.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load starfield component file "'+t.url+'": Not a binary file.'));const e=new dh(t.content),i=e.readInt32(),s=[];for(let t=0;t<i;t++){const t=new yd;t.mag=e.readFloat32(),t.absMag=e.readFloat32(),t.color.r=e.readByte()/255,t.color.g=e.readByte()/255,t.color.b=e.readByte()/255,t.color.div(t.color,t.color.max()),t.position.y=-e.readFloat32(),t.position.z=e.readFloat32(),t.position.x=e.readFloat32(),t.position.rotate(fd,t.position),s.push(t)}return s}))}}vd.vertexShader=`\n\t#define PI 3.1415926538\n\n\tattribute vec4 color;\n\tvarying vec4 fColor;\n\n\tuniform float resolutionFactor;\n\n\t${eh.VertexHead}\n\n\t// Returns the watts per km^2.\n\tfloat absoluteMagnitudeToFlux(float absoluteMagnitude, float distance) {\n\t\tfloat luminosityInWatts = 3.0128e28 * pow(10.0, absoluteMagnitude / -2.5);\n\t\treturn luminosityInWatts / (4.0 * PI * distance * distance);\n\t}\n\n\tvoid main() {\n\t\tvec4 viewPosition = modelViewMatrix * vec4(position, 1.0);\n\t\tgl_Position = projectionMatrix * viewPosition;\n\t\tgl_Position.w = viewPosition.y;\n\t\tfColor = color;\n\n\t\t// Get the flux and brightness of the star at the camera's point.\n\t\tfloat absMag = color.a;\n\t\tfloat distance = length(viewPosition);\n\t\tfloat flux = absoluteMagnitudeToFlux(absMag, distance);\n\t\tfloat brightness = 2.0 * log(1.0 + flux * 1e4);\n\n\t\t// Adjust the color and size so that it is visually pleasing.\n\t\tfColor.a = clamp(brightness * resolutionFactor, 0.05, 1.0);\n\t\tgl_PointSize = clamp(brightness * 4.0 * resolutionFactor, 5.0, 24.0);\n\n\t\t// If it is too close, fade the star.\n\t\tfColor.a = mix(0.0, fColor.a, clamp((distance - 1.0e12) / 9.0e12, 0.0, 1.0));\n\n\t\t${eh.Vertex}\n\t}`,vd.fragmentShader=`\n\tprecision highp float;\n\n\tvarying vec4 fColor;\n\n\t${eh.FragmentHead}\n\n\tvoid main(void) {\n\t\tfloat distanceFromEdge = clamp(1.0 - 2.0 * length(gl_PointCoord - vec2(0.5, 0.5)), 0.0, 1.0);\n\t\tfloat a = pow(distanceFromEdge, 5.0);\n\t\tgl_FragColor.rgb = fColor.rgb;\n\t\tgl_FragColor.a = fColor.a * a;\n\n\t\t${eh.Fragment}\n\t}`;class bd{constructor(){this.time=0,this.position=new Vh,this.velocity=new Vh}}class xd extends Yu{constructor(t,e,i){super(t,e,i),this._color=new vh(1,1,1,1),this._color.freeze(),this._alphaFade=0,this._widthMin=0,this._widthMax=2,this._ignoreDistance=!1,this._startTime=void 0,this._endTime=0,this._relativeStartTime=!0,this._relativeEndTime=!0,this._startTimeMultiplier=1,this._endTimeMultiplier=1,this._relativeToEntity=new iu(this.getEntity().getScene()),this._relativeToEntityOrientation=!1,this._angleCurveThreshold=.05235987755,this._initialTimeStep=void 0,this._points=[],this._pointsStart=0,this._pointsCount=0,this._currentRelativeToEntity=new iu(this.getEntity().getScene()),this._dashLength=1,this._dashGapLength=0,this._glowWidth=0,this._dashOffsetTime=0,this._updatePointPositions=!1,this._updatePointPositionsLastIndex=0,this.__setRadius(Number.POSITIVE_INFINITY)}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color)}getAlphaFade(){return this._alphaFade}setWidths(t,e){this._widthMin=t,this._widthMax=e,du.setUniformNumber(this.getThreeJsMaterials()[0],"widthMin",t),du.setUniformNumber(this.getThreeJsMaterials()[0],"widthMax",e)}setAlphaFade(t){this._alphaFade=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"alphaFade",t)}setDashLength(t,e){this._dashLength=t,this._dashGapLength=e,du.setUniformNumber(this.getThreeJsMaterials()[0],"dashLength",t),du.setUniformNumber(this.getThreeJsMaterials()[0],"dashGapLength",e)}setGlowWidth(t){this._glowWidth=t,du.setUniformNumber(this.getThreeJsMaterials()[0],"glowWidth",this._glowWidth)}getStartTime(){return this._startTime}setStartTime(t){this._startTime=t}getEndTime(){return this._endTime}setEndTime(t){this._endTime=t}isRelativeStartTime(){return this._relativeStartTime}setRelativeStartTime(t){this._relativeStartTime=t,this.resetPoints()}isRelativeEndTime(){return this._relativeEndTime}setRelativeEndTime(t){this._relativeEndTime=t,this.resetPoints()}getStartTimeMultiplier(){return this._startTimeMultiplier}setStartTimeMultiplier(t){this._startTimeMultiplier=t}getEndTimeMultiplier(){return this._endTimeMultiplier}setEndTimeMultiplier(t){this._endTimeMultiplier=t}getRelativeToEntity(){return this._relativeToEntity.getName()}setRelativeToEntity(t){this._relativeToEntity.setName(t),this._currentRelativeToEntity.setName(t),this.resetPoints()}isRelativeToEntityOrientation(){return this._relativeToEntityOrientation}setRelativeToEntityOrientation(t){this._relativeToEntityOrientation=t,t||du.setOrientation(this.getThreeJsObjects(),Lh.Identity),this.resetPoints()}getAngleCurveThreshold(){return this._angleCurveThreshold}setAngleCurveThreshold(t){this._angleCurveThreshold=t,this.resetPoints()}getInitialTimeStep(){return this._initialTimeStep}setInitialTimeStep(t){this._initialTimeStep=t,this.resetPoints()}setIgnoreDistance(t){this._ignoreDistance=t}getUpdatePointPositions(){return this._updatePointPositions}setUpdatePointPositions(t){this._updatePointPositions=t}resetPoints(){if(this._points=[],this._pointsCount=0,this._pointsStart=0,this.getThreeJsObjects().length>0){const t=this.getThreeJsObjects()[0].geometry,e=new Float32Array(0),i=new Br(e,xd.VERTEX_SIZE);t.setAttribute("position",new Vr(i,3,0,!1)),t.setAttribute("positionPrev",new Vr(i,3,3,!1)),t.setAttribute("positionNext",new Vr(i,3,6,!1)),t.setAttribute("side",new Vr(i,1,9,!1)),t.setAttribute("index",new Vr(i,1,10,!1)),t.setAttribute("dashOffset",new Vr(i,1,11,!1)),t.setIndex(new hs(new Uint16Array(0),1))}}__loadResources(){const t=this.getEntity().getScene().getEngine().getMaterialManager().getPreloaded("trail");this.getThreeJsMaterials().push(t),t.uniforms.dashLength.value=this._dashLength,t.uniforms.dashGapLength.value=this._dashGapLength,t.uniforms.indexStart.value=0,t.uniforms.indexCount.value=0,t.uniforms.indexLength.value=0,t.uniforms.color.value.set(this._color.r,this._color.g,this._color.b,this._color.a),t.uniforms.widthMin.value=this._widthMin,t.uniforms.widthMax.value=this._widthMax,t.uniforms.glowWidth.value=this._glowWidth,t.uniforms.alphaFade.value=this._alphaFade;const e=du.createMeshObject(this,t,[{name:"position",dimensions:3},{name:"positionPrev",dimensions:3},{name:"positionNext",dimensions:3},{name:"side",dimensions:1},{name:"index",dimensions:1},{name:"dashOffset",dimensions:1}],!0);return this.getThreeJsObjects().push(e),Promise.resolve()}__unloadResources(){this.getEntity().getScene().getEngine().getMaterialManager().release(this.getThreeJsMaterials()[0]),du.destroyAllObjectsAndMaterials(this),this._points=[],this._pointsCount=0,this._pointsStart=0}__prepareForRender(t){if(""===this._relativeToEntity.getName()&&null!==this.getEntity().getParent()&&this._currentRelativeToEntity.get()!==this.getEntity().getParent()&&(this._currentRelativeToEntity.setName(this.getEntity().getParent().getName()),this.resetPoints()),null===this._currentRelativeToEntity)return;this._updatePoints();const e=this.getThreeJsMaterials()[0];e.uniforms.indexStart.value=this._pointsStart,e.uniforms.indexCount.value=this._pointsCount,e.uniforms.indexLength.value=this._points.length;let i=1;if(!this._ignoreDistance){i*=(.02-this.getEntity().getNormalSpaceExtentsRadius(t))/.02;const e=this.getEntity().getCameraSpacePosition(t).magnitude()/this.getEntity().getPosition().magnitude();i*=hh.clamp01(1e3*e)}du.setUniformNumber(e,"alphaMultiplier",i);const s=Fh.pool.get();t instanceof md?s.set(.1*t.getRenderWidth(),.5*t.getRenderWidth()*.1):s.copy(t.getViewport().getBounds().size),du.setUniformVector2(e,"viewportSize",s),Fh.pool.release(s);const n=this._currentRelativeToEntity.get();null!==n&&(du.setPosition(this.getThreeJsObjects(),n.getCameraSpacePosition(t)),this._relativeToEntityOrientation&&du.setOrientation(this.getThreeJsObjects(),n.getOrientation()))}_updatePoints(){const t=Ih.pool.get();if(this._getIntervalForUpdate(t),isNaN(t.min)||isNaN(t.max))return void Ih.pool.release(t);const e=this._initialTimeStep??t.length()*this._angleCurveThreshold/(2*Math.PI),i=Ih.pool.get();for(i.set(Number.POSITIVE_INFINITY,0),this._relativeStartTime&&this._pointsCount>0&&this._points[this._pointsStart].time!==t.min&&this._popFrontPoint(i);this._pointsCount>0&&this._points[this._pointsStart].time<t.min;)this._popFrontPoint(i);let s=0;for(;(0===this._pointsCount||this._points[this._pointsStart].time>t.min)&&!(this._pointsCount>=16e3&&this._relativeStartTime);){this._pushFrontPoint(i);const n=this._points[this._pointsStart];let a=1,r=Number.POSITIVE_INFINITY,o=e;this._pointsCount>2&&(o=this._points[(this._pointsStart+2)%this._points.length].time-this._points[(this._pointsStart+1)%this._points.length].time);let l=0;for(;l<20;){let i=t.max;if(this._pointsCount>1&&(i=this._points[(this._pointsStart+1)%this._points.length].time-o),i<t.min&&(i=t.min),n.time=i,this._getPositionAndVelocity(n.position,n.velocity,n.time),n.position.isNaN())break;let s=0;if(this._pointsCount>=2&&(s=this._points[(this._pointsStart+1)%this._points.length].position.distance(n.position)<.001?Number.NaN:this._points[(this._pointsStart+1)%this._points.length].velocity.angle(n.velocity)),s>this._angleCurveThreshold)r=o,o=(a+o)/2;else{if(!(this._pointsCount>1&&o<10*e&&(isNaN(s)||s<this._angleCurveThreshold/3)&&i!==t.min))break;a=o,r===Number.POSITIVE_INFINITY?o*=2:o=(o+r)/2}l++}if(n.position.isNaN()){this._popFrontPoint(i);break}if(s++,s>=4)break}for(this._relativeEndTime&&this._pointsCount>0&&this._points[(this._pointsStart+this._pointsCount-1)%this._points.length].time!==t.max&&this._popBackPoint(i);this._pointsCount>0&&this._points[(this._pointsStart+this._pointsCount-1)%this._points.length].time>t.max;)this._popBackPoint(i);for(s=0;(0===this._pointsCount||this._points[(this._pointsStart+this._pointsCount-1)%this._points.length].time<t.max)&&!(this._pointsCount>=16e3&&this._relativeEndTime);){this._pushBackPoint(i);const n=this._points[(this._pointsStart+this._pointsCount-1)%this._points.length];let a=1,r=Number.POSITIVE_INFINITY,o=e;this._pointsCount>2&&(o=this._points[(this._pointsStart+this._pointsCount-2)%this._points.length].time-this._points[(this._pointsStart+this._pointsCount-3)%this._points.length].time);let l=0;for(;l<20;){let i=t.min;if(this._pointsCount>1&&(i=this._points[(this._pointsStart+this._pointsCount-2)%this._points.length].time+o),i>t.max&&(i=t.max),n.time=i,this._getPositionAndVelocity(n.position,n.velocity,n.time),n.position.isNaN())break;let s=0;if(this._pointsCount>=2&&(s=this._points[(this._pointsStart+this._pointsCount-2)%this._points.length].position.distance(n.position)<.001?Number.NaN:this._points[(this._pointsStart+this._pointsCount-2)%this._points.length].velocity.angle(n.velocity)),s>this._angleCurveThreshold)r=o,o=(a+o)/2;else{if(!(this._pointsCount>1&&o<10*e&&(isNaN(s)||s<this._angleCurveThreshold/3)&&i!==t.max))break;a=o,r===Number.POSITIVE_INFINITY?o*=2:o=(o+r)/2}l++}if(n.position.isNaN()){this._popBackPoint(i);break}if(s++,s>=4)break}if(Ih.pool.release(t),this._updatePointPositions&&this._pointsCount>0)for(let t=0,e=Math.min(this._pointsCount,5);t<e;t++){this._updatePointPositionsLastIndex=(this._updatePointPositionsLastIndex+1)%this._pointsCount;const t=(this._pointsStart+this._updatePointPositionsLastIndex)%this._points.length,e=this._points[t],s=Vh.pool.get(),n=Vh.pool.get();this._getPositionAndVelocity(s,n,e.time),s.isNaN()||e.position.copy(s),n.isNaN()||e.velocity.copy(n),Vh.pool.release(s),Vh.pool.release(n),i.expandTo(t)}const n=this.getThreeJsObjects()[0].geometry.attributes.positionCurr.data,a=n.array;for(let t=i.min,e=Math.min(this._points.length-1,i.max);t<=e;t++){const e=this._points[t].position,i=isNaN(this._points[(t+this._points.length-1)%this._points.length].position.x)?e:this._points[(t+this._points.length-1)%this._points.length].position,s=isNaN(this._points[(t+1)%this._points.length].position.x)?e:this._points[(t+1)%this._points.length].position;a[2*t*xd.VERTEX_SIZE+0]=e.x,a[2*t*xd.VERTEX_SIZE+1]=e.y,a[2*t*xd.VERTEX_SIZE+2]=e.z,a[(2*t+1)*xd.VERTEX_SIZE+0]=e.x,a[(2*t+1)*xd.VERTEX_SIZE+1]=e.y,a[(2*t+1)*xd.VERTEX_SIZE+2]=e.z,a[2*t*xd.VERTEX_SIZE+3]=i.x,a[2*t*xd.VERTEX_SIZE+4]=i.y,a[2*t*xd.VERTEX_SIZE+5]=i.z,a[(2*t+1)*xd.VERTEX_SIZE+3]=i.x,a[(2*t+1)*xd.VERTEX_SIZE+4]=i.y,a[(2*t+1)*xd.VERTEX_SIZE+5]=i.z,a[2*t*xd.VERTEX_SIZE+6]=s.x,a[2*t*xd.VERTEX_SIZE+7]=s.y,a[2*t*xd.VERTEX_SIZE+8]=s.z,a[(2*t+1)*xd.VERTEX_SIZE+6]=s.x,a[(2*t+1)*xd.VERTEX_SIZE+7]=s.y,a[(2*t+1)*xd.VERTEX_SIZE+8]=s.z,a[2*t*xd.VERTEX_SIZE+9]=1,a[(2*t+1)*xd.VERTEX_SIZE+9]=-1,a[2*t*xd.VERTEX_SIZE+10]=t,a[(2*t+1)*xd.VERTEX_SIZE+10]=t,a[2*t*xd.VERTEX_SIZE+11]=this._points[t].time-this._dashOffsetTime,a[(2*t+1)*xd.VERTEX_SIZE+11]=this._points[t].time-this._dashOffsetTime}n.needsUpdate=!0,n.updateRange.offset=i.max<i.min?0:2*i.min*xd.VERTEX_SIZE,n.updateRange.count=i.max<i.min?-1:2*(i.length()+1)*xd.VERTEX_SIZE,Ih.pool.release(i)}_getIntervalForUpdate(t){const e=this._relativeStartTime||this._relativeEndTime?this.getEntity().getScene().getEngine().getTime():void 0;this._relativeStartTime?void 0!==this._startTime?t.min=e-this._startTimeMultiplier*this._startTime:t.min=e-this._startTimeMultiplier*this._getAutoLength(e):t.min=this._startTime,this._relativeEndTime?void 0!==this._endTime?t.max=e+this._endTimeMultiplier*this._endTime:t.max=e+this._endTimeMultiplier*this._getAutoLength(e):t.max=this._endTime,t.intersection(t,this.getEntity().getPositionCoverage())}_popFrontPoint(t){this._pointsCount>0&&(this._resize(this._pointsCount-1,t),t.expandTo(this._pointsStart),this._pointsCount>1&&t.expandTo((this._pointsStart+1)%this._points.length),this._points[this._pointsStart].position.x=NaN,this._pointsStart=(this._pointsStart+1)%this._points.length,this._pointsCount-=1)}_popBackPoint(t){this._pointsCount>0&&(this._resize(this._pointsCount-1,t),this._pointsCount-=1,t.expandTo((this._pointsStart+this._pointsCount)%this._points.length),this._pointsCount>0&&t.expandTo((this._pointsStart+this._pointsCount-1)%this._points.length),this._points[(this._pointsStart+this._pointsCount)%this._points.length].position.x=NaN)}_pushFrontPoint(t){this._resize(this._pointsCount+1,t),this._pointsStart=(this._pointsStart+this._points.length-1)%this._points.length,t.expandTo(this._pointsStart),this._pointsCount>0&&t.expandTo((this._pointsStart+1)%this._points.length),this._pointsCount+=1}_pushBackPoint(t){this._resize(this._pointsCount+1,t),this._pointsCount+=1,t.expandTo((this._pointsStart+this._pointsCount-1)%this._points.length),this._pointsCount>1&&t.expandTo((this._pointsStart+this._pointsCount-2)%this._points.length)}_resize(t,e){let i=!1,s=this._points.length;if((t+1>this._points.length||t<=this._points.length/4&&t>=8)&&(i=!0),i){s=Math.max(8,hh.ceilPow2(t+1));const i=[];for(let t=0,e=this._pointsCount;t<e;t++)i.push(this._points[(this._pointsStart+t)%this._points.length]);this._pointsStart=0;for(let t=this._pointsCount,e=s;t<e;t++){const t=new bd;t.position.x=Number.NaN,i.push(t)}this._points=i;const n=this.getThreeJsObjects()[0].geometry,a=new Float32Array(2*this._points.length*xd.VERTEX_SIZE),r=new Br(a,xd.VERTEX_SIZE);n.setAttribute("positionCurr",new Vr(r,3,0,!1)),n.setAttribute("positionPrev",new Vr(r,3,3,!1)),n.setAttribute("positionNext",new Vr(r,3,6,!1)),n.setAttribute("side",new Vr(r,1,9,!1)),n.setAttribute("index",new Vr(r,1,10,!1)),n.setAttribute("dashOffset",new Vr(r,1,11,!1));const o=new Uint16Array(6*this._points.length);for(let t=0;t<this._points.length;t++)o[6*t+0]=(2*t+0)%(2*this._points.length),o[6*t+1]=(2*t+2)%(2*this._points.length),o[6*t+2]=(2*t+3)%(2*this._points.length),o[6*t+3]=(2*t+3)%(2*this._points.length),o[6*t+4]=(2*t+1)%(2*this._points.length),o[6*t+5]=(2*t+0)%(2*this._points.length);n.setIndex(new hs(o,1)),this._dashOffsetTime=this._points[this._pointsStart].time,e.min=0,e.max=s}}_getAutoLength(t){let e=null;for(let i=0;;i++){const s=this.getEntity().getControllerByClass(qd,i);if(null===s)break;"orb"===s.getPointType()&&s.getCoverage().contains(t)&&(e=s)}const i=Vh.pool.get(),s=Vh.pool.get();this.getEntity().getPositionAtTime(i,t),this.getEntity().getVelocityAtTime(s,t),i.cross(i,s);let n=0;if(null!==e){const s=e.getEccentricity(t),a=e.getHeaderValue("gravitationalParameter1")+e.getHeaderValue("gravitationalParameter2"),r=a*a/i.magnitudeSqr()*-.5*(1-s*s);n=2*Math.PI*a/Math.sqrt(8*Math.abs(Math.min(1,r*r*r)))}else n=2*Math.PI*i.magnitude()/s.magnitudeSqr();return Vh.pool.release(i),Vh.pool.release(s),n}_getPositionAndVelocity(t,e,i){const s=""!==this._relativeToEntity.getName()?this._relativeToEntity.get():this.getEntity().getParent();if(""===this._relativeToEntity.getName()){this.getEntity().getPositionAtTime(t,i),this.getEntity().getVelocityAtTime(e,i);const s=this.getEntity().getParentAtTime(i),n=this._currentRelativeToEntity.get();if(null!==n&&""!==s&&s!==n.getName()){const a=this.getEntity().getScene().getEntity(s);null!==a?(a.getPositionRelativeToEntity(t,t,n,i),a.getVelocityRelativeToEntity(e,e,n,i)):(t.copy(Vh.NaN),e.copy(Vh.NaN))}}else null!==s?(this.getEntity().getPositionRelativeToEntity(t,Vh.Zero,s,i),this.getEntity().getVelocityRelativeToEntity(e,Vh.Zero,s,i)):(t.copy(Vh.NaN),e.copy(Vh.NaN));if(this._relativeToEntityOrientation&&null!==s){const n=Lh.pool.get();s.getOrientationAtTime(n,i),t.rotateInverse(n,t),e.rotateInverse(n,e),Lh.pool.release(n)}}}xd.VERTEX_SIZE=12;class Sd extends Mu{constructor(t,e,i){super(t,e,i),this._coverage=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._coverage.freeze(),this._modifiedStates=new Set,this._dependentStates=new Set,this.getEntity().getScene().getControllerDependencyGraph().addItem(this)}__destroy(){this.getEntity().getScene().getControllerDependencyGraph().removeItem(this),super.__destroy()}addModifiedState(t){this._modifiedStates.has(t)||(this._modifiedStates.add(t),this.getEntity().getScene().getControllerDependencyGraph().needsSorting(),"position"!==t&&"orientation"!==t||this.getEntity().__updateCoverage())}removeModifiedState(t){this._modifiedStates.delete(t)&&(this.getEntity().getScene().getControllerDependencyGraph().needsSorting(),"position"!==t&&"orientation"!==t||this.getEntity().__updateCoverage())}hasModifiedState(t){return this._modifiedStates.has(t)}addDependentState(t,e){this._dependentStates.has(t+"."+e)||(this._dependentStates.add(t+"."+e),this.getEntity().getScene().getControllerDependencyGraph().needsSorting())}removeDependentState(t,e){this._dependentStates.delete(t+"."+e)&&this.getEntity().getScene().getControllerDependencyGraph().needsSorting()}hasDependentState(t,e){return this._dependentStates.has(t+"."+e)}get __modifiedStates(){return this._modifiedStates}getCoverage(){return this._coverage}setCoverage(t){this._coverage.thaw(),this._coverage.copy(t),this._coverage.freeze(),this.getEntity().__updateCoverage()}__updatePositionAtTime(t,e){}__updateVelocityAtTime(t,e){}__updateOrientationAtTime(t,e){}toString(){let t=0;for(let e=0,i=this.getEntity().getNumControllers();e<i;e++){const i=this.getEntity().getController(e);if(this===i)break;this.getType()===i.getType()&&(t+=1)}return this.getEntity().getName()+"."+this.getType()+"."+t}}class Td extends Sd{constructor(t,e,i){super(t,e,i),this._primaryAlignType="none",this._primaryAxis=new Vh(1,0,0),this._primaryAxis.freeze(),this._primaryTargetEntity=new iu(this.getEntity().getScene()),this._primaryTargetEntity.setRefChangedCallback(((t,e)=>{this._removeDependentStates(t,this._primaryAlignType),this._addDependentStates(e,this._primaryAlignType)})),this._primaryTargetAxis=new Vh(1,0,0),this._primaryTargetAxis.freeze(),this._secondaryAlignType="none",this._secondaryAxis=new Vh(0,1,0),this._secondaryAxis.freeze(),this._secondaryTargetEntity=new iu(this.getEntity().getScene()),this._secondaryTargetEntity.setRefChangedCallback(((t,e)=>{this._removeDependentStates(t,this._secondaryAlignType),this._addDependentStates(e,this._secondaryAlignType)})),this._secondaryTargetAxis=new Vh(0,1,0),this._secondaryTargetAxis.freeze(),this._joint="",this._jointObject=null,this._model=null,this._modelRootId=0,this.addModifiedState("orientation")}getPrimaryAlignType(){return this._primaryAlignType}setPrimaryAlignType(t){this._primaryAlignType!==t&&(this._removeDependentStates(this._primaryTargetEntity.get(),this._primaryAlignType),this._primaryAlignType=t,this._addDependentStates(this._primaryTargetEntity.get(),this._primaryAlignType))}getPrimaryAxis(){return this._primaryAxis}setPrimaryAxis(t){this._primaryAxis.thaw(),this._primaryAxis.copy(t),this._primaryAxis.freeze()}getPrimaryTargetEntity(){return this._primaryTargetEntity.getName()}setPrimaryTargetEntity(t){this._primaryTargetEntity.setName(t)}getPrimaryTargetAxis(){return this._primaryTargetAxis}setPrimaryTargetAxis(t){this._primaryTargetAxis.thaw(),this._primaryTargetAxis.copy(t),this._primaryTargetAxis.freeze()}getSecondaryAlignType(){return this._secondaryAlignType}setSecondaryAlignType(t){this._secondaryAlignType!==t&&(this._removeDependentStates(this._secondaryTargetEntity.get(),this._secondaryAlignType),this._secondaryAlignType=t,this._addDependentStates(this._secondaryTargetEntity.get(),this._secondaryAlignType))}getSecondaryAxis(){return this._secondaryAxis}setSecondaryAxis(t){this._secondaryAxis.thaw(),this._secondaryAxis.copy(t),this._secondaryAxis.freeze()}getSecondaryTargetEntity(){return this._secondaryTargetEntity.getName()}setSecondaryTargetEntity(t){this._secondaryTargetEntity.setName(t)}getSecondaryTargetAxis(){return this._secondaryTargetAxis}setSecondaryTargetAxis(t){this._secondaryTargetAxis.thaw(),this._secondaryTargetAxis.copy(t),this._secondaryTargetAxis.freeze()}setJoint(t,e){if(this._joint=t,e)this._model=e;else{const t=this.getEntity().get("model");null!==t&&(this._model=t)}""!==this._joint?(this.addDependentState(this.getEntity().getName(),"orientation"),this.removeModifiedState("orientation")):(this.removeDependentState(this.getEntity().getName(),"orientation"),this.addModifiedState("orientation"))}__updateOrientationAtTime(t,e){""===this._joint&&this._getOrientation(t,e)}__update(){const t=Lh.pool.get();this._jointObject,t.copy(this.getEntity().getOrientation()),this._getOrientation(t),null!==this._jointObject?this._jointObject.quaternion.set(t.x,t.y,t.z,t.w):this.getEntity().setOrientation(t),Lh.pool.release(t)}_getOrientation(t,e){if(""!==this._joint&&null!==this._model){const t=this._model.getThreeJsObjects()[0];if(void 0!==t&&(null===this._jointObject||this._jointObject.name!==this._joint||t.id!==this._modelRootId)){const e=this._model.getThreeJsObjectByName(this._joint);null!==e&&(this._jointObject=e,this._modelRootId=t.id)}if(null===this._jointObject)return}const i=Vh.pool.get(),s=Vh.pool.get(),n=Lh.pool.get(),a=Lh.pool.get();if(null!==this._jointObject){let e=this._jointObject;for(Td._tempThreeJsQuaternion.set(0,0,0,1);null!==e.parent&&e.parent!==this._model.getThreeJsObjects()[0];)e=e.parent,Td._tempThreeJsQuaternion.multiplyQuaternions(e.quaternion,Td._tempThreeJsQuaternion);a.copyFromThreeJs(Td._tempThreeJsQuaternion),a.mult(this._model.getRotation(),a),a.mult(t,a)}else a.copy(t);if(a.isNaN()&&a.copy(Lh.Identity),s.rotate(a,this._primaryAxis),this._getAxis(i,this._primaryAlignType,this._primaryTargetEntity,this._primaryTargetAxis,s,e),i.isNaN()&&i.set(1,0,0),n.setFromVectorFromTo(s,i),t.mult(n,a),t.isNaN()&&t.copy(Lh.Identity),Vh.pool.release(s),Lh.pool.release(n),"none"!==this._secondaryAlignType&&null!==this._secondaryTargetEntity&&(this._getAxis(i,this._secondaryAlignType,this._secondaryTargetEntity,this._secondaryTargetAxis,s,e),!i.isNaN())){const e=Lh.pool.get(),s=Vh.pool.get(),n=Vh.pool.get();s.rotate(t,this._primaryAxis),n.rotate(t,this._secondaryAxis);const a=n.angleAroundAxis(i,s);e.setFromAxisAngle(s,a),t.mult(e,t),Lh.pool.release(e),Vh.pool.release(s),Vh.pool.release(n)}t.normalize(t),null!==this._jointObject&&t.multInverseL(a,t),Lh.pool.release(a),Vh.pool.release(i)}_getAxis(t,e,i,s,n,a){const r=i.get();if("align"===e&&null!==r){const e=Lh.pool.get();r.getOrientationAtTime(e,a),t.rotate(e,s),Lh.pool.release(e)}else"velocity"===e&&null!==r?(r.getVelocityAtTime(t,a),t.normalize(t)):"point"===e&&null!==r?(r.getPositionRelativeToEntity(t,Vh.Zero,this.getEntity(),a),t.normalize(t)):"position"===e&&null!==r?t.normalize(r.getPosition()):t.copy(n)}_removeDependentStates(t,e){null!==t&&("align"===e?this.removeDependentState(t.getName(),"orientation"):"velocity"===e?this.removeDependentState(t.getName(),"velocity"):"point"===e?(this.removeDependentState(this.getEntity().getName(),"position"),this.removeDependentState(t.getName(),"position")):"position"===e&&this.removeDependentState(t.getName(),"position"))}_addDependentStates(t,e){null!==t&&("align"===e?this.addDependentState(t.getName(),"orientation"):"velocity"===e?this.addDependentState(t.getName(),"velocity"):"point"===e?(this.addDependentState(this.getEntity().getName(),"position"),this.addDependentState(t.getName(),"position")):"position"===e&&this.addDependentState(t.getName(),"position"))}}Td._tempThreeJsQuaternion=new Ue;const wd=new Lh(.9791532214288992,.2031230389823101,0,0);class Ed{read(t){}interpolate(t,e,i,s){}}class Ad extends Ed{constructor(){super(),this.position=new Vh,this.velocity=new Vh}read(t){this.position.y=-t.readFloat64(),this.position.z=t.readFloat64(),this.position.x=t.readFloat64(),this.velocity.y=-t.readFloat64(),this.velocity.z=t.readFloat64(),this.velocity.x=t.readFloat64(),this.position.rotate(wd,this.position),this.velocity.rotate(wd,this.velocity)}interpolate(t,e,i,s){const n=1-s,a=n*n,r=s*s,o=(1+2*s)*a,l=s*a,c=r*(3-2*s),h=r*-n;this.position.mult(t.position,o),this.position.addMult(this.position,t.velocity,i*l),this.position.addMult(this.position,e.position,c),this.position.addMult(this.position,e.velocity,i*h);const u=6*(r-s),d=u,p=3*r-4*s+1,m=-u,g=3*r-2*s;this.velocity.mult(t.position,d/i),this.velocity.addMult(this.velocity,t.velocity,p),this.velocity.addMult(this.velocity,e.position,m/i),this.velocity.addMult(this.velocity,e.velocity,g)}}class Id extends Ed{constructor(){super(),this.orientation=new Lh}read(t){this.orientation.y=t.readFloat32(),this.orientation.z=-t.readFloat32(),this.orientation.x=-t.readFloat32(),this.orientation.w=t.readFloat32(),this.orientation.mult(wd,this.orientation)}interpolate(t,e,i,s){this.orientation.slerp(t.orientation,e.orientation,s)}}class Md{constructor(t){this.interval=new Ih,this.state=t.__getNewState()}read(t){this.interval.min=t.readFloat64(),this.interval.max=t.readFloat64(),this.state.read(t)}}class Cd{constructor(t,e,i){this.interval=new Ih,this.dataPoints=[];const s=t.getUrl()+"/"+t.getStateType()+"_data/"+("00"+e).slice(-3)+"."+("000"+(i+1)).slice(-4)+".animdata";this.promise=t.getEntity().getScene().getEngine().getDownloader().download(s,!0,-t.getEntity().getLeastCameraDepth()).then((async e=>{if("cancelled"===e.status)return Promise.resolve();if("failed"===e.status)return Promise.reject(new Error('Failed to load animdata controller file "'+e.url+'": '+e.errorMessage));if(!(e.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load animdata controller file "'+e.url+'": Not a binary file.'));const i=new dh(e.content);this.interval.min=i.readFloat64(),this.interval.max=i.readFloat64();const s=i.readInt32();for(let e=0;e<s;e++){const e=new Md(t);e.read(i),this.dataPoints.push(e)}}))}}class Nd{constructor(){this.fileIndex=0,this.interval=new Ih}}class Pd{constructor(){this.fileIndex=0,this.dataPointIndices=[]}}class Rd{constructor(){this.bucketOverlaps=[]}}class Ld{constructor(t,e,i){this.fileOverlaps=new Map,this.buckets=[];const s=t.getUrl()+"/"+t.getStateType()+"_info/"+("00"+e).slice(-3)+"."+("000"+i).slice(-4)+".animinfo";this.promise=t.getEntity().getScene().getEngine().getDownloader().download(s,!0,-t.getEntity().getLeastCameraDepth()).then((async t=>{if("cancelled"===t.status)return Promise.resolve();if("failed"===t.status)return Promise.reject(new Error('Failed to load animdata controller file "'+t.url+'": '+t.errorMessage));if(!(t.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load animdata controller file "'+t.url+'": Not a binary file.'));const e=new dh(t.content),i=e.readInt16();for(let t=0;t<i;t++){const t=new Nd;t.fileIndex=e.readInt16(),t.interval.min=e.readFloat64(),t.interval.max=e.readFloat64(),this.fileOverlaps.set(t.fileIndex,t)}const s=e.readInt16();for(let t=0;t<s;t++){const t=new Rd,i=e.readInt16();for(let s=0;s<i;s++){const i=new Pd;i.fileIndex=e.readInt16();const s=e.readInt16();for(let t=0;t<s;t++)i.dataPointIndices.push(e.readInt16());t.bucketOverlaps.push(i)}this.buckets.push(t)}}))}}class Od{constructor(){this.interval=new Ih,this.numDataFiles=0,this.numBuckets=0,this.bucketStepSize=0,this.numBucketsPerAniminfoFile=0,this.animinfos=new Map,this.animdatas=new Map}}class Dd{constructor(t){this.coverages=[];const e=t.getUrl()+"/"+t.getStateType()+".animdef";this.promise=t.getEntity().getScene().getEngine().getDownloader().download(e,!0,-t.getEntity().getLeastCameraDepth()).then((async e=>{if("cancelled"===e.status)return Promise.resolve();if("failed"===e.status)return Promise.reject(new Error('Failed to load animdata controller file "'+e.url+'": '+e.errorMessage));if(!(e.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load animdata controller file "'+e.url+'": Not a binary file.'));const i=new dh(e.content),s=i.readInt16();for(let t=0;t<s;t++){const t=new Od;t.interval.min=i.readFloat64(),t.interval.max=i.readFloat64(),t.numDataFiles=i.readInt16(),t.numBuckets=i.readInt32(),t.bucketStepSize=i.readFloat64(),t.numBucketsPerAniminfoFile=i.readInt16(),this.coverages.push(t)}t.__updateCoverage()}))}}class kd extends Sd{constructor(t,e,i){super(t,e,i),this._baseUrl="",this._stateType="",this._animdef=null,this._currentDataPoint=null,this._tempDataPoint=null,this._engine=this.getEntity().getScene().getEngine(),this._forcedCoverage=new Ih,this._forcedCoverage.copy(this.getCoverage())}getUrl(){return this._baseUrl}getStateType(){return this._stateType}setBaseUrlAndStateType(t,e){this._baseUrl=t,this._stateType=e,this._currentDataPoint=new Md(this),this._tempDataPoint=new Md(this),this._animdef=new Dd(this),"pos"===this._stateType?(this.addModifiedState("position"),this.addModifiedState("velocity")):"ori"===this._stateType&&this.addModifiedState("orientation")}setCoverage(t){this._forcedCoverage.copy(t),this.__updateCoverage()}__updateCoverage(){const t=Ih.pool.get();if(null!==this._animdef&&this._animdef.coverages.length>0){t.copy(this._animdef.coverages[0].interval);for(let e=1;e<this._animdef.coverages.length;e++)t.union(t,this._animdef.coverages[e].interval);t.intersection(t,this._forcedCoverage)}else t.copy(this._forcedCoverage),t.max=t.min;super.setCoverage(t),Ih.pool.release(t)}__updatePositionAtTime(t,e){if("pos"===this._stateType){const i=this._tempDataPoint.state;this._tempDataPoint.interval.min!==e?this._getDataPointAtTime(this._tempDataPoint,e)&&t.copy(i.position):t.copy(i.position)}}__updateVelocityAtTime(t,e){if("pos"===this._stateType){const i=this._tempDataPoint.state;this._tempDataPoint.interval.min!==e?this._getDataPointAtTime(this._tempDataPoint,e)&&t.copy(i.velocity):t.copy(i.velocity)}}__updateOrientationAtTime(t,e){if("ori"===this._stateType){const i=this._tempDataPoint.state;this._getDataPointAtTime(this._tempDataPoint,e)&&t.copy(i.orientation)}}getLoadedPromise(){return this.downloadDataForInterval(new Ih(this._engine.getTime(),this._engine.getTime()))}downloadDataForInterval(t){return null===this._animdef?null:this._animdef.promise.then((async()=>{const e=[];for(let i=0;i<this._animdef.coverages.length;i++){const s=this._animdef.coverages[i];if(s.interval.intersects(t)){const n=Math.floor((Math.max(t.min,s.interval.min)-s.interval.min)/s.bucketStepSize/s.numBucketsPerAniminfoFile),a=Math.floor((Math.min(t.max,s.interval.max)-1e-4-s.interval.min)/s.bucketStepSize/s.numBucketsPerAniminfoFile);for(let r=n;r<=a;r++){s.animinfos.has(r)||s.animinfos.set(r,new Ld(this,i,r));const n=s.animinfos.get(r);e.push(n.promise.then((()=>{const e=[];for(const a of n.fileOverlaps.values())if(a.interval.intersects(t)){const t=a.fileIndex;s.animdatas.has(t)||s.animdatas.set(t,new Cd(this,i,t));const n=s.animdatas.get(t);e.push(n.promise)}return Promise.all(e).then()})))}return Promise.all(e).then()}}}))}__getNewState(){return"pos"===this._stateType?new Ad:"ori"===this._stateType?new Id:null}__update(){if(null!==this._currentDataPoint&&this._getDataPointAtTime(this._currentDataPoint,this._engine.getTime())){if("pos"===this._stateType){const t=this._currentDataPoint.state;this.getEntity().setPosition(t.position),this.getEntity().setVelocity(t.velocity)}if("ori"===this._stateType){const t=this._currentDataPoint.state;this.getEntity().setOrientation(t.orientation)}}}_getDataPointAtTime(t,e){for(let i=0;i<this._animdef.coverages.length;i++){const s=this._animdef.coverages[i];if(s.interval.contains(e)){const n=Math.floor((e-s.interval.min)/s.bucketStepSize/s.numBucketsPerAniminfoFile);if(s.animinfos.has(n)){const a=s.animinfos.get(n),r=Math.floor((e-s.interval.min)/s.bucketStepSize)-n*s.numBucketsPerAniminfoFile,o=a.buckets[r];if(void 0===o)return!1;for(let n=0;n<o.bucketOverlaps.length;n++){const r=o.bucketOverlaps[n],l=r.fileIndex;if(a.fileOverlaps.get(l).interval.contains(e)){if(s.animdatas.has(l)){const i=s.animdatas.get(l);for(let s=0;s<r.dataPointIndices.length;s++){const n=r.dataPointIndices[s],a=i.dataPoints[n];if(void 0===a)return!1;if(a.interval.contains(e)){const s=(e-a.interval.min)/a.interval.length();return t.interval.min=e,t.interval.max=e,t.state.interpolate(a.state,i.dataPoints[n+1].state,a.interval.length(),s),!0}}return!1}return s.animdatas.set(l,new Cd(this,i,l)),!1}}return!1}return s.animinfos.set(n,new Ld(this,i,n)),!1}}return!1}}class Fd extends Sd{constructor(t,e,i){super(t,e,i),this.coverage=new Ih,this.enterFunction=void 0,this.exitFunction=void 0,this.updateFunction=void 0,this.active=!1,this.lastUpdateTime=Number.NEGATIVE_INFINITY,this.updateInterval=0}setCoverage(t){this.coverage.copy(t)}setEnterFunction(t){this.enterFunction=t}setExitFunction(t){this.exitFunction=t}setUpdateFunction(t){this.updateFunction=t}setUpdateInterval(t){this.updateInterval=1e3*t}__update(){const t=this.getEntity().getScene().getEngine().getTime();if(0===this.getTypeIndex())for(let e=0;;e++){const i=this.getEntity().getControllerByClass(Fd,e);if(null===i)break;const s=i.coverage.contains(t);i.active&&!s&&i.exitFunction&&i.exitFunction(this.getEntity())}const e=this.coverage.contains(t);if(!this.active&&e&&this.enterFunction&&this.enterFunction(this.getEntity()),e&&this.updateFunction){const t=Date.now();t-this.lastUpdateTime>=this.updateInterval&&(this.lastUpdateTime=t,this.updateFunction(this.getEntity()))}this.active=e}}class Ud{load(t){this.time=t.readFloat64()}calculate(t,e,i,s){}apply(t){}setNaN(t){}static readHeader(t){return{}}}class zd extends Ud{constructor(){super(),this.position=new Vh,this.velocity=new Vh}load(t){super.load(t),this.position=new Vh(t.readFloat64(),t.readFloat64(),t.readFloat64()),this.velocity=new Vh(t.readFloat64(),t.readFloat64(),t.readFloat64())}calculate(t,e,i,s){this.time=e;const n=t[1].time-t[0].time,a=(e-t[0].time)/n,r=1-a,o=r*r,l=a*a,c=(1+2*a)*o,h=a*o,u=l*(3-2*a),d=l*-r;this.position.mult(t[0].position,c),this.position.addMult(this.position,t[0].velocity,n*h),this.position.addMult(this.position,t[1].position,u),this.position.addMult(this.position,t[1].velocity,n*d);const p=6*(l-a),m=p,g=3*l-4*a+1,_=-p,f=3*l-2*a;this.velocity.mult(t[0].position,m/n),this.velocity.addMult(this.velocity,t[0].velocity,g),this.velocity.addMult(this.velocity,t[1].position,_/n),this.velocity.addMult(this.velocity,t[1].velocity,f)}apply(t){t.setPosition(this.position),t.setVelocity(this.velocity)}setNaN(t){t.setPosition(Vh.NaN),t.setVelocity(Vh.NaN)}static readHeader(t){return{}}}class jd extends Ud{constructor(){super(),this.position=new Vh,this.velocity=new Vh}load(t){super.load(t),this.position.set(t.readFloat64(),t.readFloat64(),t.readFloat64()),this.velocity.copy(Vh.Zero)}calculate(t,e,i,s){if(this.time=e,t[1].time>t[0].time){const i=hh.clamp01((e-t[0].time)/(t[1].time-t[0].time));this.position.lerp(t[0].position,t[1].position,i),this.velocity.sub(t[1].position,t[0].position),this.velocity.div(this.velocity,t[1].time-t[0].time)}else this.position.copy(t[1].position),this.velocity.copy(Vh.Zero)}apply(t){t.setPosition(this.position),t.setVelocity(this.velocity)}setNaN(t){t.setPosition(Vh.NaN),t.setVelocity(Vh.NaN)}static readHeader(t){return{}}}class Bd extends Ud{constructor(){super(),this.orientation=new Lh,this.angularVelocity=new Vh}load(t){super.load(t),this.orientation=new Lh(t.readFloat64(),t.readFloat64(),t.readFloat64(),t.readFloat64()),this.angularVelocity=new Vh(t.readFloat64(),t.readFloat64(),t.readFloat64())}calculate(t,e,i,s){this.time=e;const n=Lh.pool.get(),a=Lh.pool.get(),r=(e-t[0].time)/(t[1].time-t[0].time);t[0]._project(n,e,s),t[1]._project(a,e,s),this.orientation.slerp(n,a,r),Lh.pool.release(n),Lh.pool.release(a),this.angularVelocity.slerp(t[0].angularVelocity,t[1].angularVelocity,r),this.angularVelocity.neg(this.angularVelocity),this.angularVelocity.rotate(this.orientation,this.angularVelocity)}apply(t){t.setOrientation(this.orientation),t.setAngularVelocity(this.angularVelocity)}_project(t,e,i){const s=Vh.pool.get(),n=Lh.pool.get();s.normalize(this.angularVelocity),n.setFromAxisAngle(s,this.angularVelocity.magnitude()*(e-this.time)),Vh.pool.release(s),i?(n.multInverseR(this.orientation,n),t.mult(t,n)):t.multInverseR(this.orientation,n),Lh.pool.release(n)}setNaN(t){t.setOrientation(Lh.NaN),t.setAngularVelocity(Vh.NaN)}static readHeader(t){return{}}}class Hd extends Ud{constructor(){super(),this.orientation=new Lh,this.angularVelocity=new Vh}load(t){super.load(t),this.orientation=new Lh(t.readFloat64(),t.readFloat64(),t.readFloat64(),t.readFloat64())}calculate(t,e,i,s){this.time=e;const n=hh.clamp01((e-t[0].time)/(t[1].time-t[0].time));this.orientation.slerp(t[0].orientation,t[1].orientation,n)}apply(t){t.setOrientation(this.orientation),t.setAngularVelocity(Vh.Zero)}setNaN(t){t.setOrientation(Lh.NaN),t.setAngularVelocity(Vh.NaN)}static readHeader(t){return{}}}class Vd extends Ud{constructor(){super(),this.oe=new Nh,this.oe.orbitOrientation.freeze(),this.position=new Vh,this.velocity=new Vh}load(t){super.load(t),this.oe.epoch=this.time,this.oe.semiMajorAxis=t.readFloat64(),this.oe.eccentricity=t.readFloat64(),this.oe.meanAngularMotion=t.readFloat64(),this.oe.meanAnomalyAtEpoch=t.readFloat64(),this.oe.orbitOrientation.thaw(),this.oe.orbitOrientation.set(t.readFloat64(),t.readFloat64(),t.readFloat64(),t.readFloat64()),this.oe.orbitOrientation.freeze()}calculate(t,e,i,s){this.time=e,this.oe.epoch=e;const n=Vh.pool.get(),a=Vh.pool.get(),r=Vh.pool.get(),o=Vh.pool.get(),l=hh.clamp01((e-t[0].time)/(t[1].time-t[0].time));t[0]._project(n,r,e,i,s),t[1]._project(a,o,e,i,s),this.position.lerp(n,a,l),this.velocity.lerp(r,o,l),Vh.pool.release(n),Vh.pool.release(a),Vh.pool.release(r),Vh.pool.release(o)}apply(t){t.setPosition(this.position),t.setVelocity(this.velocity)}_project(t,e,i,s,n){const a=Vh.pool.get(),r=Vh.pool.get();this.oe.project(a,r,i);let o=1;1===s.body?o=s.gravitationalParameter2/(s.gravitationalParameter1+s.gravitationalParameter2):2===s.body&&(o=-s.gravitationalParameter1/(s.gravitationalParameter1+s.gravitationalParameter2)),a.mult(a,o),r.mult(r,o),n?t.add(a,t):t.copy(a),e.copy(r),Vh.pool.release(a),Vh.pool.release(r)}setNaN(t){t.setPosition(Vh.NaN),t.setVelocity(Vh.NaN)}static readHeader(t){return{gravitationalParameter1:t.readFloat64(),gravitationalParameter2:t.readFloat64()}}}class Gd{constructor(t,e,i,s){this._PointClass=t,this._version=e,this._numberOfDigits=i,this._name=s,this._pointSets=[],this._points=[],this._hintIndex=0,this._interval=new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY),this._loadedState=Gd.State.NOT_LOADED,this._accessedTime=Number.POSITIVE_INFINITY}getName(){return this._name}getLoadedState(){return this._loadedState}getLoadedTime(){return this._accessedTime}hasPointSets(){return 0!==this._pointSets.length}hasPoints(){return 0!==this._points.length}load(t){let e=!0;if((2===this._version||1===this._version&&"def"===this._name)&&(e=1===t.readByte()),e){const e=t.readInt32();for(let i=0;i<e;i++){const e=new this._PointClass;e.load(t),this._points.push(e)}this._points.length>0&&(this._interval.min=this._points[0].time,this._interval.max=this._points[this._points.length-1].time)}else{const e=t.readInt32();1===this._version&&(this._numberOfDigits=Math.ceil(Math.log10(e)));for(let i=0;i<e;i++){let e="";e="def"===this._name?(i+"").padStart(this._numberOfDigits,"0"):this._name+"_"+(i+"").padStart(this._numberOfDigits,"0");const s=new Gd(this._PointClass,this._version,this._numberOfDigits,e);s._interval.min=t.readFloat64(),1===this._version?s._interval.max=t.readFloat64():i>0&&(this._pointSets[i-1]._interval.max=s._interval.min),this._pointSets.push(s)}2===this._version&&this._pointSets.splice(this._pointSets.length-1,1),this._pointSets.length>0&&(this._interval.min=this._pointSets[0]._interval.min,this._interval.max=this._pointSets[this._pointSets.length-1]._interval.max)}this._loadedState=Gd.State.LOADED,this._accessedTime=Date.now()}loadFromUrl(t,e,i){this._loadedState=Gd.State.LOADING,t.download(e+"/"+this._name+".dyn",!0,i).then((async t=>{if("cancelled"===t.status)return Promise.resolve();if("failed"===t.status)return this._loadedState=Gd.State.FAILED,Promise.resolve();if(!(t.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load dynamo controller file "'+t.url+'": Not a binary file.'));const e=new dh(t.content);this.load(e)}))}unloadOldPointSet(){for(let t=0,e=this._pointSets.length;t<e;t++){const e=this._pointSets[t];if(e._loadedState===Gd.State.LOADED){if(Date.now()-e._accessedTime>15e3)return e.unload(),!0;if(e.unloadOldPointSet())return!0}}return!1}unload(){this._loadedState=Gd.State.NOT_LOADED,this._accessedTime=Number.POSITIVE_INFINITY,this._pointSets=[],this._points=[]}getPointSet(t){if(this._accessedTime=Date.now(),0===this._pointSets.length)return null;if(this._pointSets[this._hintIndex]._interval.contains(t));else if(this._hintIndex-1>=0&&this._pointSets[this._hintIndex-1]._interval.contains(t))this._hintIndex-=1;else if(this._hintIndex+1<this._pointSets.length&&this._pointSets[this._hintIndex+1]._interval.contains(t))this._hintIndex+=1;else{let e=0,i=this._pointSets.length-1,s=0;for(;e!==i;)s=Math.ceil((e+i)/2),t<this._pointSets[s]._interval.min?i=s-1:e=s;this._hintIndex=e}return this._pointSets[this._hintIndex]}getPoints(t,e){if(this._accessedTime=Date.now(),0===this._points.length)return t[0]=null,void(t[1]=null);if(this._hintIndex+1<this._points.length&&this._points[this._hintIndex].time<=e&&e<this._points[this._hintIndex+1].time);else if(this._hintIndex-1>=0&&this._points[this._hintIndex-1].time<=e&&e<this._points[this._hintIndex].time)this._hintIndex-=1;else if(this._hintIndex+2<this._points.length&&this._points[this._hintIndex+1].time<=e&&e<this._points[this._hintIndex+2].time)this._hintIndex+=1;else{let t=0,i=this._points.length-2,s=0;for(;t!==i;)s=Math.ceil((t+i)/2),e<this._points[s].time?i=s-1:t=s;this._hintIndex=t}t[0]=this._points[this._hintIndex],t[1]=this._points[this._hintIndex+1]}}Gd.State={NOT_LOADED:0,LOADING:1,LOADED:2,FAILED:3};class qd extends Sd{constructor(t,e,i){super(t,e,i),this._baseUrl="",this._dataLoadedAtCurrentTime=!1,this._timeOffset=0,this._version=0,this._pointType="",this._PointClass=null,this._numberOfDigits=0,this._header={body:0},this._incremental=!1,this._pointSet=null,this._downloader=i.getScene().getEngine().getDownloader(),this._points=[null,null],this._lastPoints=[null,null],this._lastTime=Number.NaN,this._pCalc=null,this._userCoverage=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._userCoverage.freeze()}getPointType(){return this._pointType}getHeaderValue(t){return this._header[t]}setHeaderValue(t,e){this._header[t]=e}isIncremental(){return this._incremental}setIncremental(t){this._incremental=t}getBaseUrl(){return this._baseUrl}setBaseUrl(t){""!==this._baseUrl&&(this._downloader.cancel(this._baseUrl+"/def.dyn"),this._pointSet=null,this._PointClass=null,this._userCoverage.thaw(),this._userCoverage=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._userCoverage.freeze(),super.setCoverage(new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),this.removeModifiedState("position"),this.removeModifiedState("velocity"),this.removeModifiedState("orientation"),this.removeModifiedState("angularVelocity"),this._dataLoadedAtCurrentTime=!1),this._baseUrl=t,this._baseUrl.endsWith("/")&&(this._baseUrl=this._baseUrl.slice(0,-1)),this._loadDef().catch((t=>{console.error(t.message)}))}getLoadedPromise(){return new Promise((t=>{const e=this.getEntity().getScene().getEngine(),i=()=>{const s=e.getTime();(this.isDestroyed()||!this.isEnabled()||!this.getEntity().isEnabled()||""===this._baseUrl||null!==this._pointSet&&!this.getCoverage().contains(s)||this._dataLoadedAtCurrentTime)&&(e.removeCallback(i),t())};e.addCallback(i,!0)}))}getTimeOffset(){return this._timeOffset}setTimeOffset(t){const e=this._timeOffset;this._timeOffset=t;const i=new Ih;i.copy(this.getCoverage()),i.min+=this._timeOffset-e,i.max+=this._timeOffset-e,super.setCoverage(i)}setCoverage(t){this._userCoverage.thaw(),this._userCoverage.copy(t),this._userCoverage.freeze();const e=Ih.pool.get();null!==this._pointSet?e.intersection(this._userCoverage,this._pointSet._interval):e.copy(new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)),e.min+=this._timeOffset,e.max+=this._timeOffset,super.setCoverage(e),Ih.pool.release(e)}getOrbitalElements(t,e){if(this._PointClass===Vd&&null!==this._pointSet&&(this._getPointsAtTime(this._points,e),null!==this._points[0]&&(this._lastPoints[0]=this._points[0],this._lastPoints[1]=this._points[1]),null!==this._lastPoints[0])){const i=this._lastPoints[0].oe,s=this._lastPoints[1].oe,n=hh.clamp01((e-this._lastPoints[0].time)/(this._lastPoints[1].time-this._lastPoints[0].time));t.eccentricity=hh.lerp(i.eccentricity,s.eccentricity,n),t.semiMajorAxis=hh.lerp(i.semiMajorAxis,s.semiMajorAxis,n),t.epoch=hh.lerp(i.epoch,s.epoch,n),t.meanAngularMotion=hh.lerp(i.meanAngularMotion,s.meanAngularMotion,n),t.meanAnomalyAtEpoch=hh.lerpAngle(i.meanAnomalyAtEpoch,s.meanAnomalyAtEpoch,n),t.orbitOrientation.slerp(i.orbitOrientation,s.orbitOrientation,n)}}getEccentricity(t){if(this._PointClass===Vd&&null!==this._pointSet&&(this._getPointsAtTime(this._points,t),null!==this._points[0]&&(this._lastPoints[0]=this._points[0],this._lastPoints[1]=this._points[1]),null!==this._lastPoints[0])){const e=hh.clamp01((t-this._lastPoints[0].time)/(this._lastPoints[1].time-this._lastPoints[0].time));return hh.lerp(this._lastPoints[0].oe.eccentricity,this._lastPoints[1].oe.eccentricity,e)}return Number.NaN}getSemiMajorAxis(t){if(this._PointClass===Vd&&null!==this._pointSet&&(this._getPointsAtTime(this._points,t),null!==this._points[0]&&(this._lastPoints[0]=this._points[0],this._lastPoints[1]=this._points[1]),null!==this._lastPoints[0])){const e=hh.clamp01((t-this._lastPoints[0].time)/(this._lastPoints[1].time-this._lastPoints[0].time));return hh.lerp(this._lastPoints[0].oe.semiMajorAxis,this._lastPoints[1].oe.semiMajorAxis,e)}return Number.NaN}getOrbitOrientation(t,e){if(this._PointClass===Vd&&null!==this._pointSet&&(this._getPointsAtTime(this._points,e),null!==this._points[0]&&(this._lastPoints[0]=this._points[0],this._lastPoints[1]=this._points[1]),null!==this._lastPoints[0])){const i=hh.clamp01((e-this._lastPoints[0].time)/(this._lastPoints[1].time-this._lastPoints[0].time));t.slerp(this._lastPoints[0].oe.orbitOrientation,this._lastPoints[1].oe.orbitOrientation,i)}}__destroy(){""!==this._baseUrl&&this._downloader.cancel(this._baseUrl+"/def.dyn"),super.__destroy()}__updatePositionAtTime(t,e){if(null!==this._pointSet){if(void 0!==this._pCalc.position&&this.getCoverage().contains(e)){if(this._pCalc.time!==e){if(this._getPointsAtTime(this._points,e),null===this._points[0])return void t.copy(Vh.NaN);this._pCalc.calculate(this._points,e-this._timeOffset,this._header,this._incremental)}t.copy(this._pCalc.position)}}else t.copy(Vh.NaN)}__updateVelocityAtTime(t,e){if(null!==this._pointSet){if(void 0!==this._pCalc.velocity&&this.getCoverage().contains(e)){if(this._pCalc.time!==e){if(this._getPointsAtTime(this._points,e),null===this._points[0])return void t.copy(Vh.NaN);this._pCalc.calculate(this._points,e-this._timeOffset,this._header,this._incremental)}t.copy(this._pCalc.velocity)}}else t.copy(Vh.NaN)}__updateOrientationAtTime(t,e){if(null!==this._pointSet){if(void 0!==this._pCalc.orientation&&this.getCoverage().contains(e)){if(this._pCalc.time!==e){if(this._getPointsAtTime(this._points,e),null===this._points[0])return void t.copy(Lh.NaN);this._pCalc.calculate(this._points,e-this._timeOffset,this._header,this._incremental)}t.copy(this._pCalc.orientation)}}else t.copy(Lh.NaN)}__update(){const t=this.getEntity(),e=t.getScene().getEngine().getTime();null!==this._pointSet?(this._pointSet.unloadOldPointSet(),this._getPointsAtTime(this._points,e),null!==this._points[0]?(this._pCalc.calculate(this._points,e-this._timeOffset,this._header,this._incremental),this._pCalc.apply(t),this._lastPoints[0]=this._points[0],this._lastPoints[1]=this._points[1],this._dataLoadedAtCurrentTime=!0):(null!==this._lastPoints[0]&&null!==this._lastPoints[1]&&(this._pCalc.calculate(this._lastPoints,e-this._timeOffset,this._header,this._incremental),this._pCalc.apply(t)),this._dataLoadedAtCurrentTime=!1)):(this.getEntity().setPosition(Vh.NaN),this.getEntity().setVelocity(Vh.NaN),this.getEntity().setOrientation(Lh.NaN),this.getEntity().setAngularVelocity(Vh.NaN),this._dataLoadedAtCurrentTime=!1),this._lastTime=e}async _loadDef(){const t=this._baseUrl;return this._downloader.download(this._baseUrl+"/def.dyn",!0,-this.getEntity().getLeastCameraDepth()).then((async t=>{if("cancelled"===t.status)return Promise.resolve();if("failed"===t.status)return Promise.reject(new Error('Failed to load dynamo controller file "'+t.url+'": '+t.errorMessage));if(!(t.content instanceof ArrayBuffer))return Promise.reject(new Error('Failed to load dynamo controller file "'+t.url+'": Not a binary file.'));const e=new dh(t.content);if(this._version=e.readInt16(),1!==this._version&&2!==this._version)throw new Error(t.url+" is not Dynamo version 1 or 2");this._pointType=e.readString(),"pos"===this._pointType?this._PointClass=zd:"lin"===this._pointType?this._PointClass=jd:"ori"===this._pointType?this._PointClass=Bd:"quat"===this._pointType?this._PointClass=Hd:"orb"===this._pointType&&(this._PointClass=Vd),this._pCalc=new this._PointClass,this._PointClass===zd||this._PointClass===jd||this._PointClass===Vd?(this.addModifiedState("position"),this.addModifiedState("velocity"),this.removeModifiedState("orientation"),this.removeModifiedState("angularVelocity")):this._PointClass!==Bd&&this._PointClass!==Hd||(this.addModifiedState("orientation"),this.addModifiedState("angularVelocity"),this.removeModifiedState("position"),this.removeModifiedState("velocity")),2===this._version&&(this._numberOfDigits=e.readByte()),this._header=Object.assign(this._header,this._PointClass.readHeader(e)),this._pointSet=new Gd(this._PointClass,this._version,this._numberOfDigits,"def"),this._pointSet.load(e);const i=Ih.pool.get();i.intersection(this._userCoverage,this._pointSet._interval),i.min+=this._timeOffset,i.max+=this._timeOffset,super.setCoverage(i),Ih.pool.release(i)})).catch((e=>{throw e instanceof Error&&(e.message=`While loading dynamo "${t}/def.dyn": ${e.message}`),e}))}_getPointsAtTime(t,e){let i=this._pointSet;for(;null!==i;){if(i.hasPoints())return void i.getPoints(t,e-this._timeOffset);if(i.getLoadedState()!==Gd.State.LOADED){if(i.getLoadedState()===Gd.State.NOT_LOADED){i.loadFromUrl(this._downloader,this._baseUrl,-this.getEntity().getLeastCameraDepth());break}if(i.getLoadedState()===Gd.State.FAILED){this.setBaseUrl(this._baseUrl);break}break}i=i.getPointSet(e-this._timeOffset)}t[0]=null,t[1]=null}}qd.maxLoadedPointSetsPerController=5;class Jd extends Sd{constructor(t,e,i){super(t,e,i),this._position=null,this._orientation=null}getPosition(){return this._position}setPosition(t){null!==t?(null===this._position&&(this._position=new Vh),this._position.thaw(),this._position.copy(t),this._position.freeze()):this._position=null,null!==t?(this.addModifiedState("position"),this.addModifiedState("velocity")):(this.removeModifiedState("position"),this.removeModifiedState("velocity"))}getOrientation(){return this._orientation}setOrientation(t){null!==t?(null===this._orientation&&(this._orientation=new Lh),this._orientation.thaw(),this._orientation.copy(t),this._orientation.freeze()):this._orientation=null,null!==t?this.addModifiedState("orientation"):this.removeModifiedState("orientation")}__updatePositionAtTime(t,e){null!==this._position&&t.copy(this._position)}__updateVelocityAtTime(t,e){null!==this._position&&t.set(0,0,0)}__updateOrientationAtTime(t,e){null!==this._orientation&&t.copy(this._orientation)}__update(){null!==this._position&&(this.getEntity().setPosition(this._position),this.getEntity().setVelocity(Vh.Zero)),null!==this._orientation&&this.getEntity().setOrientation(this._orientation)}}class Wd extends Sd{constructor(t,e,i){super(t,e,i),this._groundComponentRef=new tu(this.getEntity().getScene()),this._distanceFromGround=0,this._up=new Vh(0,0,1),this._up.freeze(),this._clampOnlyIfBelow=!1,this.addModifiedState("position")}setGroundComponentRef(t,e,i){this.removeDependentState(this._groundComponentRef.getEntityName(),"orientation"),this._groundComponentRef.setByType(t,e,i),this.addDependentState(t,"orientation")}getDistanceFromGround(){return this._distanceFromGround}setDistanceFromGround(t){this._distanceFromGround=t}getUp(){return this._up}setUp(t){this._up.thaw(),this._up.copy(t),this._up.freeze()}getClampOnlyIfBelow(){return this._clampOnlyIfBelow}setClampOnlyIfBelow(t){this._clampOnlyIfBelow=t}__updatePositionAtTime(t,e){const i=this.getEntity().getParentAtTime(e),s=this.getEntity().getScene().getEntity(i);if(null===s)return;let n=this._groundComponentRef.get();if(null===n){let t=this.getEntity().getParent();for(;null!==t&&(n=t.getComponentByClass(dd),null===n);)t=t.getParent();if(null===n||void 0===n.getGroundPosition)return}const a=n.getEntity(),r=Vh.pool.get(),o=Vh.pool.get(),l=Vh.pool.get(),c=Lh.pool.get();if(a.getOrientationAtTime(c,e),s.getPositionRelativeToEntity(r,t,a,e),r.rotateInverse(c,r),n.getGroundPosition(o,l,r),!o.isNaN()){const i=Vh.pool.get(),n=Lh.pool.get();this.getEntity().getOrientationAtTime(n,e),i.rotate(n,this._up),Lh.pool.release(n),i.rotateInverse(c,i);const h=Math.abs(i.dot(l));Vh.pool.release(i);const u=Math.min(this._distanceFromGround/h,this._distanceFromGround+this.getEntity().getExtentsRadius());o.addMult(o,l,u),(!this._clampOnlyIfBelow||r.dot(l)-o.dot(l)<0)&&(r.rotate(c,o),a.getPositionRelativeToEntity(t,r,s,e))}Vh.pool.release(r),Vh.pool.release(o),Vh.pool.release(l),Lh.pool.release(c)}__update(){if(null===this.getEntity().getParent())return;let t=this._groundComponentRef.get();if(null===t){let e=this.getEntity().getParent();for(;null!==e&&(t=e.getComponentByClass(dd),null===t);)e=e.getParent();if(null===t||void 0===t.getGroundPosition)return}const e=t.getEntity(),i=Vh.pool.get(),s=Vh.pool.get(),n=Vh.pool.get();if(this.getEntity().getPositionRelativeToEntity(i,Vh.Zero,e),i.rotateInverse(e.getOrientation(),i),t.getGroundPosition(s,n,i),!s.isNaN()){const t=Vh.pool.get();t.rotate(this.getEntity().getOrientation(),this._up),t.rotateInverse(e.getOrientation(),t);const a=Math.abs(t.dot(n));Vh.pool.release(t);const r=Math.min(this._distanceFromGround/a,this._distanceFromGround+this.getEntity().getExtentsRadius());s.addMult(s,n,r),(!this._clampOnlyIfBelow||i.dot(n)-s.dot(n)<0)&&(i.rotate(e.getOrientation(),s),e.getPositionRelativeToEntity(i,i,this.getEntity().getParent()),this.getEntity().setPosition(i))}Vh.pool.release(i),Vh.pool.release(s),Vh.pool.release(n)}}class Yd extends Sd{constructor(t,e,i){super(t,e,i),this._positionKeyframes=[],this._orientationKeyframes=[],this._timesAreRealTime=!1,this._timeOfFirstUpdate=NaN,this.setCoverage(new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)),this._position0=new Vh,this._position1=new Vh,this._orientation0=new Lh,this._orientation1=new Lh,this._newPosition=new Vh,this._newVelocity=new Vh,this._newOrientation=new Lh,this._tangent0=new Vh,this._tangent1=new Vh,this._tempA=new Vh,this._tempB=new Vh}addPositionKeyframe(t,e,i,s,n,a){const r=[t,{position:e,relativeToEntityPosition:i?new iu(this.getEntity().getScene(),i):void 0,relativeToEntityPositionTime:s,relativeToEntityOrientation:n?new iu(this.getEntity().getScene(),n):void 0,relativeToEntityOrientationTime:a}];ph.add(r,this._positionKeyframes,$d),1===this._positionKeyframes.length&&(this.addModifiedState("position"),this.addModifiedState("velocity")),this._updateCoverage()}removePositionKeyframe(t){const e=ph.remove(t,this._positionKeyframes,Xd,Kd);return e&&(0===this._positionKeyframes.length&&(this.removeModifiedState("position"),this.removeModifiedState("velocity")),this._updateCoverage()),e}addOrientationKeyframe(t,e,i,s){const n=[t,{orientation:e,relativeToEntityOrientation:i?new iu(this.getEntity().getScene(),i):void 0,relativeToEntityOrientationTime:s}];ph.add(n,this._orientationKeyframes,$d),1===this._orientationKeyframes.length&&this.addModifiedState("orientation"),this._updateCoverage()}removeOrientationKeyframe(t){const e=ph.remove(t,this._orientationKeyframes,Xd,Kd);return e&&(0===this._orientationKeyframes.length&&this.removeModifiedState("orientation"),this._updateCoverage()),e}areTimesRealTime(){return this._timesAreRealTime}setTimesAreRealTime(t){this._timesAreRealTime=t,this._updateCoverage()}__updatePositionAtTime(t,e){this._getPositionAtTime(t,e)}__updateVelocityAtTime(t,e){this._getVelocityAtTime(t,e)}__updateOrientationAtTime(t,e){this._getOrientationAtTime(t,e)}__update(){const t=this.getEntity().getScene().getEngine();let e=0;this._timesAreRealTime?isNaN(this._timeOfFirstUpdate)?this._timeOfFirstUpdate=Date.now()/1e3:e=Date.now()/1e3-this._timeOfFirstUpdate:e=t.getTime(),this._getPositionAtTime(this._newPosition,e)&&this.getEntity().setPosition(this._newPosition),this._getVelocityAtTime(this._newVelocity,e)&&this.getEntity().setVelocity(this._newVelocity),this._getOrientationAtTime(this._newOrientation,e)&&this.getEntity().setOrientation(this._newOrientation)}_getPositionAtTime(t,e){const i=ph.getIndex(e,this._positionKeyframes,Xd);if(i<this._positionKeyframes.length){if(0!==i){const s=i-1,n=i,a=this._positionKeyframes[s][0],r=this._positionKeyframes[n][0];if(this._getPositionOfKeyframe(this._position0,this._positionKeyframes[s]),this._getPositionOfKeyframe(this._position1,this._positionKeyframes[n]),s>0){const t=this._positionKeyframes[s-1][0];this._getPositionOfKeyframe(this._tempA,this._positionKeyframes[s-1]),this._tempA.sub(this._position0,this._tempA),this._tempB.sub(this._position1,this._position0),this._tempB.mult(this._tempB,.5),this._tangent0.addMult(this._tempB,this._tempA,.5*(r-a)/(a-t))}else this._tangent0.sub(this._position1,this._position0);if(n<this._positionKeyframes.length-1){const t=this._positionKeyframes[n+1][0];this._getPositionOfKeyframe(this._tempB,this._positionKeyframes[n+1]),this._tempA.sub(this._position1,this._position0),this._tempB.sub(this._tempB,this._position1),this._tempA.mult(this._tempA,.5),this._tangent1.addMult(this._tempA,this._tempB,.5*(r-a)/(t-r))}else this._tangent1.sub(this._position1,this._position0);const o=(e-a)/(r-a);return this._cubicHermiteSpline(t,this._position0,this._position1,this._tangent0,this._tangent1,o),!0}if(this._positionKeyframes[0][0]===e)return this._getPositionOfKeyframe(t,this._positionKeyframes[0]),!0}return!1}_getVelocityAtTime(t,e){const i=ph.getIndex(e,this._positionKeyframes,Xd);if(i<this._positionKeyframes.length){if(0!==i){const s=i-1,n=i,a=this._positionKeyframes[s][0],r=this._positionKeyframes[n][0];if(this._getPositionOfKeyframe(this._position0,this._positionKeyframes[s]),this._getPositionOfKeyframe(this._position1,this._positionKeyframes[n]),s>0){const t=this._positionKeyframes[s-1][0];this._getPositionOfKeyframe(this._tempA,this._positionKeyframes[s-1]),this._tempA.sub(this._position0,this._tempA),this._tempB.sub(this._position1,this._position0),this._tempB.mult(this._tempB,.5),this._tangent0.addMult(this._tempB,this._tempA,.5*(r-a)/(a-t))}else this._tangent0.sub(this._position1,this._position0);if(n<this._positionKeyframes.length-1){const t=this._positionKeyframes[n+1][0];this._getPositionOfKeyframe(this._tempB,this._positionKeyframes[n+1]),this._tempA.sub(this._position1,this._position0),this._tempB.sub(this._tempB,this._position1),this._tempA.mult(this._tempA,.5),this._tangent1.addMult(this._tempA,this._tempB,.5*(r-a)/(t-r))}else this._tangent1.sub(this._position1,this._position0);const o=(e-a)/(r-a);return this._cubicHermiteSplineDerivative(t,this._position0,this._position1,this._tangent0,this._tangent1,o),t.div(t,r-a),!0}if(this._positionKeyframes[0][0]===e){if(this._positionKeyframes.length>1){const e=this._positionKeyframes[0][0],i=this._positionKeyframes[1][0];this._getPositionOfKeyframe(this._position0,this._positionKeyframes[0]),this._getPositionOfKeyframe(this._position1,this._positionKeyframes[1]),t.sub(this._position1,this._position0),t.div(t,i-e)}else t.set(0,0,0);return!0}}return!1}_getOrientationAtTime(t,e){const i=ph.getIndex(e,this._orientationKeyframes,Xd);if(i<this._orientationKeyframes.length){if(0!==i){const s=i-1,n=i,a=this._orientationKeyframes[s][0];this._getOrientationOfKeyframe(this._orientation0,this._orientationKeyframes[s]);const r=this._orientationKeyframes[n][0];return this._getOrientationOfKeyframe(this._orientation1,this._orientationKeyframes[n]),t.slerp(this._orientation0,this._orientation1,(e-a)/(r-a)),!0}if(this._orientationKeyframes[0][0]===e)return this._getOrientationOfKeyframe(t,this._orientationKeyframes[0]),!0}return!1}_getPositionOfKeyframe(t,e){const i=e[1];if(t.copy(i.position),void 0!==i.relativeToEntityOrientation){const s=void 0!==e[1].relativeToEntityOrientationTime?e[1].relativeToEntityOrientationTime:e[0],n=i.relativeToEntityOrientation.get();if(null!==n){const e=Lh.pool.get();n.getOrientationAtTime(e,s),t.rotate(e,t),Lh.pool.release(e)}else t.copy(Vh.NaN)}if(void 0!==i.relativeToEntityPosition){const s=void 0!==e[1].relativeToEntityPositionTime?e[1].relativeToEntityPositionTime:e[0],n=Vh.pool.get(),a=i.relativeToEntityPosition.get();null!==a?(a.getPositionRelativeToEntity(n,Vh.Zero,this.getEntity().getParent(),s),t.add(n,t),Vh.pool.release(n)):t.copy(Vh.NaN)}}_getOrientationOfKeyframe(t,e){const i=e[1];if(void 0!==i.relativeToEntityOrientation){const s=void 0!==e[1].relativeToEntityOrientationTime?e[1].relativeToEntityOrientationTime:e[0],n=i.relativeToEntityOrientation.get();null!==n?(n.getOrientationAtTime(t,s),t.mult(t,i.orientation)):t.copy(Lh.NaN)}else t.copy(i.orientation)}_updateCoverage(){if(this._timesAreRealTime)this.setCoverage(Ih.Infinite);else{const t=new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY);this._positionKeyframes.length>0&&(t.min=Math.min(t.min,this._positionKeyframes[0][0]),t.max=Math.max(t.max,this._positionKeyframes[this._positionKeyframes.length-1][0])),this._orientationKeyframes.length>0&&(t.min=Math.min(t.min,this._orientationKeyframes[0][0]),t.max=Math.max(t.max,this._orientationKeyframes[this._orientationKeyframes.length-1][0])),this.setCoverage(t)}}_cubicHermiteSpline(t,e,i,s,n,a){const r=a*a,o=a*r,l=2*o-3*r+1,c=o-2*r+a,h=-2*o+3*r,u=o-r;t.x=l*e.x+c*s.x+h*i.x+u*n.x,t.y=l*e.y+c*s.y+h*i.y+u*n.y,t.z=l*e.z+c*s.z+h*i.z+u*n.z}_cubicHermiteSplineDerivative(t,e,i,s,n,a){const r=a*a,o=6*r-6*a,l=3*r-4*a+1,c=-6*r+6*a,h=3*r-2*a;t.x=o*e.x+l*s.x+c*i.x+h*n.x,t.y=o*e.y+l*s.y+c*i.y+h*n.y,t.z=o*e.z+l*s.z+c*i.z+h*n.z}}const $d=(t,e)=>t[0]<e[0],Xd=(t,e)=>t[0]<e,Kd=(t,e)=>t[0]===e;class Zd extends Sd{constructor(t,e,i){super(t,e,i),this._dragSensitivity=.01,this._dragSmoothness=.8,this._yawChangeSmoothedValue=0,this._pitchChangeSmoothedValue=0,this._yawAxisType="none",this._yawAxisEntity=null,this._pitchAxisType="none",this._pitchAxisEntity=null,this._slowWhenCloseToParent=!1,this._yawAngleLimits=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._yawAngleLimits.freeze(),this._pitchAngleLimits=new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),this._pitchAngleLimits.freeze(),this.addModifiedState("position"),this.addModifiedState("orientation")}getDragSensitivity(){return this._dragSensitivity}setDragSensitivity(t){this._dragSensitivity=t}getDragSmoothness(){return this._dragSmoothness}setDragSmoothness(t){this._dragSmoothness=t}getYawAxisType(){return this._yawAxisType}setYawAxisType(t){this._yawAxisType!==t&&(null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.removeDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.removeDependentState(this._yawAxisEntity.getName(),"position")),this._yawAxisType=t,null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.addDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.addDependentState(this._yawAxisEntity.getName(),"position")))}getPitchAxisType(){return this._pitchAxisType}setPitchAxisType(t){this._pitchAxisType!==t&&(null!==this._pitchAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._pitchAxisType)?this.removeDependentState(this._pitchAxisEntity.getName(),"orientation"):"position"===this._pitchAxisType&&this.removeDependentState(this._pitchAxisEntity.getName(),"position")),this._pitchAxisType=t,null!==this._pitchAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._pitchAxisType)?this.addDependentState(this._pitchAxisEntity.getName(),"orientation"):"position"===this._pitchAxisType&&this.addDependentState(this._pitchAxisEntity.getName(),"position")))}getYawAxisEntity(){return this._yawAxisEntity}setYawAxisEntity(t){this._yawAxisEntity!==t&&(null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.removeDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.removeDependentState(this._yawAxisEntity.getName(),"position")),this._yawAxisEntity=t,null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.addDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.addDependentState(this._yawAxisEntity.getName(),"position")))}getPitchAxisEntity(){return this._pitchAxisEntity}setPitchAxisEntity(t){this._pitchAxisEntity!==t&&(null!==this._pitchAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._pitchAxisType)?this.removeDependentState(this._pitchAxisEntity.getName(),"orientation"):"position"===this._pitchAxisType&&this.removeDependentState(this._pitchAxisEntity.getName(),"position")),this._pitchAxisEntity=t,null!==this._pitchAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._pitchAxisType)?this.addDependentState(this._pitchAxisEntity.getName(),"orientation"):"position"===this._pitchAxisType&&this.addDependentState(this._pitchAxisEntity.getName(),"position")))}getYawAngleLimits(){return this._yawAngleLimits}setYawAngleLimits(t){this._yawAngleLimits.thaw(),this._yawAngleLimits.copy(t),this._yawAngleLimits.freeze()}getPitchAngleLimits(){return this._pitchAngleLimits}setPitchAngleLimits(t){this._pitchAngleLimits.thaw(),this._pitchAngleLimits.copy(t),this._pitchAngleLimits.freeze()}isSlowWhenCloseToParent(){return this._slowWhenCloseToParent}slowWhenCloseToParent(t){this._slowWhenCloseToParent=t}__update(){if(null===this.getEntity().getParent())return;this.getEntity().getOrientation().isNaN()&&this.getEntity().setOrientation(Lh.Identity),this.getEntity().getPosition().isNaN()&&this.getEntity().setPosition(new Vh(0,-1,0));const t=this.getEntity().getScene().getEngine().getInput();let e=1;t.isKeyPressed("x")&&(e=.05),t.isShiftPressed()&&(e=5);const i=this.getEntity().getComponentByType("camera");null!==i&&(e*=Math.min(1,i.getFieldOfView()));let s=0,n=0;const a=t.getActiveViewport();if(null!==a){const i=a.getCamera();if(null!==i&&i.getEntity()===this.getEntity()){const i=t.getDraggedOffset();s=-i.x*this._dragSensitivity*e,n=i.y*this._dragSensitivity*e,t.isKeyPressed("d")&&(s+=this._dragSensitivity*e),t.isKeyPressed("a")&&(s-=this._dragSensitivity*e),t.isKeyPressed("e")&&(n-=this._dragSensitivity*e),t.isKeyPressed("q")&&(n+=this._dragSensitivity*e)}}this._yawChangeSmoothedValue=hh.lerp(s,this._yawChangeSmoothedValue,this._dragSmoothness),this._pitchChangeSmoothedValue=hh.lerp(n,this._pitchChangeSmoothedValue,this._dragSmoothness),Math.abs(this._yawChangeSmoothedValue)<1e-4*e&&(this._yawChangeSmoothedValue=0),Math.abs(this._pitchChangeSmoothedValue)<1e-4*e&&(this._pitchChangeSmoothedValue=0);const r=Vh.pool.get();null===this._yawAxisEntity&&(this._yawAxisEntity=this.getEntity().getParent()),"x-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,0):"y-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,1):"z-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,2):"position"===this._yawAxisType&&null!==this._yawAxisEntity?r.normalize(this._yawAxisEntity.getPosition()):this.getEntity().getOrientation().getAxis(r,2),(r.isNaN()||r.isZero())&&this.getEntity().getOrientation().getAxis(r,2);const o=Vh.pool.get();null===this._pitchAxisEntity&&(this._pitchAxisEntity=this.getEntity().getParent()),"x-axis"===this._pitchAxisType&&null!==this._pitchAxisEntity?this._pitchAxisEntity.getOrientation().getAxis(o,0):"y-axis"===this._pitchAxisType&&null!==this._pitchAxisEntity?this._pitchAxisEntity.getOrientation().getAxis(o,1):"z-axis"===this._pitchAxisType&&null!==this._pitchAxisEntity?this._pitchAxisEntity.getOrientation().getAxis(o,2):"position"===this._pitchAxisType&&null!==this._pitchAxisEntity?o.normalize(this._pitchAxisEntity.getPosition()):this.getEntity().getOrientation().getAxis(o,0),(o.isNaN()||o.isZero())&&this.getEntity().getOrientation().getAxis(o,0),o.setNormalTo(r,o);const l=Lh.pool.get();l.setFromAxes(o,void 0,r),Vh.pool.release(o),Vh.pool.release(r);const c=Vh.pool.get();c.rotateInverse(l,this.getEntity().getPosition());let h=1;if(this._slowWhenCloseToParent){const t=this.getEntity().getParent().getOcclusionRadius();h=hh.clamp((c.magnitude()-t)/t,.001,1)}const u=su.pool.get();Ah.getLLAFromXYZOnSphere(u,c,0),u.lat+=this._pitchChangeSmoothedValue*h,u.lon+=this._yawChangeSmoothedValue*h,u.lat<1e-4-hh.halfPi&&(u.lat=1e-4-hh.halfPi),u.lat>hh.halfPi-1e-4&&(u.lat=hh.halfPi-1e-4),u.lat<this._pitchAngleLimits.min&&(u.lat=this._pitchAngleLimits.min),u.lat>this._pitchAngleLimits.max&&(u.lat=this._pitchAngleLimits.max),u.lon<this._yawAngleLimits.min&&(u.lon=this._yawAngleLimits.min),u.lon>this._yawAngleLimits.max&&(u.lon=this._yawAngleLimits.max),Ah.getXYZFromLLAOnSphere(c,u,0),su.pool.release(u),c.rotate(l,c),Lh.pool.release(l),this.getEntity().setPosition(c),Vh.pool.release(c)}}class Qd{constructor(){this.time=NaN}}class tp extends Qd{constructor(t){super(),this.position=new Vh,this.relativeTo=new iu(t)}}class ep extends Qd{constructor(t){super(),this.focus=new iu(t)}}class ip extends Qd{constructor(){super(),this.up=new Vh}}function sp(t,e){return t.time<e.time}function np(t,e){return t.time<e}class ap extends Sd{constructor(t,e,i){super(t,e,i),this._orbitalElementsKeyFrames=[],this.setCoverage(new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)),this.addModifiedState("position"),this.addModifiedState("velocity")}getNumOrbitalElements(){return this._orbitalElementsKeyFrames.length}getOrbitalElements(t){return this._orbitalElementsKeyFrames[t]}addOrbitalElements(t,e){ph.add({time:t,oe:e},this._orbitalElementsKeyFrames,rp,lp),this._updateCoverage()}removeOrbitalElements(t){if(t<0||this._orbitalElementsKeyFrames.length<=t)throw new Error(`Invalid index for ${this}.removeOrbitalElements`);this._orbitalElementsKeyFrames.splice(t,1),this._updateCoverage()}__updatePositionAtTime(t,e){this._getPositionAtTime(t,e)}__updateVelocityAtTime(t,e){this._getVelocityAtTime(t,e)}__update(){const t=this.getEntity().getScene().getEngine().getTime();this._getPositionAtTime(cp,t)&&this.getEntity().setPosition(cp),this._getVelocityAtTime(hp,t)&&this.getEntity().setVelocity(hp)}_getPositionAtTime(t,e){const i=ph.getIndex(e,this._orbitalElementsKeyFrames,op),s=this._orbitalElementsKeyFrames[Math.max(i-1,0)],n=this._orbitalElementsKeyFrames[Math.min(i,this._orbitalElementsKeyFrames.length-1)],a=Vh.pool.get(),r=Vh.pool.get();s.oe.project(a,hp,e),n.oe.project(r,hp,e);const o=hh.clamp01(n.time!==s.time?(e-s.time)/(n.time-s.time):0);return t.slerp(a,r,o),Vh.pool.release(a),Vh.pool.release(r),!0}_getVelocityAtTime(t,e){const i=ph.getIndex(e,this._orbitalElementsKeyFrames,op),s=this._orbitalElementsKeyFrames[Math.max(i-1,0)],n=this._orbitalElementsKeyFrames[Math.min(i,this._orbitalElementsKeyFrames.length-1)],a=Vh.pool.get(),r=Vh.pool.get();s.oe.project(cp,a,e),n.oe.project(cp,r,e);const o=hh.clamp01(n.time!==s.time?(e-s.time)/(n.time-s.time):0);return t.slerp(a,r,o),Vh.pool.release(a),Vh.pool.release(r),!0}_updateCoverage(){const t=new Ih(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY);this._orbitalElementsKeyFrames.length>1&&(t.min=Math.min(t.min,this._orbitalElementsKeyFrames[0].time),t.max=Math.max(t.max,this._orbitalElementsKeyFrames[this._orbitalElementsKeyFrames.length-1].time)),this.setCoverage(t)}}const rp=(t,e)=>t.time<e.time,op=(t,e)=>t.time<e,lp=(t,e)=>t.time===e.time,cp=new Vh,hp=new Vh;class up extends Sd{constructor(t,e,i){super(t,e,i),this._pickedEntity=null,this._callback=null,this._triggerOnHover=!1,this._pickedPosition=new Vh,this._pickedPosition.freeze()}getPickedEntity(){return this._pickedEntity}setPickedEntity(t){this._pickedEntity=t}getCallback(){return this._callback}setCallback(t){this._callback=t}getTriggerOnHover(){return this._triggerOnHover}setTriggerOnHover(t){this._triggerOnHover=t}getPickedPosition(){return this._pickedPosition}__update(){const t=this.getEntity().getScene().getEngine().getInput();if((t.isSelected()||this._triggerOnHover)&&null!==this._callback&&null!==this._pickedEntity){const e=t.getActiveViewport();if(null!==e){const i=e.getCamera();if(null!==i&&i.getEntity()===this.getEntity()){const s=Vh.pool.get();e.getNormalSpacePositionFromPixelSpacePosition(s,t.getCursorPosition()),i.getCameraSpacePositionFromNormalSpacePosition(s,s),s.normalize(s);const n=Ih.pool.get(),a=this.getEntity().getParent().getComponentByType("spheroid");if(null!==a){const t=a.getEquatorialRadius()/a.getPolarRadius();s.rotateInverse(this._pickedEntity.getOrientation(),s),s.z*=t;const e=Vh.pool.get();e.copy(this._pickedEntity.getCameraSpacePosition(i)),e.rotateInverse(this._pickedEntity.getOrientation(),e),e.z*=t,Ah.getLineSphereIntersectionWithLineStartAtOrigin(n,s,e,a.getEquatorialRadius()),s.z/=t,s.rotate(this._pickedEntity.getOrientation(),s),Vh.pool.release(e)}else{const t=this._pickedEntity.getCameraSpacePosition(i);Ah.getLineSphereIntersectionWithLineStartAtOrigin(n,s,t,this._pickedEntity.getOcclusionRadius())}Number.isNaN(n.min)||(this._pickedPosition.thaw(),this._pickedPosition.mult(s,n.min),i.getEntity().getPositionRelativeToEntity(this._pickedPosition,this._pickedPosition,this._pickedEntity),this._pickedPosition.freeze(),this.getEntity().getScene().getEngine().addCallback(this._callback.bind(void 0,this._pickedPosition),!1)),Ih.pool.release(n),Vh.pool.release(s)}}}}}class dp extends Sd{constructor(t,e,i){super(t,e,i),this._rotation=new Lh,this._rotation.freeze(),this._rotatingPosition=!0,this._rotatingOrientation=!0,this.addModifiedState("position"),this.addModifiedState("orientation")}getRotation(){return this._rotation}setRotation(t){this._rotation.thaw(),this._rotation.copy(t),this._rotation.freeze()}isRotatingPosition(){return this._rotatingPosition}setRotatingPosition(t){this._rotatingPosition=t,t?this.addModifiedState("position"):this.removeModifiedState("position")}isRotatingOrientation(){return this._rotatingOrientation}setRotatingOrientation(t){this._rotatingOrientation=t,t?this.addModifiedState("orientation"):this.removeModifiedState("orientation")}__updatePositionAtTime(t,e){this._rotatingPosition&&t.rotate(this._rotation,t)}__updateVelocityAtTime(t,e){this._rotatingPosition&&t.rotate(this._rotation,t)}__updateOrientationAtTime(t,e){this._rotatingOrientation&&t.mult(this._rotation,t)}__update(){if(this._rotatingPosition){const t=Vh.pool.get();t.rotate(this._rotation,this.getEntity().getPosition()),this.getEntity().setPosition(t),Vh.pool.release(t)}if(this._rotatingOrientation){const t=Lh.pool.get();t.mult(this._rotation,this.getEntity().getOrientation()),this.getEntity().setOrientation(t),Lh.pool.release(t)}}}class pp extends Sd{constructor(t,e,i){super(t,e,i),this._entityRef=new iu(this.getEntity().getScene()),this._rotatingPosition=!0,this._rotatingOrientation=!0,this.addModifiedState("position"),this.addModifiedState("orientation")}setEntityForOrientation(t){""!==this._entityRef.getName()&&this.addDependentState(this._entityRef.getName(),"orientation"),this._entityRef.setName(t),this.addDependentState(t,"orientation")}isRotatingPosition(){return this._rotatingPosition}setRotatingPosition(t){this._rotatingPosition=t,t?this.addModifiedState("position"):this.removeModifiedState("position")}isRotatingOrientation(){return this._rotatingOrientation}setRotatingOrientation(t){this._rotatingOrientation=t,t?this.addModifiedState("orientation"):this.removeModifiedState("orientation")}__updatePositionAtTime(t,e){if(this._rotatingPosition){const i=""!==this._entityRef.getName()?this._entityRef.get():this.getEntity().getScene().getEntity(this.getEntity().getParentAtTime(e));if(null!==i){const s=Lh.pool.get();i.getOrientationAtTime(s,e),t.rotate(s,t),Lh.pool.release(s)}}}__updateVelocityAtTime(t,e){if(this._rotatingPosition){const i=""!==this._entityRef.getName()?this._entityRef.get():this.getEntity().getScene().getEntity(this.getEntity().getParentAtTime(e));if(null!==i){const s=Lh.pool.get();i.getOrientationAtTime(s,e),t.rotate(s,t),Lh.pool.release(s)}}}__updateOrientationAtTime(t,e){if(this._rotatingOrientation){const i=""!==this._entityRef.getName()?this._entityRef.get():this.getEntity().getScene().getEntity(this.getEntity().getParentAtTime(e));if(null!==i){const s=Lh.pool.get();i.getOrientationAtTime(s,e),t.mult(s,t),Lh.pool.release(s)}}}__update(){const t=""!==this._entityRef.getName()?this._entityRef.get():this.getEntity().getParent();if(null!==t){if(this._rotatingPosition){const e=Vh.pool.get();e.rotate(t.getOrientation(),this.getEntity().getPosition()),this.getEntity().setPosition(e),Vh.pool.release(e)}if(this._rotatingOrientation){const e=Lh.pool.get();e.mult(t.getOrientation(),this.getEntity().getOrientation()),this.getEntity().setOrientation(e),Lh.pool.release(e)}}}}class mp extends Sd{constructor(t,e,i){super(t,e,i),this._axis=new Vh(0,0,1),this._axis.freeze(),this._axisRelativeToEntity=!0,this._rate=0,this._referenceAngle=0,this._referenceTime=void 0,this._clampedToRealTime=!1,this._usingRealTime=!1,this._rotatingPosition=!1,this._joint="",this._jointObject=null,this._model=null,this._lastTime=i.getScene().getEngine().getTime(),this.addModifiedState("orientation")}getAxis(){return this._axis}isAxisRelativeToEntity(){return this._axisRelativeToEntity}setAxis(t,e){this._axis.thaw(),this._axis.copy(t),this._axis.freeze(),this._axisRelativeToEntity=e}getRate(){return this._rate}setRate(t){this._rate=t}getReferenceAngle(){return this._referenceAngle}setReferenceAngle(t){this._referenceAngle=t}getReferenceTime(){return this._referenceTime}setReferenceTime(t){this._referenceTime=t}isClampedToRealTime(){return this._clampedToRealTime}setClampedToRealTime(t){this._clampedToRealTime=t}isUsingRealTime(){return this._usingRealTime}setUsingRealTime(t){this._usingRealTime=t}isRotatingPosition(){return this._rotatingPosition}setRotatingPosition(t){this._rotatingPosition=t,t?this.addModifiedState("position"):this.removeModifiedState("position")}setJoint(t,e){if(this._joint=t,e)this._model=e;else{const t=this.getEntity().get("model");null!==t&&(this._model=t)}""!==this._joint?this.removeModifiedState("orientation"):this.addModifiedState("orientation")}__updatePositionAtTime(t,e){if(this._rotatingPosition){let i=0;this._usingRealTime||void 0!==this._referenceTime&&(i=e-this._referenceTime,i-=this._referenceAngle/this._rate);const s=Lh.pool.get();if(s.setFromAxisAngle(this._axis,this._rate*i),null===this._jointObject){if(this._axisRelativeToEntity){const t=Lh.pool.get();this.getEntity().getOrientationAtTime(t,e),s.mult(t,s),s.multInverseR(s,t),Lh.pool.release(t)}t.rotate(s,t)}Lh.pool.release(s)}}__updateOrientationAtTime(t,e){t.isNaN()&&t.copy(Lh.Identity);let i=0;this._usingRealTime||void 0!==this._referenceTime&&(i=e-this._referenceTime,i-=this._referenceAngle/this._rate);const s=Lh.pool.get();s.setFromAxisAngle(this._axis,this._rate*i),null===this._jointObject&&(this._axisRelativeToEntity&&(s.mult(t,s),s.multInverseR(s,t)),t.mult(s,t),t.normalize(t)),Lh.pool.release(s)}__update(){this.getEntity().getOrientation().isNaN()&&this.getEntity().setOrientation(Lh.Identity);const t=this.getEntity().getScene().getEngine();let e=0;if(this._usingRealTime)e=t.getDeltaTime();else if(void 0!==this._referenceTime)e=t.getTime()-this._referenceTime,e-=this._referenceAngle/this._rate;else if(e=t.getTime()-this._lastTime,this._clampedToRealTime){const i=t.getDeltaTime();e=hh.clamp(e,-i,i)}const i=Lh.pool.get();if(i.setFromAxisAngle(this._axis,this._rate*e),null!==this._jointObject&&null!==this._model.getThreeJsObjects()[0]&&(this._jointObject=null),""!==this._joint&&(null===this._jointObject||this._jointObject.name!==this._joint)&&null!==this._model){const t=this._model.getThreeJsObjectByName(this._joint);null!==t&&(this._jointObject=t)}const s=this.getEntity().getOrientation();if(null!==this._jointObject)this._axisRelativeToEntity||(i.multInverseL(s,i),i.mult(i,s)),gp.set(i.x,i.y,i.z,i.w),this._jointObject.quaternion.multiplyQuaternions(gp,this._jointObject.quaternion),this._rotatingPosition&&this._jointObject.position.applyQuaternion(gp);else{const t=Lh.pool.get();this._axisRelativeToEntity&&(i.mult(s,i),i.multInverseR(i,s)),t.mult(i,s),t.normalize(t);const e=Vh.pool.get();if(e.mult(this._axis,this._rate),this._axisRelativeToEntity&&e.rotate(t,e),this.getEntity().setOrientation(t),this.getEntity().setAngularVelocity(e),Vh.pool.release(e),Lh.pool.release(t),this._rotatingPosition){const t=Vh.pool.get();t.rotate(i,this.getEntity().getPosition()),this.getEntity().setPosition(t),Vh.pool.release(t)}}Lh.pool.release(i),this._lastTime=t.getTime()}}const gp=new Ue;class _p extends Sd{constructor(t,e,i){super(t,e,i),this._tapCallback=null}getTapCallback(){return this._tapCallback}setTapCallback(t){this._tapCallback=t}__update(){const t=this.getEntity().getScene().getEngine().getInput();!t.isSelected()&&t.getDraggedOffset().isZero()||null!==this._tapCallback&&this._tapCallback()}}class fp extends Sd{constructor(t,e,i){super(t,e,i),this._initialPosition=new Vh,this._initialPosition.copy(i.getPosition()),this._initialOrientation=new Lh,this._initialOrientation.copy(i.getOrientation()),this._initialParent=new iu(this.getEntity().getScene()),this._transitionStart=Number.NaN,this._transitionTime=1,this._transitionFunction=this._lerpTransitionFunction,this._resolvePromise=null,this._rejectPromise=null,this._endPromise=new Promise(((t,e)=>{this._resolvePromise=t,this._rejectPromise=e}));const s=this.getEntity().getParent();null!==s&&this._initialParent.setName(s.getName());const n=this.getEntity().getControllerByType("transition");null!==n&&this.getEntity().removeController(n);const a=this.getEntity().addController("setParent","transitionSetParent",this.getEntity().getController(0));null!==s&&a.setParent(s.getName())}getTransitionTime(){return this._transitionTime}setTransitionTime(t){this._transitionTime=t}setTransitionFunction(t){this._transitionFunction=t}getParent(){const t=this.getEntity().getController("transitionSetParent");if(null!==t)return t.getName();{const t=this.getEntity().getParent();return null!==t?t.getName():null}}setParent(t){const e=this.getEntity().getController("transitionSetParent");null!==e&&e.setParent(t)}getEndPromise(){return this._endPromise}__destroy(){super.__destroy();const t=this.getEntity().getController("transitionSetParent");null!==t&&this.getEntity().removeController(t),0!==this._transitionTime&&this._rejectPromise("Transition controller was destroyed before completing.")}__update(){const t=this._initialParent.get(),e=this.getEntity().getParent();null===e&&(this._transitionTime=0,this.getEntity().removeController(this),this._rejectPromise("The final parent was destroyed or disabled before the transition could complete.")),Number.isNaN(this._transitionStart)&&(this._transitionStart=Date.now()/1e3);const i=this.getEntity().getController("transitionSetParent");if(null!==i){if(null===t)return void this.getEntity().getScene().getEngine().addCallback((()=>{this._transitionTime=0,this.getEntity().removeController(this),""!==this._initialParent.getName()?this._rejectPromise(`The initial parent "${this._initialParent.getName()}" was destroyed or disabled before the first half of the transition could complete.`):this._resolvePromise()}),!1);Date.now()/1e3-this._transitionStart>=this._transitionTime/2||t===e?(this.getEntity().removeController(i),t!==e&&null!==t&&null!==e&&t.getPositionRelativeToEntity(this._initialPosition,this._initialPosition,e)):this.getEntity().setParent(t)}const s=this.getEntity().getPosition(),n=this.getEntity().getOrientation();let a=hh.clamp01((Date.now()/1e3-this._transitionStart)/this._transitionTime);Number.isNaN(a)&&(a=1),this._transitionFunction(this.getEntity(),this._initialPosition,s,this._initialOrientation,n,a),Date.now()/1e3-this._transitionStart>=this._transitionTime&&this.getEntity().getScene().getEngine().addCallback((()=>{this._transitionTime=0,this.getEntity().removeController(this),this._resolvePromise()}),!1)}_lerpTransitionFunction(t,e,i,s,n,a){const r=Vh.pool.get(),o=Lh.pool.get();r.lerp(e,i,a),o.slerp(s,n,a),t.setPosition(r),t.setOrientation(o),Vh.pool.release(r),Lh.pool.release(o)}}class yp extends Sd{constructor(t,e,i){super(t,e,i),this._translation=new Vh(0,0,0),this._translation.freeze(),this._relativeToOrientation=!1,this.addModifiedState("position")}getTranslation(){return this._translation}setTranslation(t){this._translation.thaw(),this._translation.copy(t),this._translation.freeze()}setRelativeToOrientation(t){this._relativeToOrientation=t}__updatePositionAtTime(t,e){const i=Vh.pool.get();if(this._relativeToOrientation){const t=Lh.pool.get();this.getEntity().getOrientationAtTime(t,e),i.rotate(t,this._translation),Lh.pool.release(t)}else i.copy(this._translation);t.add(i,t),Vh.pool.release(i)}__update(){const t=Vh.pool.get();this._relativeToOrientation?t.rotate(this.getEntity().getOrientation(),this._translation):t.copy(this._translation),t.add(t,this.getEntity().getPosition()),this.getEntity().setPosition(t),Vh.pool.release(t)}}class vp{}vp.Components=new Map,vp.Components.set("atmosphere",$u),vp.Components.set("camera",Zu),vp.Components.set("cmts",Qu),vp.Components.set("cometTail",ed),vp.Components.set("connectedSprite",id),vp.Components.set("div",sd),vp.Components.set("dynEnvMap",class extends Yu{constructor(t,e,i){super(t,e,i),this._faceSize=64,this._invalidColor=new vh(0,0,0,1),this._invalidColor.freeze(),this._threeJsRenderer=this.getEntity().getScene().getEngine().__getThreeJsRenderer(),this._threeJsFaceCameras=[],this._threeJsFaceRenderTargets=[],this._threeJsQuad=new zs,this._threeJsScene=new jr,this._threeJsCubeCamera=new bn(-1,1,-1,1,-1,1),this._envMapTexture=new De(4*this._faceSize,4*this._faceSize,{minFilter:xt,magFilter:xt,wrapS:_t,wrapT:_t}),this._setupFaceCameras(),this._setupQuad()}getFaceSize(){return this._faceSize}setFaceSize(t){this._faceSize=t,this._envMapTexture.width!==4*this._faceSize&&(this._envMapTexture.setSize(4*this._faceSize,4*this._faceSize),this._threeJsQuad.material.uniforms.faceSize.value=this._faceSize);for(let t=0;t<6;t++)this._threeJsFaceRenderTargets[t].setSize(this._faceSize,this._faceSize)}getInvalidColor(){return this._invalidColor}setInvalidColor(t){this._invalidColor.thaw(),this._invalidColor.copy(t),this._invalidColor.freeze(),null!==this._threeJsQuad&&du.setUniformColorRGB(this._threeJsQuad.material,"invalidColor",this._invalidColor)}getTexture(){return this._envMapTexture.texture}__destroy(){du.destroyMaterial(this._threeJsQuad.material,!0),du.destroyObject(this._threeJsQuad),du.destroyRenderTarget(this._envMapTexture);for(let t=0;t<this._threeJsFaceRenderTargets.length;t++)du.destroyRenderTarget(this._threeJsFaceRenderTargets[t]);super.__destroy()}__render(){this._updateProjectionMatrix();const t=.7071067811865476;nd.set(0,0,-t,t),this._threeJsFaceCameras[0].setRotationFromQuaternion(nd),nd.set(0,0,0,1),this._threeJsFaceCameras[1].setRotationFromQuaternion(nd),nd.set(0,0,t,t),this._threeJsFaceCameras[2].setRotationFromQuaternion(nd),nd.set(0,0,1,0),this._threeJsFaceCameras[3].setRotationFromQuaternion(nd),nd.set(.5,-.5,-.5,.5),this._threeJsFaceCameras[4].setRotationFromQuaternion(nd),nd.set(-.5,.5,-.5,.5),this._threeJsFaceCameras[5].setRotationFromQuaternion(nd);for(let t=0;t<6;t++)this._threeJsRenderer.setRenderTarget(this._threeJsFaceRenderTargets[t]),this._threeJsRenderer.render(this.getEntity().getScene().getThreeJsScene(),this._threeJsFaceCameras[t]);this._threeJsRenderer.setRenderTarget(this._envMapTexture),this._threeJsRenderer.render(this._threeJsScene,this._threeJsCubeCamera)}_setupFaceCameras(){for(let t=0;t<6;t++){this._threeJsFaceCameras.push(new Ys(90,1,.1,1e3));const e=new gi;e.set(1,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0),this._threeJsFaceCameras[t].projectionMatrix=e;const i=new gi;i.set(1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0),this._threeJsFaceCameras[t].projectionMatrixInverse=i,this._threeJsFaceCameras[t].layers.set(1);const s=new De(this._faceSize,this._faceSize,{minFilter:xt,magFilter:xt});this._threeJsFaceRenderTargets.push(s)}}_updateProjectionMatrix(){const t=this.getEntity().get("camera");if(null===t)return;const e=1-Number.EPSILON,i=-t.getAutoNearDistance()*(2-Number.EPSILON);for(let t=0;t<6;t++)this._threeJsFaceCameras[t].projectionMatrix.elements[6]=e,this._threeJsFaceCameras[t].projectionMatrix.elements[14]=i,this._threeJsFaceCameras[t].projectionMatrixInverse.elements[11]=1/i,this._threeJsFaceCameras[t].projectionMatrixInverse.elements[15]=-e/i}_setupQuad(){const t=new xs,e=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),i=new Uint16Array([0,1,2,0,2,3]);t.setAttribute("position",new hs(e,3)),t.setIndex(new hs(i,1));const s={textures:new ql([]),faceSize:new ql(this._faceSize),invalidColor:new ql(new ze(this._invalidColor.r,this._invalidColor.g,this._invalidColor.b))};for(let t=0;t<6;t++)s.textures.value.push(this._threeJsFaceRenderTargets[t].texture);const n=new ko({uniforms:s,vertexShader:"\n\t\t\t\tattribute vec3 position;\n\t\t\t\tvarying vec2 xy;\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_Position = vec4(position, 1.0);\n\t\t\t\t\txy = position.xy;\n\t\t\t\t}",fragmentShader:"\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D textures[6];\n\t\t\t\tuniform float faceSize;\n\t\t\t\tuniform vec3 invalidColor;\n\n\t\t\t\tvarying vec2 xy;\n\n\t\t\t\tvoid adjustTextureCoordsForBorders(inout int textureIndex, inout vec2 xyInTexture, in float pixelSize) {\n\t\t\t\t\t// Get the pixells in pixel-space.\n\t\t\t\t\tvec2 xyInPixels = xyInTexture * pixelSize;\n\n\t\t\t\t\t// Flip the x since this code is for surface cubes, but we're inside out.\n\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\n\t\t\t\t\t// If it's a border, adjust the pixel it's reading the next pixel in one face over.\n\t\t\t\t\t// This allows for nice linear filtering to happen on the material side of things.\n\t\t\t\t\tif (xyInPixels.x < 0.6 || xyInPixels.x > pixelSize - 0.6 || xyInPixels.y < 0.6 || xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\tif (0 <= textureIndex && textureIndex <= 3) { // One of the horizontal faces\n\t\t\t\t\t\t\tif (xyInPixels.x > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = (textureIndex + 1);\n\t\t\t\t\t\t\t\tif (textureIndex == 4) {\n\t\t\t\t\t\t\t\t\ttextureIndex = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.x < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = textureIndex - 1;\n\t\t\t\t\t\t\t\tif (textureIndex == -1) {\n\t\t\t\t\t\t\t\t\ttextureIndex = 3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 0) {\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 1) {\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 2) {\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 3) {\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.x = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.x = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 4) {\n\t\t\t\t\t\t\tif (xyInPixels.x < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.y;\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.x > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = xyInPixels.y;\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.y = pixelSize - 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (textureIndex == 5) {\n\t\t\t\t\t\t\tif (xyInPixels.x < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = xyInPixels.y;\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.x > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.y;\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (xyInPixels.y < 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (xyInPixels.y > pixelSize - 0.6) {\n\t\t\t\t\t\t\t\txyInPixels.y = 1.5;\n\t\t\t\t\t\t\t\ttextureIndex = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Shrink all pixels so that they fit within the border.\n\t\t\t\t\t// The border pixels have already been modified so that they work with this equation.\n\t\t\t\t\txyInPixels.x = ((pixelSize - 1.0) * xyInPixels.x - pixelSize) / (pixelSize - 3.0);\n\t\t\t\t\txyInPixels.y = ((pixelSize - 1.0) * xyInPixels.y - pixelSize) / (pixelSize - 3.0);\n\n\t\t\t\t\t// Flip the x back.\n\t\t\t\t\txyInPixels.x = pixelSize - xyInPixels.x;\n\n\t\t\t\t\t// Go back into unit-space.\n\t\t\t\t\txyInTexture = xyInPixels / pixelSize;\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\t// Make it pink everywhere else for easy debugging.\n\t\t\t\t\tvec3 color = invalidColor;\n\t\t\t\t\t// Get the mip level, size, and offset.\n\t\t\t\t\tfloat level = floor(1.0 - log2(1.0 - xy.y)); // 0 is base, then 1, etc.\n\t\t\t\t\tfloat mipSizeX = pow(2.0, -level); // 1, .5, .25, .125, etc.\n\t\t\t\t\tfloat mipOffsetY = 1.0 - pow(2.0, -level); // 0, .5, .75, .875, etc.\n\t\t\t\t\t// Get the xy within the mip level. Note the x value is * 3 for less computing further on.\n\t\t\t\t\tvec2 xyInMip;\n\t\t\t\t\txyInMip.x = 0.5 * (xy.x + 1.0) / mipSizeX * 4.0;\n\t\t\t\t\txyInMip.y = (xy.y + 1.0 - 2.0 * mipOffsetY) / mipSizeX;\n\t\t\t\t\tif (xyInMip.x <= 3.0) {\n\t\t\t\t\t\tint textureIndex = int(floor(xyInMip.y * 2.0) * 3.0 + floor(xyInMip.x));\n\t\t\t\t\t\t// Get the xy within the face/texture.\n\t\t\t\t\t\tvec2 xyInTexture;\n\t\t\t\t\t\txyInTexture.x = 1.0 - xyInMip.x + floor(xyInMip.x);\n\t\t\t\t\t\txyInTexture.y = 2.0 * (xyInMip.y - floor(xyInMip.y * 2.0) / 2.0);\n\t\t\t\t\t\t// Adjust the coordinates and face to account for borders.\n\t\t\t\t\t\tadjustTextureCoordsForBorders(textureIndex, xyInTexture, faceSize * mipSizeX);\n\t\t\t\t\t\t// Set the color based on the face (textureIndex) and the coords.\n\t\t\t\t\t\tif (textureIndex == 0) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[0], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (textureIndex == 1) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[1], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (textureIndex == 2) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[2], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (textureIndex == 3) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[3], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (textureIndex == 4) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[4], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (textureIndex == 5) {\n\t\t\t\t\t\t\tcolor = texture2D(textures[5], xyInTexture).rgb;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(color, 1.0);\n\t\t\t\t}",depthTest:!1,depthWrite:!1});this._threeJsQuad=new zs(t,n),this._threeJsQuad.frustumCulled=!1,this._threeJsScene.add(this._threeJsQuad)}}),vp.Components.set("gizmo",ad),vp.Components.set("label",rd),vp.Components.set("lightSource",od),vp.Components.set("model",ld),vp.Components.set("orbitalParticles",class extends Yu{constructor(t,e,i){super(t,e,i),this._scaleOfParticles=1,this._loadFunction=null,this._orbitalElementsList=[],this._offsetArray=new Float32Array(0),this._spriteParticles=null,this.__setRadius(100*this.getEntity().getExtentsRadius())}getScaleOfParticles(){return this._scaleOfParticles}setScaleOfParticles(t){this._scaleOfParticles=t,this.resetResources()}setLoadFunction(t){this._loadFunction=t,this.resetResources()}__update(){if(null===this._spriteParticles)return;const t=Vh.pool.get(),e=Vh.pool.get(),i=this.getEntity().getScene().getEngine().getTime();for(let s=0,n=this._orbitalElementsList.length;s<n;s++)this._orbitalElementsList[s].project(t,e,i),this._offsetArray[3*s+0]=t.x,this._offsetArray[3*s+1]=t.y,this._offsetArray[3*s+2]=t.z;Vh.pool.release(t),Vh.pool.release(e),this._spriteParticles.setParticleOffsets(this._offsetArray)}__prepareForRender(t){this._spriteParticles.prepareForRender(t)}async __loadResources(){this._spriteParticles=new hu(this),this.getThreeJsMaterials().push(this._spriteParticles.getThreeJsMaterial()),this.getThreeJsObjects().push(this._spriteParticles.getThreeJsObject()),await this._initializeParticles()}__unloadResources(){du.destroyAllObjectsAndMaterials(this),this._spriteParticles=null}async _initializeParticles(){if(null===this._loadFunction)return;const t=await this._loadFunction(),e=t.orbitalElements.length;this._orbitalElementsList=[];let i=0;for(let s=0,n=e;s<n;s++){const e=new Nh;e.copy(t.orbitalElements[s]),this._orbitalElementsList.push(e);const n=e.semiMajorAxis*(1+e.eccentricity);i=Math.max(i,n)}this.__setRadius(i),this._offsetArray=new Float32Array(3*e);const s=new Float32Array(4*e),n=new Float32Array(1*e);for(let i=0,a=e;i<a;i++)s[4*i+0]=t.colors[i].r,s[4*i+1]=t.colors[i].g,s[4*i+2]=t.colors[i].b,s[4*i+3]=t.colors[i].a,n[1*i+0]=t.scales[i]*this._scaleOfParticles;this._spriteParticles.setParticleColors(s),this._spriteParticles.setParticleScales(n)}}),vp.Components.set("particleSpray",cd),vp.Components.set("rings",hd),vp.Components.set("skybox",ud),vp.Components.set("spheroid",dd),vp.Components.set("spheroidLOD",pd),vp.Components.set("spout",md),vp.Components.set("sprite",_d),vp.Components.set("starfield",vd),vp.Components.set("trail",xd),vp.Controllers=new Map,vp.Controllers.set("align",Td),vp.Controllers.set("animdata",kd),vp.Controllers.set("coverage",Fd),vp.Controllers.set("dynamo",qd),vp.Controllers.set("fixed",Jd),vp.Controllers.set("fixedToParent",class extends Sd{constructor(t,e,i){super(t,e,i),this._lastParentOrientation=new Lh;const s=this.getEntity().getParent();null!==s&&this._lastParentOrientation.copy(s.getOrientation()),this.addModifiedState("position"),this.addModifiedState("orientation"),this.addDependentState("parent","orientation")}__update(){const t=this.getEntity().getParent();if(null!==t){const e=Lh.pool.get();e.inverse(this._lastParentOrientation),e.mult(t.getOrientation(),e);const i=Vh.pool.get(),s=Lh.pool.get();i.rotate(e,this.getEntity().getPosition()),this.getEntity().setPosition(i),s.mult(e,this.getEntity().getOrientation()),this.getEntity().setOrientation(s),Lh.pool.release(s),Vh.pool.release(i),Lh.pool.release(e),this._lastParentOrientation.copy(t.getOrientation())}}}),vp.Controllers.set("freeFly",class extends Sd{constructor(t,e,i){super(t,e,i),this._dragSensitivity=.01,this._dragSmoothness=.8,this._moveSmoothedValue=new Vh(0,0,0),this._changeParentToNearestEntity=!0,this._forcedMoving=new Vh,this._isMoving=!1,this.addModifiedState("position"),this.addDependentState("parent","orientation"),this.addDependentState("parent","radius")}getDragSensitivity(){return this._dragSensitivity}setDragSensitivity(t){this._dragSensitivity=t}getDragSmoothness(){return this._dragSmoothness}setDragSmoothness(t){this._dragSmoothness=t}getChangeParentToNearestEntity(){return this._changeParentToNearestEntity}setChangeParentToNearestEntity(t){this._changeParentToNearestEntity=t}getForcedMoving(){return this._forcedMoving}setForcedMoving(t){this._forcedMoving=t}__update(){if(null===this.getEntity().getParent())return;if(this._changeParentToNearestEntity&&(null===this.getEntity().getParent()||this._isMoving)){const t=this.getEntity().getScene(),e=this.getEntity().get("camera");let i=null,s=Number.POSITIVE_INFINITY;for(let n=0,a=t.getNumEntities();n<a;n++){const a=t.getEntity(n);if(a===this.getEntity()||!a.canOcclude())continue;const r=a.getCameraSpacePosition(e).magnitude()-a.getOcclusionRadius();s>r&&(s=r,i=a)}null!==i&&i!==this.getEntity().getParent()&&this.getEntity().setParent(i)}this.getEntity().getOrientation().isNaN()&&this.getEntity().setOrientation(Lh.Identity),this.getEntity().getPosition().isNaN()&&this.getEntity().setPosition(new Vh(0,-1,0));const t=Vh.pool.get();t.set(0,0,0);const e=this.getEntity().getScene().getEngine().getInput(),i=e.getActiveViewport();if(null!==i){const s=i.getCamera();if(null!==s&&s.getEntity()===this.getEntity()){let i=1;e.isKeyPressed("x")&&(i=.05),e.isShiftPressed()&&(i=5);const s=e.getZoomedOffset();0!==s&&(t.y+=-s*this._dragSensitivity*i),e.isKeyPressed("w")&&(t.y+=this._dragSensitivity*i),e.isKeyPressed("s")&&(t.y-=this._dragSensitivity*i),e.isKeyPressed("d")&&(t.x+=this._dragSensitivity*i),e.isKeyPressed("a")&&(t.x-=this._dragSensitivity*i),e.isKeyPressed("e")&&(t.z+=this._dragSensitivity*i),e.isKeyPressed("q")&&(t.z-=this._dragSensitivity*i)}}t.add(t,this._forcedMoving),this._isMoving=t.magnitudeSqr()>0,this._moveSmoothedValue.lerp(t,this._moveSmoothedValue,this._dragSmoothness),!this._isMoving&&this._moveSmoothedValue.magnitudeSqr()<1e-7&&this._moveSmoothedValue.set(0,0,0),Vh.pool.release(t);let s=Number.POSITIVE_INFINITY;const n=this.getEntity().getParent().getComponentByType("spheroid");if(null===n||this.getEntity().getParent().getOrientation().isNaN())s=Math.min(s,this.getEntity().getPosition().magnitude()-this.getEntity().getParent().getOcclusionRadius());else{const t=Vh.pool.get();t.rotateInverse(this.getEntity().getParent().getOrientation(),this.getEntity().getPosition());const e=su.pool.get();n.llaFromXYZ(e,t),s=Math.min(s,e.alt),su.pool.release(e),Vh.pool.release(t)}s=Math.max(.1,s);const a=this.getEntity().getPosition(),r=Vh.pool.get(),o=Vh.pool.get();o.rotate(this.getEntity().getOrientation(),this._moveSmoothedValue),r.addMult(a,o,s),this.getEntity().setPosition(r),Vh.pool.release(o),Vh.pool.release(r)}}),vp.Controllers.set("groundClamp",Wd),vp.Controllers.set("keyframe",Yd),vp.Controllers.set("look",class extends Sd{constructor(t,e,i){super(t,e,i),this._dragSensitivity=.01,this._dragSmoothness=.8,this._yawAngleSmoothedValue=0,this._pitchAngleSmoothedValue=0,this._yawAxisType="none",this._yawAxisEntity=null,this.addModifiedState("orientation")}getDragSensitivity(){return this._dragSensitivity}setDragSensitivity(t){this._dragSensitivity=t}getDragSmoothness(){return this._dragSmoothness}setDragSmoothness(t){this._dragSmoothness=t}getYawAxisType(){return this._yawAxisType}setYawAxisType(t){this._yawAxisType!==t&&(null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.removeDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.removeDependentState(this._yawAxisEntity.getName(),"position")),this._yawAxisType=t,null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.addDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.addDependentState(this._yawAxisEntity.getName(),"position")))}getYawAxisEntity(){return this._yawAxisEntity}setYawAxisEntity(t){this._yawAxisEntity!==t&&(null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.removeDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.removeDependentState(this._yawAxisEntity.getName(),"position")),this._yawAxisEntity=t,null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.addDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.addDependentState(this._yawAxisEntity.getName(),"position")))}__update(){null===this._yawAxisEntity&&(this._yawAxisEntity=this.getEntity().getParent(),null!==this._yawAxisEntity&&(["x-axis","y-axis","z-axis"].includes(this._yawAxisType)?this.addDependentState(this._yawAxisEntity.getName(),"orientation"):"position"===this._yawAxisType&&this.addDependentState(this._yawAxisEntity.getName(),"position"))),this.getEntity().getOrientation().isNaN()&&this.getEntity().setOrientation(Lh.Identity);const t=this.getEntity().getScene().getEngine().getInput();let e=1;t.isKeyPressed("x")&&(e=.05);const i=this.getEntity().getComponentByType("camera");null!==i&&(e*=Math.min(1,i.getFieldOfView()));let s=0,n=0;const a=t.getActiveViewport();if(null!==a){const i=a.getCamera();if(null!==i&&i.getEntity()===this.getEntity()){const i=t.getDraggedOffset();s=-i.x*this._dragSensitivity*e,n=-i.y*this._dragSensitivity*e}}this._yawAngleSmoothedValue=hh.lerp(s,this._yawAngleSmoothedValue,this._dragSmoothness),this._pitchAngleSmoothedValue=hh.lerp(n,this._pitchAngleSmoothedValue,this._dragSmoothness),Math.abs(this._yawAngleSmoothedValue)<1e-4*e&&(this._yawAngleSmoothedValue=0),Math.abs(this._pitchAngleSmoothedValue)<1e-4*e&&(this._pitchAngleSmoothedValue=0);const r=Vh.pool.get();"x-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,0):"y-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,1):"z-axis"===this._yawAxisType&&null!==this._yawAxisEntity?this._yawAxisEntity.getOrientation().getAxis(r,2):"position"===this._yawAxisType&&null!==this._yawAxisEntity?r.normalize(this._yawAxisEntity.getPosition()):this.getEntity().getOrientation().getAxis(r,2),r.isNaN()&&this.getEntity().getOrientation().getAxis(r,2);const o=Lh.pool.get();o.copy(this.getEntity().getOrientation());const l=Lh.pool.get(),c=Vh.pool.get(),h=Vh.pool.get();this.getEntity().getOrientation().getAxis(h,1),this.getEntity().getOrientation().getAxis(c,2);const u=c.angleAroundAxis(r,h);l.setFromAxisAngle(h,u),l.normalize(l),o.mult(l,o),Vh.pool.release(c),Vh.pool.release(h);const d=Vh.pool.get();o.getAxis(d,0),l.setFromAxisAngle(d,this._pitchAngleSmoothedValue),o.mult(l,o),Vh.pool.release(d),l.setFromAxisAngle(r,this._yawAngleSmoothedValue),o.mult(l,o),Vh.pool.release(r),Lh.pool.release(l),this.getEntity().setOrientation(o),Lh.pool.release(o)}}),vp.Controllers.set("modelAnimate",class extends Sd{constructor(t,e,i){super(t,e,i),this._animations=[]}setAnimation(t,e,i,s){if(null===t)throw new Error("Null model specified.");this._animations.push({model:t,jointName:e,animationName:i,interval:s,animationClip:null,rootObject:null,jointObject:null,animationMixer:null})}__update(){const t=this.getEntity().getScene().getEngine().getTime();for(let e=0,i=this._animations.length;e<i;e++){const i=this._animations[e];if(i.model.isDestroyed())this._animations.splice(e,1),e--;else if(null!==i.model.getThreeJsObjects()[0]){if(i.rootObject!==i.model.getThreeJsObjects()[0]&&(i.rootObject=i.model.getThreeJsObjects()[0],i.animationClip=null,i.jointObject=null,i.animationMixer=null),null===i.animationClip&&(i.animationClip=i.model.getAnimationClip(i.animationName)),null===i.jointObject){const t=i.model.getThreeJsObjectByName(i.jointName);null!==t&&(i.jointObject=t)}if(null===i.animationMixer&&null!==i.animationClip&&null!==i.jointObject&&(i.animationMixer=new Gl(i.jointObject),i.animationMixer.clipAction(i.animationClip).play()),null!==i.animationMixer){const e=hh.clamp01((t-i.interval.min)/(i.interval.max-i.interval.min)),s=i.animationClip.duration*e*(i.animationClip.tracks[0].times.length-1)/i.animationClip.tracks[0].times.length;i.animationMixer.setTime(s),i.animationMixer.update(0)}}else i.rootObject=null}}}),vp.Controllers.set("orbit",Zd),vp.Controllers.set("orbitKeyframe",class extends Sd{constructor(t,e,i){super(t,e,i),this._positionKeyframes=[],this._focusKeyframes=[],this._upKeyframes=[],this._timeOfFirstUpdate=NaN,this._directionOfFirstUpdate=new Vh,this._resolvePromise=null,this._rejectPromise=null,this._endPromise=new Promise(((t,e)=>{this._resolvePromise=t,this._rejectPromise=e})),this.addModifiedState("position"),this.addModifiedState("velocity"),this.addModifiedState("orientation"),this.addModifiedState("angularVelocity")}setPositionKeyframe(t,e,i){if(void 0!==e){const s=new tp(this.getEntity().getScene());s.time=t,s.position.copy(e),s.relativeTo.setName(i),ph.add(s,this._positionKeyframes,sp)}else{const e=ph.getIndex(t,this._positionKeyframes,np);e<this._positionKeyframes.length&&t===this._positionKeyframes[e].time&&this._positionKeyframes.splice(e,1)}}setFocusKeyframe(t,e){if(void 0!==e){const i=new ep(this.getEntity().getScene());i.time=t,i.focus.setName(e),ph.add(i,this._focusKeyframes,sp)}else{const e=ph.getIndex(t,this._focusKeyframes,np);e<this._focusKeyframes.length&&t===this._focusKeyframes[e].time&&this._focusKeyframes.splice(e,1)}}setUpKeyframe(t,e){if(void 0!==e){const i=new ip;i.time=t,i.up.copy(e),ph.add(i,this._upKeyframes,sp)}else{const e=ph.getIndex(t,this._upKeyframes,np);e<this._upKeyframes.length&&t===this._upKeyframes[e].time&&this._upKeyframes.splice(e,1)}}getEndPromise(){return this._endPromise}__destroy(){super.__destroy(),null!==this._rejectPromise&&this._rejectPromise()}__update(){const t=this.getEntity();let e=0;if(isNaN(this._timeOfFirstUpdate)){const e=t.getParent();if(null===e)return;this._timeOfFirstUpdate=Date.now()/1e3,t.getOrientation().getAxis(this._directionOfFirstUpdate,1);const i=new tp(t.getScene());i.time=0,i.position.copy(t.getPosition()),i.relativeTo.setName(e.getName()),ph.add(i,this._positionKeyframes,sp);const s=new ep(t.getScene());s.time=0,s.focus.setName(""),ph.add(s,this._focusKeyframes,sp);const n=new ip;n.time=0,t.getOrientation().getAxis(n.up,2),ph.add(n,this._upKeyframes,sp)}else e=Date.now()/1e3-this._timeOfFirstUpdate;let i=!1;const s=ph.getIndex(e,this._positionKeyframes,np);if(s>0&&s<this._positionKeyframes.length){const i=this._positionKeyframes[s-1],n=this._positionKeyframes[s],a=i.relativeTo.get(),r=n.relativeTo.get();if(null!==a&&null!==r){let s=(e-i.time)/(n.time-i.time),o=a;s>=.5&&(o=r),t.getParent()!==o&&t.setParent(o);const l=Vh.pool.get(),c=Vh.pool.get();a.getPositionRelativeToEntity(l,i.position,r),r.getPositionRelativeToEntity(c,n.position,a);let h=Math.max(0,i.position.magnitude()-a.getOcclusionRadius()),u=Math.max(0,c.magnitude()-a.getOcclusionRadius()),d=Math.max(0,l.magnitude()-r.getOcclusionRadius()),p=Math.max(0,n.position.magnitude()-r.getOcclusionRadius());if(h=Math.max(h,u/1e4),u=Math.max(u,h/1e4),d=Math.max(d,p/1e4),p=Math.max(p,u/1e4),h!==u&&d!==p){const t=(Math.pow(u,s)*Math.pow(h,1-s)-h)/(u-h),e=(Math.pow(p,s)*Math.pow(d,1-s)-d)/(p-d);s=hh.lerp(t,e,s)}const m=s*s;s=m/(2*(m-s)+1),a.getPositionRelativeToEntity(l,i.position,o),r.getPositionRelativeToEntity(c,n.position,o);const g=Vh.pool.get();a===r?g.slerp(l,c,s):g.lerp(l,c,s),t.setPosition(g),Vh.pool.release(g),Vh.pool.release(l),Vh.pool.release(c)}}else if(s===this._positionKeyframes.length){const e=this._positionKeyframes[this._positionKeyframes.length-1],s=e.relativeTo.get();t.getParent()!==s&&t.setParent(s),t.setPosition(e.position),i=!0}const n=Vh.pool.get();n.setMagnitude(t.getPosition(),-1);const a=Vh.pool.get();t.getOrientation().getAxis(a,2);let r=!1;const o=ph.getIndex(e,this._focusKeyframes,np);if(o>0&&o<this._focusKeyframes.length){const i=this._focusKeyframes[o-1],s=this._focusKeyframes[o],a=i.focus.get(),r=s.focus.get(),l=t.getParent();if(!(""!==i.focus.getName()&&null===a||""!==s.focus.getName()&&null===r||null===l)){let o=(e-i.time)/(s.time-i.time);const c=o*o;o=c/(2*(c-o)+1);const h=Vh.pool.get(),u=Vh.pool.get();""!==i.focus.getName()?(l.getPositionRelativeToEntity(h,t.getPosition(),a),h.setMagnitude(h,-1)):h.copy(this._directionOfFirstUpdate),""!==s.focus.getName()?(l.getPositionRelativeToEntity(u,t.getPosition(),r),u.setMagnitude(u,-1)):u.copy(this._directionOfFirstUpdate),n.slerp(h,u,o),Vh.pool.release(h),Vh.pool.release(u)}}else if(o===this._focusKeyframes.length){const e=this._focusKeyframes[this._focusKeyframes.length-1],i=e.focus.get(),s=t.getParent();""!==e.focus.getName()&&null===i||null===s||(s.getPositionRelativeToEntity(n,t.getPosition(),i),n.setMagnitude(n,-1)),r=!0}else{const e=this._focusKeyframes[0],i=e.focus.get(),s=t.getParent();""!==e.focus.getName()&&null===i||null===s||(""!==e.focus.getName()?(s.getPositionRelativeToEntity(n,t.getPosition(),i),n.setMagnitude(n,-1)):n.copy(this._directionOfFirstUpdate))}let l=!1;const c=ph.getIndex(e,this._upKeyframes,np);if(c>0&&c<this._upKeyframes.length){const t=this._upKeyframes[c-1],i=this._upKeyframes[c];let s=(e-t.time)/(i.time-t.time);const n=s*s;s=n/(2*(n-s)+1),a.slerp(t.up,i.up,s)}else if(c===this._upKeyframes.length){const t=this._upKeyframes[this._upKeyframes.length-1];a.copy(t.up),l=!0}const h=Lh.pool.get();a.setNormalTo(n,a),h.setFromAxes(void 0,n,a),t.setOrientation(h),Lh.pool.release(h),Vh.pool.release(n),i&&r&&l&&(this._rejectPromise=null,this._resolvePromise())}}),vp.Controllers.set("orbitalElements",ap),vp.Controllers.set("pick",up),vp.Controllers.set("roll",class extends Sd{constructor(t,e,i){super(t,e,i),this._rollSensitivity=.01,this._rollSmoothness=.8,this._rollAngleSmoothedValue=0,this.addModifiedState("orientation")}getRollSensitivity(){return this._rollSensitivity}setRollSensitivity(t){this._rollSensitivity=t}getRollSmoothness(){return this._rollSmoothness}setRollSmoothness(t){this._rollSmoothness=t}__update(){this.getEntity().getOrientation().isNaN()&&this.getEntity().setOrientation(Lh.Identity);let t=0;const e=this.getEntity().getScene().getEngine().getInput(),i=e.getActiveViewport();if(null!==i){const s=i.getCamera();if(null!==s&&s.getEntity()===this.getEntity()){let i=1;e.isKeyPressed("x")&&(i=.05),e.isShiftPressed()&&(i=5);const s=e.getRotatedOffset();0!==s&&(t+=hh.clamp(s*this._rollSensitivity*i,-.1,.1)),e.isKeyPressed("c")&&(t+=this._rollSensitivity*i),e.isKeyPressed("z")&&(t-=this._rollSensitivity*i)}}if(this._rollAngleSmoothedValue=hh.lerp(t,this._rollAngleSmoothedValue,this._rollSmoothness),Math.abs(this._rollAngleSmoothedValue)<1e-4&&(this._rollAngleSmoothedValue=0),0!==this._rollAngleSmoothedValue){const t=Lh.pool.get(),e=Lh.pool.get();e.setFromAxisAngle(Vh.YAxis,this._rollAngleSmoothedValue),t.mult(this.getEntity().getOrientation(),e),this.getEntity().setOrientation(t),Lh.pool.release(t),Lh.pool.release(e)}}}),vp.Controllers.set("rotate",dp),vp.Controllers.set("rotateByEntityOrientation",pp),vp.Controllers.set("scale",class extends Sd{constructor(t,e,i){super(t,e,i),this._scale=1,this.addModifiedState("position")}getScale(){return this._scale}setScale(t){this._scale=t}__updatePositionAtTime(t,e){t.mult(t,this._scale)}__updateVelocityAtTime(t,e){t.mult(t,this._scale)}__update(){const t=Vh.pool.get();t.mult(this.getEntity().getPosition(),this._scale),this.getEntity().setPosition(t),Vh.pool.release(t)}}),vp.Controllers.set("select",class extends Sd{constructor(t,e,i){super(t,e,i),this._callback=null}getCallback(){return this._callback}setCallback(t){this._callback=t}__update(){const t=this.getEntity().getScene().getEngine().getInput();if(t.isSelected()&&null!==this._callback){const e=t.getActiveViewport();if(null!==e){const i=e.getCamera();if(null!==i&&i.getEntity()===this.getEntity()){const s=Vh.pool.get();e.getNormalSpacePositionFromPixelSpacePosition(s,t.getSelectedPosition());let n=null,a=0;const r=Fh.pool.get();r.set(s.x,s.y);const o=this.getEntity().getScene().getNumEntities();for(let t=0;t<o;t++){const e=this.getEntity().getScene().getEntity(t);if(e.isEnabled()){const t=e.getComponentByType("label");if(null!==t&&"loaded"===t.getLoadState()){const s=t.getNormalSpaceBounds(i);if(void 0!==s&&s.contains(r)){const t=e.getCameraSpacePosition(i).magnitude();(null===n||a>t)&&(n=e,a=t)}}}}Fh.pool.release(r),null===n&&(i.getCameraSpacePositionFromNormalSpacePosition(s,s),s.mult(s,1/s.magnitude()),n=i.getNearestIntersectingEntity(s)),Vh.pool.release(s),this.getEntity().getScene().getEngine().addCallback(this._callback.bind(null,n),!1)}}}}}),vp.Controllers.set("setParent",class extends Sd{constructor(t,e,i){super(t,e,i),this._parent=new iu(this.getEntity().getScene())}getParent(){return this._parent.getName()}setParent(t){""!==this._parent.getName()&&this.removeDependentState(this._parent.getName(),"position"),this._parent.setName(t),""!==this._parent.getName()&&this.addDependentState(this._parent.getName(),"position")}__update(){const t=this._parent.get();this.getEntity().setParent(t)}}),vp.Controllers.set("spin",mp),vp.Controllers.set("tap",_p),vp.Controllers.set("transition",fp),vp.Controllers.set("translate",yp),vp.Controllers.set("zoom",class extends Sd{constructor(t,e,i){super(t,e,i),this._zoomSensitivity=.05,this._zoomSmoothness=.8,this._zoomSmoothedValue=1,this._distanceClamp=new Ih(.001,Number.POSITIVE_INFINITY),this._distanceClamp.freeze(),this._useSpheroidRadiusForDistance=!1,this.addModifiedState("position")}getZoomSensitivity(){return this._zoomSensitivity}setZoomSensitivity(t){this._zoomSensitivity=t}getZoomSmoothness(){return this._zoomSmoothness}setZoomSmoothness(t){this._zoomSmoothness=t}getDistanceClamp(){return this._distanceClamp}setDistanceClamp(t){this._distanceClamp.thaw(),this._distanceClamp.copy(t),this._distanceClamp.freeze()}getUseSpheroidRadiusForDistance(){return this._useSpheroidRadiusForDistance}setUseSpheroidRadiusForDistance(t){this._useSpheroidRadiusForDistance=t}__update(){const t=this.getEntity().getScene().getEngine().getInput();let e=1;const i=t.getActiveViewport();if(null!==i){const s=i.getCamera();if(null!==s&&s.getEntity()===this.getEntity()){let i=1;t.isKeyPressed("x")&&(i=.05),t.isShiftPressed()&&(i=5);const s=t.getZoomedOffset();0!==s&&(e*=Math.pow(2,s*this._zoomSensitivity*i)),t.isKeyPressed("w")&&(e/=Math.pow(2,this._zoomSensitivity*i)),t.isKeyPressed("s")&&(e*=Math.pow(2,this._zoomSensitivity*i))}}this._zoomSmoothedValue=hh.clamp(hh.lerp(e,this._zoomSmoothedValue,this._zoomSmoothness),.8,1.25),Math.abs(1-this._zoomSmoothedValue)<1e-7&&(this._zoomSmoothedValue=1);let s=1;const n=su.pool.get();if(this._useSpheroidRadiusForDistance&&null!==this.getEntity().getParent()){const t=this.getEntity().getParent().getComponentByType("spheroid");if(null!==t){const e=Vh.pool.get();e.rotateInverse(this.getEntity().getParent().getOrientation(),this.getEntity().getPosition()),t.llaFromXYZ(n,e),s=n.alt,Vh.pool.release(e)}else s=this.getEntity().getPosition().magnitude()-this.getEntity().getParent().getOcclusionRadius()}else s=this.getEntity().getPosition().magnitude();Number.isNaN(s)&&(s=1),s*=this._zoomSmoothedValue,s<this._distanceClamp.min&&(s=this._distanceClamp.min,this._zoomSmoothedValue=1),s>this._distanceClamp.max&&(s=this._distanceClamp.max,this._zoomSmoothedValue=1);const a=Vh.pool.get();let r=s;if(this._useSpheroidRadiusForDistance&&null!==this.getEntity().getParent()){const t=this.getEntity().getParent().getComponentByType("spheroid");null!==t?(n.alt=s,t.xyzFromLLA(a,n),r=a.magnitude()):r=s+this.getEntity().getParent().getOcclusionRadius()}a.normalize(this.getEntity().getPosition()),a.mult(a,r),this.getEntity().setPosition(a),Vh.pool.release(a),su.pool.release(n)}});class bp{static createFullSizeViewportAndCamera(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"camera";const s=t.getEngine().addViewport(e);s.getDiv().style.width="100%",s.getDiv().style.height="100%";const n=t.addEntity(i).addComponentByClass(Zu);s.setCamera(n)}static focusOnEntity(t,e,i){let{up:s=!0,orbiter:n=!1}=i;const a=t.addControllerByClass(Td);a.setPrimaryAlignType("point"),a.setPrimaryAxis(Vh.YAxis),a.setPrimaryTargetEntity(e.getName()),s&&(n?(a.setSecondaryAlignType("position"),a.setSecondaryAxis(Vh.ZAxis),a.setSecondaryTargetEntity(e.getName())):(a.setSecondaryAlignType("align"),a.setSecondaryAxis(Vh.ZAxis),a.setSecondaryTargetEntity(e.getName()),a.setSecondaryTargetAxis(Vh.ZAxis)))}static async lookAtEntity(t,e,i){let{duration:s=.5,finalUp:n,finalUpRelativeEntity:a,finalUpPosition:r=!1}=i;if(t.getPosition().isNaN())return;const o=new Vh;e.getPositionRelativeToEntity(o,Vh.Zero,t),o.normalize(o);for(let e=0;e<t.getNumControllers();e++)t.getController(e).hasModifiedState("orientation")&&(t.removeController(e),e--);const l=t.addControllerByClass(Td);l.setPrimaryAlignType("point"),l.setPrimaryAxis(Vh.YAxis),l.setPrimaryTargetEntity(e.getName()),void 0!==n&&(void 0===a&&(a=e),r?(l.setSecondaryAlignType("position"),l.setSecondaryAxis(Vh.ZAxis),l.setSecondaryTargetEntity(a.getName())):(l.setSecondaryAlignType("align"),l.setSecondaryAxis(Vh.ZAxis),l.setSecondaryTargetEntity(a.getName()),l.setSecondaryTargetAxis(n)));const c=t.addControllerByClass(fp);c.setTransitionTime(s),await c.getEndPromise()}static async goToEntity(t,e,i){let{up:s=!0,orbiter:n=!1,fixedToParent:a=!1,duration:r=1,distance:o,zoom:l=!0,destination:c,destinationUp:h,destinationInFocusFrame:u=!1,transitionFunction:d}=i;o||(o=5*e.getExtentsRadius()),(t.getPosition().isNaN()||t.getOrientation().isNaN())&&(t.setParent(e),void 0===c?t.setPosition(new Vh(0,-o,0)):t.setPosition(c),t.setOrientation(Lh.Identity),r=0),void 0===c&&(c=new Vh,t.getPositionRelativeToEntity(c,Vh.Zero,e),c.normalize(c),c.mult(c,o),c.isNaN()&&c.set(0,-o,0)),t.clearControllers();const p=t.addControllerByClass(Jd);if(p.setPosition(c),void 0!==h){const t=new Vh,e=new Vh;t.neg(c),t.normalize(t),e.setNormalTo(t,h);const i=new Lh;i.setFromAxes(void 0,t,e),p.setOrientation(i)}if(u){const e=t.addControllerByClass(pp);void 0===h&&e.setRotatingOrientation(!1)}this.focusOnEntity(t,e,{up:s,orbiter:n});const m=t.addControllerByClass(fp);m.setTransitionTime(r),m.setParent(e.getName()),d&&m.setTransitionFunction(d),await m.getEndPromise(),t.clearControllers();const g=t.addControllerByClass(Zd);s?n?g.setYawAxisType("position"):g.setYawAxisType("z-axis"):t.addController("roll"),a&&t.addController("fixedToParent"),l&&t.addController("zoom"),this.focusOnEntity(t,e,{up:s,orbiter:n})}static pickOnEntity(t,e,i){const s=t.addControllerByClass(up);s.setPickedEntity(e),s.setCallback((t=>{const s=e.getComponentByClass(dd);if(null!==s){const n=Vh.pool.get();n.rotateInverse(e.getOrientation(),t);const a=su.pool.get();s.llaFromXYZ(a,n),i(n,a),su.pool.release(a),Vh.pool.release(n)}}))}static getDistanceToFitEntities(t,e,i,s){const n=t.getComponentByClass(Zu);if(null===n)return NaN;let a=0;const r=Vh.pool.get(),o=Math.sin(n.getHorizontalFieldOfView()/2),l=Math.sin(n.getVerticalFieldOfView()/2),c=Math.tan(n.getHorizontalFieldOfView()/2),h=Math.tan(n.getVerticalFieldOfView()/2);for(let t=0;t<s.length;t++){const n=s[t];let u=0;const d=n.getComponentByClass(hd);null!==d&&(u=d.getOuterRadius()),n.getPositionRelativeToEntity(r,Vh.Zero,i),r.rotateInverse(e,r),a=Math.max(a,Math.abs(r.x)/c+Math.max(n.getExtentsRadius(),u)/o-r.y),a=Math.max(a,Math.abs(r.z)/h+Math.max(n.getExtentsRadius(),u)/l-r.y)}return Vh.pool.release(r),a}}new Date;class xp{static register(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&this._entities.set(e,t[e])}static create(t,e,i){const s=xp._entities.get(t);if(void 0===s)throw new Error("Could not find the options for the entity with name "+t);return this.createFromOptions(t,s,e,i)}static createFromOptions(t,e,i,s){let n=t;s&&(s.namePrefix&&(n=s.namePrefix+n),s.nameSuffix&&(n+=s.nameSuffix));let a=i.getEntity(n);if(null!==a)return a;a=i.addEntity(n);try{e.radius&&(a.setOcclusionRadius(e.radius),a.setExtentsRadius(e.radius)),e.occlusionRadius&&a.setOcclusionRadius(e.occlusionRadius),e.extentsRadius&&a.setExtentsRadius(e.extentsRadius);for(const[t,i]of e.parents)a.addParentingTableEntry(t,i);if(e.label){const t=a.addComponentByClass(sd).getDiv();t.innerHTML=e.label,t.className="pioneer-label-div"}if(e.labelFadeEntity){const t=a.getComponentByClass(sd);if(null===t)throw new Error("There is no label.");t.setFadeWhenCloseToEntity(e.labelFadeEntity)}if(e.trail){const t=a.addComponentByClass(xd,e.trail.name);if(t.setStartTime(e.trail.length),e.trail.color?t.setColor(new vh(e.trail.color[0],e.trail.color[1],e.trail.color[2],e.trail.color[3])):t.setColor(new vh(1,1,1,.5)),e.trail.relativeTo&&t.setRelativeToEntity(e.trail.relativeTo),e.trail.updatePointPositions&&t.setUpdatePointPositions(!0),e.trail.lengthCoverages){const t=e.trail.length;for(let i=0,s=e.trail.lengthCoverages.length;i<s;i++){const s=e.trail.lengthCoverages[i],n=a.addControllerByClass(Fd,`trail_length_coverage.${i}`,a.getController(0)??void 0);n.setCoverage(new Ih(s[1],s[2])),n.setEnterFunction((t=>{const e=t.getComponentByClass(xd);null!==e&&e.setStartTime(s[0])})),n.setExitFunction((e=>{const i=e.getComponentByClass(xd);null!==i&&i.setStartTime(t)}))}}}if(e.spheroid){const t=a.addComponentByClass(dd,e.spheroid.name);t.setEquatorialRadius(e.spheroid.equatorialRadius),t.setPolarRadius(e.spheroid.polarRadius),t.setPlanetographic(e.spheroid.planetographic)}if(e.spheroidLOD){const t=a.addComponentByClass(pd,e.spheroidLOD.name??"basic");if(e.spheroidLOD.features)for(let i=0,s=e.spheroidLOD.features.length;i<s;i++)t.setFeature(e.spheroidLOD.features[i],!0);if(e.spheroidLOD.textures){t.setMapping("cube");for(const i in e.spheroidLOD.textures)t.setTexture(i,"$STATIC_ASSETS_URL/maps/"+e.spheroidLOD.textures[i].url,e.spheroidLOD.textures[i].sizes)}e.spheroidLOD.shadowEntities&&t.setShadowEntities(e.spheroidLOD.shadowEntities)}if(e.cmts){const t=a.addComponentByClass(Qu,e.cmts.name);if(e.cmts.textures){for(const i in e.cmts.textures){const s=e.cmts.textures[i];t.setBaseUrl(i,s)}t.setMaxLevel(e.cmts.maxLevel||0)}e.cmts.shadowEntities&&t.setShadowEntities(e.cmts.shadowEntities)}if(e.model){const t=a.addComponentByClass(ld,e.model.name);if(t.setUrl(e.model.url),e.model.rotate){const i=new Lh;i.set(1,0,0,0);for(let t=0,s=e.model.rotate.length;t<s;t++){let s,n;const a=e.model.rotate[t];if(void 0!==a.x)s=new Vh(1,0,0),n=a.x;else if(void 0!==a.y)s=new Vh(0,1,0),n=a.y;else{if(void 0===a.z)throw new Error("Invalid model rotate axis.");s=new Vh(0,0,1),n=a.z}n=hh.degToRad(n);const r=new Lh;r.setFromAxisAngle(s,n),i.mult(r,i)}t.setRotation(i)}if(e.model.scale){const i=e.model.scale;Array.isArray(i)?t.setScale(new Vh(i[0],i[1],i[2])):t.setScale(i)}!0===e.model.useCompressedTextures&&t.setUseCompressedTextures(!0),e.model.shadowEntities&&t.setShadowEntities(e.model.shadowEntities),e.model.environmentMap&&(e.model.environmentMap.cubemap?(t.setEnvironmentCubemapUrl(e.model.environmentMap.cubemap),t.setEnvironmentCylindricalUrl("")):e.model.environmentMap.cylindrical&&(t.setEnvironmentCylindricalUrl(e.model.environmentMap.cylindrical),t.setEnvironmentCubemapUrl("")))}if(e.comet){const t=a.addComponentByClass(ed,e.comet.name);void 0!==e.comet.timeLength&&t.setTimeLength(e.comet.timeLength),t.setLightSource("sun");const i=a.addComponentByClass(ed);i.setTimeLength(.5*t.getTimeLength()),i.setColor(new vh(.214,.235,.371,.5)),i.setStarAccelerationMultiplier(10),i.setLightSource("sun");const s=a.addComponentByClass(ed);s.setStarAccelerationMultiplier(0),s.setColor(new vh(1,1,1,10)),s.setNumberOfParticles(1),s.setLightSource("sun")}if(e.controllers)for(let t=0,s=e.controllers.length;t<s;t++){const s=e.controllers[t],n=s.type;let r;if("fixed"===n){if(r=a.addControllerByClass(Jd,s.name),s.position&&r.setPosition(s.position),s.orientation&&r.setOrientation(s.orientation),s.relativeToEntity){const t=a.addControllerByClass(pp);t.setEntityForOrientation(s.relativeToEntity),s.coverage&&2===s.coverage.length&&t.setCoverage(new Ih(s.coverage[0],s.coverage[1]))}if(s.llaOnSpheroid){const t=s.llaOnSpheroidEntity??e.parents[0][1],n=i.getEntity(t);if(null!==n){const e=n.getComponentByClass(dd);if(null===e)throw new Error("Missing spheroid component.");s.coverage&&2===s.coverage.length&&r.setCoverage(new Ih(s.coverage[0],s.coverage[1]));const i=new Vh;e.xyzFromLLA(i,s.llaOnSpheroid),r.setPosition(i);const o=new Lh;e.orientationFromLLA(o,s.llaOnSpheroid),r.setOrientation(o);const l=a.addControllerByClass(pp);s.coverage&&2===s.coverage.length&&l.setCoverage(new Ih(s.coverage[0],s.coverage[1]));const c=a.addControllerByClass(Wd);c.setGroundComponentRef(t,"cmts"),s.coverage&&2===s.coverage.length&&c.setCoverage(new Ih(s.coverage[0],s.coverage[1]))}}}else if("dynamo"===n)r=a.addControllerByClass(qd,s.name),s.customUrl?r.setBaseUrl(s.url):r.setBaseUrl("$DYNAMIC_ASSETS_URL/dynamo/"+s.url),s.parentIsBarycenter&&r.setHeaderValue("body",1);else if("animdata"===n)r=a.addControllerByClass(kd,s.name),r.setBaseUrlAndStateType("$ANIMDATA_URL/"+s.url,s.dataType);else if("align"===n)r=a.addControllerByClass(Td,s.name),r.setPrimaryAlignType(s.primary.type),r.setPrimaryTargetEntity(s.primary.target),r.setPrimaryAxis(s.primary.axis),s.primary.targetAxis&&r.setPrimaryTargetAxis(s.primary.targetAxis),s.secondary&&(r.setSecondaryAlignType(s.secondary.type),r.setSecondaryTargetEntity(s.secondary.target),r.setSecondaryAxis(s.secondary.axis),s.secondary.targetAxis&&r.setSecondaryTargetAxis(s.secondary.targetAxis));else if("spin"===n)r=a.addControllerByClass(mp,s.name),r.setAxis(s.axis,s.axisInFrameSpace??!0),r.setRate(hh.twoPi/(3600*s.periodInHours)),void 0!==s.relativeToTime&&r.setReferenceTime(s.relativeToTime);else if("rotateByEntityOrientation"===n)r=a.addControllerByClass(pp,s.name),s.entityForOrientation&&r.setEntityForOrientation(s.entityForOrientation),void 0!==s.rotatingOrientation&&r.setRotatingOrientation(s.rotatingOrientation),void 0!==s.rotatingPosition&&r.setRotatingPosition(s.rotatingPosition);else if("orbitalElements"===n){r=a.addControllerByClass(ap,s.name);const t=s.epoch??0,e=new Nh;if(e.epoch=t,e.eccentricity=s.eccentricity,e.semiMajorAxis=s.semiMajorAxis,e.meanAngularMotion=s.meanAngularMotion,e.meanAnomalyAtEpoch=s.meanAnomalyAtEpoch,void 0!==s.orbitOrientation)e.orbitOrientation.copy(s.orbitOrientation);else{if(void 0===s.inclination||void 0===s.longitudeOfAscendingNode||void 0===s.argumentOfPeriapsis)throw new Error("Either orbitOrientation or all of inclination, longitudeOfAscendingNode, and argumentOfPeriapsis must be defined.");e.setOrbitOrientationFromElements(s.inclination,s.longitudeOfAscendingNode,s.argumentOfPeriapsis)}r.addOrbitalElements(t,e)}else if("coverage"===n)r=a.addControllerByClass(Fd,s.name),r.setEnterFunction(s.enter),r.setExitFunction(s.exit),r.setUpdateFunction(s.update),void 0!==s.updateInterval&&r.setUpdateInterval(s.updateInterval);else{if("custom"!==n)throw new Error(`The type "${n}" is unknown.`);r=s.func(a)}s.coverage&&2===s.coverage.length&&r.setCoverage(new Ih(s.coverage[0],s.coverage[1]))}e.postCreateFunction&&e.postCreateFunction(a,s)}catch(t){throw null!==a&&i.removeEntity(a),t instanceof Error&&(t.message=`While creating "${n}": ${t.message}`),t}return a}static getEntityOptions(t){return xp._entities.get(t)}static getEntityNamesInGroup(t){const e=new Set;if(""!==t){const i=t.split(",").map((t=>t.trim()));for(const[t,s]of xp._entities){const n=s.groups;if(!n)continue;let a=!0;for(const t of i)n.includes(t)||(a=!1);a&&e.add(t)}}else for(const t of xp._entities.keys())e.add(t);return e}static getGroups(){const t=new Set;for(const e of this._entities.values()){const i=e.groups;if(void 0!==i)for(let e=0;e<i.length;e++)t.add(i[e])}return t}static createGroup(t,e,i){const s=this.getEntityNamesInGroup(t);for(const t of s)this.create(t,e,i)}}xp._entities=new Map;class Sp{static setEnabled(t,e,i,s){const n=Tp[e];if(!n)throw new Error(`Attempted to access unavailable feature ${i} for ${e}.`);const a=n[i];if(!a)throw new Error(`Attempted to access unavailable feature ${i} for ${e}.`);a(t,s)}static isEnabled(t,e,i){const s=wp[e];if(!s)throw new Error(`Attempted to access unavailable feature ${i} for ${e}.`);const n=s[i];if(!n)throw new Error(`Attempted to access unavailable feature ${i} for ${e}.`);return n(t)}static setEnabledJupiterAuroras(t,e){e?Sp._createJupiterModelComponent(t,"auroras","auroras"):!1===e&&t.getEntity("jupiter").removeComponent("auroras")}static isEnabledJupiterAuroras(t){return null!==t.getEntity("jupiter").getComponent("auroras")}static setEnabledJupiterMagnetosphere(t,e){e?Sp._createJupiterModelComponent(t,"magnetosphere","magnetosphere"):t.getEntity("jupiter").removeComponent("magnetosphere")}static isEnabledJupiterMagnetosphere(t){return null!==t.getEntity("jupiter").getComponent("magnetosphere")}static setEnabledJupiterRadiationBelt(t,e){if(e)Sp._createJupiterModelComponent(t,"radiation_belt_1","radbelt1"),Sp._createJupiterModelComponent(t,"radiation_belt_2","radbelt2"),Sp._createJupiterModelComponent(t,"radiation_belt_3","radbelt3"),Sp._createJupiterModelComponent(t,"radiation_belt_4","radbelt4");else{const e=t.getEntity("jupiter");e.removeComponent("radiation_belt_1"),e.removeComponent("radiation_belt_2"),e.removeComponent("radiation_belt_3"),e.removeComponent("radiation_belt_4")}}static isEnabledJupiterRadiationBelt(t){const e=t.getEntity("jupiter");return null!==e.getComponent("radiation_belt_1")&&null!==e.getComponent("radiation_belt_2")&&null!==e.getComponent("radiation_belt_3")&&null!==e.getComponent("radiation_belt_4")}static setEnabledSaturnMagnetosphere(t,e){e?xp.createFromOptions("saturn_magnetosphere",{radius:5027500,parents:[[Number.NEGATIVE_INFINITY,"saturn"]],model:{url:"$STATIC_ASSETS_URL/models/saturn/magnetosphere/saturn_magnetosphere.gltf",scale:1078.27002124,rotate:[{x:90}]},controllers:[{type:"fixed",position:Vh.Zero},{type:"align",primary:{type:"align",target:"saturn",axis:Vh.ZAxis,targetAxis:Vh.ZAxis},secondary:{type:"point",target:"sun",axis:Vh.XAxis}}],postCreateFunction:t=>{t.setCanOcclude(!1);const e=t.addComponentByClass(ld);e.setUrl("$STATIC_ASSETS_URL/models/saturn/magnetosphere_thin/saturn_magnetosphere_thin.gltf"),e.setScale(1078.27002124),e.setRotation(new Lh(Math.sqrt(.5),Math.sqrt(.5),0,0)),e.setPixelRadiusVisibleInterval(new Ih(4e3,Number.POSITIVE_INFINITY)),e.setResourcesLoadedCallback((()=>{e.getThreeJsObjects()[0].renderOrder=-1}));const i=t.getComponentByClass(ld);i.setPixelRadiusVisibleInterval(new Ih(0,4e3)),i.setResourcesLoadedCallback((()=>{i.getThreeJsObjects()[0].renderOrder=-1}))}},t):t.removeEntity("saturn_magnetosphere")}static isEnabledSaturnMagnetosphere(t){return null!==t.getEntity("saturn_magnetosphere")}static _createJupiterModelComponent(t,e,i){const s=t.getEntity("jupiter").addComponentByClass(ld,e);s.setUrl(`$STATIC_ASSETS_URL/models/jupiter/${e}/jupiter_${i}.gltf`),s.setScale(1337.08);const n=new Lh(Math.SQRT1_2,Math.SQRT1_2,0,0),a=new Lh(Math.SQRT1_2,0,0,Math.SQRT1_2);n.mult(a,n),s.setRotation(n)}}const Tp={jupiter:{auroras:Sp.setEnabledJupiterAuroras,magnetosphere:Sp.setEnabledJupiterMagnetosphere,radiationBelt:Sp.setEnabledJupiterRadiationBelt},saturn:{magnetosphere:Sp.setEnabledSaturnMagnetosphere}},wp={jupiter:{auroras:Sp.isEnabledJupiterAuroras,magnetosphere:Sp.isEnabledJupiterMagnetosphere,radiationBelt:Sp.isEnabledJupiterRadiationBelt},saturn:{magnetosphere:Sp.isEnabledSaturnMagnetosphere}};class Ep{static addPlacemark(t,e,i,s,n,a){const r=i.getEntity(),o=r.getScene().addEntity(t);o.setParent(r),o.setCanOcclude(!1),o.setExtentsRadius(.001);const l=o.addComponentByClass(sd).getDiv();return l.innerHTML=e,l.classList.add("pioneer-label-div"),o.addControllerByClass(Jd),o.addControllerByClass(pp),o.addControllerByClass(Wd),this.updateLLA(o,i,s,n,a),o}static updateLLA(t,e,i,s,n){const a=t.getParent(),r=t.getControllerByClass(Jd),o=t.getControllerByClass(Wd);if(null===r||null===o)throw new Error("There must be fixed and ground clamp controllers.");const l=a.getComponentByClass(dd);if(null===l)throw new Error("There must be a spheroid for the placemark's parent.");if(e.getEntity()!==a)throw new Error("The ground must belong to the placemark's parent.");const c=su.pool.get(),h=Vh.pool.get();c.set(hh.degToRad(i),hh.degToRad(s),0),l.xyzFromLLA(h,c),r.setPosition(h),Vh.pool.release(h);const u=Lh.pool.get(),d=Vh.pool.get(),p=Vh.pool.get();l.eastFromLLA(d,c),l.northFromLLA(p,c),u.setFromAxes(d,p,void 0),r.setOrientation(u),Vh.pool.release(d),Vh.pool.release(p),Lh.pool.release(u),su.pool.release(c),o.setGroundComponentRef(a.getName(),e.getType(),e.getTypeIndex()),o.setDistanceFromGround(n)}}class Ap{static getEclipJ2000ToJ2000Rotation(){return this.eclipJ2000ToJ2000Rotation}static async waitTillEntitiesInPlace(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.03;const a=new Set;for(const i of e){const e=t.getEntity(i);if(null===e)throw new Error('Entity "'+i+'" not added yet. Use Entity.create to add the entity.');a.add(e)}const r=[];for(const t of a)for(let e=0;e<t.getNumControllers();e++)r.push(t.getController(e).getLoadedPromise());return await Promise.all(r),void 0===i&&(i=t.getEngine().getTime()),new Promise(((t,e)=>{let r=0;const o=setInterval((()=>{const l=Vh.pool.get(),c=Lh.pool.get();for(const t of a){const e=t.getPositionCoverage().contains(i);t.getPositionAtTime(l,i),t.getOrientationAtTime(c,i);const s=!l.isNaN()&&!c.isNaN();e&&!s||a.delete(t)}if(Lh.pool.release(c),Vh.pool.release(l),0===a.size&&(clearInterval(o),t()),r+=n,r>=s){clearInterval(o);let t="";for(const e of a)""!==t&&(t+=", "),t+="'"+e.getName()+"'";e(new Error("Timed out ("+s+" seconds) while waiting for entities to be in place. The remaining entities were ["+t+"]."))}}),1e3*n)})).then((()=>t.getEngine().waitUntilNextFrame()))}static llaToXYZ(t,e,i,s){const n=e.getComponentByClass(dd);null!==n&&(n.xyzFromLLA(t,i),s||t.rotate(e.getOrientation(),t))}static xyzToLLA(t,e,i,s){const n=e.getComponentByClass(dd);if(null!==n){const a=Vh.pool.get();s?a.copy(i):a.rotateInverse(e.getOrientation(),i),n.llaFromXYZ(t,a),Vh.pool.release(a)}}static getDependentEntities(t){const e=new Set;return this._getDependentEntitiesRecursed(t,e),e.delete(t),e}static _getDependentEntitiesRecursed(t,e){const i=xp.getEntityOptions(t);if(void 0===i)return;const s=new Set,n=i.parents;for(const t of n)""!==t[1]&&s.add(t[1]);void 0!==i.lightSource&&s.add(i.lightSource),void 0!==i.trail&&void 0!==i.trail.relativeTo&&s.add(i.trail.relativeTo);for(let t=0,e=i.controllers.length;t<e;t++){const e=i.controllers[t];"align"===e.type&&(void 0!==e.primary.target&&s.add(e.primary.target),void 0!==e.secondary&&void 0!==e.secondary.target&&s.add(e.secondary.target))}if(i.labelFadeEntity&&s.add(i.labelFadeEntity),i.dependents)for(let t=0,e=i.dependents.length;t<e;t++)s.add(i.dependents[t]);for(const t of s)e.has(t)||(e.add(t),this._getDependentEntitiesRecursed(t,e))}}Ap.eclipJ2000ToJ2000Rotation=new Lh(.9791532214288992,.2031230389823101,0,0),Ap.eclipJ2000ToJ2000Rotation.freeze();class Ip{static jumpToLocationOnSphere(t,e,i,s,n,a,r,o,l,c){t<=0&&(t=.001),c=Ip.easeInOut(c),void 0===s&&(s=n.getParent());const h=Vh.pool.get(),u=Vh.pool.get();null!==n.getParent()?(n.getParent().getPositionRelativeToEntity(h,a,s),n.getParent().getPositionRelativeToEntity(u,r,s)):(h.copy(a),u.copy(r));const d=h.magnitude()-e,p=u.magnitude()-e,m=Vh.pool.get();i&&s?s.getOrientation().getAxis(m,2):m.cross(h,u),m.normalize(m),m.isZero()&&m.set(0,0,1);let g=0;const _=Vh.pool.get(),f=Vh.pool.get(),y=Lh.pool.get();y.setFromAxis(m,2),_.rotateInverse(y,h),f.rotateInverse(y,u);const v=su.pool.get(),b=su.pool.get();Ah.getLLAFromXYZOnSphere(v,_,0),Ah.getLLAFromXYZOnSphere(b,f,0),Vh.pool.release(f),Vh.pool.release(_);let x=v.lon*Math.cos(v.lat),S=b.lon*Math.cos(b.lat);x+Math.PI<S&&(x+=2*Math.PI),S+Math.PI<x&&(S+=2*Math.PI),g=e*t*Math.sqrt((S-x)*(S-x)+(b.lat-v.lat)*(b.lat-v.lat));const T=Fh.pool.get();Ip._jumpOnCircle(T,g,d,p,c);const w=T.x,E=T.y;Fh.pool.release(T);const A=Vh.pool.get();A.normalize(h),A.mult(A,E+e);const I=su.pool.get();let M;M=0!==g?(g-w)/g:0,I.lat=hh.lerp(v.lat,b.lat,M),I.lon=hh.lerpAngle(v.lon,b.lon,M),I.alt=E,Ah.getXYZFromLLAOnSphere(A,I,e),A.rotate(y,A),su.pool.release(I),su.pool.release(v),su.pool.release(b),Lh.pool.release(y),A.isNaN()&&A.copy(u),null!==n.getParent()&&s.getPositionRelativeToEntity(A,A,n.getParent()),n.setPosition(A),Vh.pool.release(A),Vh.pool.release(m);const C=Vh.pool.get();s.getPositionRelativeToEntity(C,Vh.Zero,n),C.normalize(C);const N=Vh.pool.get(),P=Lh.pool.get();i?s.getOrientation().getAxis(N,2):(P.slerp(o,l,c),P.getAxis(N,2)),N.setNormalTo(C,N),P.setFromAxes(void 0,C,N),n.setOrientation(P),Vh.pool.release(N),Lh.pool.release(P),Vh.pool.release(C),Vh.pool.release(h),Vh.pool.release(u)}static easeInOut(t){const e=t*t;return e/(2*(e-t)+1)}static _jumpOnCircle(t,e,i,s,n){let a=0,r=0;if(Math.abs(e/(s-i))>1e-6){const t=(s-i)/-e*(s+i)/2+e/2,o=Math.sign(e)*Math.acos((i*s+(e-t)*-t)/Math.sqrt(i*i+(e-t)*(e-t))/Math.sqrt(s*s+t*t)),l=Math.cos(n*o),c=Math.sin(n*o);a=(e-t)*c+i*l,r=t+(e-t)*l-i*c}else a=n*s+(1-n)*i,r=(1-n)*e;1===n&&(a=s,r=0),t.set(r,a)}}class Mp extends Yu{constructor(t,e,i){super(t,e,i),this._sizeInner=1,this._sizeOuter=1,this._ignoreDistance=!1,this._minDistanceM=0,this._minDistanceB=0,this._maxDistanceM=Number.POSITIVE_INFINITY,this._maxDistanceB=Number.POSITIVE_INFINITY,this._color=new vh(1,1,1,1),this._color.freeze(),this._alphaMultiplier=1,this._numPointsOnCircle=200,this._meshDirty=!0,this.__setRadius(this._sizeOuter),this.__setUsesEntityOrientation(!0)}getInnerRadius(){return this._sizeInner}setInnerRadius(t){this._sizeInner=t,this._meshDirty=!0}getOuterRadius(){return this._sizeOuter}setOuterRadius(t){this._sizeOuter=t,this._meshDirty=!0,this.__setRadius(t)}setIgnoreDistance(t){this._ignoreDistance=t,this._alphaMultiplier=1,du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color,this._alphaMultiplier)}setMinDistance(t){this._minDistanceM=1/(t-t/1.1),this._minDistanceB=-1*this._minDistanceM*t/1.1}setMaxDistance(t){this._maxDistanceM=-1/(1.1*t-t),this._maxDistanceB=-1*this._maxDistanceM*t*1.1}getColor(){return this._color}setColor(t){this._color.thaw(),this._color.copy(t),this._color.freeze(),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color,this._alphaMultiplier)}__prepareForRender(t){if(du.setOrientationToEntity(this.getThreeJsObjects()[0],this.getEntity()),du.setPositionToEntity(this.getThreeJsObjects()[0],this.getEntity(),t),this._meshDirty&&this._updateMesh(),!this._ignoreDistance){const e=this.getEntity().getCameraSpacePosition(t).magnitude(),i=this._minDistanceM*e+this._minDistanceB,s=this._maxDistanceM*e+this._maxDistanceB;this._alphaMultiplier=hh.clamp01(Math.min(i,s)),du.setUniformColorRGBA(this.getThreeJsMaterials()[0],"color",this._color,this._alphaMultiplier)}}__loadResources(){const t=this.getEntity().getScene().getEngine().getMaterialManager().getPreloaded("basic_alpha");this.getThreeJsMaterials().push(t),du.setUniformColorRGBA(t,"color",this._color,this._alphaMultiplier);const e=du.createMeshObject(this,t,[{name:"position",dimensions:3}],!1);return this.getThreeJsObjects().push(e),Promise.resolve()}__unloadResources(){du.destroyAllObjectsAndMaterials(this)}_updateMesh(){const t=new Float32Array(4*this._numPointsOnCircle*3),e=new Uint16Array(6*this._numPointsOnCircle);let i=0,s=0;const n=new Vh,a=new Vh,r=this._sizeOuter,o=this._sizeInner/this._sizeOuter;for(let l=0;l<this._numPointsOnCircle;l++){const c=l/this._numPointsOnCircle*hh.twoPi,h=(l+1)%this._numPointsOnCircle/this._numPointsOnCircle*hh.twoPi;n.set(r*Math.cos(c),r*Math.sin(c),0),a.set(r*Math.cos(h),r*Math.sin(h),0),t[i+0]=n.x*o,t[i+1]=n.y*o,t[i+2]=n.z*o,t[i+3]=n.x,t[i+4]=n.y,t[i+5]=n.z,t[i+6]=a.x,t[i+7]=a.y,t[i+8]=a.z,t[i+9]=a.x*o,t[i+10]=a.y*o,t[i+11]=a.z*o,e[s+0]=i/3+0,e[s+1]=i/3+1,e[s+2]=i/3+2,e[s+3]=i/3+2,e[s+4]=i/3+3,e[s+5]=i/3+0,i+=12,s+=6}const l=this.getThreeJsObjects()[0].geometry;du.setVertices(l,"position",t),du.setIndices(l,e),this._meshDirty=!1}}class Cp extends Yu{constructor(t,e,i){super(t,e,i),this._url="",this._database=[],this._numVertices=[],this._labelEntities=[],this._color=new vh,this._lineWidth=2,this._glowWidth=0,this._highlightedIndex=void 0,this._highlightColor=new vh,this._highlightWidth=0,this._lineMeshes=[],this.__setRadius(Number.POSITIVE_INFINITY)}setColor(t){this._color.copy(t);for(let t=0;t<this._lineMeshes.length;t++){const e=[];for(let i=0;i<this._numVertices[t];i++)e.push(this._color);this._lineMeshes[t].setColors(e)}}setLineWidth(t){this._lineWidth=t;for(let e=0;e<this._lineMeshes.length;e++)this._lineMeshes[e].setWidths(t)}setGlowWidth(t){this._glowWidth=t;for(let t=0,e=this._lineMeshes.length;t<e;t++)this._lineMeshes[t].setGlowWidth(this._glowWidth)}setUrl(t){this._url=t,this.resetResources()}getNames(){const t=[];for(let e=0,i=this._database.length;e<i;e++)t.push(this._database[e].name);return t}setHighlight(t,e,i){if(this._lineMeshes.length>0&&void 0!==this._highlightedIndex){const t=[];for(let e=0,i=this._numVertices[this._highlightedIndex];e<i;e++)t.push(this._color);this._lineMeshes[this._highlightedIndex].setColors(t),this._lineMeshes[this._highlightedIndex].setWidths(this._lineWidth)}if(this._highlightedIndex=t,this._highlightColor.copy(e),this._highlightWidth=i,this._lineMeshes.length>0&&void 0!==this._highlightedIndex){const t=[];for(let e=0,i=this._numVertices[this._highlightedIndex];e<i;e++)t.push(this._highlightColor);this._lineMeshes[this._highlightedIndex].setColors(t),this._lineMeshes[this._highlightedIndex].setWidths(this._highlightWidth)}}getNearestConstellationIndex(t,e){let i,s=Number.POSITIVE_INFINITY;for(let n=0,a=this._labelEntities.length;n<a;n++){const a=t.distance(this._labelEntities[n].getPixelSpacePosition(e));a<s&&(s=a,i=n)}return i}__prepareForRender(t){du.setPositionToEntity(this.getThreeJsObjects(),this.getEntity(),t);for(let e=0;e<this._lineMeshes.length;e++)this._lineMeshes[e].prepareForRender(t)}async __loadResources(){this._labelEntities=[],this._lineMeshes=[],this._numVertices=[];const t=await this.getEntity().getScene().getEngine().getDownloader().download(this._url,!0,-this.getEntity().getLeastCameraDepth());if("completed"===t.status&&t.content instanceof ArrayBuffer){const e=new dh(t.content);for(;!e.isAtEnd();){const t={name:"",stars:[],segments:[],color:[]};t.name=e.readString(e.readByte()),t.color=[e.readByte(),e.readByte(),e.readByte(),e.readByte()];const i=e.readByte();for(let s=0;s<i;s++)t.stars.push([e.readFloat32(),e.readFloat32(),e.readFloat32()]);const s=2*e.readByte();for(let i=0;i<s;i++)t.segments.push(e.readByte());this._database.push(t)}}for(let t=0;t<this._database.length;t++){const e=this._database[t].stars,i=this._database[t].segments,s=[],n=[],a=[];for(let r=0;r<i.length;r++){const o=i[r];s.push(new Vh(e[o][2],-e[o][0],e[o][1])),n.push(t===this._highlightedIndex?this._highlightColor:this._color),a.push(t===this._highlightedIndex?this._highlightWidth:this._lineWidth)}const r=new au(this);r.setPositions(s),r.setColors(n),r.setWidths(a),r.setGlowWidth(this._glowWidth),this._lineMeshes.push(r),this._numVertices.push(i.length)}du.setOrientation(this.getThreeJsObjects(),Ap.getEclipJ2000ToJ2000Rotation());for(let t=0;t<this._database.length;t++){const e=this._database[t].stars,i=new Vh(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),s=new Vh(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=Math.sqrt(e[0][0]*e[0][0]+e[0][1]*e[0][1]+e[0][2]*e[0][2]);for(let t=0;t<e.length;t++){const a=e[t],r=new Vh;r.set(a[2],-a[0],a[1]),r.rotate(Ap.getEclipJ2000ToJ2000Rotation(),r),r.normalize(r),r.mult(r,n),i.x>r.x&&(i.x=r.x),s.x<r.x&&(s.x=r.x),i.y>r.y&&(i.y=r.y),s.y<r.y&&(s.y=r.y),i.z>r.z&&(i.z=r.z),s.z<r.z&&(s.z=r.z)}const a=new Vh;a.add(i,s),a.mult(a,.5);const r=this.getEntity().getScene().addEntity("constellation_label_"+this._database[t].name);r.setParent(this.getEntity()),r.setOrientation(Lh.Identity),r.setPosition(a);const o=r.addComponentByClass(sd);o.setAlignment(new Fh(.5,.5));const l=o.getDiv();l.classList.add("pioneer-constellation-label"),l.innerHTML=this._database[t].name,this._labelEntities.push(r)}}__unloadResources(){for(let t=0;t<this._labelEntities.length;t++)this.getEntity().getScene().removeEntity(this._labelEntities[t]);du.destroyAllObjectsAndMaterials(this),this._lineMeshes=[],this._database=[]}}new Nh,new Vh;var Np=1,Pp=2,Rp=3,Lp=5,Op=6378137,Dp=6356752.314,kp=.0066943799901413165,Fp=484813681109536e-20,Up=Math.PI/2,zp=1e-10,jp=.017453292519943295,Bp=57.29577951308232,Hp=Math.PI/4,Vp=2*Math.PI,Gp=3.14159265359,qp={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Jp={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Wp=/[\s_\-\/\(\)]/g;function Yp(t,e){if(t[e])return t[e];for(var i,s=Object.keys(t),n=e.toLowerCase().replace(Wp,""),a=-1;++a<s.length;)if((i=s[a]).toLowerCase().replace(Wp,"")===n)return t[i]}function $p(t){var e,i,s,n={},a=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),r={proj:"projName",datum:"datumCode",rf:function(t){n.rf=parseFloat(t)},lat_0:function(t){n.lat0=t*jp},lat_1:function(t){n.lat1=t*jp},lat_2:function(t){n.lat2=t*jp},lat_ts:function(t){n.lat_ts=t*jp},lon_0:function(t){n.long0=t*jp},lon_1:function(t){n.long1=t*jp},lon_2:function(t){n.long2=t*jp},alpha:function(t){n.alpha=parseFloat(t)*jp},gamma:function(t){n.rectified_grid_angle=parseFloat(t)},lonc:function(t){n.longc=t*jp},x_0:function(t){n.x0=parseFloat(t)},y_0:function(t){n.y0=parseFloat(t)},k_0:function(t){n.k0=parseFloat(t)},k:function(t){n.k0=parseFloat(t)},a:function(t){n.a=parseFloat(t)},b:function(t){n.b=parseFloat(t)},r_a:function(){n.R_A=!0},zone:function(t){n.zone=parseInt(t,10)},south:function(){n.utmSouth=!0},towgs84:function(t){n.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){n.to_meter=parseFloat(t)},units:function(t){n.units=t;var e=Yp(Jp,t);e&&(n.to_meter=e.to_meter)},from_greenwich:function(t){n.from_greenwich=t*jp},pm:function(t){var e=Yp(qp,t);n.from_greenwich=(e||parseFloat(t))*jp},nadgrids:function(t){"@null"===t?n.datumCode="none":n.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(n.axis=t)},approx:function(){n.approx=!0}};for(e in a)i=a[e],e in r?"function"==typeof(s=r[e])?s(i):n[s]=i:n[e]=i;return"string"==typeof n.datumCode&&"WGS84"!==n.datumCode&&(n.datumCode=n.datumCode.toLowerCase()),n}const Xp=function(t){return new sm(t).output()};var Kp=1,Zp=/\s/,Qp=/[A-Za-z]/,tm=/[A-Za-z84_]/,em=/[,\]]/,im=/[\d\.E\-\+]/;function sm(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Kp}function nm(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var s=e?{}:t,n=i.reduce((function(t,e){return am(e,t),t}),s);e&&(t[e]=n)}function am(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void am(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in e||(e[i]=[]),void e[i].push(t);var s;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&am(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&am(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void nm(e,i,t);default:for(s=-1;++s<t.length;)if(!Array.isArray(t[s]))return am(t,e[i]);return nm(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}sm.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Zp.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Kp:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},sm.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(em.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},sm.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Kp)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Kp,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},sm.prototype.number=function(t){if(!im.test(t)){if(em.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},sm.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},sm.prototype.keyword=function(t){if(tm.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Kp)}if(!em.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},sm.prototype.neutral=function(t){if(Qp.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(im.test(t))return this.word=t,void(this.state=3);if(!em.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},sm.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var rm=.017453292519943295;function om(t){return t*rm}function lm(t){var e=Xp(t),i=e.shift(),s=e.shift();e.unshift(["name",s]),e.unshift(["type",i]);var n={};return am(e,n),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,s=t.AXIS.length;i<s;++i){var n=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?e+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?e+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?e+="e":-1===n[0].indexOf("west")&&("x"!==n[0]&&"lon"!==n[0]||"west"!==n[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var a=t.GEOGCS;function r(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(a=t),a&&(a.DATUM?t.datumCode=a.DATUM.name.toLowerCase():t.datumCode=a.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(t.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=a.DATUM.SPHEROID.a,t.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(t.datum_params=a.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",om],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",om],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",om],["lat0","latitude_of_origin",om],["lat0","standard_parallel_1",om],["lat1","standard_parallel_1",om],["lat2","standard_parallel_2",om],["azimuth","Azimuth"],["alpha","azimuth",om],["srsCode","name"]].forEach((function(e){return function(t,e){var i=e[0],s=e[1];!(i in t)&&s in t&&(t[i]=t[s],3===e.length&&(t[i]=e[2](t[i])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=om(t.lat0>0?90:-90)):(t.lat0=om(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(n),n}function cm(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?cm[t]=$p(arguments[1]):cm[t]=lm(arguments[1]):cm[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?cm.apply(e,t):cm(t)}));if("string"==typeof t){if(t in cm)return cm[t]}else"EPSG"in t?cm["EPSG:"+t.EPSG]=t:"ESRI"in t?cm["ESRI:"+t.ESRI]=t:"IAU2000"in t?cm["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(cm);const hm=cm;var um=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],dm=["3857","900913","3785","102113"];function pm(t,e){var i,s;if(t=t||{},!e)return t;for(s in e)void 0!==(i=e[s])&&(t[s]=i);return t}function mm(t,e,i){var s=t*e;return i/Math.sqrt(1-s*s)}function gm(t){return t<0?-1:1}function _m(t){return Math.abs(t)<=Gp?t:t-gm(t)*Vp}function fm(t,e,i){var s=t*i,n=.5*t;return s=Math.pow((1-s)/(1+s),n),Math.tan(.5*(Up-e))/s}function ym(t,e){for(var i,s,n=.5*t,a=Up-2*Math.atan(e),r=0;r<=15;r++)if(i=t*Math.sin(a),a+=s=Up-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-a,Math.abs(s)<=1e-10)return a;return-9999}function vm(t){return t}var bm=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=mm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,s=t.x,n=t.y;if(n*Bp>90&&n*Bp<-90&&s*Bp>180&&s*Bp<-180)return null;if(Math.abs(Math.abs(n)-Up)<=zp)return null;if(this.sphere)e=this.x0+this.a*this.k0*_m(s-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Hp+.5*n));else{var a=Math.sin(n),r=fm(this.e,n,a);e=this.x0+this.a*this.k0*_m(s-this.long0),i=this.y0-this.a*this.k0*Math.log(r)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,s=t.x-this.x0,n=t.y-this.y0;if(this.sphere)i=Up-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var a=Math.exp(-n/(this.a*this.k0));if(-9999===(i=ym(this.e,a)))return null}return e=_m(this.long0+s/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:vm,inverse:vm,names:["longlat","identity"]}],xm={},Sm=[];function Tm(t,e){var i=Sm.length;return t.names?(Sm[i]=t,t.names.forEach((function(t){xm[t.toLowerCase()]=i})),this):(console.log(e),!0)}const wm={start:function(){bm.forEach(Tm)},add:Tm,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==xm[e]&&Sm[xm[e]]?Sm[xm[e]]:void 0}};var Em={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Am=Em.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Em.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Im={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var Mm={};function Cm(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Mm[t]||null,isNull:!1}}function Nm(t){return t/3600*Math.PI/180}function Pm(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function Rm(t){return t.map((function(t){return[Nm(t.longitudeShift),Nm(t.latitudeShift)]}))}function Lm(t,e,i){return{name:Pm(t,e+8,e+16).trim(),parent:Pm(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,i),upperLatitude:t.getFloat64(e+88,i),lowerLongitude:t.getFloat64(e+104,i),upperLongitude:t.getFloat64(e+120,i),latitudeInterval:t.getFloat64(e+136,i),longitudeInterval:t.getFloat64(e+152,i),gridNodeCount:t.getInt32(e+168,i)}}function Om(t,e,i,s){for(var n=e+176,a=[],r=0;r<i.gridNodeCount;r++){var o={latitudeShift:t.getFloat32(n+16*r,s),longitudeShift:t.getFloat32(n+16*r+4,s),latitudeAccuracy:t.getFloat32(n+16*r+8,s),longitudeAccuracy:t.getFloat32(n+16*r+12,s)};a.push(o)}return a}function Dm(t,e){if(!(this instanceof Dm))return new Dm(t);e=e||function(t){if(t)throw t};var i=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in hm}(t))return hm[t];if(function(t){return um.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=lm(t);if(function(t){var e=Yp(t,"authority");if(e){var i=Yp(e,"epsg");return i&&dm.indexOf(i)>-1}}(e))return hm["EPSG:3857"];var i=function(t){var e=Yp(t,"extension");if(e)return Yp(e,"proj4")}(e);return i?$p(i):e}return function(t){return"+"===t[0]}(t)?$p(t):void 0}(t);if("object"==typeof i){var s=Dm.projections.get(i.projName);if(s){if(i.datumCode&&"none"!==i.datumCode){var n=Yp(Im,i.datumCode);n&&(i.datum_params=i.datum_params||(n.towgs84?n.towgs84.split(","):null),i.ellps=n.ellipse,i.datumName=n.datumName?n.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var a,r,o,l,c,h,u=function(t,e,i,s,n){if(!t){var a=Yp(Em,s);a||(a=Am),t=a.a,e=a.b,i=a.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<zp)&&(n=!0,e=t),{a:t,b:e,rf:i,sphere:n}}(i.a,i.b,i.rf,i.ellps,i.sphere),d=(a=u.a,r=u.b,u.rf,c=((o=a*a)-(l=r*r))/o,h=0,i.R_A?(o=(a*=1-c*(.16666666666666666+c*(.04722222222222222+.022156084656084655*c)))*a,c=0):h=Math.sqrt(c),{es:c,e:h,ep2:(o-l)/l}),p=function(t){return void 0===t?null:t.split(",").map(Cm)}(i.nadgrids),m=i.datum||function(t,e,i,s,n,a,r){var o={};return o.datum_type=void 0===t||"none"===t?Lp:4,e&&(o.datum_params=e.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=Np),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=Pp,o.datum_params[3]*=Fp,o.datum_params[4]*=Fp,o.datum_params[5]*=Fp,o.datum_params[6]=o.datum_params[6]/1e6+1))),r&&(o.datum_type=Rp,o.grids=r),o.a=i,o.b=s,o.es=n,o.ep2=a,o}(i.datumCode,i.datum_params,u.a,u.b,d.es,d.ep2,p);pm(this,i),pm(this,s),this.a=u.a,this.b=u.b,this.rf=u.rf,this.sphere=u.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=m,this.init(),e(null,this)}else e(t)}else e(t)}Dm.projections=wm,Dm.projections.start();const km=Dm;function Fm(t,e,i){var s,n,a,r,o=t.x,l=t.y,c=t.z?t.z:0;if(l<-Up&&l>-1.001*Up)l=-Up;else if(l>Up&&l<1.001*Up)l=Up;else{if(l<-Up)return{x:-1/0,y:-1/0,z:t.z};if(l>Up)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),n=Math.sin(l),r=Math.cos(l),a=n*n,{x:((s=i/Math.sqrt(1-e*a))+c)*r*Math.cos(o),y:(s+c)*r*Math.sin(o),z:(s*(1-e)+c)*n}}function Um(t,e,i,s){var n,a,r,o,l,c,h,u,d,p,m,g,_,f,y,v=t.x,b=t.y,x=t.z?t.z:0;if(n=Math.sqrt(v*v+b*b),a=Math.sqrt(v*v+b*b+x*x),n/i<1e-12){if(f=0,a/i<1e-12)return y=-s,{x:t.x,y:t.y,z:t.z}}else f=Math.atan2(b,v);r=x/a,u=(o=n/a)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*o*o)),d=r*l,_=0;do{_++,c=e*(h=i/Math.sqrt(1-e*d*d))/(h+(y=n*u+x*d-h*(1-e*d*d))),g=(m=r*(l=1/Math.sqrt(1-c*(2-c)*o*o)))*u-(p=o*(1-c)*l)*d,u=p,d=m}while(g*g>1e-24&&_<30);return{x:f,y:Math.atan(m/Math.abs(p)),z:y}}function zm(t){return t===Np||t===Pp}function jm(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var s={x:-i.x,y:i.y},n={x:Number.NaN,y:Number.NaN},a=[],r=0;r<t.grids.length;r++){var o=t.grids[r];if(a.push(o.name),o.isNull){n=s;break}if(o.mandatory,null!==o.grid){var l=o.grid.subgrids[0],c=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,h=l.ll[0]-c,u=l.ll[1]-c,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+c,p=l.ll[1]+(l.lim[1]-1)*l.del[1]+c;if(!(u>s.y||h>s.x||p<s.y||d<s.x||(n=Bm(s,e,l),isNaN(n.x))))break}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-s.x*Bp+" "+s.y*Bp+" tried: '"+a+"'"),-1):(i.x=-n.x,i.y=n.y,0)}function Bm(t,e,i){var s={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return s;var n={x:t.x,y:t.y};n.x-=i.ll[0],n.y-=i.ll[1],n.x=_m(n.x-Math.PI)+Math.PI;var a=Hm(n,i);if(e){if(isNaN(a.x))return s;a.x=n.x-a.x,a.y=n.y-a.y;var r,o,l=9;do{if(o=Hm(a,i),isNaN(o.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}r={x:n.x-(o.x+a.x),y:n.y-(o.y+a.y)},a.x+=r.x,a.y+=r.y}while(l--&&Math.abs(r.x)>1e-12&&Math.abs(r.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),s;s.x=_m(a.x+i.ll[0]),s.y=a.y+i.ll[1]}else isNaN(a.x)||(s.x=t.x+a.x,s.y=t.y+a.y);return s}function Hm(t,e){var i,s={x:t.x/e.del[0],y:t.y/e.del[1]},n=Math.floor(s.x),a=Math.floor(s.y),r=s.x-1*n,o=s.y-1*a,l={x:Number.NaN,y:Number.NaN};if(n<0||n>=e.lim[0])return l;if(a<0||a>=e.lim[1])return l;i=a*e.lim[0]+n;var c=e.cvs[i][0],h=e.cvs[i][1];i++;var u=e.cvs[i][0],d=e.cvs[i][1];i+=e.lim[0];var p=e.cvs[i][0],m=e.cvs[i][1];i--;var g=e.cvs[i][0],_=e.cvs[i][1],f=r*o,y=r*(1-o),v=(1-r)*(1-o),b=(1-r)*o;return l.x=v*c+y*u+b*g+f*p,l.y=v*h+y*d+b*_+f*m,l}function Vm(t,e,i){var s,n,a,r=i.x,o=i.y,l=i.z||0,c={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==i.z)switch(0===a?(s=r,n=-1!=="ew".indexOf(t.axis[a])?"x":"y"):1===a?(s=o,n=-1!=="ns".indexOf(t.axis[a])?"y":"x"):(s=l,n="z"),t.axis[a]){case"e":case"n":c[n]=s;break;case"w":case"s":c[n]=-s;break;case"u":void 0!==i[n]&&(c.z=s);break;case"d":void 0!==i[n]&&(c.z=-s);break;default:return null}return c}function Gm(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function qm(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Jm(t,e,i,s){var n,a=void 0!==(i=Array.isArray(i)?Gm(i):{x:i.x,y:i.y,z:i.z,m:i.m}).z;if(function(t){qm(t.x),qm(t.y)}(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===Np||t.datum.datum_type===Pp||t.datum.datum_type===Rp)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Np||e.datum.datum_type===Pp||e.datum.datum_type===Rp)&&"WGS84"!==t.datumCode}(t,e)&&(i=Jm(t,n=new km("WGS84"),i,s),t=n),s&&"enu"!==t.axis&&(i=Vm(t,!1,i)),"longlat"===t.projName)i={x:i.x*jp,y:i.y*jp,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=function(t,e,i){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Np?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Pp||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return i;if(t.datum_type===Lp||e.datum_type===Lp)return i;var s=t.a,n=t.es;if(t.datum_type===Rp){if(0!==jm(t,!1,i))return;s=Op,n=kp}var a=e.a,r=e.b,o=e.es;return e.datum_type===Rp&&(a=Op,r=Dp,o=kp),n!==o||s!==a||zm(t.datum_type)||zm(e.datum_type)?(i=Fm(i,n,s),zm(t.datum_type)&&(i=function(t,e,i){if(e===Np)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===Pp){var s=i[0],n=i[1],a=i[2],r=i[3],o=i[4],l=i[5],c=i[6];return{x:c*(t.x-l*t.y+o*t.z)+s,y:c*(l*t.x+t.y-r*t.z)+n,z:c*(-o*t.x+r*t.y+t.z)+a}}}(i,t.datum_type,t.datum_params)),zm(e.datum_type)&&(i=function(t,e,i){if(e===Np)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===Pp){var s=i[0],n=i[1],a=i[2],r=i[3],o=i[4],l=i[5],c=i[6],h=(t.x-s)/c,u=(t.y-n)/c,d=(t.z-a)/c;return{x:h+l*u-o*d,y:-l*h+u+r*d,z:o*h-r*u+d}}}(i,e.datum_type,e.datum_params)),i=Um(i,o,a,r),e.datum_type!==Rp||0===jm(e,!0,i)?i:void 0):i}(t.datum,e.datum,i))return e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*Bp,y:i.y*Bp,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),s&&"enu"!==e.axis?Vm(e,!0,i):(a||delete i.z,i)}var Wm=km("WGS84");function Ym(t,e,i,s){var n,a,r;return Array.isArray(i)?(n=Jm(t,e,i,s)||{x:NaN,y:NaN},i.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof n.z?[n.x,n.y,n.z].concat(i.splice(3)):[n.x,n.y,i[2]].concat(i.splice(3)):[n.x,n.y].concat(i.splice(2)):[n.x,n.y]):(a=Jm(t,e,i,s),2===(r=Object.keys(i)).length||r.forEach((function(s){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===s||"y"===s||"z"===s)return}else if("x"===s||"y"===s)return;a[s]=i[s]})),a)}function $m(t){return t instanceof km?t:t.oProj?t.oProj:km(t)}const Xm=function(t,e,i){t=$m(t);var s,n=!1;return void 0===e?(e=t,t=Wm,n=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=Wm,n=!0),e=$m(e),i?Ym(t,e,i):(s={forward:function(i,s){return Ym(t,e,i,s)},inverse:function(i,s){return Ym(e,t,i,s)}},n&&(s.oProj=e),s)};var Km=6,Zm="AJSAJS",Qm="AFAFAF",tg=65,eg=73,ig=79,sg=86,ng=90;const ag={forward:rg,inverse:function(t){var e=hg(dg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:og};function rg(t,e){return e=e||5,function(t,e){var i,s,n,a,r,o,l,c,h,u,d,p="00000"+t.easting,m="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(h=t.easting,u=t.northing,d=ug(t.zoneNumber),i=Math.floor(h/1e5),s=Math.floor(u/1e5)%20,n=d-1,a=Zm.charCodeAt(n),r=Qm.charCodeAt(n),c=!1,(o=a+i-1)>ng&&(o=o-ng+tg-1,c=!0),(o===eg||a<eg&&o>eg||(o>eg||a<eg)&&c)&&o++,(o===ig||a<ig&&o>ig||(o>ig||a<ig)&&c)&&++o===eg&&o++,o>ng&&(o=o-ng+tg-1),(l=r+s)>sg?(l=l-sg+tg-1,c=!0):c=!1,(l===eg||r<eg&&l>eg||(l>eg||r<eg)&&c)&&l++,(l===ig||r<ig&&l>ig||(l>ig||r<ig)&&c)&&++l===eg&&l++,l>sg&&(l=l-sg+tg-1),String.fromCharCode(o)+String.fromCharCode(l))+p.substr(p.length-5,e)+m.substr(m.length-5,e)}(function(t){var e,i,s,n,a,r,o,l=t.lat,c=t.lon,h=6378137,u=.00669438,d=.9996,p=lg(l),m=lg(c);o=Math.floor((c+180)/6)+1,180===c&&(o=60),l>=56&&l<64&&c>=3&&c<12&&(o=32),l>=72&&l<84&&(c>=0&&c<9?o=31:c>=9&&c<21?o=33:c>=21&&c<33?o=35:c>=33&&c<42&&(o=37)),r=lg(6*(o-1)-180+3),e=.006739496752268451,i=h/Math.sqrt(1-u*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),n=e*Math.cos(p)*Math.cos(p);var g,_,f=d*i*((a=Math.cos(p)*(m-r))+(1-s+n)*a*a*a/6+(5-18*s+s*s+72*n-58*e)*a*a*a*a*a/120)+5e5,y=d*(h*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p))+i*Math.tan(p)*(a*a/2+(5-s+9*n+4*n*n)*a*a*a*a/24+(61-58*s+s*s+600*n-2.2240339282485886)*a*a*a*a*a*a/720));return l<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(f),zoneNumber:o,zoneLetter:(g=l,_="Z",84>=g&&g>=72?_="X":72>g&&g>=64?_="W":64>g&&g>=56?_="V":56>g&&g>=48?_="U":48>g&&g>=40?_="T":40>g&&g>=32?_="S":32>g&&g>=24?_="R":24>g&&g>=16?_="Q":16>g&&g>=8?_="P":8>g&&g>=0?_="N":0>g&&g>=-8?_="M":-8>g&&g>=-16?_="L":-16>g&&g>=-24?_="K":-24>g&&g>=-32?_="J":-32>g&&g>=-40?_="H":-40>g&&g>=-48?_="G":-48>g&&g>=-56?_="F":-56>g&&g>=-64?_="E":-64>g&&g>=-72?_="D":-72>g&&g>=-80&&(_="C"),_)}}({lat:t[1],lon:t[0]}),e)}function og(t){var e=hg(dg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function lg(t){return t*(Math.PI/180)}function cg(t){return t/Math.PI*180}function hg(t){var e=t.northing,i=t.easting,s=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var a,r,o,l,c,h,u,d,p,m=.9996,g=6378137,_=.00669438,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=i-5e5,v=e;s<"N"&&(v-=1e7),u=6*(n-1)-180+3,a=.006739496752268451,p=(d=v/m/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*d)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*d)+151*f*f*f/96*Math.sin(6*d),r=g/Math.sqrt(1-_*Math.sin(p)*Math.sin(p)),o=Math.tan(p)*Math.tan(p),l=a*Math.cos(p)*Math.cos(p),c=.99330562*g/Math.pow(1-_*Math.sin(p)*Math.sin(p),1.5),h=y/(r*m);var b=p-r*Math.tan(p)/c*(h*h/2-(5+3*o+10*l-4*l*l-9*a)*h*h*h*h/24+(61+90*o+298*l+45*o*o-1.6983531815716497-3*l*l)*h*h*h*h*h*h/720);b=cg(b);var x,S=(h-(1+2*o+l)*h*h*h/6+(5-2*l+28*o-3*l*l+8*a+24*o*o)*h*h*h*h*h/120)/Math.cos(p);if(S=u+cg(S),t.accuracy){var T=hg({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:T.lat,right:T.lon,bottom:b,left:S}}else x={lat:b,lon:S};return x}function ug(t){var e=t%Km;return 0===e&&(e=Km),e}function dg(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,s=null,n="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,a++}var r=parseInt(n,10);if(0===a||a+3>i)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(a++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+t;s=t.substring(a,a+=2);for(var l=ug(r),c=function(t,e){for(var i=Zm.charCodeAt(e-1),s=1e5,n=!1;i!==t.charCodeAt(0);){if(++i===eg&&i++,i===ig&&i++,i>ng){if(n)throw"Bad character: "+t;i=tg,n=!0}s+=1e5}return s}(s.charAt(0),l),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Qm.charCodeAt(e-1),s=0,n=!1;i!==t.charCodeAt(0);){if(++i===eg&&i++,i===ig&&i++,i>sg){if(n)throw"Bad character: "+t;i=tg,n=!0}s+=1e5}return s}(s.charAt(1),l);h<pg(o);)h+=2e6;var u=i-a;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,m,g=u/2,_=0,f=0;return g>0&&(d=1e5/Math.pow(10,g),p=t.substring(a,a+g),_=parseFloat(p)*d,m=t.substring(a+g),f=parseFloat(m)*d),{easting:_+c,northing:f+h,zoneLetter:o,zoneNumber:r,accuracy:d}}function pg(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function mg(t,e,i){if(!(this instanceof mg))return new mg(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}mg.fromMGRS=function(t){return new mg(og(t))},mg.prototype.toMGRS=function(t){return rg([this.x,this.y],t)};const gg=mg;var _g=.046875,fg=.01953125,yg=.01068115234375;function vg(t){var e=[];e[0]=1-t*(.25+t*(_g+t*(fg+t*yg))),e[1]=t*(.75-t*(_g+t*(fg+t*yg)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}function bg(t,e,i,s){return i*=e,e*=e,s[0]*t-i*(s[1]+e*(s[2]+e*(s[3]+e*s[4])))}function xg(t,e,i){for(var s=1/(1-e),n=t,a=20;a;--a){var r=Math.sin(n),o=1-e*r*r;if(n-=o=(bg(n,r,Math.cos(n),i)-t)*(o*Math.sqrt(o))*s,Math.abs(o)<zp)return n}return n}const Sg={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=vg(this.es),this.ml0=bg(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,s,n=t.x,a=t.y,r=_m(n-this.long0),o=Math.sin(a),l=Math.cos(a);if(this.es){var c=l*r,h=Math.pow(c,2),u=this.ep2*Math.pow(l,2),d=Math.pow(u,2),p=Math.abs(l)>zp?Math.tan(a):0,m=Math.pow(p,2),g=Math.pow(m,2);e=1-this.es*Math.pow(o,2),c/=Math.sqrt(e);var _=bg(a,o,l,this.en);i=this.a*(this.k0*c*(1+h/6*(1-m+u+h/20*(5-18*m+g+14*u-58*m*u+h/42*(61+179*g-g*m-479*m)))))+this.x0,s=this.a*(this.k0*(_-this.ml0+o*r*c/2*(1+h/12*(5-m+9*u+4*d+h/30*(61+g-58*m+270*u-330*m*u+h/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var f=l*Math.sin(r);if(Math.abs(Math.abs(f)-1)<zp)return 93;if(i=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=l*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),(f=Math.abs(s))>=1){if(f-1>zp)return 93;s=0}else s=Math.acos(s);a<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=i,t.y=s,t},inverse:function(t){var e,i,s,n,a=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(this.es)if(i=xg(e=this.ml0+r/this.k0,this.es,this.en),Math.abs(i)<Up){var o=Math.sin(i),l=Math.cos(i),c=Math.abs(l)>zp?Math.tan(i):0,h=this.ep2*Math.pow(l,2),u=Math.pow(h,2),d=Math.pow(c,2),p=Math.pow(d,2);e=1-this.es*Math.pow(o,2);var m=a*Math.sqrt(e)/this.k0,g=Math.pow(m,2);s=i-(e*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*h*d+h-4*u-g/30*(61+90*d-252*h*d+45*p+46*h-g/56*(1385+3633*d+4095*p+1574*p*d)))),n=_m(this.long0+m*(1-g/6*(1+2*d+h-g/20*(5+28*d+24*p+8*h*d+6*h-g/42*(61+662*d+1320*p+720*p*d))))/l)}else s=Up*gm(r),n=0;else{var _=Math.exp(a/this.k0),f=.5*(_-1/_),y=this.lat0+r/this.k0,v=Math.cos(y);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(f,2))),s=Math.asin(e),r<0&&(s=-s),n=0===f&&0===v?0:_m(Math.atan2(f,v)+this.long0)}return t.x=n,t.y=s,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Tg(t){var e=Math.exp(t);return(e-1/e)/2}function wg(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),s=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(s,2))}function Eg(t,e){for(var i,s=2*Math.cos(2*e),n=t.length-1,a=t[n],r=0;--n>=0;)i=s*a-r+t[n],r=a,a=i;return e+i*Math.sin(2*e)}function Ag(t,e,i){for(var s,n,a=Math.sin(e),r=Math.cos(e),o=Tg(i),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(i),c=2*r*l,h=-2*a*o,u=t.length-1,d=t[u],p=0,m=0,g=0;--u>=0;)s=m,n=p,d=c*(m=d)-s-h*(p=g)+t[u],g=h*m-n+c*p;return[(c=a*l)*d-(h=r*o)*g,c*g+h*d]}const Ig={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Sg.init.apply(this),this.forward=Sg.forward,this.inverse=Sg.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var s=Eg(this.cbg,this.lat0);this.Zb=-this.Qn*(s+function(t,e){for(var i,s=2*Math.cos(e),n=t.length-1,a=t[n],r=0;--n>=0;)i=s*a-r+t[n],r=a,a=i;return Math.sin(e)*i}(this.gtu,2*s))},forward:function(t){var e=_m(t.x-this.long0),i=t.y;i=Eg(this.cbg,i);var s=Math.sin(i),n=Math.cos(i),a=Math.sin(e),r=Math.cos(e);i=Math.atan2(s,r*n),e=Math.atan2(a*n,wg(s,n*r)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(wg(1,e)+1))),t<0?-e:e}(Math.tan(e));var o,l,c=Ag(this.gtu,2*i,2*e);return i+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(o=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*i+this.Zb)+this.y0):(o=1/0,l=1/0),t.x=o,t.y=l,t},inverse:function(t){var e,i,s=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);if(n=(n-this.Zb)/this.Qn,s/=this.Qn,Math.abs(s)<=2.623395162778){var a=Ag(this.utg,2*n,2*s);n+=a[0],s+=a[1],s=Math.atan(Tg(s));var r=Math.sin(n),o=Math.cos(n),l=Math.sin(s),c=Math.cos(s);n=Math.atan2(r*c,wg(l,c*o)),e=_m((s=Math.atan2(l,c*o))+this.long0),i=Eg(this.cgb,n)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Mg={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(_m(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*jp,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ig.init.apply(this),this.forward=Ig.forward,this.inverse=Ig.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Cg(t,e){return Math.pow((1-t)/(1+t),e)}const Ng={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Hp)/(Math.pow(Math.tan(.5*this.lat0+Hp),this.C)*Cg(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+Hp),this.C)*Cg(this.e*Math.sin(i),this.ratexp))-Up,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+Hp)/this.K,1/this.C),n=20;n>0&&(i=2*Math.atan(s*Cg(this.e*Math.sin(t.y),-.5*this.e))-Up,!(Math.abs(i-t.y)<1e-14));--n)t.y=i;return n?(t.x=e,t.y=i,t):null},names:["gauss"]},Pg={init:function(){Ng.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,s,n;return t.x=_m(t.x-this.long0),Ng.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),s=Math.cos(t.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*s),t.x=n*i*Math.sin(t.x),t.y=n*(this.cosc0*e-this.sinc0*i*s),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,s,n,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var r=2*Math.atan2(a,this.R2);e=Math.sin(r),i=Math.cos(r),n=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),s=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else n=this.phic0,s=0;return t.x=s,t.y=n,Ng.inverse.apply(this,[t]),t.x=_m(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Rg={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zp&&(this.k0=.5*(1+gm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=zp&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zp&&(this.k0=.5*this.cons*mm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/fm(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=mm(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Up,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,s,n,a,r,o=t.x,l=t.y,c=Math.sin(l),h=Math.cos(l),u=_m(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=zp&&Math.abs(l+this.lat0)<=zp?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(u)),t.x=this.a*e*h*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(u))+this.y0,t):(i=2*Math.atan(this.ssfn_(l,c,this.e))-Up,n=Math.cos(i),s=Math.sin(i),Math.abs(this.coslat0)<=zp?(a=fm(this.e,l*this.con,this.con*c),r=2*this.a*this.k0*a/this.cons,t.x=this.x0+r*Math.sin(o-this.long0),t.y=this.y0-this.con*r*Math.cos(o-this.long0),t):(Math.abs(this.sinlat0)<zp?(e=2*this.a*this.k0/(1+n*Math.cos(u)),t.y=e*s):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*n*Math.cos(u))),t.y=e*(this.cosX0*s-this.sinX0*n*Math.cos(u))+this.y0),t.x=e*n*Math.sin(u)+this.x0,t))},inverse:function(t){var e,i,s,n,a;t.x-=this.x0,t.y-=this.y0;var r=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(r/(2*this.a*this.k0));return e=this.long0,i=this.lat0,r<=zp?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/r),e=Math.abs(this.coslat0)<zp?this.lat0>0?_m(this.long0+Math.atan2(t.x,-1*t.y)):_m(this.long0+Math.atan2(t.x,t.y)):_m(this.long0+Math.atan2(t.x*Math.sin(o),r*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=zp){if(r<=zp)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,s=r*this.cons/(2*this.a*this.k0),i=this.con*ym(this.e,s),e=this.con*_m(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(r*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r<=zp?a=this.X0:(a=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/r),e=_m(this.long0+Math.atan2(t.x*Math.sin(n),r*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),i=-1*ym(this.e,Math.tan(.5*(Up+a)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(Up+t))*Math.pow((1-e)/(1+e),.5*i)}},Lg={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,s=1/this.rf,n=2*s-Math.pow(s,2),a=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+a*e)/(1-a*e));this.K=r-this.alpha*o+this.alpha*a/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),s=-this.alpha*(e+i)+this.K,n=2*(Math.atan(Math.exp(s))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*r+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,s=e/this.R,n=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(s)),r=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+r/this.alpha,l=0,c=a,h=-1e3,u=0;Math.abs(c-h)>1e-7;){if(++u>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),h=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=c,t},names:["somerc"]};var Og=1e-7;const Dg={init:function(){var t,e,i,s,n,a,r,o,l,c,h,u,d,p=0,m=0,g=0,_=0,f=0,y=0,v=0;this.no_off=(d="object"==typeof(u=this).PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION,"no_uoff"in u||"no_off"in u||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(d)),this.no_rot="no_rot"in this;var b=!1;"alpha"in this&&(b=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),b&&(v=this.alpha),x&&(p=this.rectified_grid_angle*jp),b||x)m=this.longc;else if(g=this.long1,f=this.lat1,_=this.long2,y=this.lat2,Math.abs(f-y)<=Og||(t=Math.abs(f))<=Og||Math.abs(t-Up)<=Og||Math.abs(Math.abs(this.lat0)-Up)<=Og||Math.abs(Math.abs(y)-Up)<=Og)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>zp?(o=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*o*o,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/t,(n=(s=this.B*e/(i*Math.sqrt(t)))*s-1)<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=s,this.E*=Math.pow(fm(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=s=n=1),b||x?(b?(h=Math.asin(Math.sin(v)/s),x||(p=v)):(h=p,v=Math.asin(s*Math.sin(h))),this.lam0=m-Math.asin(.5*(n-1/n)*Math.tan(h))/this.B):(a=Math.pow(fm(this.e,f,Math.sin(f)),this.B),r=Math.pow(fm(this.e,y,Math.sin(y)),this.B),n=this.E/a,l=(r-a)/(r+a),c=((c=this.E*this.E)-r*a)/(c+r*a),(t=g-_)<-Math.pi?_-=Vp:t>Math.pi&&(_+=Vp),this.lam0=_m(.5*(g+_)-Math.atan(c*Math.tan(.5*this.B*(g-_))/l)/this.B),h=Math.atan(2*Math.sin(this.B*_m(g-this.lam0))/(n-1/n)),p=v=Math.asin(s*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(s*s-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(Hp-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(Hp+n))},forward:function(t){var e,i,s,n,a,r,o,l,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Up)>zp){if(e=.5*((a=this.E/Math.pow(fm(this.e,t.y,Math.sin(t.y)),this.B))-(r=1/a)),i=.5*(a+r),n=Math.sin(this.B*t.x),s=(e*this.singam-n*this.cosgam)/i,Math.abs(Math.abs(s)-1)<zp)throw new Error;l=.5*this.ArB*Math.log((1-s)/(1+s)),r=Math.cos(this.B*t.x),o=Math.abs(r)<Og?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+n*this.singam,r)}else l=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(c.x=o,c.y=l):(o-=this.u_0,c.x=l*this.cosrot+o*this.sinrot,c.y=o*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var e,i,s,n,a,r,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=.5*((s=Math.exp(-this.BrA*i))-1/s),a=.5*(s+1/s),o=((r=Math.sin(this.BrA*e))*this.cosgam+n*this.singam)/a,Math.abs(Math.abs(o)-1)<zp)l.x=0,l.y=o<0?-Up:Up;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=ym(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-r*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},kg={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<zp)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),s=mm(this.e,e,i),n=fm(this.e,this.lat1,e),a=Math.sin(this.lat2),r=Math.cos(this.lat2),o=mm(this.e,a,r),l=fm(this.e,this.lat2,a),c=fm(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>zp?this.ns=Math.log(s/o)/Math.log(n/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=zp&&(i=gm(i)*(Up-2e-10));var s,n,a=Math.abs(Math.abs(i)-Up);if(a>zp)s=fm(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(s,this.ns);else{if((a=i*this.ns)<=0)return null;n=0}var r=this.ns*_m(e-this.long0);return t.x=this.k0*(n*Math.sin(r))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(r))+this.y0,t},inverse:function(t){var e,i,s,n,a,r=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(r*r+o*o),i=1):(e=-Math.sqrt(r*r+o*o),i=-1);var l=0;if(0!==e&&(l=Math.atan2(i*r,i*o)),0!==e||this.ns>0){if(i=1/this.ns,s=Math.pow(e/(this.a*this.f0),i),-9999===(n=ym(this.e,s)))return null}else n=-Up;return a=_m(l/this.ns+this.long0),t.x=a,t.y=n,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},Fg={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,s,n,a,r,o,l=t.x,c=t.y,h=_m(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),s=-h*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),a=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(n)),r=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=o*Math.cos(r)/1,t.x=o*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,s,n,a,r,o,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x)/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(n)),i=Math.asin(Math.cos(s)*Math.sin(n)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,o=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(o=1),r=t.y,c+=1}while(0===o&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function Ug(t,e,i,s,n){return t*n-e*Math.sin(2*n)+i*Math.sin(4*n)-s*Math.sin(6*n)}function zg(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function jg(t){return.375*t*(1+.25*t*(1+.46875*t))}function Bg(t){return.05859375*t*t*(1+.75*t)}function Hg(t){return t*t*t*(35/3072)}function Vg(t,e,i){var s=e*i;return t/Math.sqrt(1-s*s)}function Gg(t){return Math.abs(t)<Up?t:t-gm(t)*Math.PI}function qg(t,e,i,s,n){var a,r;a=t/e;for(var o=0;o<15;o++)if(a+=r=(t-(e*a-i*Math.sin(2*a)+s*Math.sin(4*a)-n*Math.sin(6*a)))/(e-2*i*Math.cos(2*a)+4*s*Math.cos(4*a)-6*n*Math.cos(6*a)),Math.abs(r)<=1e-10)return a;return NaN}const Jg={init:function(){this.sphere||(this.e0=zg(this.es),this.e1=jg(this.es),this.e2=Bg(this.es),this.e3=Hg(this.es),this.ml0=this.a*Ug(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,s=t.x,n=t.y;if(s=_m(s-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(s)),i=this.a*(Math.atan2(Math.tan(n),Math.cos(s))-this.lat0);else{var a=Math.sin(n),r=Math.cos(n),o=Vg(this.a,this.e,a),l=Math.tan(n)*Math.tan(n),c=s*Math.cos(n),h=c*c,u=this.es*r*r/(1-this.es);e=o*c*(1-h*l*(1/6-(8-l+8*u)*h/120)),i=this.a*Ug(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*a/r*h*(.5+(5-l+6*u)*h/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s=t.x/this.a,n=t.y/this.a;if(this.sphere){var a=n+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(s)),i=Math.atan2(Math.tan(s),Math.cos(a))}else{var r=qg(this.ml0/this.a+n,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-Up)<=zp)return t.x=this.long0,t.y=Up,n<0&&(t.y*=-1),t;var o=Vg(this.a,this.e,Math.sin(r)),l=o*o*o/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(r),2),h=s*this.a/o,u=h*h;e=r-o*Math.tan(r)/l*h*h*(.5-(1+3*c)*h*h/24),i=h*(1-u*(c/3+(1+3*c)*c*u/15))/Math.cos(r)}return t.x=_m(i+this.long0),t.y=Gg(e),t},names:["Cassini","Cassini_Soldner","cass"]};function Wg(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e}const Yg={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-Up)<zp?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<zp?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Wg(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=.3333333333333333*t,e=t*t,i[0]+=.17222222222222222*e,i[1]=.06388888888888888*e,e*=t,i[0]+=.10257936507936508*e,i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Wg(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,s,n,a,r,o,l,c,h,u=t.x,d=t.y;if(u=_m(u-this.long0),this.sphere){if(a=Math.sin(d),h=Math.cos(d),s=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+h*s:1+this.sinph0*a+this.cosph0*h*s)<=zp)return null;e=(i=Math.sqrt(2/i))*h*Math.sin(u),i*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*h*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),Math.abs(d+this.lat0)<zp)return null;i=Hp-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(u),i*=s}}else{switch(o=0,l=0,c=0,s=Math.cos(u),n=Math.sin(u),a=Math.sin(d),r=Wg(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=r/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:c=1+this.sinb1*o+this.cosb1*l*s;break;case this.EQUIT:c=1+l*s;break;case this.N_POLE:c=Up+d,r=this.qp-r;break;case this.S_POLE:c=d-Up,r=this.qp+r}if(Math.abs(c)<zp)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),i=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*o-this.sinb1*l*s):(c=Math.sqrt(2/(1+l*s)))*o*this.ymf,e=this.xmf*c*l*n;break;case this.N_POLE:case this.S_POLE:r>=0?(e=(c=Math.sqrt(r))*n,i=s*(this.mode===this.S_POLE?c:-c)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,n,a,r,o,l,c,h,u=t.x/this.a,d=t.y/this.a;if(this.sphere){var p,m=0,g=0;if((i=.5*(p=Math.sqrt(u*u+d*d)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),m=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=zp?0:Math.asin(d*g/p),u*=g,d=m*p;break;case this.OBLIQ:i=Math.abs(p)<=zp?this.lat0:Math.asin(m*this.sinph0+d*g*this.cosph0/p),u*=g*this.cosph0,d=(m-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:d=-d,i=Up-i;break;case this.S_POLE:i-=Up}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,d):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,d*=this.dd,(r=Math.sqrt(u*u+d*d))<zp)return t.x=this.long0,t.y=this.lat0,t;n=2*Math.asin(.5*r/this.rq),s=Math.cos(n),u*=n=Math.sin(n),this.mode===this.OBLIQ?(o=s*this.sinb1+d*n*this.cosb1/r,a=this.qp*o,d=r*this.cosb1*s-d*this.sinb1*n):(o=d*n/r,a=this.qp*o,d=r*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(a=u*u+d*d))return t.x=this.long0,t.y=this.lat0,t;o=1-a/this.qp,this.mode===this.S_POLE&&(o=-o)}e=Math.atan2(u,d),h=(l=Math.asin(o))+l,i=l+(c=this.apa)[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return t.x=_m(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function $g(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const Xg={init:function(){Math.abs(this.lat1+this.lat2)<zp||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=mm(this.e3,this.sin_po,this.cos_po),this.qs1=Wg(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=mm(this.e3,this.sin_po,this.cos_po),this.qs2=Wg(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Wg(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>zp?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var s=Wg(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*s)/this.ns0,a=this.ns0*_m(e-this.long0),r=n*Math.sin(a)+this.x0,o=this.rh-n*Math.cos(a)+this.y0;return t.x=r,t.y=o,t},inverse:function(t){var e,i,s,n,a,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),s=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),s=-1),n=0,0!==e&&(n=Math.atan2(s*t.x,s*t.y)),s=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-s*s)/(2*this.ns0)):(i=(this.c-s*s)/this.ns0,r=this.phi1z(this.e3,i)),a=_m(n/this.ns0+this.long0),t.x=a,t.y=r,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,s,n,a,r=$g(.5*e);if(t<zp)return r;for(var o=t*t,l=1;l<=25;l++)if(r+=a=.5*(n=1-(s=t*(i=Math.sin(r)))*s)*n/Math.cos(r)*(e/(1-o)-i/n+.5/t*Math.log((1-s)/(1+s))),Math.abs(a)<=1e-7)return r;return null}},Kg={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,s,n,a,r,o,l=t.x,c=t.y;return s=_m(l-this.long0),e=Math.sin(c),i=Math.cos(c),n=Math.cos(s),(a=this.sin_p14*e+this.cos_p14*i*n)>0||Math.abs(a)<=zp?(r=this.x0+1*this.a*i*Math.sin(s)/a,o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*n)/a):(r=this.x0+this.infinity_dist*i*Math.sin(s),o=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*n)),t.x=r,t.y=o,t},inverse:function(t){var e,i,s,n,a,r;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=Math.atan2(e,this.rc),i=Math.sin(n),r=$g((s=Math.cos(n))*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i),a=_m(this.long0+a)):(r=this.phic0,a=0),t.x=a,t.y=r,t},names:["gnom"]},Zg={init:function(){this.sphere||(this.k0=mm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,s=t.x,n=t.y,a=_m(s-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var r=Wg(this.e,Math.sin(n));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*r*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=_m(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*Up:Up;for(var s,n,a,r,o=Math.asin(.5*e),l=0;l<30;l++)if(n=Math.sin(o),a=Math.cos(o),r=t*n,o+=s=Math.pow(1-r*r,2)/(2*a)*(e/(1-t*t)-n/(1-r*r)+.5/t*Math.log((1-r)/(1+r))),Math.abs(s)<=1e-10)return o;return NaN}(this.e,2*t.y*this.k0/this.a),e=_m(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},Qg={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,s=_m(e-this.long0),n=Gg(i-this.lat0);return t.x=this.x0+this.a*s*this.rc,t.y=this.y0+this.a*n,t},inverse:function(t){var e=t.x,i=t.y;return t.x=_m(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Gg(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},t_={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zg(this.es),this.e1=jg(this.es),this.e2=Bg(this.es),this.e3=Hg(this.es),this.ml0=this.a*Ug(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,s,n=t.x,a=t.y,r=_m(n-this.long0);if(s=r*Math.sin(a),this.sphere)Math.abs(a)<=zp?(e=this.a*r,i=-1*this.a*this.lat0):(e=this.a*Math.sin(s)/Math.tan(a),i=this.a*(Gg(a-this.lat0)+(1-Math.cos(s))/Math.tan(a)));else if(Math.abs(a)<=zp)e=this.a*r,i=-1*this.ml0;else{var o=Vg(this.a,this.e,Math.sin(a))/Math.tan(a);e=o*Math.sin(s),i=this.a*Ug(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+o*(1-Math.cos(s))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,s,n,a,r,o,l,c;if(s=t.x-this.x0,n=t.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=zp)e=_m(s/this.a+this.long0),i=0;else{var h;for(r=this.lat0+n/this.a,o=s*s/this.a/this.a+r*r,l=r,a=20;a;--a)if(l+=c=-1*(r*(l*(h=Math.tan(l))+1)-l-.5*(l*l+o)*h)/((l-r)/h-1),Math.abs(c)<=zp){i=l;break}e=_m(this.long0+Math.asin(s*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(n+this.ml0)<=zp)i=0,e=_m(this.long0+s/this.a);else{var u,d,p,m,g;for(r=(this.ml0+n)/this.a,o=s*s/this.a/this.a+r*r,l=r,a=20;a;--a)if(g=this.e*Math.sin(l),u=Math.sqrt(1-g*g)*Math.tan(l),d=this.a*Ug(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(r*(u*(m=d/this.a)+1)-m-.5*u*(m*m+o))/(this.es*Math.sin(2*l)*(m*m+o-2*r*m)/(4*u)+(r-m)*(u*p-2/Math.sin(2*l))-p),Math.abs(c)<=zp){i=l;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=_m(this.long0+Math.asin(s*u/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},e_={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=t.x,s=t.y-this.lat0,n=i-this.long0,a=s/Fp*1e-5,r=n,o=1,l=0;for(e=1;e<=10;e++)o*=a,l+=this.A[e]*o;var c,h=l,u=r,d=1,p=0,m=0,g=0;for(e=1;e<=6;e++)c=p*h+d*u,d=d*h-p*u,p=c,m=m+this.B_re[e]*d-this.B_im[e]*p,g=g+this.B_im[e]*d+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=m*this.a+this.y0,t},inverse:function(t){var e,i,s=t.x,n=t.y,a=s-this.x0,r=(n-this.y0)/this.a,o=a/this.a,l=1,c=0,h=0,u=0;for(e=1;e<=6;e++)i=c*r+l*o,l=l*r-c*o,c=i,h=h+this.C_re[e]*l-this.C_im[e]*c,u=u+this.C_im[e]*l+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var p,m=h,g=u,_=r,f=o;for(e=2;e<=6;e++)p=g*h+m*u,m=m*h-g*u,g=p,_+=(e-1)*(this.B_re[e]*m-this.B_im[e]*g),f+=(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var y=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)p=g*h+m*u,m=m*h-g*u,g=p,y+=e*(this.B_re[e]*m-this.B_im[e]*g),v+=e*(this.B_im[e]*m+this.B_re[e]*g);var b=y*y+v*v;h=(_*y+f*v)/b,u=(f*y-_*v)/b}var x=h,S=u,T=1,w=0;for(e=1;e<=9;e++)T*=x,w+=this.D[e]*T;var E=this.lat0+w*Fp*1e5,A=this.long0+S;return t.x=A,t.y=E,t},names:["New_Zealand_Map_Grid","nzmg"]},i_={init:function(){},forward:function(t){var e=t.x,i=t.y,s=_m(e-this.long0),n=this.x0+this.a*s,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=n,t.y=a,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=_m(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},s_={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=vg(this.es)},forward:function(t){var e,i,s=t.x,n=t.y;if(s=_m(s-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(n),r=20;r;--r){var o=(this.m*n+Math.sin(n)-a)/(this.m+Math.cos(n));if(n-=o,Math.abs(o)<zp)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;e=this.a*this.C_x*s*(this.m+Math.cos(n)),i=this.a*this.C_y*n}else{var l=Math.sin(n),c=Math.cos(n);i=this.a*bg(n,l,c,this.en),e=this.a*s*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=$g((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=$g(Math.sin(e)/this.n)),i=_m(i+this.long0),e=Gg(e)):(e=xg(t.y/this.a,this.es,this.en),(s=Math.abs(e))<Up?(s=Math.sin(e),i=_m(this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)))):s-zp<Up&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},n_={init:function(){},forward:function(t){for(var e=t.x,i=t.y,s=_m(e-this.long0),n=i,a=Math.PI*Math.sin(i);;){var r=-(n+Math.sin(n)-a)/(1+Math.cos(n));if(n+=r,Math.abs(r)<zp)break}n/=2,Math.PI/2-Math.abs(i)<zp&&(s=0);var o=.900316316158*this.a*s*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=o,t.y=l,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var s=_m(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var n=Math.asin(i);return t.x=s,t.y=n,t},names:["Mollweide","moll"]},a_={init:function(){Math.abs(this.lat1+this.lat2)<zp||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zg(this.es),this.e1=jg(this.es),this.e2=Bg(this.es),this.e3=Hg(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=mm(this.e,this.sinphi,this.cosphi),this.ml1=Ug(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<zp?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=mm(this.e,this.sinphi,this.cosphi),this.ml2=Ug(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ug(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,s=t.y;if(this.sphere)e=this.a*(this.g-s);else{var n=Ug(this.e0,this.e1,this.e2,this.e3,s);e=this.a*(this.g-n)}var a=this.ns*_m(i-this.long0),r=this.x0+e*Math.sin(a),o=this.y0+this.rh-e*Math.cos(a);return t.x=r,t.y=o,t},inverse:function(t){var e,i,s,n;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;return 0!==i&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere?(n=_m(this.long0+a/this.ns),s=Gg(this.g-i/this.a),t.x=n,t.y=s,t):(s=qg(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),n=_m(this.long0+a/this.ns),t.x=n,t.y=s,t)},names:["Equidistant_Conic","eqdc"]},r_={init:function(){this.R=this.a},forward:function(t){var e,i,s=t.x,n=t.y,a=_m(s-this.long0);Math.abs(n)<=zp&&(e=this.x0+this.R*a,i=this.y0);var r=$g(2*Math.abs(n/Math.PI));(Math.abs(a)<=zp||Math.abs(Math.abs(n)-Up)<=zp)&&(e=this.x0,i=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*r):this.y0+Math.PI*this.R*-Math.tan(.5*r));var o=.5*Math.abs(Math.PI/a-a/Math.PI),l=o*o,c=Math.sin(r),h=Math.cos(r),u=h/(c+h-1),d=u*u,p=u*(2/c-1),m=p*p,g=Math.PI*this.R*(o*(u-m)+Math.sqrt(l*(u-m)*(u-m)-(m+l)*(d-m)))/(m+l);a<0&&(g=-g),e=this.x0+g;var _=l+u;return g=Math.PI*this.R*(p*_-o*Math.sqrt((m+l)*(l+1)-_*_))/(m+l),i=n>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t},inverse:function(t){var e,i,s,n,a,r,o,l,c,h,u,d;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,a=(s=t.x/u)*s+(n=t.y/u)*n,u=3*(n*n/(l=-2*(r=-Math.abs(n)*(1+a))+1+2*n*n+a*a)+(2*(o=r-2*n*n+s*s)*o*o/l/l/l-9*r*o/l/l)/27)/(c=(r-o*o/3/l)/l)/(h=2*Math.sqrt(-c/3)),Math.abs(u)>1&&(u=u>=0?1:-1),d=Math.acos(u)/3,i=t.y>=0?(-h*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI:-(-h*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI,e=Math.abs(s)<zp?this.long0:_m(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(s*s-n*n)+a*a))/2/s),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},o_={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,s,n,a,r,o,l,c,h,u,d,p,m,g,_,f,y,v,b,x,S,T=t.x,w=t.y,E=Math.sin(t.y),A=Math.cos(t.y),I=_m(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=zp?(t.x=this.x0+this.a*(Up-w)*Math.sin(I),t.y=this.y0-this.a*(Up-w)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=zp?(t.x=this.x0+this.a*(Up+w)*Math.sin(I),t.y=this.y0+this.a*(Up+w)*Math.cos(I),t):(y=this.sin_p12*E+this.cos_p12*A*Math.cos(I),f=(_=Math.acos(y))?_/Math.sin(_):1,t.x=this.x0+this.a*f*A*Math.sin(I),t.y=this.y0+this.a*f*(this.cos_p12*E-this.sin_p12*A*Math.cos(I)),t):(e=zg(this.es),i=jg(this.es),s=Bg(this.es),n=Hg(this.es),Math.abs(this.sin_p12-1)<=zp?(a=this.a*Ug(e,i,s,n,Up),r=this.a*Ug(e,i,s,n,w),t.x=this.x0+(a-r)*Math.sin(I),t.y=this.y0-(a-r)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=zp?(a=this.a*Ug(e,i,s,n,Up),r=this.a*Ug(e,i,s,n,w),t.x=this.x0+(a+r)*Math.sin(I),t.y=this.y0+(a+r)*Math.cos(I),t):(o=E/A,l=Vg(this.a,this.e,this.sin_p12),c=Vg(this.a,this.e,E),h=Math.atan((1-this.es)*o+this.es*l*this.sin_p12/(c*A)),v=0===(u=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(I)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(u)-Math.PI)<=zp?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(I)*Math.cos(h)/Math.sin(u)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),_=l*v*(1-(b=v*v)*(g=(p=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es))*p)*(1-g)/6+(x=b*v)/8*(m=d*p)*(1-2*g)+(S=x*v)/120*(g*(4-7*g)-3*d*d*(1-7*g))-S*v/48*m),t.x=this.x0+_*Math.sin(u),t.y=this.y0+_*Math.cos(u),t))},inverse:function(t){var e,i,s,n,a,r,o,l,c,h,u,d,p,m,g,_,f,y,v,b,x,S,T;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Up*this.a)return;return i=e/this.a,s=Math.sin(i),n=Math.cos(i),a=this.long0,Math.abs(e)<=zp?r=this.lat0:(r=$g(n*this.sin_p12+t.y*s*this.cos_p12/e),o=Math.abs(this.lat0)-Up,a=Math.abs(o)<=zp?this.lat0>=0?_m(this.long0+Math.atan2(t.x,-t.y)):_m(this.long0-Math.atan2(-t.x,t.y)):_m(this.long0+Math.atan2(t.x*s,e*this.cos_p12*n-t.y*this.sin_p12*s))),t.x=a,t.y=r,t}return l=zg(this.es),c=jg(this.es),h=Bg(this.es),u=Hg(this.es),Math.abs(this.sin_p12-1)<=zp?(r=qg(((d=this.a*Ug(l,c,h,u,Up))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,l,c,h,u),a=_m(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=r,t):Math.abs(this.sin_p12+1)<=zp?(d=this.a*Ug(l,c,h,u,Up),r=qg(((e=Math.sqrt(t.x*t.x+t.y*t.y))-d)/this.a,l,c,h,u),a=_m(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=r,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=Vg(this.a,this.e,this.sin_p12),_=Math.cos(g),y=-(f=this.e*this.cos_p12*_)*f/(1-this.es),v=3*this.es*(1-y)*this.sin_p12*this.cos_p12*_/(1-this.es),S=1-y*(x=(b=e/p)-y*(1+y)*Math.pow(b,3)/6-v*(1+3*y)*Math.pow(b,4)/24)*x/2-b*x*x*x/6,m=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*_),a=_m(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(m))),T=Math.sin(m),r=Math.atan2((T-this.es*S*this.sin_p12)*Math.tan(m),T*(1-this.es)),t.x=a,t.y=r,t)},names:["Azimuthal_Equidistant","aeqd"]},l_={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,s,n,a,r,o,l=t.x,c=t.y;return s=_m(l-this.long0),e=Math.sin(c),i=Math.cos(c),n=Math.cos(s),((a=this.sin_p14*e+this.cos_p14*i*n)>0||Math.abs(a)<=zp)&&(r=1*this.a*i*Math.sin(s),o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*n)),t.x=r,t.y=o,t},inverse:function(t){var e,i,s,n,a,r,o;return t.x-=this.x0,t.y-=this.y0,i=$g((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),s=Math.sin(i),n=Math.cos(i),r=this.long0,Math.abs(e)<=zp?(o=this.lat0,t.x=r,t.y=o,t):(o=$g(n*this.sin_p14+t.y*s*this.cos_p14/e),a=Math.abs(this.lat0)-Up,Math.abs(a)<=zp?(r=this.lat0>=0?_m(this.long0+Math.atan2(t.x,-t.y)):_m(this.long0-Math.atan2(-t.x,t.y)),t.x=r,t.y=o,t):(r=_m(this.long0+Math.atan2(t.x*s,e*this.cos_p14*n-t.y*this.sin_p14*s)),t.x=r,t.y=o,t))},names:["ortho"]};var c_=1,h_=2,u_=3,d_=4;function p_(t,e,i,s){var n;return t<zp?(s.value=c_,n=0):(n=Math.atan2(e,i),Math.abs(n)<=Hp?s.value=c_:n>Hp&&n<=Up+Hp?(s.value=h_,n-=Up):n>Up+Hp||n<=-(Up+Hp)?(s.value=u_,n=n>=0?n-Gp:n+Gp):(s.value=d_,n+=Up)),n}function m_(t,e){var i=t+e;return i<-Gp?i+=Vp:i>+Gp&&(i-=Vp),i}const g_={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Up-Hp/2?this.face=5:this.lat0<=-(Up-Hp/2)?this.face=6:Math.abs(this.long0)<=Hp?this.face=1:Math.abs(this.long0)<=Up+Hp?this.face=this.long0>0?2:4:this.face=3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,s,n,a,r,o={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,5===this.face)n=Up-e,i>=Hp&&i<=Up+Hp?(l.value=c_,s=i-Up):i>Up+Hp||i<=-(Up+Hp)?(l.value=h_,s=i>0?i-Gp:i+Gp):i>-(Up+Hp)&&i<=-Hp?(l.value=u_,s=i+Up):(l.value=d_,s=i);else if(6===this.face)n=Up+e,i>=Hp&&i<=Up+Hp?(l.value=c_,s=-i+Up):i<Hp&&i>=-Hp?(l.value=h_,s=-i):i<-Hp&&i>=-(Up+Hp)?(l.value=u_,s=-i-Up):(l.value=d_,s=i>0?-i+Gp:-i-Gp);else{var c,h,u,d,p,m;2===this.face?i=m_(i,+Up):3===this.face?i=m_(i,+Gp):4===this.face&&(i=m_(i,-Up)),d=Math.sin(e),p=Math.cos(e),m=Math.sin(i),c=p*Math.cos(i),h=p*m,u=d,1===this.face?s=p_(n=Math.acos(c),u,h,l):2===this.face?s=p_(n=Math.acos(h),u,-c,l):3===this.face?s=p_(n=Math.acos(-c),u,-h,l):4===this.face?s=p_(n=Math.acos(-h),u,c,l):(n=s=0,l.value=c_)}return r=Math.atan(12/Gp*(s+Math.acos(Math.sin(s)*Math.cos(Hp))-Up)),a=Math.sqrt((1-Math.cos(n))/(Math.cos(r)*Math.cos(r))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===h_?r+=Up:l.value===u_?r+=Gp:l.value===d_&&(r+=1.5*Gp),o.x=a*Math.cos(r),o.y=a*Math.sin(r),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,t.x=o.x,t.y=o.y,t},inverse:function(t){var e,i,s,n,a,r,o,l,c,h,u,d,p={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=c_:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=h_,e-=Up):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=u_,e=e<0?e+Gp:e-Gp):(m.value=d_,e+=Up),c=Gp/12*Math.tan(e),a=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),r=Math.atan(a),(o=1-(s=Math.cos(e))*s*(n=Math.tan(i))*n*(1-Math.cos(Math.atan(1/Math.cos(r)))))<-1?o=-1:o>1&&(o=1),5===this.face)l=Math.acos(o),p.phi=Up-l,m.value===c_?p.lam=r+Up:m.value===h_?p.lam=r<0?r+Gp:r-Gp:m.value===u_?p.lam=r-Up:p.lam=r;else if(6===this.face)l=Math.acos(o),p.phi=l-Up,m.value===c_?p.lam=-r+Up:m.value===h_?p.lam=-r:m.value===u_?p.lam=-r-Up:p.lam=r<0?-r-Gp:-r+Gp;else{var g,_,f;c=(g=o)*g,_=(c+=(f=c>=1?0:Math.sqrt(1-c)*Math.sin(r))*f)>=1?0:Math.sqrt(1-c),m.value===h_?(c=_,_=-f,f=c):m.value===u_?(_=-_,f=-f):m.value===d_&&(c=_,_=f,f=-c),2===this.face?(c=g,g=-_,_=c):3===this.face?(g=-g,_=-_):4===this.face&&(c=g,g=_,_=-c),p.phi=Math.acos(-f)-Up,p.lam=Math.atan2(_,g),2===this.face?p.lam=m_(p.lam,-Up):3===this.face?p.lam=m_(p.lam,-Gp):4===this.face&&(p.lam=m_(p.lam,+Up))}return 0!==this.es&&(h=p.phi<0?1:0,u=Math.tan(p.phi),d=this.b/Math.sqrt(u*u+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),h&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var __=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],f_=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],y_=.8487,v_=1.3523,b_=Bp/5,x_=1/b_,S_=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const T_={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=_m(t.x-this.long0),i=Math.abs(t.y),s=Math.floor(i*b_);s<0?s=0:s>=18&&(s=17);var n={x:S_(__[s],i=Bp*(i-x_*s))*e,y:S_(f_[s],i)};return t.y<0&&(n.y=-n.y),n.x=n.x*this.a*y_+this.x0,n.y=n.y*this.a*v_+this.y0,n},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*y_),y:Math.abs(t.y-this.y0)/(this.a*v_)};if(e.y>=1)e.x/=__[18][0],e.y=t.y<0?-Up:Up;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(f_[i][0]>e.y)--i;else{if(!(f_[i+1][0]<=e.y))break;++i}var s=f_[i],n=5*(e.y-s[0])/(f_[i+1][0]-s[0]);n=function(t,e,i,s){for(var n=e;s;--s){var a=t(n);if(n-=a,Math.abs(a)<1e-10)break}return n}((function(t){return(S_(s,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(s,t)}),n,0,100),e.x/=S_(__[i],n),e.y=(5*i+n)*jp,t.y<0&&(e.y=-e.y)}return e.x=_m(e.x+this.long0),e},names:["Robinson","robin"]},w_={init:function(){this.name="geocent"},forward:function(t){return Fm(t,this.es,this.a)},inverse:function(t){return Um(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var E_={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const A_={init:function(){if(Object.keys(E_).forEach(function(t){if(void 0===this[t])this[t]=E_[t].def;else{if(E_[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);E_[t].num&&(this[t]=parseFloat(this[t]))}E_[t].degrees&&(this[t]=this[t]*jp)}.bind(this)),Math.abs(Math.abs(this.lat0)-Up)<zp?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<zp?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,i,s,n,a=Math.sin(t.y),r=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case 3:i=this.sinph0*a+this.cosph0*r*o;break;case 2:i=r*o;break;case 1:i=-a;break;case 0:i=a}switch(e=(i=this.pn1/(this.p-i))*r*Math.sin(t.x),this.mode){case 3:i*=this.cosph0*a-this.sinph0*r*o;break;case 2:i*=a;break;case 0:i*=-r*o;break;case 1:i*=r*o}return n=1/((s=i*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*n,i=s*n,t.x=e*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,i,s,n={x:t.x,y:t.y};s=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var a=wg(t.x,t.y);if(Math.abs(a)<zp)n.x=0,n.y=t.y;else{var r,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),r=Math.sqrt(1-o*o),this.mode){case 3:n.y=Math.asin(r*this.sinph0+t.y*o*this.cosph0/a),t.y=(r-this.sinph0*Math.sin(n.y))*a,t.x*=o*this.cosph0;break;case 2:n.y=Math.asin(t.y*o/a),t.y=r*a,t.x*=o;break;case 0:n.y=Math.asin(r),t.y=-t.y;break;case 1:n.y=-Math.asin(r)}n.x=Math.atan2(t.x,t.y)}return t.x=n.x+this.long0,t.y=n.y,t},names:["Tilted_Perspective","tpers"]},I_={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,i,s,n,a=t.x,r=t.y;if(a-=this.long0,"ellipse"===this.shape){r=Math.atan(this.radius_p2*Math.tan(r));var o=this.radius_p/wg(this.radius_p*Math.cos(r),Math.sin(r));if(i=o*Math.cos(a)*Math.cos(r),s=o*Math.sin(a)*Math.cos(r),n=o*Math.sin(r),(this.radius_g-i)*i-s*s-n*n*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/wg(n,e)),t.y=this.radius_g_1*Math.atan(n/e)):(t.x=this.radius_g_1*Math.atan(s/e),t.y=this.radius_g_1*Math.atan(n/wg(s,e)))}else"sphere"===this.shape&&(e=Math.cos(r),i=Math.cos(a)*e,s=Math.sin(a)*e,n=Math.sin(r),e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/wg(n,e)),t.y=this.radius_g_1*Math.atan(n/e)):(t.x=this.radius_g_1*Math.atan(s/e),t.y=this.radius_g_1*Math.atan(n/wg(s,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,i,s,n,a=-1,r=0,o=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*wg(1,o)):(r=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*wg(1,r));var l=o/this.radius_p;if(e=r*r+l*l+a*a,(s=(i=2*this.radius_g*a)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=(-i-Math.sqrt(s))/(2*e),a=this.radius_g+n*a,r*=n,o*=n,t.x=Math.atan2(r,a),t.y=Math.atan(o*Math.cos(t.x)/a),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+o*o)):(r=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),e=r*r+o*o+a*a,(s=(i=2*this.radius_g*a)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=(-i-Math.sqrt(s))/(2*e),a=this.radius_g+n*a,r*=n,o*=n,t.x=Math.atan2(r,a),t.y=Math.atan(o*Math.cos(t.x)/a)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var M_;Xm.defaultDatum="WGS84",Xm.Proj=km,Xm.WGS84=new Xm.Proj("WGS84"),Xm.Point=gg,Xm.toPoint=Gm,Xm.defs=hm,Xm.nadgrid=function(t,e){var i=new DataView(e),s=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(i),n=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Pm(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(i,s);n.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=function(t,e,i){for(var s=[],n=0;n<e.nSubgrids;n++){var a=Lm(t,176,i),r=Om(t,176,a,i),o=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),l=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);s.push({ll:[Nm(a.lowerLongitude),Nm(a.lowerLatitude)],del:[Nm(a.longitudeInterval),Nm(a.latitudeInterval)],lim:[o,l],count:a.gridNodeCount,cvs:Rm(r)})}return s}(i,n,s),r={header:n,subgrids:a};return Mm[t]=r,r},Xm.transform=Jm,Xm.mgrs=ag,Xm.version="__VERSION__",(M_=Xm).Proj.projections.add(Sg),M_.Proj.projections.add(Ig),M_.Proj.projections.add(Mg),M_.Proj.projections.add(Pg),M_.Proj.projections.add(Rg),M_.Proj.projections.add(Lg),M_.Proj.projections.add(Dg),M_.Proj.projections.add(kg),M_.Proj.projections.add(Fg),M_.Proj.projections.add(Jg),M_.Proj.projections.add(Yg),M_.Proj.projections.add(Xg),M_.Proj.projections.add(Kg),M_.Proj.projections.add(Zg),M_.Proj.projections.add(Qg),M_.Proj.projections.add(t_),M_.Proj.projections.add(e_),M_.Proj.projections.add(i_),M_.Proj.projections.add(s_),M_.Proj.projections.add(n_),M_.Proj.projections.add(a_),M_.Proj.projections.add(r_),M_.Proj.projections.add(o_),M_.Proj.projections.add(l_),M_.Proj.projections.add(g_),M_.Proj.projections.add(T_),M_.Proj.projections.add(w_),M_.Proj.projections.add(A_),M_.Proj.projections.add(I_);const C_=Xm,N_=new Map;N_.set("EPSG::104903",'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]'),N_.set("EPSG::104905",'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]'),N_.set("EPSG::4326","+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"),N_.set("EPSG::3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs"),N_.set("OGC:1.3:84",C_.defs("WGS84")),N_.set("OGC:1.3:CRS84",C_.defs("WGS84")),N_.set("OGC:2:84",C_.defs("WGS84"));class P_ extends Sd{constructor(t,e,i){super(t,e,i),this._keyframes=[],this._direction=new Vh(1,0,0),this.addModifiedState("orientation")}setKeyframes(t){for(let t=0,e=this._keyframes.length;t<e;t++){let e=this._keyframes[t][1];e.startsWith("-")&&(e=e.substring(1)),"velocity"===e?this.removeDependentState(this.getEntity().getName(),"velocity"):this.removeDependentState(e,"position")}this._keyframes=[];for(let e=0,i=t.length;e<i;e++){this._keyframes.push([t[e][0],t[e][1]]);let i=this._keyframes[e][1];i.startsWith("-")&&(i=i.substring(1)),"velocity"===i?this.addDependentState(this.getEntity().getName(),"velocity"):this.addDependentState(i,"position")}this._keyframes.sort(((t,e)=>t[0]-e[0]))}setDirection(t){this._direction.copy(t)}__updateOrientationAtTime(t,e){t.isNaN()&&t.copy(Lh.Identity),this._getNewOrientation(t,e,t)}__update(){if(0===this._keyframes.length)return;const t=this.getEntity(),e=t.getScene().getEngine().getTime();t.getOrientation().isNaN()&&t.setOrientation(Lh.Identity);const i=Lh.pool.get();this._getNewOrientation(i,e,t.getOrientation()),t.setOrientation(i),Lh.pool.release(i)}_getNewOrientation(t,e,i){const s=ph.getIndex(e,this._keyframes,((t,e)=>t[0]<e));let n=0,a=0;s===this._keyframes.length?(n=this._keyframes.length-1,a=this._keyframes.length-1):s>0&&(n=s-1,a=s);const r=this._keyframes[n],o=this._keyframes[a],l=o[0]>r[0]?(e-r[0])/(o[0]-r[0]):0,c=Vh.pool.get(),h=Vh.pool.get();this._getDirection(c,e,r[1]),this._getDirection(h,e,o[1]),h.slerp(c,h,l),h.normalize(h),c.rotate(i,this._direction);const u=Lh.pool.get();u.setFromVectorFromTo(c,h),t.mult(u,i),Lh.pool.release(u),Vh.pool.release(h),Vh.pool.release(c)}_getDirection(t,e,i){const s=this.getEntity(),n=i.startsWith("-");if(n&&(i=i.substring(1)),i.startsWith("velocity"))if((i=i.substring(8)).startsWith(" rel ")){i=i.substring(5);const n=s.getScene().getEntity(i);null!==n&&s.getVelocityRelativeToEntity(t,Vh.Zero,n,e)}else s.getVelocityAtTime(t,e);else{const n=s.getScene().getEntity(i);null!==n?n.getPositionRelativeToEntity(t,Vh.Zero,s,e):t.copy(Vh.NaN)}t.normalize(t),n&&t.mult(t,-1)}}class R_ extends Sd{constructor(t,e,i){super(t,e,i),this._keyframes=[],this._axis=new Vh(1,0,0),this._startingAngle=0,this.addModifiedState("orientation")}setKeyframes(t){this._keyframes=[];let e=0;for(let i=0,s=t.length;i<s;i++)i>0&&(e=hh.wrap(e+(t[i][0]-t[i-1][0])*(t[i-1][1]+t[i][1])*.5,0,2*Math.PI)),this._keyframes.push([t[i][0],t[i][1],e]);this._keyframes.sort(((t,e)=>t[0]-e[0]))}setAxis(t){this._axis.copy(t)}setStartingAngle(t){this._startingAngle=t}__updateOrientationAtTime(t,e){t.isNaN()&&t.copy(Lh.Identity),this._getNewOrientation(t,e,t)}__update(){if(0===this._keyframes.length)return;const t=this.getEntity(),e=t.getScene().getEngine().getTime();t.getOrientation().isNaN()&&t.setOrientation(Lh.Identity);const i=Lh.pool.get();this._getNewOrientation(i,e,t.getOrientation()),t.setOrientation(i),Lh.pool.release(i)}_getNewOrientation(t,e,i){const s=ph.getIndex(e,this._keyframes,((t,e)=>t[0]<e));let n=0,a=0;s===this._keyframes.length?(n=this._keyframes.length-1,a=this._keyframes.length-1):s>0&&(n=s-1,a=s);const r=this._keyframes[n],o=this._keyframes[a],l=o[0]>r[0]?(e-r[0])/(o[0]-r[0]):0,c=hh.wrap(this._startingAngle+r[2]+(e-r[0])*(r[1]+l*o[1])/(1+l),0,2*Math.PI),h=Vh.pool.get();h.rotate(i,this._axis);const u=Lh.pool.get();u.setFromAxisAngle(h,c),t.mult(u,i),Vh.pool.release(h),Lh.pool.release(u)}}xp.register({observable_universe:{groups:["stars"],radius:5e23,systemRadius:5e23,label:"Observable Universe",parents:[],controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}],postCreateFunction:t=>{t.setCanOcclude(!1)}},milky_way:{groups:["stars"],radius:1e18,systemRadius:13e18,label:"Milky Way",parents:[[Number.NEGATIVE_INFINITY,"observable_universe"]],controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}],postCreateFunction:(t,e)=>{t.setCanOcclude(!1);const i=t.getControllerByClass(Jd),s=new Vh,n=192.85948120833*Math.PI/180,a=27.12825119444*Math.PI/180;s.x=Math.cos(n)*Math.cos(a),s.y=Math.sin(n)*Math.cos(a),s.z=Math.sin(a);const r=new Vh,o=266.40499625*Math.PI/180,l=-28.93617241667*Math.PI/180;r.x=Math.cos(o)*Math.cos(l),r.y=Math.sin(o)*Math.cos(l),r.z=Math.sin(l);const c=new Lh;if(c.setFromAxes(r,void 0,s),i.setOrientation(c),e&&e.milkyWaySprite){const e=t.addComponentByClass(_d);e.setTextureUrl("$STATIC_ASSETS_URL/sprites/milky_way.png"),e.setSize(new Fh(12e17,12e17)),e.setTransparent(!0),e.setBlending("normal"),e.setFadeDistance(12e15)}const h=t.addControllerByClass(mp);h.setAxis(new Vh(-.8676661356982597,-.19807638974470915,.45598379452940485),!1),h.setRate(-2192686e-23),h.setReferenceAngle(0),h.setReferenceTime(0)}},sun:{groups:["stars"],radius:695500,systemRadius:2991957e7,label:"Sun",parents:[[Number.NEGATIVE_INFINITY,"milky_way"]],spheroid:{equatorialRadius:695500,polarRadius:695500,planetographic:!1},spheroidLOD:{features:["colorMapEmmissive"],textures:{color:{url:"sun/color_$SIZE_$FACE.png",sizes:[4,512]}}},controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}],postCreateFunction:(t,e)=>{t.addComponentByClass(od).setAbsoluteMagnitude(4.83);const i=t.addComponentByClass($u);i.setEmissivity(1),i.setScaleHeight(2e5),i.setDensity(8e-7),i.setColor(new vh(1,1,64/255));const s=t.addComponentByClass(_d);s.setBillboard(!0),s.setTextureUrl("$STATIC_ASSETS_URL/sprites/sun_glow.png"),s.setSize(new Fh(100,100)),s.setSizeUnits("pixels"),s.setTransparent(!0),s.setColorMultiplier(new vh(1,1,.5)),s.setRenderOrder(-2);const n=t.addControllerByClass(ap),a=new Nh;if(a.epoch=0,a.eccentricity=0,a.semiMajorAxis=246237071e9,a.meanAngularMotion=-2192686e-23,a.meanAnomalyAtEpoch=Math.PI,a.orbitOrientation.set(-.48894750765094835,-.4832106839985283,.19625375824756275,.6992297419646486),n.addOrbitalElements(-1e100,a),n.addOrbitalElements(1e100,a),void 0!==e&&!0===e.skybox&&t.addComponentByClass(ud).setTextureUrl("$STATIC_ASSETS_URL/textures/starmap_"+(e.skyboxResolution||2048)+".jpg"),void 0===e||!0===e.skybox&&!0===e.starfield||!1!==e.starfield){t.addComponentByClass(vd).setUrl("$STATIC_ASSETS_URL/stars/galaxies.0.bin");for(let e=0;e<6;e++)t.addComponentByClass(vd).setUrl("$STATIC_ASSETS_URL/stars/stars."+e+".bin")}if(void 0!==e&&e.heliosphere){const e=t.addComponentByClass(ld);e.setUrl("$STATIC_ASSETS_URL/models/heliosphere/voyager_heliosphere.gltf"),e.setScale(new Vh(201e6,19e7,19e7)),e.setForceLoaded(!0);const i=new su(0,-105*Math.PI/180,0),s=new Vh;Ah.getXYZFromLLAOnSphere(s,i,1),s.rotate(Ap.getEclipJ2000ToJ2000Rotation(),s),s.normalize(s);const n=new Lh;n.setFromVectorFromTo(new Vh(.9937396508197329,.11171728072160429,.0008692392338424033),s),e.setRotation(n)}}},mercury:{groups:["planets"],radius:2439.4,systemRadius:292764,label:"Mercury",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.6,.6,.6,.7]},spheroid:{equatorialRadius:2439.4,polarRadius:2439.4,planetographic:!1},spheroidLOD:{textures:{color:{url:"mercury/color_$SIZE_$FACE.png",sizes:[4,512,4096]}}},controllers:[{type:"dynamo",url:"mercury/sun/orb"},{type:"dynamo",url:"mercury/ori"}]},venus:{groups:["planets"],radius:6051.8,systemRadius:726216,label:"Venus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.9,.8,.45,.7]},spheroid:{equatorialRadius:6051.8,polarRadius:6051.8,planetographic:!1},spheroidLOD:{textures:{color:{url:"venus/color_$SIZE_$FACE.png",sizes:[4,512]}}},controllers:[{type:"dynamo",url:"venus/sun/orb"},{type:"dynamo",url:"venus/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass($u);e.setScaleHeight(15),e.setDensity(.001),e.setColor(new vh(213/255,160/255,94/255)),e.setSunBrightness(.25)}},earth:{groups:["planets"],radius:6378.1,systemRadius:765372,label:"Earth",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[0,.6,.8,.7]},spheroid:{equatorialRadius:6378.137,polarRadius:6356.752,planetographic:!0},spheroidLOD:{features:["normalMap","specularMap","nightMap","decalMap","nightMapEmmissive","shadowEntities"],textures:{color:{url:"earth/color_$SIZE_$FACE.png",sizes:[16,512,4096]},normal:{url:"earth/normal_$SIZE_$FACE.png",sizes:[16,512,4096]},specular:{url:"earth/specular_$SIZE_$FACE.png",sizes:[16,512,4096]},night:{url:"earth/night_$SIZE_$FACE.png",sizes:[16,512,4096]},decal:{url:"earth/cloud_$SIZE_$FACE.png",sizes:[16,512,4096]}},shadowEntities:["moon"]},controllers:[{type:"dynamo",url:"earth/sun/orb"},{type:"dynamo",url:"earth/ori"}],postCreateFunction:(t,e)=>{e&&!1===e.clouds&&t.getComponentByClass(pd).setTexture("decal","");const i=t.addComponentByClass($u);i.setScaleHeight(8),i.setDensity(.0015),i.setColor(new vh(214.5/255,267/255,1.5)),i.setSunBrightness(2),i.setSunsetColor(new vh(1,.5,0)),i.setSunsetIntensity(1.2)}},mars:{groups:["planets"],radius:3396.2,systemRadius:46922,label:"Mars",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.89,.51,.35,.7]},spheroid:{equatorialRadius:3396.19,polarRadius:3376.2,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"mars/color_$SIZE_$FACE.png",sizes:[4,512,4096]}},shadowEntities:["phobos","deimos"]},controllers:[{type:"dynamo",url:"mars/sun/orb"},{type:"dynamo",url:"mars/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass($u);e.setScaleHeight(10.8),e.setDensity(.001),e.setColor(new vh(225/255,178/255,112/255)),e.setSunBrightness(.8),e.setSunsetColor(new vh(10/255,75/255,140/255)),e.setSunsetIntensity(1)}},jupiter:{groups:["planets"],radius:71492,systemRadius:3782501,label:"Jupiter",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.95,.71,.64,.7]},spheroid:{equatorialRadius:71492,polarRadius:66854,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"jupiter/color_$SIZE_$FACE.jpg",sizes:[16,512,4096]}},shadowEntities:["io","europa","ganymede","callisto"]},controllers:[{type:"dynamo",url:"jupiter/sun/orb"},{type:"dynamo",url:"jupiter/ori"},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY],update:t=>{if(t.getOrientation().isNaN())return;const e=t.getScene().getEngine().getTime(),i=L_.rotations;let s=(i[i.length-1][1]-i[i.length-2][1])/(i[i.length-1][0]-i[i.length-2][0]),n=L_.hintIndex;if(e<i[n][0]||n<i.length-1&&i[n+1][0]<=e)if(e>=i[i.length-1][0])n=i.length-1;else if(e<i[0][0])n=0,s=0;else for(let t=i.length-2;t>=0;t--)i[t][0]<=e&&e<i[t+1][0]&&(n=t,s=(i[t+1][1]-i[t][1])/(i[t+1][0]-i[t][0]));else n<i.length-1&&(s=(i[n+1][1]-i[n][1])/(i[n+1][0]-i[n][0]));L_.hintIndex=n;const a=i[n][1]+(e-i[n][0])*s,r=hh.wrap(L_.referenceAngleInSystemIII-(a+L_.textureAngleOffset-L_.referenceAngleInSystemII)+(e-L_.referenceTime)*L_.offsetFactor,0,360),o=t.getComponentByClass(pd);null!==o&&o.setLongitudeRotation(hh.degToRad(r))}}],postCreateFunction:t=>{const e=t.addComponentByClass($u);e.setScaleHeight(200),e.setDensity(5e-5),e.setColor(new vh(234/255,202/255,170/255)),e.setSunBrightness(.25)}},saturn:{groups:["planets"],radius:60268,systemRadius:7184413,label:"Saturn",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:60268,polarRadius:54364,planetographic:!1},spheroidLOD:{features:["shadowEntities","shadowRings"],textures:{color:{url:"saturn/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["iapetus","dione","rhea","tethys","titan"]},controllers:[{type:"dynamo",url:"saturn/sun/orb"},{type:"dynamo",url:"saturn/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass(hd);e.setInnerRadius(74270.580913),e.setOuterRadius(140478.924731),e.setTopTextureUrl("$STATIC_ASSETS_URL/sprites/saturn_rings_top.png"),e.setBottomTextureUrl("$STATIC_ASSETS_URL/sprites/saturn_rings_bottom.png"),e.setFadeDistance(250),e.setShadowEntities(["iapetus","dione","rhea","tethys","titan"]);const i=t.addComponentByClass($u);i.setScaleHeight(200),i.setDensity(5e-5),i.setColor(new vh(234/255,202/255,151/255))}},uranus:{groups:["planets"],radius:25559,systemRadius:1164893,label:"Uranus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:25559,polarRadius:24973,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"uranus/color_$SIZE_$FACE.png",sizes:[4,256]}},shadowEntities:["titania","oberon","umbriel","ariel","miranda"]},controllers:[{type:"dynamo",url:"uranus/sun/orb"},{type:"dynamo",url:"uranus/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass(hd);e.setInnerRadius(26840),e.setOuterRadius(103e3),e.setTopTextureUrl("$STATIC_ASSETS_URL/sprites/uranus_rings.png"),e.setBottomTextureUrl("$STATIC_ASSETS_URL/sprites/uranus_rings.png"),e.setFadeDistance(250),e.setShadowEntities(["miranda","ariel","umbriel","titania","oberon"]);const i=t.addComponentByClass($u);i.setScaleHeight(200),i.setDensity(5e-5),i.setColor(new vh(147/255,183/255,201/255)),i.setSunsetColor(new vh(164/255,168/255,.4)),i.setSunsetIntensity(1)}},neptune:{groups:["planets"],radius:24764,systemRadius:43213894,label:"Neptune",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0,color:[.48,.69,1,.7]},spheroid:{equatorialRadius:24764,polarRadius:24341,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"neptune/color_$SIZE_$FACE.png",sizes:[4,256]}},shadowEntities:["triton","proteus","despina","galatea","larissa"]},controllers:[{type:"dynamo",url:"neptune/sun/orb"},{type:"dynamo",url:"neptune/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass(hd);e.setInnerRadius(40900),e.setOuterRadius(62964),e.setTopTextureUrl("$STATIC_ASSETS_URL/sprites/neptune_rings.png"),e.setBottomTextureUrl("$STATIC_ASSETS_URL/sprites/neptune_rings.png"),e.setFadeDistance(250);const i=t.addComponentByClass($u);i.setScaleHeight(200),i.setDensity(5e-5),i.setColor(new vh(138/255,160/255,1))}}});const L_={hintIndex:0,textureAngleOffset:-60.38,referenceTime:617098056,referenceAngleInSystemII:313.47,referenceAngleInSystemIII:305,offsetFactor:-3074e-9,rotations:[[-1136116758,15],[-1037534358,28],[-938951958,22],[-867931156,0],[-812721554,12],[-744292752,47],[-639143949,62],[-533822346,48],[-483883145,27],[-391953544,15],[102427264,85],[315576066,138],[615211269,312],[660052869,347]]};xp.register({"1_ceres":{groups:["dwarf planets"],radius:473,label:"Ceres",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},spheroid:{equatorialRadius:482.6,polarRadius:445.6,planetographic:!1},spheroidLOD:{textures:{color:{url:"1_ceres/color_$SIZE_$FACE.jpg",sizes:[16,512,4096]}}},controllers:[{type:"dynamo",url:"1_ceres/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"101955_bennu":{groups:["asteroids","NEOs","PHAs"],radius:.246,label:"Bennu",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/101955_bennu/Bennu.gltf",rotate:[{x:83},{z:-168}],scale:9956e-7},controllers:[{type:"dynamo",url:"101955_bennu/sun/orb"},{type:"dynamo",url:"101955_bennu/ori"}]},"11351_leucus":{groups:["asteroids"],radius:17.0775,label:"Leucus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:17.0775},controllers:[{type:"dynamo",url:"11351_leucus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:445.732}]},"12923_zephyr":{groups:["asteroids","NEOs","PHAs"],radius:1.03,label:"Zephyr",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.03,1.03,1.03]},controllers:[{type:"dynamo",url:"12923_zephyr/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.891}]},"134340_pluto":{groups:["dwarf planets","moons","134340_pluto_barycenter"],radius:1187,label:"Pluto",labelFadeEntity:"sun",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},spheroid:{equatorialRadius:1187,polarRadius:1187,planetographic:!1},spheroidLOD:{textures:{color:{url:"134340_pluto/color_$SIZE_$FACE.png",sizes:[4,512,4096]}}},controllers:[{type:"dynamo",url:"134340_pluto/134340_pluto_barycenter/orb"},{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"charon"},secondary:{type:"velocity",axis:Vh.YAxis,target:"charon"}}]},"134340_pluto_barycenter":{groups:["134340_pluto","barycenters"],occlusionRadius:.001,extentsRadius:28e3,systemRadius:130153,label:"Barycenter",labelFadeEntity:"134340_pluto",trail:{length:void 0},parents:[[Number.NEGATIVE_INFINITY,"sun"]],controllers:[{type:"dynamo",url:"134340_pluto_barycenter/sun/orb"},{type:"fixed",orientation:Lh.Identity}],postCreateFunction:t=>{t.getComponentByClass(sd).setFadeWhenCloseToCamera(!1),t.setCanOcclude(!1)}},"136108_haumea":{groups:["dwarf planets","TNOs"],radius:816,label:"Haumea",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/136108_haumea/haumea.gltf",scale:[1,1,1]},controllers:[{type:"dynamo",url:"136108_haumea/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},"136199_eris":{groups:["dwarf planets","TNOs"],radius:1163,label:"Eris",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},spheroid:{equatorialRadius:1163,polarRadius:1163,planetographic:!1},spheroidLOD:{textures:{color:{url:"136199_eris/color_$SIZE_$FACE.png",sizes:[4,512]}}},controllers:[{type:"dynamo",url:"136199_eris/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},"136472_makemake":{groups:["dwarf planets","TNOs"],radius:715,label:"Makemake",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},spheroid:{equatorialRadius:717,polarRadius:710,planetographic:!1},spheroidLOD:{textures:{color:{url:"136472_makemake/color_$SIZE_$FACE.png",sizes:[4,512]}}},controllers:[{type:"dynamo",url:"136472_makemake/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},"14827_hypnos":{groups:["asteroids","NEOs","PHAs"],radius:.4535,label:"Hypnos",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.4535,.4535,.4535]},controllers:[{type:"dynamo",url:"14827_hypnos/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"15094_polymele":{groups:["asteroids"],radius:10.5375,label:"Polymele",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:10.5375},controllers:[{type:"dynamo",url:"15094_polymele/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:5.8607}]},"1566_icarus":{groups:["asteroids","NEOs","PHAs"],radius:.805,label:"Icarus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.805,.8,.585]},controllers:[{type:"dynamo",url:"1566_icarus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.2726}]},"16_psyche":{groups:["asteroids"],radius:125,label:"16 Psyche",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/16_psyche/psycheAsteroid.gltf",scale:[100,100,100],rotate:[{x:90}]},controllers:[{type:"dynamo",url:"16_psyche/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},"1620_geographos":{groups:["asteroids","NEOs","PHAs"],radius:2.5,label:"Geographos",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2.5,1,1.05]},controllers:[{type:"dynamo",url:"1620_geographos/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:5.224}]},"162173_ryugu":{groups:["asteroids","NEOs","PHAs"],radius:.45,label:"Ryugu",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/162173_ryugu/ryugu.gltf",rotate:[{x:-90}]},controllers:[{type:"dynamo",url:"ssd/162173_ryugu/sun/orb"},{type:"dynamo",url:"162173_ryugu/ori"}]},"1862_apollo":{groups:["asteroids","NEOs","PHAs"],radius:.75,label:"Apollo",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.75,.75,.75]},controllers:[{type:"dynamo",url:"1862_apollo/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.065}]},"1981_midas":{groups:["asteroids","NEOs","PHAs"],radius:.975,label:"Midas",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.975,.975,.975]},controllers:[{type:"dynamo",url:"1981_midas/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:5.22}]},"1991_vg":{groups:["asteroids","NEOs"],radius:.00425,label:"1991 VG",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.00425,.00425,.00425]},controllers:[{type:"dynamo",url:"1991_vg/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"1993_hd":{groups:["asteroids","asteroid belt"],radius:.005,label:"1993 HD",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"1993_hd/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"1994_cc_a":{groups:["asteroids","NEOs","PHAs"],radius:.325,label:"1994 CC",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.325,.325,.325]},controllers:[{type:"dynamo",url:"1994_cc_a/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.3886}]},"1996_xb27":{groups:["asteroids","NEOs"],radius:.042,label:"1996 XB<sub>27</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.042,.042,.042]},controllers:[{type:"dynamo",url:"1996_xb27/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:1.195}]},"1998_ky26":{groups:["asteroids","NEOs"],radius:.015,label:"1998 KY<sub>26</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.015,.015,.015]},controllers:[{type:"dynamo",url:"1998_ky26/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:.1784}]},"1998_ml14":{groups:["asteroids","NEOs","PHAs"],radius:.5,label:"1998 ML<sub>14</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.5,.5,.5]},controllers:[{type:"dynamo",url:"1998_ml14/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:14.28}]},"1998_qe2":{groups:["asteroids","NEOs","PHAs"],radius:1.375,label:"1998 QE<sub>2</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.375,1.375,1.375]},controllers:[{type:"dynamo",url:"1998_qe2/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:4.749}]},"1999_ao10":{groups:["asteroids","NEOs"],radius:.025,label:"1999 AO<sub>10</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.025,.025,.025]},controllers:[{type:"dynamo",url:"1999_ao10/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"1999_cg9":{groups:["asteroids","NEOs"],radius:.005,label:"1999 CG<sub>9</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"1999_cg9/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"1999_vx25":{groups:["asteroids","NEOs"],radius:.005,label:"1999 VX<sub>25</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"1999_vx25/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2_pallas":{groups:["asteroids","asteroid belt"],radius:291,label:"Pallas",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[291,278,250]},controllers:[{type:"dynamo",url:"2_pallas/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:7.8132}]},"2000_ae205":{groups:["asteroids","NEOs"],radius:.005,label:"2000 AE<sub>205</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2000_ae205/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2000_lg6":{groups:["asteroids","NEOs"],radius:.005,label:"2000 LG<sub>6</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2000_lg6/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2000_sg344":{groups:["asteroids","NEOs"],radius:.0185,label:"2000 SG<sub>344</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.0185,.0185,.0185]},controllers:[{type:"dynamo",url:"2000_sg344/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2001_bb16":{groups:["asteroids","NEOs"],radius:.005,label:"2001 BB<sub>16</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2001_bb16/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2001_fr85":{groups:["asteroids","NEOs"],radius:.005,label:"2001 FR<sub>85</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2001_fr85/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2001_gp2":{groups:["asteroids","NEOs"],radius:.005,label:"2001 GP<sub>2</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2001_gp2/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2001_qj142":{groups:["asteroids","NEOs"],radius:.005,label:"2001 QJ<sub>142</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2001_qj142/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2001_sn263_a":{groups:["asteroids","NEOs"],radius:1.45,label:"(153591) 2001 SN<sub>263</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.4,1.35,1.45]},controllers:[{type:"dynamo",url:"2001_sn263_a/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.423}]},"2003_sm84":{groups:["asteroids","NEOs"],radius:.005,label:"2003 SM<sub>84</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2003_sm84/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2003_uv11":{groups:["asteroids","NEOs"],radius:.13,label:"(503941) 2003 UV<sub>11</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.13,.13,.13]},controllers:[{type:"dynamo",url:"2003_uv11/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:18.25}]},"2003_yn107":{groups:["asteroids","NEOs"],radius:.01,label:"2003 YN<sub>107</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.01,.01,.01]},controllers:[{type:"dynamo",url:"2003_yn107/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2005_er95":{groups:["asteroids","NEOs"],radius:.005,label:"2003 ER<sub>95</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2005_er95/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2005_lc":{groups:["asteroids","NEOs"],radius:.005,label:"2005 LC",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2005_lc/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2005_qp87":{groups:["asteroids","NEOs"],radius:.005,label:"2005 QP<sub>87</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2005_qp87/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2005_yu55":{groups:["asteroids","NEOs"],radius:.18,label:"2005 YU<sub>55</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.18,.18,.18]},controllers:[{type:"dynamo",url:"2005_yu55/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:18}]},"2006_bz147":{groups:["asteroids","NEOs"],radius:.005,label:"2006 BZ<sub>147</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2006_bz147/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2006_jy26":{groups:["asteroids","NEOs"],radius:.00475,label:"2006 JY<sub>26</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.00475,.00475,.00475]},controllers:[{type:"dynamo",url:"2006_jy26/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2006_qq56":{groups:["asteroids","NEOs"],radius:.005,label:"2006 QQ<sub>56</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2006_qq56/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2006_rh120":{groups:["asteroids","NEOs"],radius:.00125,label:"2006 RH<sub>120</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.00125,.00125,.00125]},controllers:[{type:"dynamo",url:"2006_rh120/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:.04583}]},"2006_ub17":{groups:["asteroids","NEOs"],radius:.005,label:"2006 UB<sub>17</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2006_ub17/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2007_tf15":{groups:["asteroids","NEOs"],radius:.005,label:"2007 TF<sub>15</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2007_tf15/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2007_un12":{groups:["asteroids","NEOs"],radius:.005,label:"2007 UN<sub>12</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2007_un12/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2007_vu6":{groups:["asteroids","NEOs"],radius:.005,label:"2007 VU<sub>6</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2007_vu6/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_bt2":{groups:["asteroids","NEOs"],radius:.005,label:"2008 BT<sub>2</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_bt2/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_cx118":{groups:["asteroids","NEOs"],radius:.005,label:"2008 CX<sub>118</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_cx118/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_ea9":{groups:["asteroids","NEOs"],radius:.005,label:"2008 EA<sub>9</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_ea9/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_el":{groups:["asteroids","NEOs"],radius:.005,label:"2008 EL",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_el/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_hu4":{groups:["asteroids","NEOs"],radius:.005,label:"2008 HU<sub>4</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_hu4/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_jl24":{groups:["asteroids","NEOs"],radius:.005,label:"2008 JL<sub>24</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_jl24/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:.05385}]},"2008_kt":{groups:["asteroids","NEOs"],radius:.005,label:"2008 KT",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_kt/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_tc3":{groups:["asteroids","NEOs"],radius:.00205,label:"2008 TC<sub>3</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.00205,.00205,.00205]},controllers:[{type:"dynamo",url:"2008_tc3/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:.0269409}]},"2008_ts10":{groups:["asteroids","NEOs"],radius:.005,label:"2008 TS<sub>10</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2008_ts10/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2008_ua202":{groups:["asteroids","NEOs"],radius:.025,label:"2008 UA<sub>202</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.025,.025,.025]},controllers:[{type:"dynamo",url:"2008_ua202/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2009_bd":{groups:["asteroids","NEOs"],radius:.0055,label:"2009 BD",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.0055,.0055,.0055]},controllers:[{type:"dynamo",url:"2009_bd/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2009_os5":{groups:["asteroids","NEOs"],radius:.005,label:"2009 OS<sub>5</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2009_os5/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2009_rt1":{groups:["asteroids","NEOs"],radius:.005,label:"2009 RT<sub>1</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2009_rt1/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2009_yf":{groups:["asteroids","NEOs"],radius:.005,label:"2009 YF",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2009_yf/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_an61":{groups:["asteroids","NEOs"],radius:.005,label:"2010 AN<sub>61</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_an61/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_dj":{groups:["asteroids","NEOs"],radius:.005,label:"2010 DJ",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_dj/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_jw34":{groups:["asteroids","NEOs"],radius:.005,label:"2010 JW<sub>34</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_jw34/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_tg19":{groups:["asteroids","NEOs"],radius:.005,label:"2010 TG<sub>19</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_tg19/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_tn167":{groups:["asteroids","NEOs"],radius:.005,label:"2010 TN<sub>167</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_tn167/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2010_ub":{groups:["asteroids","NEOs"],radius:.005,label:"2010 UB",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.005,.005,.005]},controllers:[{type:"dynamo",url:"2010_ub/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2063_bacchus":{groups:["asteroids","NEOs"],radius:.555,label:"Bacchus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.555,.265,.25]},controllers:[{type:"dynamo",url:"2063_bacchus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:14.904}]},"21_lutetia":{groups:["asteroids","asteroid belt"],radius:60.5,label:"Lutetia",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[60.5,50.5,37.5]},controllers:[{type:"dynamo",url:"21_lutetia/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:8.1655}]},"2101_adonis":{groups:["asteroids","NEOs","PHAs"],radius:.2615,label:"Adonis",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.2615,.2615,.2615]},controllers:[{type:"dynamo",url:"2101_adonis/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"2102_tantalus":{groups:["asteroids","NEOs","PHAs"],radius:.8245,label:"Tantalus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.8245,.8245,.8245]},controllers:[{type:"dynamo",url:"2102_tantalus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.384}]},"2135_aristaeus":{groups:["asteroids","NEOs","PHAs"],radius:.5,label:"Aristaeus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.5,.5,.5]},controllers:[{type:"dynamo",url:"2135_aristaeus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"216_kleopatra":{groups:["asteroids","asteroid belt"],radius:138,label:"Kleopatra",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[138,47,39]},controllers:[{type:"dynamo",url:"216_kleopatra/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:5.385}]},"21900_orus":{groups:["asteroids"],radius:25.405,label:"Orus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:25.405},controllers:[{type:"dynamo",url:"21900_orus/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:13.45}]},"225088_2007_or10":{groups:["dwarf planets","TNOs"],radius:615,label:"2007 OR<sub>10</sub>",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[615,615,596.55]},controllers:[{type:"dynamo",url:"225088_2007_or10/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:22.4}]},"2340_hathor":{groups:["asteroids","NEOs","PHAs"],radius:.105,label:"Hathor",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.105,.105,.105]},controllers:[{type:"dynamo",url:"2340_hathor/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.35}]},"243_ida":{groups:["asteroids","asteroid belt"],radius:29.9,label:"Ida",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[18.6*1.3,25.4*1.3,77.74],rotate:[{y:90}]},controllers:[{type:"dynamo",url:"243_ida/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:4.634}]},"25143_itokawa":{groups:["asteroids","NEOs","PHAs"],radius:.165,label:"Itokawa",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/25143_itokawa/itokawa.gltf",rotate:[{x:90}]},controllers:[{type:"dynamo",url:"25143_itokawa/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12.132}]},"253_mathilde":{groups:["asteroids","asteroid belt"],radius:33,label:"Mathilde",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[33,24,23]},controllers:[{type:"dynamo",url:"253_mathilde/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:417.7}]},"2867_steins":{groups:["asteroids","asteroid belt"],radius:3.415,label:"teins",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3.415,2.85,2.21]},controllers:[{type:"dynamo",url:"2867_steins/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:6.049}]},"3_juno":{groups:["asteroids","asteroid belt"],radius:160,label:"Juno",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[160,133.5,100]},controllers:[{type:"dynamo",url:"3_juno/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:7.21}]},"3122_florence":{groups:["asteroids","NEOs","PHAs"],radius:2.2,label:"Florence",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2.2,2.2,2.2]},controllers:[{type:"dynamo",url:"3122_florence/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.3581}]},"3200_phaethon":{groups:["asteroids","NEOs","PHAs"],radius:2.9,label:"Phaethon",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2.9,2.9,2.9]},controllers:[{type:"dynamo",url:"3200_phaethon/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.604}]},"3362_khufu":{groups:["asteroids","NEOs","PHAs"],radius:.35,label:"Khufu",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.35,.35,.35]},controllers:[{type:"dynamo",url:"3362_khufu/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"3548_eurybates":{groups:["asteroids"],radius:31.9425,label:"Eurybates",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:31.9425},controllers:[{type:"dynamo",url:"3548_eurybates/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:8.711}]},"367943_duende":{groups:["asteroids","NEOs"],radius:.02,label:"Duende",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.01,.01,.02]},controllers:[{type:"dynamo",url:"367943_duende/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:9.485}]},"37655_illapa":{groups:["asteroids","NEOs","PHAs"],radius:.75,label:"Illapa",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.75,.75,.75]},controllers:[{type:"dynamo",url:"37655_illapa/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.6556}]},"4_vesta":{groups:["asteroids","asteroid belt"],radius:262.7,label:"Vesta",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/4_vesta/4_vesta.gltf",rotate:[{x:90}]},controllers:[{type:"dynamo",url:"4_vesta/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"4015_wilson-harrington":{groups:["asteroids","NEOs","PHAs"],radius:2,label:"Wilson-Harrington",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2]},controllers:[{type:"dynamo",url:"4015_wilson-harrington/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.5736}]},"4179_toutatis":{groups:["asteroids","NEOs","PHAs"],radius:2.13,label:"Toutatis",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.35,1.015,2.13]},controllers:[{type:"dynamo",url:"4179_toutatis/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:176}]},"4183_cuno":{groups:["asteroids","NEOs","PHAs"],radius:1.8255,label:"Cuno",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.8255,1.8255,1.89255]},controllers:[{type:"dynamo",url:"4183_cuno/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.5595}]},"433_eros":{groups:["asteroids","NEOs"],radius:8.42,label:"Eros",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/433_eros/433_eros.gltf"},controllers:[{type:"dynamo",url:"433_eros/sun/orb"},{type:"dynamo",url:"433_eros/ori"}]},"4450_pan":{groups:["asteroids","NEOs","PHAs"],radius:.5,label:"Pan",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.5,.5,.5]},controllers:[{type:"dynamo",url:"4450_pan/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:56.48}]},"4486_mithra":{groups:["asteroids","NEOs","PHAs"],radius:1.175,label:"Mithra",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.175,.825,.72]},controllers:[{type:"dynamo",url:"4486_mithra/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:67.5}]},"4769_castalia":{groups:["asteroids","NEOs","PHAs"],radius:.9,label:"Castalia",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.4,.4,.9]},controllers:[{type:"dynamo",url:"4769_castalia/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:4.095}]},"486958_arrokoth":{groups:["TNOs"],radius:15,label:"Arrokoth",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/486958_arrokoth/mu69.gltf",scale:[1,1,1],rotate:[{x:-110},{y:180}]},controllers:[{type:"dynamo",url:"486958_arrokoth/sun/orb"},{type:"fixed",orientation:Lh.Identity},{type:"spin",axis:new Vh(-6.121453676996425e-10,.9396926211599973,.34202014229786787),periodInHours:13}],postCreateFunction:t=>{const e=t.getControllerByClass(mp);null!==e&&(e.setReferenceAngle(0),e.setReferenceTime(599590968))}},"5011_ptah":{groups:["asteroids","NEOs","PHAs"],radius:.78,label:"Ptah",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.78,.78,.78]},controllers:[{type:"dynamo",url:"5011_ptah/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:12}]},"52246_donaldjohanson":{groups:["asteroids"],radius:1.9475,label:"Donaldjohanson",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:1.9475},controllers:[{type:"dynamo",url:"52246_donaldjohanson/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},"5535_annefrank":{groups:["asteroids"],radius:2.412,label:"Annefrank",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:2.412},controllers:[{type:"dynamo",url:"5535_annefrank/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:15.12}]},"617_patroclus":{groups:["asteroids","617_patroclus_barycenter"],radius:64,label:"Patroclus",labelFadeEntity:"sun",parents:[[Number.NEGATIVE_INFINITY,"617_patroclus_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[64,58,49],shadowEntities:["menoetius"]},controllers:[{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"menoetius"}}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByClass(Td)),i=new Nh;i.epoch=0,i.eccentricity=0,i.semiMajorAxis=664,i.meanAngularMotion=1697791e-11,i.meanAnomalyAtEpoch=Math.PI,i.setOrbitOrientationFromElements(1.97244894756,0,0),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},"617_patroclus_barycenter":{groups:["asteroids"],radius:664,label:"Patroclus",labelFadeEntity:"617_patroclus",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},controllers:[{type:"dynamo",url:"617_patroclus/sun/orb"},{type:"fixed",orientation:Lh.Identity}],postCreateFunction:t=>{t.setCanOcclude(!1)}},"6239_minos":{groups:["asteroids","NEOs","PHAs"],radius:.237,label:"Minos",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.237,.237,.237]},controllers:[{type:"dynamo",url:"6239_minos/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:3.5558}]},"6489_golevka":{groups:["asteroids","NEOs","PHAs"],radius:.265,label:"Golevka",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.265,.265,.265]},controllers:[{type:"dynamo",url:"6489_golevka/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:6.026}]},"65803_didymos":{groups:["asteroids","NEOs","PHAs"],radius:.39,label:"Didymos",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/65803_didymos/Didymos.gltf",rotate:[{z:180},{x:-90}]},controllers:[{type:"dynamo",url:"65803_didymos/sun/orb"},{type:"fixed",orientation:new Lh(0,1,0,0)},{type:"spin",axis:Vh.ZAxis,periodInHours:2.2593,relativeToTime:0}]},"66391_moshup":{groups:["asteroids","NEOs","PHAs"],radius:.766,label:"Moshup",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.766,.7475,.6735]},controllers:[{type:"dynamo",url:"66391_moshup/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:2.7645}]},"69230_hermes":{groups:["asteroids","NEOs","PHAs"],radius:.425,label:"Hermes",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[.425,.425,.425]},controllers:[{type:"dynamo",url:"69230_hermes/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:13.894}]},"90377_sedna":{groups:["dwarf planets","TNOs"],radius:497.5,label:"Sedna",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[497.5,497.5,497.5]},controllers:[{type:"dynamo",url:"90377_sedna/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:10.273}]},"951_gaspra":{groups:["asteroids","asteroid belt"],radius:9.1,label:"Gaspra",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/951_gaspra/gaspra.gltf"},controllers:[{type:"dynamo",url:"951_gaspra/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:7.042}]},"9969_braille":{groups:["asteroids","asteroid belt"],radius:1.05,label:"Braille",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.05,.5,.5]},controllers:[{type:"dynamo",url:"9969_braille/sun/orb"},{type:"spin",axis:Vh.ZAxis,periodInHours:226.4}]},"99942_apophis":{groups:["asteroids","NEOs","PHAs"],radius:.225,label:"Apophis",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/99942_apophis/apophis.gltf"},controllers:[{type:"dynamo",url:"99942_apophis/sun/orb"},{type:"spin",axis:new Vh(.20112425201023415,.46925803805904115,.8598522715968735),periodInHours:30.4}]},"152830_dinkinesh":{groups:["asteroids"],radius:.45,label:"Dinkinesh",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:.45},controllers:[{type:"dynamo",url:"152830_dinkinesh/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},charon:{groups:["134340_pluto","moons","134340_pluto_barycenter"],radius:603.5,label:"Charon",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},spheroid:{equatorialRadius:603.5,polarRadius:603.5,planetographic:!1},spheroidLOD:{textures:{color:{url:"charon/color_$SIZE_$FACE.png",sizes:[4,512,2048]}}},controllers:[{type:"dynamo",url:"charon/134340_pluto_barycenter/orb"},{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"134340_pluto"},secondary:{type:"velocity",axis:Vh.YAxis,target:"134340_pluto"}}]},dactyl:{groups:["243_ida","moons"],radius:.7,label:"Dactyl",parents:[[Number.NEGATIVE_INFINITY,"243_ida"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[.8,.7,.6],rotate:[{z:90}]},controllers:[{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"243_ida"}}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByClass(Td)),i=new Nh;i.epoch=0,i.eccentricity=0,i.semiMajorAxis=90,i.meanAngularMotion=8726646e-11,i.meanAnomalyAtEpoch=0,i.orbitOrientation.set(.8728453580255966,.1876084386162498,-.08948587100888229,.4415159494547423),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},dimorphos:{groups:["65803_didymos","moons"],radius:.085,label:"Dimorphos",parents:[[Number.NEGATIVE_INFINITY,"65803_didymos"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/dimorphos/Dimorphos.gltf"},controllers:[{type:"dynamo",url:"dimorphos/65803_didymos/orb"},{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"65803_didymos"},secondary:{type:"align",axis:Vh.ZAxis,target:"65803_didymos",targetAxis:Vh.ZAxis}}]},hiiaka:{groups:["136108_haumea","moons"],radius:160,label:"Hi'iaka",parents:[[Number.NEGATIVE_INFINITY,"136108_haumea"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[160,160,160]},controllers:[{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"136108_haumea"}}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByType("align")),i=new Nh;i.epoch=0,i.eccentricity=.0513,i.semiMajorAxis=49880,i.meanAngularMotion=148049e-11,i.meanAnomalyAtEpoch=0,i.setOrbitOrientationFromElements(2.20532822965,0,0),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},hydra:{groups:["134340_pluto","moons","134340_pluto_barycenter"],radius:25,label:"Hydra",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[25,25,25],shadowEntities:["134340_pluto"]},controllers:[{type:"dynamo",url:"hydra/134340_pluto_barycenter/orb"},{type:"fixed",orientation:Lh.Identity}]},kerberos:{groups:["134340_pluto","moons","134340_pluto_barycenter"],radius:8.25,label:"Kerberos",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[8.25,8.25,8.25],shadowEntities:["134340_pluto"]},controllers:[{type:"dynamo",url:"kerberos/134340_pluto_barycenter/orb"},{type:"fixed",orientation:Lh.Identity}]},menoetius:{groups:["617_patroclus_barycenter","moons"],radius:58,label:"Menoetius",parents:[[Number.NEGATIVE_INFINITY,"617_patroclus_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[58,54,45],shadowEntities:["617_patroclus"]},controllers:[{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"617_patroclus"}}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByType("align")),i=new Nh;i.epoch=0,i.eccentricity=0,i.semiMajorAxis=664,i.meanAngularMotion=1697791e-11,i.meanAnomalyAtEpoch=0,i.setOrbitOrientationFromElements(1.97244894756,0,0),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},namaka:{groups:["136108_haumea","moons"],radius:85,label:"Nmaka",parents:[[Number.NEGATIVE_INFINITY,"136108_haumea"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[85,85,85]},controllers:[{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"136108_haumea"}}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByType("align")),i=new Nh;i.epoch=0,i.eccentricity=.249,i.semiMajorAxis=25657,i.meanAngularMotion=39786e-10,i.meanAnomalyAtEpoch=0,i.setOrbitOrientationFromElements(1.97244894756,0,0),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},nix:{groups:["134340_pluto","moons","134340_pluto_barycenter"],radius:24,label:"Nix",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[24,24,24],shadowEntities:["134340_pluto"]},controllers:[{type:"dynamo",url:"nix/134340_pluto_barycenter/orb"},{type:"fixed",orientation:Lh.Identity}]},styx:{groups:["134340_pluto","moons","134340_pluto_barycenter"],radius:5.5,label:"Styx",parents:[[Number.NEGATIVE_INFINITY,"134340_pluto_barycenter"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[5.5,5.5,5.5],shadowEntities:["134340_pluto"]},controllers:[{type:"dynamo",url:"styx/134340_pluto_barycenter/orb"},{type:"fixed",orientation:Lh.Identity}]}});class O_{static addGeyser(t,e,i,s,n,a,r,o){const l=t.addComponentByClass(cd);l.setNumberOfParticles(s),l.setSizeOfParticles(.25*e*a),l.setSpeedOfParticles(n*e),l.setColorOfParticles(new vh(1,1,1,.5*i)),l.setSpread(1*a),l.setParticleSpacingRandom(!1),l.setLength(2.5*e),l.setOriginOffset(new Vh(r[0],r[1],r[2])),l.setDirection(new Vh(o[0],o[1],o[2]))}static showSubObjectDuringInterval(t,e,i,s){t.getComponentByClass(ld).setHiddenObject(e,!0);const n=t.addControllerByClass(Fd);n.setCoverage(new Ih(i,s)),n.setEnterFunction((t=>{t.getComponentByClass(ld).setHiddenObject(e,!1)})),n.setExitFunction((t=>{t.getComponentByClass(ld).setHiddenObject(e,!0)}))}}xp.register({"1i_oumuamua":{groups:["comets"],occlusionRadius:.03,extentsRadius:.225,label:"Oumuamua",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/1i_oumuamua/oumuamua.gltf"},comet:{},controllers:[{type:"dynamo",url:"1i_oumuamua/sun/orb"},{type:"spin",axis:new Vh(.57735026919,.57735026919,.57735026919),periodInHours:8.1}]},"1p_halley":{groups:["comets"],radius:6,label:"Halley (1P/Halley)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[6,6,6]},comet:{},controllers:[{type:"dynamo",url:"1p_halley/sun/orb"},{type:"spin",periodInHours:52,axis:Vh.ZAxis,axisInFrameSpace:!1}]},"103p_hartley_2":{groups:["comets"],radius:2,label:"Hartley 2 (103P/Hartley)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/103p_hartley_2/hartley_2.gltf"},comet:{},controllers:[{type:"dynamo",url:"103p_hartley_2/sun/orb"},{type:"dynamo",url:"103p_hartley_2/ori"}]},"9p_tempel_1":{groups:["comets"],radius:5,label:"Tempel 1 (9P/Tempel)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/9p_tempel_1/9p_tempel.gltf",rotate:[{y:90}]},comet:{},controllers:[{type:"dynamo",url:"9p_tempel_1/sun/orb"},{type:"dynamo",url:"9p_tempel_1/ori"}]},"81p_wild_2":{groups:["comets"],radius:2.5,label:"Wild 2 (81P/Wild)",parents:[[Number.NEGATIVE_INFINITY,"sun"],[-800047271,"jupiter"],[-797029475,"sun"]],trail:{length:void 0,lengthCoverages:[[1356976800,Number.NEGATIVE_INFINITY,-611927948.817],[189345600,-611927948.817,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2.5,2.5,2.5]},comet:{},controllers:[{type:"dynamo",url:"81p_wild_2/sun/1/orb"},{type:"dynamo",url:"81p_wild_2/jupiter/orb"},{type:"dynamo",url:"81p_wild_2/sun/2/orb"},{type:"fixed",orientation:Lh.Identity}]},"67p_churyumov_gerasimenko":{groups:["comets"],radius:4.1,label:"ChuryumovGerasimenko (67P/C-G)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/67p_churyumov_gerasimenko/67p_churyumov_gerasimenko.gltf",rotate:[{x:90}],scale:.00124},comet:{},controllers:[{type:"dynamo",url:"67p_churyumov_gerasimenko/sun/orb"},{type:"spin",axis:new Vh(.15191127889562422,.404099951782066,.9020123016422935),axisInFrameSpace:!1,periodInHours:12.0550932412},{type:"dynamo",url:"67p_churyumov_gerasimenko/ori"}],postCreateFunction:t=>{t.setOrientation(new Lh(.26732846830704055,.017948528101847026,.22012096235022358,.9379552773483394)),O_.addGeyser(t,1,1,100,1,1,[1,-.25,1.2],[0,0,1]),O_.addGeyser(t,2,.5,100,1,1,[-1.2,-.25,.6],[.2,-.5,1]),O_.addGeyser(t,1,.07,100,1,10,[-1.2,.1,.6],[.2,-.5,1]),O_.addGeyser(t,1,1,100,1,1,[-.8,.75,1],[.2,.5,1]),O_.addGeyser(t,1,.5,100,1,1,[-.8,.35,-1],[.2,.25,-1])}},"19p_borrelly":{groups:["comets"],radius:2.4,label:"Borrelly (19P/Borrelly)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/19p_borrelly/borrelly.gltf"},comet:{},controllers:[{type:"dynamo",url:"19p_borrelly/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},c_1995_o1:{groups:["comets"],radius:5,label:"Hale-Bopp (C/1995 O1)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[5,5,5]},comet:{},controllers:[{type:"dynamo",url:"c_1995_o1/sun/orb"},{type:"spin",axis:Vh.ZAxis,axisInFrameSpace:!1,periodInHours:11.766666666}]},c_2010_x1:{groups:["comets"],radius:5,label:"Elenin (C/2010 X1)",parents:[[Number.NEGATIVE_INFINITY,"sun"],[370699266.182,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[5,5,5]},comet:{},controllers:[{type:"dynamo",url:"c_2010_x1/sun/pos"},{type:"fixed",orientation:Lh.Identity}]},c_2012_s1:{groups:["comets"],radius:3,label:"ISON (C/2012 S1)",parents:[[Number.NEGATIVE_INFINITY,"sun"],[440596867.184,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3]},comet:{},controllers:[{type:"dynamo",url:"c_2012_s1/sun/pos"},{type:"fixed",orientation:Lh.Identity}]},c_2013_a1:{groups:["comets"],radius:5,label:"Siding Spring (C/2013 A1)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[5,5,5]},comet:{},controllers:[{type:"dynamo",url:"c_2013_a1/sun/pos"},{type:"spin",axis:Vh.ZAxis,axisInFrameSpace:!1,periodInHours:8}]},c_2019_y4:{groups:["comets"],radius:3,label:"ATLAS (C/2019 Y4)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3]},comet:{},controllers:[{type:"dynamo",url:"c_2019_y4/sun/orb"},{type:"fixed",orientation:Lh.Identity}]},c_2020_f3:{groups:["comets"],radius:6,label:"NEOWISE (C/2020 F3)",parents:[[Number.NEGATIVE_INFINITY,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[6,6,6]},comet:{},controllers:[{type:"dynamo",url:"c_2020_f3/sun/orb"},{type:"spin",axis:Vh.ZAxis,axisInFrameSpace:!1,periodInHours:7.58}]}}),xp.register({moon:{groups:["earth","moons"],radius:1737.4,label:"Moon",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0,color:[0,.6,.8,.7]},spheroid:{equatorialRadius:1737.4,polarRadius:1737.4,planetographic:!0},spheroidLOD:{features:["normalMap","shadowEntities"],textures:{color:{url:"moon/color_$SIZE_$FACE.png",sizes:[16,512,4096]},normal:{url:"moon/normal_$SIZE_$FACE.png",sizes:[16,512,2048]}},shadowEntities:["earth"]},controllers:[{type:"dynamo",url:"moon/earth/orb"},{type:"dynamo",url:"moon/ori"}]}}),xp.register({adrastea:{groups:["jupiter","moons","amalthea","inner","regular"],radius:8.2,label:"Adrastea",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[8.2,8.2,8.2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"adrastea/jupiter/orb"},{type:"dynamo",url:"adrastea/ori"}]},amalthea:{groups:["jupiter","moons","amalthea","inner","regular"],radius:83.5,label:"Amalthea",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[83.5,83.5,83.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"amalthea/jupiter/orb"},{type:"dynamo",url:"amalthea/ori"}]},callisto:{groups:["jupiter","moons","main","galilean","regular"],radius:2410.3,label:"Callisto",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},spheroid:{equatorialRadius:2410.3,polarRadius:2410.3,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"callisto/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["jupiter","io","europa","ganymede"]},controllers:[{type:"dynamo",url:"callisto/jupiter/orb"},{type:"dynamo",url:"callisto/ori"}]},europa:{groups:["jupiter","moons","main","galilean","regular"],radius:1569,label:"Europa",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},spheroid:{equatorialRadius:1569,polarRadius:1569,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"europa/color_$SIZE_$FACE.png",sizes:[4,512,1024]}},shadowEntities:["jupiter","io","callisto","ganymede"]},controllers:[{type:"dynamo",url:"europa/jupiter/orb"},{type:"dynamo",url:"europa/ori"}]},ganymede:{groups:["jupiter","moons","main","galilean","regular"],radius:2634.1,label:"Ganymede",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},spheroid:{equatorialRadius:2634.1,polarRadius:2634.1,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"ganymede/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["jupiter","io","europa","callisto"]},controllers:[{type:"dynamo",url:"ganymede/jupiter/orb"},{type:"dynamo",url:"ganymede/ori"}]},io:{groups:["jupiter","moons","main","galilean","regular"],radius:1821.3,label:"Io",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},spheroid:{equatorialRadius:1821.3,polarRadius:1821.3,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"io/color_$SIZE_$FACE.png",sizes:[4,512,1024]}},shadowEntities:["jupiter","europa","ganymede","callisto"]},controllers:[{type:"dynamo",url:"io/jupiter/orb"},{type:"dynamo",url:"io/ori"}]},metis:{groups:["jupiter","moons","amalthea","inner","regular"],radius:21.5,label:"Metis",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[21.5,21.5,21.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"metis/jupiter/orb"},{type:"dynamo",url:"metis/ori"}]},thebe:{groups:["jupiter","moons","amalthea","inner","regular"],radius:49,label:"Thebe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[49,49,49],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"thebe/jupiter/orb"},{type:"dynamo",url:"thebe/ori"}]}}),xp.register({aitne:{groups:["jupiter","moons","irregular","carme"],radius:1.5,label:"Aitne",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"aitne/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},ananke:{groups:["jupiter","moons","irregular","ananke"],radius:14,label:"Ananke",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[14,14,14],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"ananke/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},aoede:{groups:["jupiter","moons","irregular","pasiphae"],radius:2,label:"Aoede",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"aoede/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},arche:{groups:["jupiter","moons","irregular","carme"],radius:1.5,label:"Arche",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"arche/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},autonoe:{groups:["jupiter","moons","irregular","pasiphae"],radius:2,label:"Autonoe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"autonoe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},callirrhoe:{groups:["jupiter","moons","irregular","pasiphae"],radius:4.3,label:"Callirrhoe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[4.3,4.3,4.3],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"callirrhoe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},carme:{groups:["jupiter","moons","irregular","carme"],radius:23,label:"Carme",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[23,23,23],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"carme/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},carpo:{groups:["jupiter","moons","irregular"],radius:1.5,label:"Carpo",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"carpo/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},chaldene:{groups:["jupiter","moons","irregular","carme"],radius:1.9,label:"Chaldene",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.9,1.9,1.9],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"chaldene/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},cyllene:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Cyllene",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"cyllene/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},dia:{groups:["jupiter","moons","irregular","himalia"],radius:2,label:"Dia",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:2,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"dia/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},eirene:{groups:["jupiter","moons","irregular","carme"],radius:2,label:"Eirene",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:2,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"eirene/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},elara:{groups:["jupiter","moons","irregular","himalia"],radius:43,label:"Elara",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[43,43,43],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"elara/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},erinome:{groups:["jupiter","moons","irregular","carme"],radius:1.6,label:"Erinome",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.6,1.6,1.6],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"erinome/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},ersa:{groups:["jupiter","moons","irregular","himalia"],radius:1.5,label:"Ersa",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:1.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"ersa/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},euanthe:{groups:["jupiter","moons","irregular","ananke"],radius:1.5,label:"Euanthe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"euanthe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},eukelade:{groups:["jupiter","moons","irregular","carme"],radius:2,label:"Eukelade",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"eukelade/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},eupheme:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Eupheme",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"eupheme/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},euporie:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Euporie",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"euporie/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},eurydome:{groups:["jupiter","moons","irregular","pasiphae"],radius:1.5,label:"Eurydome",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"eurydome/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},harpalyke:{groups:["jupiter","moons","irregular","ananke"],radius:2.2,label:"Harpalyke",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2.2,2.2,2.2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"harpalyke/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},hegemone:{groups:["jupiter","moons","irregular","pasiphae"],radius:1.5,label:"Hegemone",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"hegemone/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},helike:{groups:["jupiter","moons","irregular","ananke"],radius:2,label:"Helike",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"helike/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},hermippe:{groups:["jupiter","moons","irregular","ananke"],radius:2,label:"Hermippe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"hermippe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},herse:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Herse",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"herse/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},himalia:{groups:["jupiter","moons","irregular","himalia"],radius:85,label:"Himalia",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[85,85,85],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"himalia/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},iocaste:{groups:["jupiter","moons","irregular","ananke"],radius:2.6,label:"Iocaste",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2.6,2.6,2.6],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"iocaste/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},isonoe:{groups:["jupiter","moons","irregular","carme"],radius:1.9,label:"Isonoe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.9,1.9,1.9],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"isonoe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_li:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Jupiter LI",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_li/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lii:{groups:["jupiter","moons","irregular","ananke"],radius:.5,label:"Jupiter LII",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lii/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_liv:{groups:["jupiter","moons","irregular","ananke"],radius:.5,label:"Jupiter LIV",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_liv/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lv:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Jupiter LV",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lv/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lvi:{groups:["jupiter","moons","irregular","pasiphae"],radius:.5,label:"Jupiter LVI",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lvi/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lix:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Jupiter LIX",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lix/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxi:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Jupiter LXI",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxi/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxiii:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Jupiter LXIII",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxiii/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxiv:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Jupiter LXIV",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxiv/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxvi:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Jupiter LXVI",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxvi/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxvii:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Jupiter LXVII",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxvii/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxviii:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Jupiter LXVIII",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxviii/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxix:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"Jupiter LXIX",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxix/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxx:{groups:["jupiter","moons","irregular","ananke"],radius:1.5,label:"Jupiter LXX",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxx/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},jupiter_lxxii:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Jupiter LXXII",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"jupiter_lxxii/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},kale:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Kale",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"kale/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},kallichore:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Kallichore",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"kallichore/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},kalyke:{groups:["jupiter","moons","irregular","carme"],radius:2.6,label:"Kalyke",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2.6,2.6,2.6],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"kalyke/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},kore:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Kore",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"kore/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},leda:{groups:["jupiter","moons","irregular","himalia"],radius:10,label:"Leda",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[10,10,10],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"leda/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},lysithea:{groups:["jupiter","moons","irregular","himalia"],radius:18,label:"Lysithea",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[18,18,18],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"lysithea/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},megaclite:{groups:["jupiter","moons","irregular","pasiphae"],radius:2.7,label:"Megaclite",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2.7,2.7,2.7],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"megaclite/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},mneme:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Mneme",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"mneme/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},orthosie:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Orthosie",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"orthosie/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},pandia:{groups:["jupiter","moons","irregular","himalia"],radius:1.5,label:"Pandia",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:1.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"pandia/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},pasiphae:{groups:["jupiter","moons","irregular","pasiphae"],radius:30,label:"Pasiphae",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[30,30,30],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"pasiphae/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},pasithee:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"Pasithee",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"pasithee/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},philophrosyne:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Philophrosyne",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"philophrosyne/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},praxidike:{groups:["jupiter","moons","irregular","ananke"],radius:3.4,label:"Praxidike",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[3.4,3.4,3.4],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"praxidike/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_2:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"S/2003 J 2",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_2/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_4:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"S/2003 J 4",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_4/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_9:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2003 J 9",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_9/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_10:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"S/2003 J 10",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_10/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_12:{groups:["jupiter","moons","irregular","ananke"],radius:.5,label:"S/2003 J 12",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_12/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_16:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"S/2003 J 16",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_16/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_23:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"S/2003 J 23",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_23/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2003_j_24:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"S/2003 J 24",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2003_j_24/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2011_j_3:{groups:["jupiter","moons","irregular","himalia"],radius:1.5,label:"S/2011 J 3",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2011_j_3/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2016_j_3:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"S/2016 J 3",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2016_j_3/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2016_j_4:{groups:["jupiter","moons","irregular","pasiphae"],radius:.5,label:"S/2016 J 4",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2016_j_4/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2018_j_2:{groups:["jupiter","moons","irregular","himalia"],radius:1.5,label:"S/2018 J 2",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2018_j_2/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2018_j_3:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2018 J 3",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2018_j_3/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2018_j_4:{groups:["jupiter","moons","irregular","carpo"],radius:1,label:"S/2018 J 4",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2018_j_4/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_1:{groups:["jupiter","moons","irregular","ananke"],radius:.5,label:"S/2021 J 1",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_1/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_2:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"S/2021 J 2",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_2/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_3:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"S/2021 J 3",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_3/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_4:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2021 J 4",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_4/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_5:{groups:["jupiter","moons","irregular","carme"],radius:1,label:"S/2021 J 5",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_5/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2021_j_6:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2021 J 6",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2021_j_6/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2022_j_1:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2022 J 1",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2022_j_1/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2022_j_2:{groups:["jupiter","moons","irregular","carme"],radius:.5,label:"S/2022 J 2",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2022_j_2/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2022_j_3:{groups:["jupiter","moons","irregular","ananke"],radius:.5,label:"S/2022 J 3",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"s_2022_j_3/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},sinope:{groups:["jupiter","moons","irregular","pasiphae"],radius:19,label:"Sinope",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[19,19,19],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"sinope/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},sponde:{groups:["jupiter","moons","irregular","pasiphae"],radius:1,label:"Sponde",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"sponde/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},taygete:{groups:["jupiter","moons","irregular","carme"],radius:2.5,label:"Taygete",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2.5,2.5,2.5],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"taygete/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},thelxinoe:{groups:["jupiter","moons","irregular","ananke"],radius:1,label:"Thelxinoe",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1,1,1],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"thelxinoe/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},themisto:{groups:["jupiter","moons","irregular"],radius:4,label:"Themisto",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[4,4,4],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"themisto/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},thyone:{groups:["jupiter","moons","irregular","ananke"],radius:2,label:"Thyone",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"thyone/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]},valetudo:{groups:["jupiter","moons","irregular"],radius:.5,label:"Valetudo",parents:[[Number.NEGATIVE_INFINITY,"jupiter"]],trail:{length:void 0,color:[.95,.71,.64,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.5,shadowEntities:["jupiter"]},controllers:[{type:"dynamo",url:"valetudo/jupiter/orb"},{type:"fixed",orientation:Lh.Identity}]}}),xp.register({phobos:{groups:["mars","moons"],radius:14,label:"Phobos",parents:[[Number.NEGATIVE_INFINITY,"mars"]],trail:{length:void 0,color:[.89,.51,.35,.7]},model:{url:"$STATIC_ASSETS_URL/models/phobos/phobos.gltf",scale:[1,1,1],rotate:[{z:90},{y:90}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"phobos/mars/orb"},{type:"dynamo",url:"phobos/ori"}]},deimos:{groups:["mars","moons"],radius:8.70951,label:"Deimos",parents:[[Number.NEGATIVE_INFINITY,"mars"]],trail:{length:void 0,color:[.89,.51,.35,.7]},model:{url:"$STATIC_ASSETS_URL/models/deimos/deimos.gltf",scale:[1,1,1],rotate:[{y:-180}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"deimos/mars/orb"},{type:"dynamo",url:"deimos/ori"}]}}),xp.register({despina:{groups:["neptune","moons","regular"],radius:90,label:"Despina",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[90,90,90],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"despina/neptune/orb"},{type:"dynamo",url:"despina/ori"}]},galatea:{groups:["neptune","moons","regular"],radius:102,label:"Galatea",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[102,102,102],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"galatea/neptune/orb"},{type:"dynamo",url:"galatea/ori"}]},halimede:{groups:["neptune","moons","irregular"],radius:31,label:"Halimede",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[31,31,31],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"halimede/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},hippocamp:{groups:["neptune","moons","regular"],radius:17.4,label:"Hippocamp",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[17.4,17.4,17.4],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"hippocamp/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},laomedeia:{groups:["neptune","moons","irregular"],radius:21,label:"Laomedeia",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[21,21,21],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"laomedeia/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},larissa:{groups:["neptune","moons","regular"],radius:108,label:"Larissa",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[108,108,108],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"larissa/neptune/orb"},{type:"dynamo",url:"larissa/ori"}]},naiad:{groups:["neptune","moons","regular"],radius:48,label:"Naiad",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[48,48,48],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"naiad/neptune/orb"},{type:"dynamo",url:"naiad/ori"}]},nereid:{groups:["neptune","moons","irregular"],radius:170,label:"Nereid",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[170,170,170],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"nereid/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},neso:{groups:["neptune","moons","irregular"],radius:30,label:"Neso",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[30,30,30],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"neso/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},proteus:{groups:["neptune","moons","regular"],radius:232.5,label:"Proteus",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/proteus/proteus.gltf",scale:[1,1,1]},controllers:[{type:"dynamo",url:"proteus/neptune/orb"},{type:"dynamo",url:"proteus/ori"}]},psamathe:{groups:["neptune","moons","irregular"],radius:20,label:"Psamathe",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[20,20,20],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"psamathe/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},sao:{groups:["neptune","moons","irregular"],radius:22,label:"Sao",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[22,22,22],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"sao/neptune/orb"},{type:"fixed",orientation:Lh.Identity}]},thalassa:{groups:["neptune","moons","regular"],radius:54,label:"Thalassa",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[54,54,54],shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"thalassa/neptune/orb"},{type:"dynamo",url:"thalassa/ori"}]},triton:{groups:["neptune","moons","irregular"],radius:1353.4,label:"Triton",parents:[[Number.NEGATIVE_INFINITY,"neptune"]],trail:{length:void 0,color:[.48,.69,1,.7]},spheroid:{equatorialRadius:1353.4,polarRadius:1353.4,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"triton/color_$SIZE_$FACE.jpg",sizes:[16,512,4096]}},shadowEntities:["neptune"]},controllers:[{type:"dynamo",url:"triton/neptune/orb"},{type:"dynamo",url:"triton/ori"}]}}),xp.register({dione:{groups:["saturn","moons","inner","major"],radius:561.7,label:"Dione",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:561.7,polarRadius:561.7,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"dione/color_$SIZE_$FACE.png",sizes:[4,512,2048]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"dione/saturn/orb"},{type:"dynamo",url:"dione/ori"}]},enceladus:{groups:["saturn","moons","inner","major"],radius:252.1,label:"Enceladus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:252.1,polarRadius:252.1,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"enceladus/color_$SIZE_$FACE.png",sizes:[4,512,2048]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"enceladus/saturn/orb"},{type:"dynamo",url:"enceladus/ori"}],postCreateFunction:t=>{O_.addGeyser(t,100,.1,20,.002,4,[-20.16,.8*-69.23,.8*-240.99],[-.0999,-.2747,-.9563]),O_.addGeyser(t,100,.1,20,.002,4,[-49.384,.8*-24.61,.8*-243.08],[-.2449,-.0976,-.9646]),O_.addGeyser(t,100,.1,20,.002,4,[.8*-35.82,-37.496,-196],[-.1421,-.1859,-.9722]),O_.addGeyser(t,100,.1,20,.002,4,[21.259,.7*-17.54,-174.685],[.1205,-.0696,-.9902]),O_.addGeyser(t,100,.1,20,.002,4,[0,1.54,-176.393],[0,.0087,-.9999]),O_.addGeyser(t,100,.1,20,.002,4,[-21.658,21.658,-173.719],[-.1227,.1227,-.9848]),O_.addGeyser(t,100,.1,20,.002,4,[32.193,.7*-34.55,.7*-245.35],[.1824,-.1371,-.9736]),O_.addGeyser(t,100,.1,20,.002,4,[-46.719,.68*.9,-221.931],[-.2059,.0026,-.9785]),O_.addGeyser(t,100,.1,20,.002,4,[.9*-31.81,-12.024,-224.667],[-.1262,-.053,-.9905]),O_.addGeyser(t,100,.1,20,.002,4,[.9*-5.49,-26.793,-225.162],[-.0217,-.1181,-.9927]),O_.addGeyser(t,100,.1,20,.002,4,[14.886,-42.39,-222.309],[.0656,-.1869,-.9801]),O_.addGeyser(t,100,.1,20,.002,4,[-13.176,48.112,-195.328],[-.0653,.2386,-.9689]),O_.addGeyser(t,100,.1,20,.002,4,[51.52*.8,19.176,.8*-245.51],[.2044,.0951,-.9742]),O_.addGeyser(t,100,.1,20,.002,4,[22.504,33.52*.8,-198.536],[.1116,.133,-.9848])}},hyperion:{groups:["saturn","moons","outer","major"],radius:135,label:"Hyperion",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/hyperion/hyperion.gltf",scale:[1,1,1]},controllers:[{type:"dynamo",url:"hyperion/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},iapetus:{groups:["saturn","moons","outer","major"],radius:735.6,label:"Iapetus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:735.6,polarRadius:735.6,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"iapetus/color_$SIZE_$FACE.png",sizes:[4,512,2048]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"iapetus/saturn/orb"},{type:"dynamo",url:"iapetus/ori"}]},mimas:{groups:["saturn","moons","inner","major"],radius:198.3,label:"Mimas",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/mimas/mimas.gltf",scale:[1,1,1]},controllers:[{type:"dynamo",url:"mimas/saturn/orb"},{type:"dynamo",url:"mimas/ori"}]},rhea:{groups:["saturn","moons","outer","major"],radius:764.3,label:"Rhea",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:764.3,polarRadius:764.3,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"rhea/color_$SIZE_$FACE.png",sizes:[4,512,2048]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"rhea/saturn/orb"},{type:"dynamo",url:"rhea/ori"}]},tethys:{groups:["saturn","moons","inner","major"],radius:538.4,label:"Tethys",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:538.4,polarRadius:527.5,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"tethys/color_$SIZE_$FACE.png",sizes:[4,512,2048]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"tethys/saturn/orb"},{type:"dynamo",url:"tethys/ori"}]},titan:{groups:["saturn","moons","outer","major"],radius:2575,label:"Titan",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},spheroid:{equatorialRadius:2575,polarRadius:2575,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"titan/color_$SIZE_$FACE.png",sizes:[4,512,1024]}},shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"titan/saturn/orb"},{type:"dynamo",url:"titan/ori"}],postCreateFunction:t=>{const e=t.addComponentByClass($u);e.setScaleHeight(75),e.setDensity(5e-4),e.setColor(new vh(179/255,145/255,53/255)),e.setSunsetColor(new vh(0,71/255,.8)),e.setSunsetIntensity(.5)}}}),xp.register({aegaeon:{groups:["saturn","moons","minor","ring moonlet"],radius:.12,label:"Aegaeon",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.12,.12,.12],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"aegaeon/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},aegir:{groups:["saturn","moons","minor","norse"],radius:3,label:"Aegir",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"aegir/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},albiorix:{groups:["saturn","moons","minor","gallic"],radius:16,label:"Albiorix",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[16,16,16],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"albiorix/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},alvaldi:{groups:["saturn","moons","minor","norse"],radius:3,label:"Alvaldi",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"alvaldi/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},angrboda:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"Angrboda",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"angrboda/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},anthe:{groups:["saturn","moons","minor","alkyonides"],radius:.9,label:"Anthe",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[.9,.9,.9],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"anthe/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},atlas:{groups:["saturn","moons","minor","ring shepherd"],radius:15.1,label:"Atlas",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[15.1,15.1,15.1],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"atlas/saturn/orb"},{type:"dynamo",url:"atlas/ori"}]},bebhionn:{groups:["saturn","moons","minor","gallic"],radius:3,label:"Bebhionn",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"bebhionn/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},beli:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"Beli",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"beli/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},bergelmir:{groups:["saturn","moons","minor","norse"],radius:3,label:"Bergelmir",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"bergelmir/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},bestla:{groups:["saturn","moons","minor","norse"],radius:3.5,label:"Bestla",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3.5,3.5,3.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"bestla/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},calypso:{groups:["saturn","moons","minor","trojan"],radius:10.7,label:"Calypso",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[10.7,10.7,10.7],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"calypso/saturn/orb"},{type:"dynamo",url:"calypso/ori"}]},daphnis:{groups:["saturn","moons","minor","ring shepherd"],radius:3.8,label:"Daphnis",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3.8,3.8,3.8],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"daphnis/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},eggther:{groups:["saturn","moons","minor","norse"],radius:3,label:"Eggther",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"eggther/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},epimetheus:{groups:["saturn","moons","minor","co-orbital"],radius:58.1,label:"Epimetheus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[58.1,58.1,58.1],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"epimetheus/saturn/orb"},{type:"dynamo",url:"epimetheus/ori"}]},erriapus:{groups:["saturn","moons","minor","gallic"],radius:5,label:"Erriapus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[5,5,5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"erriapus/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},farbauti:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"Farbauti",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2.5,2.5,2.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"farbauti/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},fenrir:{groups:["saturn","moons","minor","norse"],radius:2,label:"Fenrir",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"fenrir/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},fornjot:{groups:["saturn","moons","minor","norse"],radius:3,label:"Fornjot",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"fornjot/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},geirrod:{groups:["saturn","moons","minor","norse"],radius:2,label:"Geirrod",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"geirrod/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},gerd:{groups:["saturn","moons","minor","norse"],radius:2,label:"Gerd",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"gerd/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},greip:{groups:["saturn","moons","minor","norse"],radius:3,label:"Greip",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"greip/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},gridr:{groups:["saturn","moons","minor","norse"],radius:2,label:"Gridr",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"gridr/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},gunnlod:{groups:["saturn","moons","minor","norse"],radius:2,label:"Gunnlod",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"gunnlod/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},hati:{groups:["saturn","moons","minor","norse"],radius:3,label:"Hati",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"hati/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},helene:{groups:["saturn","moons","minor","trojan"],radius:17.6,label:"Helene",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[17.6,17.6,17.6],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"helene/saturn/orb"},{type:"dynamo",url:"helene/ori"}]},hyrrokkin:{groups:["saturn","moons","minor","norse"],radius:3,label:"Hyrrokkin",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"hyrrokkin/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},ijiraq:{groups:["saturn","moons","minor","inuit"],radius:6,label:"Ijiraq",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[6,6,6],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"ijiraq/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},janus:{groups:["saturn","moons","minor","co-orbital"],radius:89.5,label:"Janus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[89.5,89.5,89.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"janus/saturn/orb"},{type:"dynamo",url:"janus/ori"}]},jarnsaxa:{groups:["saturn","moons","minor","norse"],radius:3,label:"Jarnsaxa",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"jarnsaxa/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},kari:{groups:["saturn","moons","minor","norse"],radius:3,label:"Kari",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"kari/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},kiviuq:{groups:["saturn","moons","minor","inuit"],radius:8,label:"Kiviuq",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[8,8,8],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"kiviuq/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},loge:{groups:["saturn","moons","minor","norse"],radius:3,label:"Loge",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"loge/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},methone:{groups:["saturn","moons","minor","alkyonides"],radius:1.6,label:"Methone",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.6,1.6,1.6],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"methone/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},mundilfari:{groups:["saturn","moons","minor","norse"],radius:3.5,label:"Mundilfari",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[3.5,3.5,3.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"mundilfari/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},narvi:{groups:["saturn","moons","minor","norse"],radius:3.5,label:"Narvi",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3.5,3.5,3.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"narvi/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},paaliaq:{groups:["saturn","moons","minor","inuit"],radius:11,label:"Paaliaq",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[11,11,11],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"paaliaq/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},pallene:{groups:["saturn","moons","minor","alkyonides"],radius:2.5,label:"Pallene",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2.5,2.5,2.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"pallene/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},pan:{groups:["saturn","moons","minor","ring shepherd"],radius:14.1,label:"Pan",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[14.1,14.1,14.1],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"pan/saturn/orb"},{type:"dynamo",url:"pan/ori"}]},pandora:{groups:["saturn","moons","minor","ring shepherd"],radius:40.7,label:"Pandora",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[40.7,40.7,40.7],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"pandora/saturn/orb"},{type:"dynamo",url:"pandora/ori"}]},phoebe:{groups:["saturn","moons","minor","norse"],radius:106.5,label:"Phoebe",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/phoebe/phoebe.gltf"},controllers:[{type:"dynamo",url:"phoebe/saturn/orb"},{type:"dynamo",url:"phoebe/ori"}]},polydeuces:{groups:["saturn","moons","minor","trojan"],radius:1.3,label:"Polydeuces",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.3,1.3,1.3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"polydeuces/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},prometheus:{groups:["saturn","moons","minor","ring shepherd"],radius:43.1,label:"Prometheus",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[43.1,43.1,43.1],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"prometheus/saturn/orb"},{type:"dynamo",url:"prometheus/ori"}]},s_2004_s_7:{groups:["saturn","moons","minor","norse"],radius:3,label:"S/2004 S 7",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_7/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_12:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"S/2004 S 12",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_12/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_13:{groups:["saturn","moons","minor","norse"],radius:3,label:"S/2004 S 13",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_13/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_17:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 17",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_17/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_21:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 21",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_21/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_24:{groups:["saturn","moons","minor","gallic"],radius:1.5,label:"S/2004 S 24",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_24/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_28:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 28",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_28/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_31:{groups:["saturn","moons","minor","inuit"],radius:2,label:"S/2004 S 31",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_31/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_36:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 36",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_36/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_37:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 37",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_37/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_39:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 39",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_39/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_1:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"S/2006 S 1",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_1/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_3:{groups:["saturn","moons","minor","norse"],radius:3,label:"S/2006 S 3",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_3/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_2:{groups:["saturn","moons","minor","norse"],radius:3,label:"S/2007 S 2",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_2/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_3:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"S/2007 S 3",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_3/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2009_s_1:{groups:["saturn","moons","propeller moonlet"],radius:.15,label:"S/2009 S 1",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:.15,shadowEntities:["saturn"]},controllers:[{type:"fixed",orientation:Lh.Identity}],postCreateFunction:t=>{const e=t.addControllerByClass(ap,void 0,t.getControllerByClass(Jd)),i=new Nh;i.epoch=0,i.eccentricity=0,i.semiMajorAxis=117e3,i.meanAngularMotion=.00015472777,i.meanAnomalyAtEpoch=-1.5,i.orbitOrientation.set(-.9397445462795919,.02005900203250964,-.052689008288728606,-.33719681579275607),e.addOrbitalElements(-1e100,i),e.addOrbitalElements(1e100,i)}},s_2019_s_1:{groups:["saturn","moons","minor","inuit"],radius:3,label:"S/2019 S 1",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:3,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_1/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},saturn_lviii:{groups:["saturn","moons","minor","norse"],radius:2,label:"Saturn LVIII",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"saturn_lviii/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},saturn_lx:{groups:["saturn","moons","minor","inuit"],radius:2,label:"Saturn LX",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"saturn_lx/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},saturn_lxiv:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"Saturn LXIV",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:1.5,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"saturn_lxiv/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},siarnaq:{groups:["saturn","moons","minor","inuit"],radius:20,label:"Siarnaq",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[20,20,20],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"siarnaq/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},skathi:{groups:["saturn","moons","minor","norse"],radius:4,label:"Skathi",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[4,4,4],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"skathi/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},skoll:{groups:["saturn","moons","minor","norse"],radius:3,label:"Skoll",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"skoll/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},skrymir:{groups:["saturn","moons","minor","norse"],radius:2,label:"Skrymir",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"skrymir/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},surtur:{groups:["saturn","moons","minor","norse"],radius:3,label:"Surtur",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"surtur/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},suttungr:{groups:["saturn","moons","minor","norse"],radius:3.5,label:"Suttungr",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[3.5,3.5,3.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"suttungr/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},tarqeq:{groups:["saturn","moons","minor","inuit"],radius:3,label:"Tarqeq",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3,3,3],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"tarqeq/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},tarvos:{groups:["saturn","moons","minor","gallic"],radius:7.5,label:"Tarvos",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[7.5,7.5,7.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"tarvos/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},telesto:{groups:["saturn","moons","minor","trojan"],radius:12.4,label:"Telesto",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[12.4,12.4,12.4],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"telesto/saturn/orb"},{type:"dynamo",url:"telesto/ori"}]},thiazzi:{groups:["saturn","moons","minor","norse"],radius:2,label:"Thiazzi",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:2,shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"thiazzi/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},thrymr:{groups:["saturn","moons","minor","norse"],radius:3.5,label:"Thrymr",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[3.5,3.5,3.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"thrymr/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},ymir:{groups:["saturn","moons","minor","norse"],radius:9,label:"Ymir",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:void 0,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[9,9,9],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"ymir/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_40:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 40",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:66061440,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_40/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_41:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 41",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:79022304,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_41/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_42:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 42",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:79998624,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_42/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_43:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 43",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:84678912,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_43/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_44:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"S/2004 S 44",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:88660224,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2.5,2.5,2.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_44/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_45:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 45",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:89743680,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_45/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_46:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 46",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:95694912,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_46/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_47:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 47",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:65879136,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_47/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_48:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 48",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:107343360,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_48/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_49:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 49",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:109231200,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_49/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_50:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 50",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:108902016,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_50/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_51:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 51",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:131278752,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_51/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_52:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2004 S 52",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:141175872,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_52/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2004_s_53:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2004 S 53",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:115986816,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2004_s_53/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2005_s_4:{groups:["saturn","moons","minor","inuit"],radius:2.5,label:"S/2005 S 4",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:38899008,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2.5,2.5,2.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2005_s_4/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2005_s_5:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2005 S 5",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:101763648,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2005_s_5/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_10:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2006 S 10",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:84943296,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_10/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_11:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2006 S 11",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:90052992,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_11/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_12:{groups:["saturn","moons","minor","gallic"],radius:2,label:"S/2006 S 12",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:89428320,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_12/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_13:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2006 S 13",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:91638432,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_13/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_14:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2006 S 14",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:99591552,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_14/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_15:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2006 S 15",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:104886144,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_15/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_16:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2006 S 16",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:104329728,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_16/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_17:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2006 S 17",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:109259712,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_17/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_18:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2006 S 18",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:112181760,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_18/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_19:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2006 S 19",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:120038112,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_19/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_20:{groups:["saturn","moons","minor","norse"],radius:2.5,label:"S/2006 S 20",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:49012128,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2.5,2.5,2.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_20/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2006_s_9:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2006 S 9",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:55977696,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2006_s_9/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_5:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2007 S 5",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:64530432,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_5/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_6:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2007 S 6",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:82036800,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_6/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_7:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2007 S 7",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:65170656,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_7/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_8:{groups:["saturn","moons","minor","gallic"],radius:2,label:"S/2007 S 8",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:72308160,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_8/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2007_s_9:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2007 S 9",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:93145248,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2007_s_9/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_10:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 10",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:97030656,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_10/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_11:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 11",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:96336e3,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_11/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_12:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 12",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:98396640,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_12/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_13:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 13",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:98921088,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_13/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_14:{groups:["saturn","moons","minor","inuit"],radius:2,label:"S/2019 S 14",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:77167296,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_14/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_15:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 15",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:100357056,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_15/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_16:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 16",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:115877088,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_16/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_17:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 17",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:111576096,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_17/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_18:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 18",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:114657984,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_18/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_19:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 19",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:113879520,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_19/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_2:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 2",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:69104448,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_2/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_20:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 20",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:118838880,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_20/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_21:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 21",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:141378048,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_21/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_3:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 3",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:72380736,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_3/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_4:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 4",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:78128064,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_4/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_5:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2019 S 5",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:85568832,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_5/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_6:{groups:["saturn","moons","minor","inuit"],radius:2,label:"S/2019 S 6",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:79202880,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_6/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_7:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 7",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:93337056,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_7/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_8:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 8",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:94061952,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_8/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2019_s_9:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2019 S 9",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:94444704,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2019_s_9/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_1:{groups:["saturn","moons","minor","inuit"],radius:2,label:"S/2020 S 1",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:38975040,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_1/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_10:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2020 S 10",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:131951808,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_10/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_2:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2020 S 2",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:77552640,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_2/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_3:{groups:["saturn","moons","minor","inuit"],radius:1.5,label:"S/2020 S 3",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:78450336,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_3/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_4:{groups:["saturn","moons","minor","gallic"],radius:1.5,label:"S/2020 S 4",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:80085888,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_4/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_5:{groups:["saturn","moons","minor","inuit"],radius:1.5,label:"S/2020 S 5",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:80687232,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_5/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_6:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2020 S 6",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:100989504,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_6/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_7:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2020 S 7",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:74450880,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_7/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_8:{groups:["saturn","moons","minor","norse"],radius:1.5,label:"S/2020 S 8",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:106109568,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[1.5,1.5,1.5],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_8/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]},s_2020_s_9:{groups:["saturn","moons","minor","norse"],radius:2,label:"S/2020 S 9",parents:[[Number.NEGATIVE_INFINITY,"saturn"]],trail:{length:132621408,color:[.72,.65,.52,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[2,2,2],shadowEntities:["saturn"]},controllers:[{type:"dynamo",url:"s_2020_s_9/saturn/orb"},{type:"fixed",orientation:Lh.Identity}]}}),xp.register({ariel:{groups:["uranus","moons","major"],radius:578.9,label:"Ariel",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:578.9,polarRadius:578.9,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"ariel/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"ariel/uranus/orb"},{type:"dynamo",url:"ariel/ori"}]},miranda:{groups:["uranus","moons","major"],radius:235.8,label:"Miranda",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:235.8,polarRadius:235.8,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"miranda/color_$SIZE_$FACE.png",sizes:[4,256]}},shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"miranda/uranus/orb"},{type:"dynamo",url:"miranda/ori"}]},oberon:{groups:["uranus","moons","major"],radius:761.4,label:"Oberon",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:761.4,polarRadius:761.4,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"oberon/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"oberon/uranus/orb"},{type:"dynamo",url:"oberon/ori"}]},titania:{groups:["uranus","moons","major"],radius:788.4,label:"Titania",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:788.4,polarRadius:788.4,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"titania/color_$SIZE_$FACE.png",sizes:[4,512]}},shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"titania/uranus/orb"},{type:"dynamo",url:"titania/ori"}]},umbriel:{groups:["uranus","moons","major"],radius:584.7,label:"Umbriel",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},spheroid:{equatorialRadius:584.7,polarRadius:584.7,planetographic:!1},spheroidLOD:{features:["shadowEntities"],textures:{color:{url:"umbriel/color_$SIZE_$FACE.png",sizes:[4,256]}},shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"umbriel/uranus/orb"},{type:"dynamo",url:"umbriel/ori"}]}}),xp.register({belinda:{groups:["uranus","moons","minor","inner"],radius:45,label:"Belinda",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[45,45,45],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"belinda/uranus/orb"},{type:"dynamo",url:"belinda/ori"}]},bianca:{groups:["uranus","moons","minor","inner"],radius:25.7,label:"Bianca",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[25.7,25.7,25.7],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"bianca/uranus/orb"},{type:"dynamo",url:"bianca/ori"}]},caliban:{groups:["uranus","moons","minor","irregular"],radius:36,label:"Caliban",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[36,36,36],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"caliban/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},cordelia:{groups:["uranus","moons","minor","inner"],radius:20.1,label:"Cordelia",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[20.1,20.1,20.1],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"cordelia/uranus/orb"},{type:"dynamo",url:"cordelia/ori"}]},cressida:{groups:["uranus","moons","minor","inner"],radius:39.8,label:"Cressida",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[39.8,39.8,39.8],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"cressida/uranus/orb"},{type:"dynamo",url:"cressida/ori"}]},cupid:{groups:["uranus","moons","minor","inner"],radius:9,label:"Cupid",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[9,9,9],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"cupid/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},desdemona:{groups:["uranus","moons","minor","inner"],radius:32,label:"Desdemona",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[32,32,32],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"desdemona/uranus/orb"},{type:"dynamo",url:"desdemona/ori"}]},ferdinand:{groups:["uranus","moons","minor","irregular"],radius:10,label:"Ferdinand",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[10,10,10],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"ferdinand/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},francisco:{groups:["uranus","moons","minor","irregular"],radius:11,label:"Francisco",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[11,11,11],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"francisco/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},juliet:{groups:["uranus","moons","minor","inner"],radius:46.8,label:"Juliet",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[46.8,46.8,46.8],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"juliet/uranus/orb"},{type:"dynamo",url:"juliet/ori"}]},mab:{groups:["uranus","moons","minor","inner"],radius:12.5,label:"Mab",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[12.5,12.5,12.5],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"mab/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},margaret:{groups:["uranus","moons","minor","irregular"],radius:10,label:"Margaret",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[10,10,10],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"margaret/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},ophelia:{groups:["uranus","moons","minor","inner"],radius:22.4,label:"Ophelia",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[22.4,22.4,22.4],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"ophelia/uranus/orb"},{type:"dynamo",url:"ophelia/ori"}]},perdita:{groups:["uranus","moons","minor","inner"],radius:15,label:"Perdita",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[15,15,15],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"perdita/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},portia:{groups:["uranus","moons","minor","inner"],radius:67.6,label:"Portia",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[67.6,67.6,67.6],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"portia/uranus/orb"},{type:"dynamo",url:"portia/ori"}]},prospero:{groups:["uranus","moons","minor","irregular"],radius:25,label:"Prospero",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[25,25,25],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"prospero/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},puck:{groups:["uranus","moons","minor","inner"],radius:81,label:"Puck",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[81,81,81],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"puck/uranus/orb"},{type:"dynamo",url:"puck/ori"}]},rosalind:{groups:["uranus","moons","minor","inner"],radius:36,label:"Rosalind",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[36,36,36],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"rosalind/uranus/orb"},{type:"dynamo",url:"rosalind/ori"}]},setebos:{groups:["uranus","moons","minor","irregular"],radius:24,label:"Setebos",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[24,24,24],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"setebos/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},stephano:{groups:["uranus","moons","minor","irregular"],radius:16,label:"Stephano",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_2/generic_asteroid_2.gltf",scale:[16,16,16],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"stephano/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},sycorax:{groups:["uranus","moons","minor","irregular"],radius:82,label:"Sycorax",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_3/generic_asteroid_3.gltf",scale:[82,82,82],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"sycorax/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]},trinculo:{groups:["uranus","moons","minor","irregular"],radius:9,label:"Trinculo",parents:[[Number.NEGATIVE_INFINITY,"uranus"]],trail:{length:void 0,color:[.67,.92,1,.7]},model:{url:"$STATIC_ASSETS_URL/models/generic/asteroid_1/generic_asteroid_1.gltf",scale:[9,9,9],shadowEntities:["uranus"]},controllers:[{type:"dynamo",url:"trinculo/uranus/orb"},{type:"fixed",orientation:Lh.Identity}]}}),xp.register({sc_3d_winds:{groups:["earth","spacecraft"],occlusionRadius:.002,extentsRadius:.0025,label:"3D-Winds",parents:[[347025366.1839032,"earth"]],trail:{length:5573},controllers:[{type:"dynamo",url:"sc_3d_winds"}]},sc_ace:{groups:["earth","spacecraft"],occlusionRadius:8e-4,extentsRadius:.0023,label:"ACE",parents:[[265550465.18489534,"earth"],[694267269.1839212,""]],trail:{length:31715490},model:{url:"$STATIC_ASSETS_URL/models/sc_ace/ace.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_ace",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.0033}]},sc_acrimsat:{groups:["earth","spacecraft"],radius:.0015,label:"ACRIMSAT",parents:[[-963797,"earth"],[459950467,""]],trail:{length:5933.5},model:{url:"$STATIC_ASSETS_URL/models/sc_acrimsat/acrimsat.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_acrimsat"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.00238}]},sc_aim:{groups:["earth","spacecraft"],occlusionRadius:7e-4,extentsRadius:.0014,label:"AIM",parents:[[344589947.18311954,"earth"]],trail:{length:5788.83},controllers:[{type:"dynamo",url:"sc_aim"}]},sc_aqua:{groups:["earth","spacecraft"],occlusionRadius:.004,extentsRadius:.015,label:"Aqua",parents:[[73781738,"earth"]],trail:{length:5933.5},model:{url:"$STATIC_ASSETS_URL/models/sc_aqua/Aqua.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_aqua"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_aqua",axis:Vh.XAxis}}]},sc_ascends:{groups:["earth","spacecraft"],radius:.004,label:"ASCENDS",parents:[[347025366.1839032,"earth"]],trail:{length:5573},controllers:[{type:"dynamo",url:"sc_ascends"}]},sc_aura:{groups:["earth","spacecraft"],occlusionRadius:.00345,extentsRadius:.017,label:"Aura",parents:[[143161358,"earth"]],trail:{length:5933.5},model:{url:"$STATIC_ASSETS_URL/models/sc_aura/Aura.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_aura"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_aura",axis:Vh.XAxis}}]},sc_c_nofs:{groups:["earth","spacecraft"],radius:.004,label:"C/NOFS",parents:[[352800006.1854904,"earth"],[502051928.18300515,""]],trail:{length:5573},controllers:[{type:"dynamo",url:"sc_c_nofs"}]},sc_calipso:{groups:["earth","spacecraft"],occlusionRadius:.00165,extentsRadius:.005,label:"CALIPSO",parents:[[199506047,"earth"],[744120069,""]],trail:{length:5933},model:{url:"$STATIC_ASSETS_URL/models/sc_calipso/calipso.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_calipso"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_calipso",axis:Vh.YAxis}}]},sc_chandra:{groups:["earth","spacecraft"],occlusionRadius:.0059,extentsRadius:.01,label:"Chandra",parents:[[339465600,"earth"],[709344e3,""]],trail:{length:228505.5},model:{url:"$STATIC_ASSETS_URL/models/sc_chandra/chandra.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_chandra/earth/all",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:new Vh(-.70710678118,-.70710678118,0)}}]},sc_clarreo:{groups:["earth","spacecraft"],radius:.004,label:"CLARREO",parents:[[347025366.1839032,"earth"]],trail:{length:5573},controllers:[{type:"dynamo",url:"sc_clarreo"}]},sc_cloudsat:{groups:["earth","spacecraft"],occlusionRadius:.0025,extentsRadius:.0025,label:"CloudSat",parents:[[199491286,"earth"],[756302469,""]],trail:{length:5933.5},model:{url:"$STATIC_ASSETS_URL/models/sc_cloudsat/CloudSat.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cloudsat"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_cloudsat",axis:Vh.XAxis}}]},sc_cluster_ii_fm5:{groups:["earth","spacecraft"],occlusionRadius:.00145,extentsRadius:.00435,label:"Rumba",parents:[[19105314,"earth"]],trail:{length:195541.5},model:{url:"$STATIC_ASSETS_URL/models/sc_cluster_ii/cluster_ii.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cluster_ii_fm5"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_cluster_ii_fm5",axis:Vh.ZAxis}}]},sc_cluster_ii_fm6:{groups:["earth","spacecraft"],occlusionRadius:.00145,extentsRadius:.00435,label:"Salsa",parents:[[17028089,"earth"]],trail:{length:195351},model:{url:"$STATIC_ASSETS_URL/models/sc_cluster_ii/cluster_ii.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cluster_ii_fm6"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_cluster_ii_fm6",axis:Vh.ZAxis}}]},sc_cluster_ii_fm7:{groups:["earth","spacecraft"],occlusionRadius:.00145,extentsRadius:.00435,label:"Samba",parents:[[17028093,"earth"]],trail:{length:195316},model:{url:"$STATIC_ASSETS_URL/models/sc_cluster_ii/cluster_ii.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cluster_ii_fm7"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_cluster_ii_fm7",axis:Vh.ZAxis}}]},sc_cluster_ii_fm8:{groups:["earth","spacecraft"],occlusionRadius:.00145,extentsRadius:.00435,label:"Tango",parents:[[19105052,"earth"]],trail:{length:195388},model:{url:"$STATIC_ASSETS_URL/models/sc_cluster_ii/cluster_ii.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cluster_ii_fm8"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_cluster_ii_fm8",axis:Vh.ZAxis}}]},sc_cygnss_1:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 1",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_1"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_1",axis:Vh.YAxisNeg}}]},sc_cygnss_2:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 2",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_2",axis:Vh.YAxisNeg}}]},sc_cygnss_3:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 3",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_3"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_3",axis:Vh.YAxisNeg}}]},sc_cygnss_4:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 4",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_4"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_4",axis:Vh.YAxisNeg}}]},sc_cygnss_5:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 5",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_5"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_5",axis:Vh.YAxisNeg}}]},sc_cygnss_6:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 6",parents:[[548415404.1851876,"earth"],[722736069,""]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_6"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_6",axis:Vh.YAxisNeg}}]},sc_cygnss_7:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 7",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_7"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_7",axis:Vh.YAxisNeg}}]},sc_cygnss_8:{groups:["earth","spacecraft"],radius:8e-4,label:"CYGNSS 8",parents:[[548415404.1851876,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_cygnss/CYGNSS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_cygnss_8"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_cygnss_8",axis:Vh.YAxisNeg}}]},sc_dscovr:{groups:["earth","spacecraft"],occlusionRadius:9e-4,extentsRadius:.002,label:"DSCOVR",parents:[[476711467.18497694,"earth"]],trail:{length:31536e3},model:{url:"$STATIC_ASSETS_URL/models/sc_dscovr/dscovr.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_dscovr/earth/all",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.XAxisNeg},secondary:{type:"velocity",target:"sc_dscovr",axis:Vh.ZAxisNeg}}]},sc_eo_1:{groups:["earth","spacecraft"],occlusionRadius:.003,extentsRadius:.001,label:"EO-1",parents:[[344589947.18311954,"earth"],[544104069.186,""]],trail:{length:5933.33},model:{url:"$STATIC_ASSETS_URL/models/sc_eo_1/eo-1.gltf",rotate:[{y:45}],shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_eo_1"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_eo_1",axis:Vh.XAxisNeg}}]},sc_euclid:{groups:["earth","spacecraft","telescope"],radius:.0035,label:"Euclid",parents:[[741498789,"earth"]],trail:{length:31536e3},model:{url:"$STATIC_ASSETS_URL/models/sc_euclid/euclid.gltf"},controllers:[{type:"dynamo",url:"sc_euclid/earth"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxisNeg},secondary:{type:"align",target:"sun",axis:Vh.ZAxis,targetAxis:Vh.ZAxis}}]},sc_explorer_1:{groups:["earth","spacecraft"],occlusionRadius:.001,extentsRadius:.001,label:"Explorer 1",parents:[[-1322726967,"earth"],[-939025103,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_explorer_1_v2/explorer_1.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_explorer_1/earth"},{type:"align",primary:{type:"velocity",target:"sc_explorer_1",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxisNeg,periodInHours:22e-6}]},sc_face:{groups:["earth","spacecraft"],radius:.004,label:"FACE",parents:[[347025366.1839032,"earth"],[631022168.1838934,""]],trail:{length:5933.33},controllers:[{type:"dynamo",url:"sc_face"}]},sc_fgrst:{groups:["earth","spacecraft"],occlusionRadius:.0014,extentsRadius:.004,label:"FGRST",parents:[[344589947.18311954,"earth"],[661006268.1833516,""]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_fgrst"}]},sc_gacm:{groups:["earth","spacecraft"],radius:.004,label:"GACM",parents:[[347025366.1839032,"earth"]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_gacm"}]},sc_galex:{groups:["earth","spacecraft"],occlusionRadius:.001,extentsRadius:.0014,label:"GALEX",parents:[[352800006.1854904,"earth"],[425718607.184,""]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_galex"}]},sc_geo_cape:{groups:["earth","spacecraft"],radius:.004,label:"GEO-CAPE",parents:[[347025366.1839032,"earth"]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_geo_cape"}]},sc_geotail:{groups:["earth","spacecraft"],occlusionRadius:.0018,extentsRadius:.003,label:"Geotail",parents:[[-234758765,"earth"],[722891591,""]],trail:{length:450372},model:{url:"$STATIC_ASSETS_URL/models/sc_geotail/geotail.gltf",shadowEntities:["earth"]},controllers:[{type:"dynamo",url:"sc_geotail/earth/orb"},{type:"fixed",orientation:new Lh(.662,.749,0,0)},{type:"spin",axis:Vh.YAxis,periodInHours:.00083333333,relativeToTime:0}]},sc_goes_12:{groups:["earth","spacecraft"],radius:.003,label:"GOES 12",parents:[[344589947.18311954,"earth"],[661006268.1833516,""]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_goes_12"}]},sc_goes_13:{groups:["earth","spacecraft"],radius:.003,label:"GOES 13",parents:[[344589947.18311954,"earth"]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_goes_13"}]},sc_goes_14:{groups:["earth","spacecraft"],radius:.003,label:"GOES 14",parents:[[344589947.18311954,"earth"]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_goes_14"}]},sc_goes_15:{groups:["earth","spacecraft"],radius:.003,label:"GOES 15",parents:[[344589947.18311954,"earth"]],trail:{length:5733},controllers:[{type:"dynamo",url:"sc_goes_15"}]},sc_gpm:{groups:["earth","spacecraft"],occlusionRadius:.002,extentsRadius:.007,label:"GPM",parents:[[629484755.7856493,"earth"]],trail:{length:5549.5},model:{url:"$STATIC_ASSETS_URL/models/sc_gpm/GPM.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_gpm"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_gpm",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("GPM_antenna"),e.setRate(hh.degToRad(192)),e.setAxis(Vh.YAxisNeg,!0),e.setClampedToRealTime(!0)}},sc_grace_1:{groups:["earth","spacecraft"],occlusionRadius:.0015,extentsRadius:.0019,label:"GRACE-1",parents:[[69656411.096817,"earth"],[562382552.2587994,""]],trail:{length:5575},model:{url:"$STATIC_ASSETS_URL/models/sc_grace/grace.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_grace_1/earth/orb"},{type:"align",primary:{type:"point",target:"sc_grace_2",axis:Vh.YAxisNeg},secondary:{type:"point",target:"earth",axis:Vh.ZAxis}},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY],update:t=>{const e=t.getComponent("microwave"),i=t.getScene().getEngine(),s=hh.wrap(e.getTextureYOffset()-hh.clamp(i.getTimeRate(),-1,1)*i.getDeltaTime(),0,1);e.setTextureYOffset(s);const n=t.getScene().getEntity("sc_grace_2"),a=null!==n&&n.getPosition().distance(t.getPosition())<=3929;a!==e.isEnabled()&&e.setEnabled(a)}}],postCreateFunction:t=>{const e=t.addComponentByClass(id,"microwave");e.setTextureUrl("$STATIC_ASSETS_URL/sprites/sine_wave.png"),e.setEntity1("sc_grace_1"),e.setEntity1Offset(new Vh(0,-.00165,0)),e.setEntity2("sc_grace_2"),e.setEntity2Offset(new Vh(0,-.00165,0)),e.setWidths(5e-4,5e-4),e.setColorMultiplier(new vh(.5,1,1)),e.setTextureRepeat(!0),e.setTextureStretch(4)}},sc_grace_2:{groups:["earth","spacecraft"],occlusionRadius:.0015,extentsRadius:.0019,label:"GRACE-2",parents:[[69656411.096817,"earth"],[562382552.2588,""]],trail:{length:5575},model:{url:"$STATIC_ASSETS_URL/models/sc_grace/grace.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_grace_2/earth/orb"},{type:"align",primary:{type:"point",target:"sc_grace_1",axis:Vh.YAxisNeg},secondary:{type:"point",target:"earth",axis:Vh.ZAxis}}]},sc_grace_fo1:{groups:["earth","spacecraft"],occlusionRadius:.0015,extentsRadius:.0019,label:"GRACE-FO 1",parents:[[580290547.185,"earth"]],trail:{length:5575},model:{url:"$STATIC_ASSETS_URL/models/sc_grace_fo/graceFO.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_grace_fo1"},{type:"align",primary:{type:"point",target:"sc_grace_fo2",axis:Vh.ZAxisNeg},secondary:{type:"point",target:"earth",axis:Vh.YAxisNeg}},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY],update:t=>{const e=t.getComponent("microwave"),i=t.getScene().getEngine(),s=hh.wrap(e.getTextureYOffset()-hh.clamp(i.getTimeRate(),-1,1)*i.getDeltaTime(),0,1);e.setTextureYOffset(s);const n=t.getScene().getEntity("sc_grace_fo2"),a=null!==n&&n.getPosition().distance(t.getPosition())<=3929;if(a!==e.isEnabled()){const i=t.getComponent("laser1"),s=t.getComponent("laser2");e.setEnabled(a),i.setEnabled(a),s.setEnabled(a)}}}],postCreateFunction:t=>{const e=t.addComponentByClass(id,"microwave");e.setTextureUrl("$STATIC_ASSETS_URL/sprites/sine_wave.png"),e.setEntity1("sc_grace_fo1"),e.setEntity1Offset(new Vh(0,0,-.00165)),e.setEntity2("sc_grace_fo2"),e.setEntity2Offset(new Vh(0,0,-.00165)),e.setWidths(5e-4,5e-4),e.setColorMultiplier(new vh(.5,1,1)),e.setTextureRepeat(!0),e.setTextureStretch(4);const i=t.addComponentByClass(id,"laser1");i.setTextureUrl("$STATIC_ASSETS_URL/sprites/line.png"),i.setEntity1("sc_grace_fo1"),i.setEntity1Offset(new Vh(3e-4,15e-5,-.00165)),i.setEntity2("sc_grace_fo2"),i.setEntity2Offset(new Vh(-3e-4,15e-5,-.00165)),i.setWidths(2e-5,2e-5),i.setColorMultiplier(new vh(1,.24,.64)),i.setTextureRepeat(!1);const s=t.addComponentByClass(id,"laser2");s.setTextureUrl("$STATIC_ASSETS_URL/sprites/line.png"),s.setEntity1("sc_grace_fo1"),s.setEntity1Offset(new Vh(-3e-4,15e-5,-.00165)),s.setEntity2("sc_grace_fo2"),s.setEntity2Offset(new Vh(3e-4,15e-5,-.00165)),s.setWidths(2e-5,2e-5),s.setColorMultiplier(new vh(1,.24,.64)),s.setTextureRepeat(!1)}},sc_grace_fo2:{groups:["earth","spacecraft"],occlusionRadius:.0015,extentsRadius:.0019,label:"GRACE-FO 2",parents:[[580290547.185,"earth"]],trail:{length:5575},model:{url:"$STATIC_ASSETS_URL/models/sc_grace_fo/graceFO.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_grace_fo2"},{type:"align",primary:{type:"point",target:"sc_grace_fo1",axis:Vh.ZAxisNeg},secondary:{type:"point",target:"earth",axis:Vh.YAxisNeg}}]},sc_grifex:{groups:["earth","spacecraft"],occlusionRadius:15e-5,extentsRadius:34e-5,label:"GRIFEX",parents:[[476542806.1849232,"earth"]],trail:{length:5706.25},model:{url:"$STATIC_ASSETS_URL/models/sc_grifex/grifex.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_grifex"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_grifex",axis:Vh.ZAxisNeg}}]},sc_hubble_space_telescope:{groups:["earth","spacecraft","telescope"],occlusionRadius:.0066,extentsRadius:.0066,label:"Hubble",parents:[[-305719099.92837775,"earth"]],trail:{length:5748.5},model:{url:"$STATIC_ASSETS_URL/models/sc_hubble/Hubble.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_hubble_space_telescope/earth/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_hubble_space_telescope",axis:Vh.YAxis}}]},sc_hyspiri:{groups:["earth","spacecraft"],occlusionRadius:.004,extentsRadius:.012,label:"HyspIRI",parents:[[347025366.1839032,"earth"]],trail:{length:5733},model:{url:"$STATIC_ASSETS_URL/models/sc_hyspiri/HyspIRI.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_hyspiri"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_hyspiri",axis:Vh.ZAxis}}]},sc_ibex:{groups:["earth","spacecraft"],occlusionRadius:5e-4,extentsRadius:.001,label:"IBEX",parents:[[277718464.1823969,"earth"]],trail:{length:797489.16},model:{url:"$STATIC_ASSETS_URL/models/sc_ibex/iBEX.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_ibex",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:.00416}]},sc_icesat_2:{groups:["earth","spacecraft"],occlusionRadius:.00198,extentsRadius:.0065,label:"ICESat-2",parents:[[590288589.182,"earth"]],trail:{length:5653.2},model:{url:"$STATIC_ASSETS_URL/models/sc_icesatii/ICESat2.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_icesat_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_icesat_2",axis:Vh.XAxis}}]},sc_image:{groups:["earth","spacecraft"],occlusionRadius:.00113,extentsRadius:.006,label:"IMAGE",parents:[[7288547.186,"earth"],[188163587.1835355,""]],trail:{length:55541},model:{url:"$STATIC_ASSETS_URL/models/sc_image/image.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_image"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_image",axis:Vh.XAxis}}]},sc_integral:{groups:["earth","spacecraft"],occlusionRadius:.0025,extentsRadius:.005,label:"INTEGRAL",parents:[[367498866.18276465,"earth"]],trail:{length:229689},controllers:[{type:"dynamo",url:"sc_integral"}]},sc_ipex:{groups:["earth","spacecraft"],occlusionRadius:1e-4,extentsRadius:15e-5,label:"IPEX",parents:[[439586087.183,"earth"]],trail:{length:5862},model:{url:"$STATIC_ASSETS_URL/models/sc_ipex/IPEX.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_ipex"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_ipex",axis:Vh.ZAxis}}]},sc_isas:{groups:["earth","spacecraft"],occlusionRadius:.001,extentsRadius:.0015,label:"ISAS",parents:[[-186102945.06492478,"earth"],[-183424845.06434903,""]],trail:{length:92680.5},model:{url:"$STATIC_ASSETS_URL/models/sc_isas/isas.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_isas",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_isas",axis:Vh.ZAxis}}]},sc_iss:{groups:["earth","spacecraft"],occlusionRadius:.008,extentsRadius:.072,label:"ISS",parents:[[344589947.18311954,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_iss/ISS_stationary.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_iss"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_iss",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=new Vh(0,.5,.5*Math.sqrt(3)),i=new Vh(0,.5*Math.sqrt(3),-.5),s=new Vh(0,.5,.5*Math.sqrt(3));let n=t.addControllerByClass(Td);n.setJoint("20_P4_Truss"),n.setPrimaryAxis(Vh.XAxis),n.setSecondaryAxis(e),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("23_S4_Truss"),n.setPrimaryAxis(Vh.XAxis),n.setSecondaryAxis(e),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("20_P4_Truss_01"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("20_P4_Truss_02"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("23_S4_Truss_01"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("23_S4_Truss_02"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("32_S6_Truss_01"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("32_S6_Truss_02"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("08_P6_Truss_01"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun"),n=t.addControllerByClass(Td),n.setJoint("08_P6_Truss_02"),n.setPrimaryAxis(i),n.setSecondaryAxis(s),n.setSecondaryAlignType("point"),n.setSecondaryTargetEntity("sun");const a=t.addControllerByClass(mp);a.setJoint("RapidScat_dish"),a.setRate(hh.degToRad(108)),a.setAxis(Vh.ZAxis,!0),a.setClampedToRealTime(!0),a.setCoverage(new Ih(465418867.184,524890952.183)),O_.showSubObjectDuringInterval(t,"Ecostress",584127348,Number.POSITIVE_INFINITY),O_.showSubObjectDuringInterval(t,"EMIT",711345507,Number.POSITIVE_INFINITY),O_.showSubObjectDuringInterval(t,"OCO3",610718469,Number.POSITIVE_INFINITY),O_.showSubObjectDuringInterval(t,"45_RapidScat",465418867.184,575406069.184)}},sc_iss_ecostress:{groups:["instrument","sc_iss"],occlusionRadius:.001,extentsRadius:.0012,label:"ECOSTRESS",parents:[[584127348,"sc_iss"]],controllers:[{type:"fixed",orientation:Lh.Identity,position:new Vh(.0200195,-.00202631,.0161099),coverage:[584127348,Number.POSITIVE_INFINITY]}],postCreateFunction:t=>{t.addControllerByClass(pp).setCoverage(new Ih(584127348,Number.POSITIVE_INFINITY))}},sc_iss_emit:{groups:["instrument","sc_iss"],occlusionRadius:8e-4,extentsRadius:.0013,label:"EMIT",parents:[[711345507,"sc_iss"]],controllers:[{type:"fixed",orientation:Lh.Identity,position:new Vh(.024,-.00225,.00325),coverage:[711345507,Number.POSITIVE_INFINITY]}],postCreateFunction:t=>{t.addControllerByClass(pp).setCoverage(new Ih(711345507,Number.POSITIVE_INFINITY))}},sc_iss_oco_3:{groups:["instrument","sc_iss"],occlusionRadius:8e-4,extentsRadius:.0012,label:"OCO-3",parents:[[610718469,"sc_iss"]],controllers:[{type:"fixed",orientation:Lh.Identity,position:new Vh(.0156458,-.00195982,.0200232),coverage:[610718469,Number.POSITIVE_INFINITY]}],postCreateFunction:t=>{t.addControllerByClass(pp).setCoverage(new Ih(610718469,Number.POSITIVE_INFINITY))}},sc_iss_rapidscat:{groups:["instrument","sc_iss"],occlusionRadius:8e-4,extentsRadius:2e-4,label:"RapidScat",parents:[[465418867.184,"sc_iss"],[575406069.184,""]],controllers:[{type:"fixed",orientation:Lh.Identity,position:new Vh(-.0100725,-.00133401,.0162145),coverage:[465418867.184,575406069.184]}],postCreateFunction:t=>{t.addControllerByClass(pp).setCoverage(new Ih(465418867.184,575406069.184))}},sc_ixpe:{groups:["earth","spacecraft","telescope"],occlusionRadius:.0055,extentsRadius:.0026,label:"IXPE",parents:[[692324766.6007013,"earth"]],trail:{length:5400},model:{url:"$STATIC_ASSETS_URL/models/sc_ixpe/ixpe.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_ixpe"},{type:"fixed",orientation:Lh.Identity}]},sc_jason_1:{groups:["earth","spacecraft"],occlusionRadius:.0014,extentsRadius:.004,label:"Jason-1",parents:[[352800006.1854904,"earth"],[458074266.1839004,""]],trail:{length:6744.5},model:{url:"$STATIC_ASSETS_URL/models/sc_ostm/ostm.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_jason_1",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_jason_1",axis:Vh.ZAxisNeg}}]},sc_jason_2:{groups:["earth","spacecraft"],occlusionRadius:.0014,extentsRadius:.004,label:"OSTM/Jason-2",parents:[[344589947.18311954,"earth"],[623851269.182,""]],trail:{length:6744.25},model:{url:"$STATIC_ASSETS_URL/models/sc_ostm/ostm.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_jason_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_jason_2",axis:Vh.ZAxisNeg}}]},sc_jason_3:{groups:["earth","spacecraft"],occlusionRadius:.0014,extentsRadius:.004,label:"Jason-3",parents:[[506497796.18443054,"earth"]],trail:{length:6721},model:{url:"$STATIC_ASSETS_URL/models/sc_ostm/ostm.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_jason_3"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_jason_3",axis:Vh.ZAxisNeg}}]},sc_jwst:{groups:["earth","spacecraft","telescope"],radius:.01,label:"James Webb Space Telescope",parents:[[693708549.184,"earth"]],trail:{length:31536e3},model:{url:"$STATIC_ASSETS_URL/models/sc_jwst/webb_deployed.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_jwst/earth/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxisNeg},secondary:{type:"align",target:"sun",axis:Vh.ZAxis,targetAxis:Vh.ZAxis}},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,694937889.184],enter:t=>{t.getComponentByClass(ld).setUrl("$STATIC_ASSETS_URL/models/sc_jwst/webb_stowed.gltf")},exit:t=>{t.getComponentByClass(ld).setUrl("$STATIC_ASSETS_URL/models/sc_jwst/webb_deployed.gltf")}}]},sc_landsat_5:{groups:["earth","spacecraft"],radius:.004,label:"Landsat 5",parents:[[352800006.1854904,"earth"],[473889066.18410677,""]],trail:{length:5933.33},controllers:[{type:"dynamo",url:"sc_landsat_5"}]},sc_landsat_7:{groups:["earth","spacecraft"],occlusionRadius:.004,extentsRadius:.012,label:"Landsat 7",parents:[[344589947.18311954,"earth"]],trail:{length:5933.33},model:{url:"$STATIC_ASSETS_URL/models/sc_landsat_7/LandSat7.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_landsat_7"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_landsat_7",axis:Vh.ZAxisNeg}}]},sc_landsat_8:{groups:["earth","spacecraft"],occlusionRadius:.004,extentsRadius:.0095,label:"Landsat 8",parents:[[413877787.185,"earth"]],trail:{length:5933.33},model:{url:"$STATIC_ASSETS_URL/models/sc_landsat_8/LandSat8.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_landsat_8"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxisNeg},secondary:{type:"velocity",target:"sc_landsat_8",axis:Vh.YAxis}}]},sc_landsat_9:{groups:["earth","spacecraft"],occlusionRadius:.004,extentsRadius:.015,label:"Landsat 9",parents:[[686043940.723348,"earth"]],trail:{length:5933.33},model:{url:"$STATIC_ASSETS_URL/models/sc_landsat_9/Landsat9.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_landsat_9"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_landsat_9",axis:Vh.XAxis}}]},sc_list:{groups:["earth","spacecraft"],radius:.004,label:"LIST",parents:[[347025366.1839032,"earth"]],trail:{length:5933.33},controllers:[{type:"dynamo",url:"sc_list"}]},sc_m_cubed:{groups:["earth","spacecraft"],radius:1e-4,label:"M-Cubed",parents:[[373032066.182,"earth"]],trail:{length:5768.333333333333},model:{url:"$STATIC_ASSETS_URL/models/sc_m_cubed/mCubed.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_m_cubed"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_m_cubed",axis:Vh.XAxisNeg}}]},sc_mcubed_2:{groups:["earth","spacecraft"],occlusionRadius:1e-4,extentsRadius:2e-4,label:"MCubed-2",parents:[[439560067.183,"earth"]],trail:{length:5861},model:{url:"$STATIC_ASSETS_URL/models/sc_mcubed_2/M-Cubed2.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_mcubed_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.XAxisNeg},secondary:{type:"velocity",target:"sc_mcubed_2",axis:Vh.ZAxis}}]},sc_mms_1:{groups:["earth","spacecraft"],occlusionRadius:.0017,extentsRadius:.013,label:"MMS 1",parents:[[479519767.1855569,"earth"]],trail:{length:85994},model:{url:"$STATIC_ASSETS_URL/models/sc_mms/MMS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_mms_1"},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.00556}]},sc_mms_2:{groups:["earth","spacecraft"],occlusionRadius:.0017,extentsRadius:.013,label:"MMS 2",parents:[[479519767.1855569,"earth"]],trail:{length:85962},model:{url:"$STATIC_ASSETS_URL/models/sc_mms/MMS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_mms_2"},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.00556}]},sc_mms_3:{groups:["earth","spacecraft"],occlusionRadius:.0017,extentsRadius:.013,label:"MMS 3",parents:[[479519767.1855569,"earth"]],trail:{length:86347},model:{url:"$STATIC_ASSETS_URL/models/sc_mms/MMS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_mms_3"},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.00556}]},sc_mms_4:{groups:["earth","spacecraft"],occlusionRadius:.0017,extentsRadius:.013,label:"MMS 4",parents:[[479519767.1855569,"earth"]],trail:{length:86024},model:{url:"$STATIC_ASSETS_URL/models/sc_mms/MMS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_mms_4"},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.00556}]},sc_nisar:{groups:["earth","spacecraft"],occlusionRadius:.006,extentsRadius:.017,label:"NISAR",parents:[[757339269,"earth"]],trail:{length:5573},model:{url:"$STATIC_ASSETS_URL/models/sc_nisar/Nisar.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"orbitalElements",eccentricity:0,semiMajorAxis:7118,meanAngularMotion:.0011382582,meanAnomalyAtEpoch:0,inclination:Math.PI/180*98.5,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,coverage:[757339269,Number.POSITIVE_INFINITY]},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_nisar",axis:Vh.ZAxis}}]},sc_noaa_14:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 14",parents:[[344589947.18311954,"earth"],[661006268.1833516,""]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_14"}]},sc_noaa_15:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 15",parents:[[344589947.18311954,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_15"}]},sc_noaa_16:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 16",parents:[[344589947.18311954,"earth"],[661006268.1833516,""]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_16"}]},sc_noaa_17:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 17",parents:[[344589947.18311954,"earth"],[661006268.1833516,""]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_17"}]},sc_noaa_18:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 18",parents:[[344589947.18311954,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_18"}]},sc_noaa_19:{groups:["earth","spacecraft"],radius:.004,label:"NOAA 19",parents:[[344589947.18311954,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_noaa_19"}]},sc_nustar:{groups:["earth","spacecraft"],occlusionRadius:.006,extentsRadius:.006,label:"NuSTAR",parents:[[392875303.185,"earth"]],trail:{length:5798.66},model:{url:"$STATIC_ASSETS_URL/models/sc_nustar/nustar.gltf",shadowEntities:["earth"]},controllers:[{type:"dynamo",url:"sc_nustar"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxisNeg},secondary:{type:"align",axis:Vh.XAxis,target:"sun",targetAxis:Vh.ZAxis}}]},sc_oco_2:{groups:["earth","spacecraft"],occlusionRadius:.0021,extentsRadius:.004,label:"OCO-2",parents:[[457567050.184,"earth"]],trail:{length:5933.333333333333},model:{url:"$STATIC_ASSETS_URL/models/sc_oco_2/oco2.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_oco_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxisNeg},secondary:{type:"point",target:"sun",axis:Vh.YAxis}}]},sc_pace:{groups:["earth","spacecraft"],occlusionRadius:.002,extentsRadius:.004,label:"PACE",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_pace/pace.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_pace"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_pace",axis:Vh.XAxisNeg}}]},sc_path:{groups:["earth","spacecraft"],radius:.004,label:"PATH",parents:[[347025366.1839032,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_path"}]},sc_polar:{groups:["earth","spacecraft"],occlusionRadius:.0012,extentsRadius:.005,label:"Polar",parents:[[-121608237.81469652,"earth"],[262612565.1855274,""]],trail:{length:66571},model:{url:"$STATIC_ASSETS_URL/models/sc_polar/polar.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_polar",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_polar",axis:Vh.ZAxis}}]},sc_quikscat:{groups:["earth","spacecraft"],occlusionRadius:.0016,extentsRadius:.0018,label:"QuikSCAT",parents:[[344589947.18311954,"earth"],[591710469.182,""]],trail:{length:6061.33},model:{url:"$STATIC_ASSETS_URL/models/sc_quikscat/QuikSCAT.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_quikscat"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_quikscat",axis:Vh.XAxisNeg}}]},sc_race:{groups:["earth","spacecraft"],radius:15e-5,label:"RACE",parents:[[467726467.182,"earth"],[467812867.182,""]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_race"}]},sc_raincube:{groups:["earth","spacecraft"],occlusionRadius:35e-5,extentsRadius:5e-4,label:"RainCube",parents:[[608189026.1856545,"earth"],[662040069.184,""]],trail:{length:5743},model:{url:"$STATIC_ASSETS_URL/models/sc_raincube/Raincube.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_raincube"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_raincube",axis:Vh.XAxis}}]},sc_rax_2:{groups:["earth","spacecraft"],radius:2e-4,label:"RAX-2",parents:[[373067348.182,"earth"],[418824067.186,""]],trail:{length:5743},controllers:[{type:"dynamo",url:"sc_rax_2"}]},sc_rbsp_a:{groups:["earth","spacecraft"],radius:.004,label:"Van Allen Probe A",parents:[[399585967.183,"earth"],[624628869.182,""]],trail:{length:32214},model:{url:"$STATIC_ASSETS_URL/models/sc_rbsp/rbsp.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_rbsp_a"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_rbsp_a",axis:Vh.XAxis}}]},sc_rbsp_b:{groups:["earth","spacecraft"],radius:.004,label:"Van Allen Probe B",parents:[[399585967.183,"earth"],[616766469.184,""]],trail:{length:32574},model:{url:"$STATIC_ASSETS_URL/models/sc_rbsp/rbsp.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_rbsp_b"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_rbsp_b",axis:Vh.XAxis}}]},sc_sac_d:{groups:["earth","spacecraft"],occlusionRadius:.003,extentsRadius:.0045,label:"Aquarius",parents:[[360987666.185,"earth"],[486907267.185,""]],trail:{length:5884.25},model:{url:"$STATIC_ASSETS_URL/models/sc_sac_d/aquarius.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sac_d"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.XAxis},secondary:{type:"velocity",target:"sc_sac_d",axis:Vh.YAxis}}]},sc_sclp:{groups:["earth","spacecraft"],radius:.004,label:"SCLP",parents:[[347025366.1839032,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_sclp"}]},sc_sdo:{groups:["earth","spacecraft"],occlusionRadius:.0022,extentsRadius:.00315,label:"SDO",parents:[[505918808.18474686,"earth"]],trail:{length:86137.66},model:{url:"$STATIC_ASSETS_URL/models/sc_sdo/sdo.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sdo"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_sdo",axis:Vh.XAxis}}]},sc_sentinel_6:{groups:["earth","spacecraft"],occlusionRadius:.0026,extentsRadius:.0031,label:"Sentinel-6 Michael Freilich",parents:[[659322339.7879795,"earth"]],trail:{length:5933.5},model:{url:"$STATIC_ASSETS_URL/models/sc_sentinel_6/Sentinel6.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sentinel_6"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_sentinel_6",axis:Vh.XAxis}}]},sc_smap:{groups:["earth","spacecraft"],occlusionRadius:.003,extentsRadius:.009,label:"SMAP",parents:[[476542806.1849232,"earth"]],trail:{length:5906.8},model:{url:"$STATIC_ASSETS_URL/models/sc_smap/SMAP.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_smap"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_smap",axis:Vh.XAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("arm_etc"),e.setRate(hh.degToRad(87.6)),e.setAxis(Vh.YAxis,!0),e.setClampedToRealTime(!0)}},sc_soho:{groups:["earth","spacecraft"],occlusionRadius:.00215,extentsRadius:.00425,label:"SOHO",parents:[[265550465.18489534,"earth"]],trail:{length:31536e3},model:{url:"$STATIC_ASSETS_URL/models/sc_soho/soho.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"animdata",url:"sc_soho",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_soho",axis:Vh.XAxis}}]},sc_sorce:{groups:["earth","spacecraft"],occlusionRadius:.001,extentsRadius:.0022,label:"SORCE",parents:[[344589947.18311954,"earth"],[635860869.185,""]],trail:{length:5812.5},model:{url:"$STATIC_ASSETS_URL/models/sc_sorce/sorce.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sorce"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_sorce",axis:Vh.XAxisNeg}}]},sc_starling_1:{groups:["earth","spacecraft"],occlusionRadius:23e-5,extentsRadius:76e-5,label:"Starling-1",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_starling/starling.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_starling_1"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_starling_1",axis:Vh.XAxis}}]},sc_starling_2:{groups:["earth","spacecraft"],occlusionRadius:23e-5,extentsRadius:76e-5,label:"Starling-2",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_starling/starling.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_starling_2"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_starling_2",axis:Vh.XAxis}}]},sc_starling_3:{groups:["earth","spacecraft"],occlusionRadius:23e-5,extentsRadius:76e-5,label:"Starling-3",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_starling/starling.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_starling_3"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_starling_3",axis:Vh.XAxis}}]},sc_starling_4:{groups:["earth","spacecraft"],occlusionRadius:23e-5,extentsRadius:76e-5,label:"Starling-4",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_starling/starling.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_starling_4"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_starling_4",axis:Vh.XAxis}}]},sc_sunrise_faye:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Faye",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_faye"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_sunrise_jet:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Jet",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_jet"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_sunrise_ein:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Ein",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_ein"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_sunrise_edward:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Edward",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_edward"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_sunrise_spike:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Spike",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_spike"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_sunrise_bebop:{groups:["earth","spacecraft"],radius:5e-4,label:"SunRISE Bebop",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_sunrise/sunrise.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_sunrise_bebop"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",targetAxis:Vh.ZAxis,axis:Vh.ZAxis}}]},sc_suomi_npp:{groups:["earth","spacecraft"],occlusionRadius:.0022,extentsRadius:.008,label:"Suomi NPP",parents:[[373067348.01,"earth"]],trail:{length:5798.66},model:{url:"$STATIC_ASSETS_URL/models/sc_npp/NPP.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_suomi_npp"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.XAxisNeg},secondary:{type:"velocity",target:"sc_suomi_npp",axis:Vh.YAxis}}]},sc_swift:{groups:["earth","spacecraft"],occlusionRadius:.0028,extentsRadius:.0028,label:"Swift",parents:[[344589947.18311954,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_swift"}]},sc_swot:{groups:["earth","spacecraft"],occlusionRadius:.005,extentsRadius:.009,label:"SWOT",parents:[[347025366.1839032,"earth"]],trail:{length:5933},model:{url:"$STATIC_ASSETS_URL/models/sc_swot_v2/swot.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_swot"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_swot",axis:Vh.ZAxisNeg}}]},sc_tdrs_3:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 3",parents:[[344589947.18311954,"earth"]],trail:{length:86137.33},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_3"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_5:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 5",parents:[[344589947.18311954,"earth"]],trail:{length:86137.66},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_5"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_6:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 6",parents:[[344589947.18311954,"earth"]],trail:{length:86137.66},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_6"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_7:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 7",parents:[[344589947.18311954,"earth"]],trail:{length:86151},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_7"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_8:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 8",parents:[[344589947.18311954,"earth"]],trail:{length:86151.2},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_8"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_9:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 9",parents:[[344589947.18311954,"earth"]],trail:{length:86151},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_9"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_10:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 10",parents:[[344589947.18311954,"earth"]],trail:{length:86151.2},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_10"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_11:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 11",parents:[[412868947.185,"earth"]],trail:{length:86151},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_11"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_12:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 12",parents:[[443808067.185,"earth"]],trail:{length:86151},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_12"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_tdrs_13:{groups:["earth","spacecraft"],occlusionRadius:.0085,extentsRadius:.0085,label:"TDRS 13",parents:[[556338669.183,"earth"]],trail:{length:86151},model:{url:"$STATIC_ASSETS_URL/models/sc_tdrs/tdrs.gltf"},controllers:[{type:"dynamo",url:"sc_tdrs_13"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",axis:Vh.ZAxis,target:"earth",targetAxis:Vh.ZAxis}}]},sc_terra:{groups:["earth","spacecraft"],occlusionRadius:.0034,extentsRadius:.012,label:"Terra",parents:[[344589947.18311954,"earth"]],trail:{length:5933.33},model:{url:"$STATIC_ASSETS_URL/models/sc_terra/Terra.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_terra"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_terra",axis:Vh.XAxisNeg}}]},sc_tess:{groups:["earth","spacecraft","telescope"],occlusionRadius:.002,extentsRadius:.003,label:"TESS",parents:[[577366932.3626,"earth"]],trail:{length:591840},model:{url:"$STATIC_ASSETS_URL/models/sc_tess/TESS.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tess/earth/orb"},{type:"fixed",orientation:Lh.Identity}]},sc_themis_a:{groups:["earth","spacecraft"],occlusionRadius:4e-4,extentsRadius:.0017,label:"THEMIS A",parents:[[344589947.18311954,"earth"]],trail:{length:98428},model:{url:"$STATIC_ASSETS_URL/models/sc_themis/themis.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_themis_a"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:8333e-7}]},sc_themis_d:{groups:["earth","spacecraft"],occlusionRadius:4e-4,extentsRadius:.0017,label:"THEMIS D",parents:[[344589947.18311954,"earth"]],trail:{length:114807},model:{url:"$STATIC_ASSETS_URL/models/sc_themis/themis.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_themis_d"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:8333e-7}]},sc_themis_e:{groups:["earth","spacecraft"],occlusionRadius:4e-4,extentsRadius:.0017,label:"THEMIS E",parents:[[344589947.18311954,"earth"]],trail:{length:105907.5},model:{url:"$STATIC_ASSETS_URL/models/sc_themis/themis.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_themis_e"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:8333e-7}]},sc_timed:{groups:["earth","spacecraft"],occlusionRadius:.0015,extentsRadius:.005,label:"TIMED",parents:[[344589947.18311954,"earth"]],trail:{length:5933},controllers:[{type:"dynamo",url:"sc_timed"}]},sc_trmm:{groups:["earth","spacecraft"],occlusionRadius:.00255,extentsRadius:.0073,label:"TRMM",parents:[[-66052736.817,"earth"],[482328067.186,""]],trail:{length:5545.6},model:{url:"$STATIC_ASSETS_URL/models/sc_trmm/TRMM.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"orbitalElements",eccentricity:.00111201719,semiMajorAxis:6744.5,meanAngularMotion:.0011382582,meanAnomalyAtEpoch:0,inclination:Math.PI/180*30,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,coverage:[-66052736.817,482328067.186]},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_trmm",axis:Vh.XAxisNeg}}]},sc_tropics_01:{groups:["earth","spacecraft"],occlusionRadius:18e-5,extentsRadius:24e-5,label:"TROPICS-01",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_tropics/tropics.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tropics_01"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_tropics_01",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("microwave_radiometer"),e.setRate(Math.PI),e.setAxis(Vh.ZAxis,!0),e.setClampedToRealTime(!0);const i=t.addControllerByClass(Td);i.setJoint("solar_rotate"),i.setPrimaryAxis(Vh.YAxis),i.setSecondaryAxis(Vh.XAxis),i.setSecondaryAlignType("point"),i.setSecondaryTargetEntity("sun")}},sc_tropics_03:{groups:["earth","spacecraft"],occlusionRadius:18e-5,extentsRadius:24e-5,label:"TROPICS-03",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_tropics/tropics.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tropics_03"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_tropics_03",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("microwave_radiometer"),e.setRate(Math.PI),e.setAxis(Vh.ZAxis,!0),e.setClampedToRealTime(!0);const i=t.addControllerByClass(Td);i.setJoint("solar_rotate"),i.setPrimaryAxis(Vh.YAxis),i.setSecondaryAxis(Vh.XAxis),i.setSecondaryAlignType("point"),i.setSecondaryTargetEntity("sun")}},sc_tropics_05:{groups:["earth","spacecraft"],occlusionRadius:18e-5,extentsRadius:24e-5,label:"TROPICS-05",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_tropics/tropics.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tropics_05"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_tropics_05",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("microwave_radiometer"),e.setRate(Math.PI),e.setAxis(Vh.ZAxis,!0),e.setClampedToRealTime(!0);const i=t.addControllerByClass(Td);i.setJoint("solar_rotate"),i.setPrimaryAxis(Vh.YAxis),i.setSecondaryAxis(Vh.XAxis),i.setSecondaryAlignType("point"),i.setSecondaryTargetEntity("sun")}},sc_tropics_06:{groups:["earth","spacecraft"],occlusionRadius:18e-5,extentsRadius:24e-5,label:"TROPICS-06",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_tropics/tropics.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tropics_06"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_tropics_06",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("microwave_radiometer"),e.setRate(Math.PI),e.setAxis(Vh.ZAxis,!0),e.setClampedToRealTime(!0);const i=t.addControllerByClass(Td);i.setJoint("solar_rotate"),i.setPrimaryAxis(Vh.YAxis),i.setSecondaryAxis(Vh.XAxis),i.setSecondaryAlignType("point"),i.setSecondaryTargetEntity("sun")}},sc_tropics_07:{groups:["earth","spacecraft"],occlusionRadius:18e-5,extentsRadius:24e-5,label:"TROPICS-07",parents:[[Number.NEGATIVE_INFINITY,"earth"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_tropics/tropics.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_tropics_07"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_tropics_07",axis:Vh.ZAxis}}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("microwave_radiometer"),e.setRate(Math.PI),e.setAxis(Vh.ZAxis,!0),e.setClampedToRealTime(!0);const i=t.addControllerByClass(Td);i.setJoint("solar_rotate"),i.setPrimaryAxis(Vh.YAxis),i.setSecondaryAxis(Vh.XAxis),i.setSecondaryAlignType("point"),i.setSecondaryTargetEntity("sun")}},sc_uars:{groups:["earth","spacecraft"],occlusionRadius:.00535,extentsRadius:.00535,label:"UARS",parents:[[352800006.1854904,"earth"],[370106644.184,""]],trail:{length:5490},controllers:[{type:"animdata",url:"sc_uars",dataType:"pos"}]},sc_wind:{groups:["earth","spacecraft"],occlusionRadius:.0012,extentsRadius:.0075,label:"WIND",parents:[[543931270,"earth"]],trail:{length:16485927},model:{url:"$STATIC_ASSETS_URL/models/sc_wind/wind.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_wind/earth/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"velocity",target:"sc_wind",axis:Vh.XAxisNeg}}]},sc_wise:{groups:["earth","spacecraft"],occlusionRadius:.00142,extentsRadius:.00142,label:"WISE",parents:[[344589947.18311954,"earth"]],trail:{length:5715.4},controllers:[{type:"dynamo",url:"sc_wise"}]}}),xp.register({sc_apollo_15:{groups:["moon","spacecraft"],radius:.004,label:"Apollo 15",parents:[[-897044358.3260887,"moon"],[-896822958.3195117,""]],trail:{length:6855},controllers:[{type:"animdata",url:"sc_apollo_15",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_artemis_1:{groups:["moon","spacecraft"],radius:.005,label:"Artemis I",parents:[[721860361,"earth"],[724052473,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_artemis_1/artemis_cmsm.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_artemis_1/earth/pos"},{type:"align",primary:{type:"velocity",target:"sc_artemis_1",axis:Vh.YAxis},secondary:{type:"align",target:"moon",axis:Vh.ZAxis,targetAxis:Vh.ZAxis}}]},sc_capstone:{groups:["moon","spacecraft"],radius:5e-4,label:"CAPSTONE",parents:[[710192447.9999855,"earth"],[721583059,"moon"]],trail:{length:void 0,lengthCoverages:[[4e6,Number.NEGATIVE_INFINITY,721583059],[1210909,721583059,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_capstone/capstone.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_capstone/earth/orb"},{type:"dynamo",url:"sc_capstone/moon/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxisNeg},secondary:{type:"align",target:"moon",axis:Vh.XAxis,targetAxis:Vh.ZAxis}}]},sc_clementine:{groups:["moon","spacecraft"],radius:.002,label:"Clementine",parents:[[-187185539.81536362,"moon"],[-178496939.81459716,""]],trail:{length:5408.5},model:{url:"$STATIC_ASSETS_URL/models/sc_clementine/clementine.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_clementine/moon/all",dataType:"pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxisNeg},secondary:{type:"point",target:"sun",axis:Vh.ZAxisNeg}}]},sc_grail_a:{groups:["moon","spacecraft"],radius:.001,label:"Ebb",parents:[[368763e3,"moon"],[414201667.18513304,""]],trail:{length:41115.75},model:{url:"$STATIC_ASSETS_URL/models/sc_grail/grail_b.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_grail_a/moon/all",dataType:"pos"},{type:"align",primary:{type:"velocity",target:"sc_grail_a",axis:Vh.XAxisNeg},secondary:{type:"point",target:"moon",axis:Vh.ZAxis}}]},sc_grail_b:{groups:["moon","spacecraft"],radius:.001,label:"Flow",parents:[[368763e3,"moon"],[414201667.18513304,""]],trail:{length:41239.8},model:{url:"$STATIC_ASSETS_URL/models/sc_grail/grail_b.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_grail_b/moon/all",dataType:"pos"},{type:"align",primary:{type:"velocity",target:"sc_grail_b",axis:Vh.XAxisNeg},secondary:{type:"point",target:"moon",axis:Vh.ZAxis}}]},sc_ladee:{groups:["moon","spacecraft"],radius:.0012,label:"LADEE",parents:[[431798467.18253195,"moon"],[451355187.44558257,""]],trail:{length:7889.57},model:{url:"$STATIC_ASSETS_URL/models/sc_ladee/ladee.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_ladee/moon/all",dataType:"pos"},{type:"align",primary:{type:"velocity",target:"sc_ladee",axis:Vh.XAxisNeg},secondary:{type:"point",target:"moon",axis:Vh.ZAxis}}]},sc_lcross:{groups:["moon","spacecraft"],occlusionRadius:.0013,extentsRadius:.0022,label:"LCROSS",parents:[[298635466.0304444,"moon"],[308360200.75,""]],trail:{length:3598022},model:{url:"$STATIC_ASSETS_URL/models/sc_lcross/lcross.gltf",rotate:[{z:-90}],shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_lcross/moon/all",dataType:"pos",coverage:[Number.NEGATIVE_INFINITY,308360200.75]},{type:"align",primary:{type:"velocity",target:"sc_lcross",axis:Vh.XAxisNeg},secondary:{type:"point",target:"moon",axis:Vh.ZAxis}}]},sc_lcross_impact_site:{groups:["moon","sc_lcross","sites"],radius:.001,systemRadius:200,label:"LCROSS Impact Site",parents:[[298635466.0304444,"moon"]],controllers:[{type:"fixed",llaOnSpheroid:new su(-1.4782008103461848,-.8648271467797672,0),coverage:[298635466.0304444,Number.POSITIVE_INFINITY]}]},sc_lunar_flashlight:{groups:["moon","spacecraft"],occlusionRadius:25e-5,extentsRadius:5e-4,label:"Lunar Flashlight",parents:[[724019554,"earth"],[737164869,""]],trail:{length:1e7},model:{url:"$STATIC_ASSETS_URL/models/sc_lunar_flashlight/lunar_flashlight.gltf",shadowEntities:["earth"]},controllers:[{type:"dynamo",url:"sc_lunar_flashlight/earth_v3"},{type:"align",primary:{type:"align",target:"moon",axis:Vh.ZAxisNeg,targetAxis:Vh.ZAxis},secondary:{type:"point",target:"sun",axis:Vh.YAxis}}]},sc_lunar_icecube:{groups:["moon","spacecraft"],occlusionRadius:2e-4,extentsRadius:.0012,label:"Lunar IceCube",parents:[[721864426,"earth"],[734111601,"moon"]],trail:{length:void 0,lengthCoverages:[[3e6,Number.NEGATIVE_INFINITY,734111601],[441920,734111601,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_lunar_icecube/lunar_icecube.gltf",shadowEntities:["earth","moon"]},controllers:[{type:"dynamo",url:"sc_lunar_icecube/earth/pos"},{type:"dynamo",url:"sc_lunar_icecube/moon/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",axis:Vh.ZAxis,targetAxis:Vh.ZAxis}}]},sc_lunar_prospector:{groups:["moon","spacecraft"],occlusionRadius:653e-6,extentsRadius:.0022,label:"Lunar Prospector",parents:[[-62206800,"moon"],[-13402020,""]],trail:{length:7260},model:{url:"$STATIC_ASSETS_URL/models/sc_lunar_prospector/lunar_prospector.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_lunar_prospector/moon/all",dataType:"pos"},{type:"align",primary:{type:"align",target:"moon",axis:Vh.YAxisNeg,targetAxis:Vh.ZAxis}},{type:"spin",axis:Vh.YAxisNeg,periodInHours:.008333}]},sc_lunar_reconnaissance_orbiter:{groups:["moon","spacecraft"],occlusionRadius:.00272,extentsRadius:.0038,label:"Lunar Reconnaissance Orbiter",parents:[[298635426.1844444,"earth"],[298929666,"moon"]],trail:{length:7106.66,lengthCoverages:[[1e6,Number.NEGATIVE_INFINITY,299040641],[7106.66,299040641,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_lunar_reconnaissance_orbiter/LRO.gltf",rotate:[{z:-90}],shadowEntities:["moon"]},controllers:[{type:"dynamo",url:"sc_lunar_reconnaissance_orbiter/earth/orb"},{type:"dynamo",url:"sc_lunar_reconnaissance_orbiter/moon/orb"},{type:"align",primary:{type:"velocity",target:"sc_lunar_reconnaissance_orbiter",axis:Vh.XAxisNeg},secondary:{type:"point",target:"moon",axis:Vh.ZAxis}},{type:"dynamo",url:"sc_lunar_reconnaissance_orbiter/ori"}]},sc_smart_1:{groups:["moon","spacecraft"],occlusionRadius:.0015,extentsRadius:.00653,label:"SMART-1",parents:[[117977163.35299999,"moon"],[210585600,""]],trail:{length:273091},controllers:[{type:"fixed",orientation:Lh.Identity},{type:"animdata",url:"sc_smart_1/moon/all",dataType:"pos"}]},sc_themis_b:{groups:["moon","spacecraft"],occlusionRadius:4e-4,extentsRadius:.0017,label:"ARTEMIS P1",parents:[[366638466.1829504,"moon"],[694267209.1839211,""]],trail:{length:94838},model:{url:"$STATIC_ASSETS_URL/models/sc_themis/themis.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_themis_b/moon/all",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:8333e-7}]},sc_themis_c:{groups:["moon","spacecraft"],occlusionRadius:4e-4,extentsRadius:.0017,label:"ARTEMIS P2",parents:[[366638466.1829504,"moon"],[694267209.1839211,""]],trail:{length:204186},model:{url:"$STATIC_ASSETS_URL/models/sc_themis/themis.gltf",shadowEntities:["moon"]},controllers:[{type:"animdata",url:"sc_themis_c/moon/all",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}},{type:"spin",axis:Vh.YAxis,periodInHours:8333e-7}]}}),xp.register({sc_mars_2020:{groups:["mars","spacecraft","landers"],occlusionRadius:.0015,extentsRadius:.003,label:"Mars 2020",parents:[[649385564,"earth"],[649595376,"sun"],[666932224,"mars"],[666952859,"sc_mars_2020_landing_site"]],trail:{length:1e7,lengthCoverages:[[1e7,649385564,666932224],[3e3,666932224,666953098.003],[9676800,676629898.003,Number.POSITIVE_INFINITY]],updatePointPositions:!0},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_2020/cruise_whole/msl_cruise_stage.gltf",rotate:[{x:-90}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"sc_mars_2020/earth/orb"},{type:"dynamo",url:"sc_mars_2020/sun/orb"},{type:"dynamo",url:"sc_mars_2020/mars/pos"},{type:"dynamo",url:"sc_mars_2020/surface/lin"},{type:"custom",func:t=>{const e=t.addControllerByClass(yp);return e.setTranslation(new Vh(-.125148,.026867,-.023641)),e},coverage:[666952859,666953098.003]},{type:"dynamo",url:"sc_mars_2020/quat"},{type:"dynamo",url:"sc_mars_2020/surface/quat_v2"},{type:"spin",axis:Vh.ZAxis,periodInHours:.00833333333,relativeToTime:649385564,coverage:[649385564,666952859]},{type:"rotateByEntityOrientation",entityForOrientation:"mars",coverage:[666952859,Number.POSITIVE_INFINITY]},{type:"custom",func:t=>{const e=t.addControllerByClass(Wd);return e.setDistanceFromGround(.001),e.setGroundComponentRef("mars","cmts"),e.setUp(Vh.ZAxisNeg),e.setCoverage(new Ih(666953086.614,Number.POSITIVE_INFINITY)),e}},{type:"coverage",coverage:[666953086.614,Number.POSITIVE_INFINITY],enter:t=>{t.getComponentByClass(sd).getDiv().innerHTML.replace("Mars 2020","Perseverance")},exit:t=>{t.getComponentByClass(sd).getDiv().innerHTML.replace("Perseverance","Mars 2020")}},{type:"coverage",coverage:[666953098.003,676629898.003],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setStartTime(666953098.003),e.setRelativeStartTime(!1))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeStartTime(!0)}},{type:"coverage",coverage:[666932224,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!1)}},{type:"coverage",coverage:[666953086.614,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_2020/rover/perseverance.gltf"),e.setRotation(new Lh(.5,-.5,.5,-.5)),e.setTranslation(new Vh(0,0,.001))},exit:t=>{const e=t.getComponentByClass(ld);e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_2020/cruise_whole/msl_cruise_stage.gltf"),e.setRotation(new Lh(.7071067811865478,-.7071067811865472,0,0)),e.setTranslation(new Vh(0,0,0))}},{type:"coverage",coverage:[666953098.003,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setIgnoreDistance(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setIgnoreDistance(!1)}},{type:"coverage",coverage:[666952458,666953086.614],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setHiddenObject("solar_panels",!0),e.setHiddenObject("frame_etc",!0))},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setHiddenObject("solar_panels",!1),e.setHiddenObject("frame_etc",!1))}}]},sc_mars_2020_landing_site:{groups:["mars","sc_mars_2020","sites"],radius:.001,systemRadius:200,label:"Mars 2020 Landing Site",parents:[[649385563.6433017,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(.32191947313922714,1.351772964399859,-2.2364351843552868),coverage:[649385563.6433017,Number.POSITIVE_INFINITY]}]},sc_mars_science_laboratory:{groups:["mars","spacecraft","landers"],occlusionRadius:.001515,extentsRadius:.004,label:"Mars Science Laboratory",parents:[[375594733,"earth"],[376039259,"sun"],[397477501,"mars"],[397502386.832,"sc_mars_science_laboratory_landing_site"]],trail:{length:1e7,lengthCoverages:[[1e7,375594733,397501373],[3e3,397501373,407179186.832],[9676800,407179186.832,Number.POSITIVE_INFINITY]],updatePointPositions:!0},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_science_laboratory/cruise/msl_cruisestage.gltf",rotate:[{x:-90}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"sc_mars_science_laboratory/earth/orb"},{type:"dynamo",url:"sc_mars_science_laboratory/sun/orb"},{type:"dynamo",url:"sc_mars_science_laboratory/mars/orb"},{type:"dynamo",url:"sc_mars_science_laboratory/edl/pos"},{type:"custom",func:t=>{const e=t.addControllerByClass(yp);return e.setTranslation(new Vh(.002583,.002995,.001937)),e},coverage:[397501373,397502386.832]},{type:"dynamo",url:"sc_mars_science_laboratory/surface/lin_v2"},{type:"dynamo",url:"sc_mars_science_laboratory/quat"},{type:"dynamo",url:"sc_mars_science_laboratory/surface/quat_v2"},{type:"spin",axis:Vh.ZAxis,periodInHours:.00833333333,relativeToTime:375594733,coverage:[375594733,397501866]},{type:"rotateByEntityOrientation",entityForOrientation:"mars",rotatingOrientation:!1,coverage:[397501373,Number.POSITIVE_INFINITY]},{type:"rotateByEntityOrientation",entityForOrientation:"mars",rotatingPosition:!1,coverage:[397502386.832,Number.POSITIVE_INFINITY]},{type:"custom",func:t=>{const e=t.addControllerByClass(Wd);return e.setDistanceFromGround(98e-5),e.setGroundComponentRef("mars","cmts"),e.setUp(Vh.ZAxisNeg),e.setCoverage(new Ih(397502386.832,Number.POSITIVE_INFINITY)),e}},{type:"coverage",coverage:[397502386.832,Number.POSITIVE_INFINITY],enter:t=>{t.getComponentByClass(sd).getDiv().innerHTML.replace("Mars Science Laboratory","Curiosity")},exit:t=>{t.getComponentByClass(sd).getDiv().innerHTML.replace("Curiosity","Mars Science Laboratory")}},{type:"coverage",coverage:[397501373,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!1)}},{type:"coverage",coverage:[397502324,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_science_laboratory/rover/curiosity_static.gltf"),e.setRotation(new Lh(.5,-.5,.5,-.5)),e.setTranslation(new Vh(0,0,.001)))},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_science_laboratory/cruise/msl_cruisestage.gltf"),e.setRotation(new Lh(.7071067811865478,-.7071067811865472,0,0)),e.setTranslation(new Vh(0,0,0)))}},{type:"coverage",coverage:[397502386.832,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setIgnoreDistance(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setIgnoreDistance(!1)}},{type:"coverage",coverage:[397501758,397502386.832],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setHiddenObject("solar_panels",!0),e.setHiddenObject("frame_etc",!0))},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setHiddenObject("solar_panels",!1),e.setHiddenObject("frame_etc",!1))}}]},sc_mars_science_laboratory_landing_site:{groups:["mars","sc_mars_science_laboratory","sites"],occlusionRadius:.001515,extentsRadius:.004,systemRadius:200,label:"Curiosity Landing Site",parents:[[375594732.3829685,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(-4.589466996319/180*Math.PI,.7635646277605056*Math.PI,-4.927711819685555),coverage:[375594732.3829685,Number.POSITIVE_INFINITY]}]},sc_mars_exploration_rover_1:{groups:["mars","spacecraft","landers"],occlusionRadius:.0013,extentsRadius:.0026,label:"Opportunity",parents:[[110911022.184,"earth"],[111234172,"sun"],[128262836,"mars"],[128278419,"sc_mars_exploration_rover_1_landing_site"],[581920316.8566707,""]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,128262836],[6720,128262836,128278419],[9676800,137955219,581920316.856]],updatePointPositions:!0},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/cruise/mpf_mera_merb_cruise.gltf",rotate:[{x:90}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"sc_mars_exploration_rover_1/earth/orb"},{type:"dynamo",url:"sc_mars_exploration_rover_1/sun/orb"},{type:"dynamo",url:"sc_mars_exploration_rover_1/mars/pos"},{type:"dynamo",url:"sc_mars_exploration_rover_1/edl/pos"},{type:"dynamo",url:"sc_mars_exploration_rover_1/surface/lin"},{type:"custom",func:t=>{const e=t.addControllerByClass(dp),i=new Lh;return i.setFromAxes(Vh.YAxis,Vh.XAxisNeg,void 0),e.setRotation(i),e.setRotatingOrientation(!1),e.setCoverage(new Ih(128278419,581920316.856)),e}},{type:"fixed",orientation:Lh.Identity,coverage:[128278523.336,581920316.856]},{type:"rotateByEntityOrientation",coverage:[128278419,581920316.856]},{type:"custom",func:t=>{const e=t.addControllerByClass(Wd);return e.setGroundComponentRef("mars","cmts"),e.setUp(Vh.ZAxisNeg),e.setCoverage(new Ih(128278523.336,581920316.856)),e}},{type:"align",primary:{type:"velocity",target:"sc_mars_exploration_rover_1",axis:Vh.ZAxisNeg},secondary:{type:"align",target:"mars",axis:Vh.YAxis,targetAxis:Vh.ZAxis},coverage:[Number.NEGATIVE_INFINITY,128278523.336]},{type:"coverage",coverage:[128278419,581920316.856],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!0),e.setIgnoreDistance(!0))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!1),e.setIgnoreDistance(!1))}},{type:"coverage",coverage:[128278419,137955219],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setStartTime(128278419),e.setRelativeStartTime(!1))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeStartTime(!0)}},{type:"coverage",coverage:[128278523.336,581920316.856],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/rover/mer_static.gltf")},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/cruise/mpf_mera_merb_cruise.gltf")}},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,128262836],enter:t=>{const e=t.getControllerByClass(Td);null!==e&&(e.setPrimaryAlignType("point"),e.setPrimaryAxis(Vh.ZAxis),e.setPrimaryTargetEntity("sun"))},exit:t=>{const e=t.getControllerByClass(Td);null!==e&&(e.setPrimaryAlignType("velocity"),e.setPrimaryAxis(Vh.ZAxisNeg),e.setPrimaryTargetEntity("sc_mars_exploration_rover_1"))}}]},sc_mars_exploration_rover_1_landing_site:{groups:["mars","sc_mars_exploration_rover_1","sites"],radius:.001,systemRadius:200,label:"Opportunity Landing Site",parents:[[110911022.184,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(-.034003934569818886,-.09644392740547784,0),coverage:[110911022.184,Number.POSITIVE_INFINITY]}]},sc_mars_exploration_rover_2:{groups:["mars","spacecraft","landers"],occlusionRadius:.0013,extentsRadius:.0026,label:"Spirit",parents:[[108541883.184,"earth"],[108887371,"sun"],[126444477,"mars"],[126462105,"sc_mars_exploration_rover_2_landing_site"],[322567479.3896215,""]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,126444477],[6720,126444477,126462105],[9676800,136138905,322567479.38962]],updatePointPositions:!0},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/cruise/mpf_mera_merb_cruise.gltf",rotate:[{x:90}],shadowEntities:["mars"]},controllers:[{type:"dynamo",url:"sc_mars_exploration_rover_2/earth/orb"},{type:"dynamo",url:"sc_mars_exploration_rover_2/sun/orb"},{type:"dynamo",url:"sc_mars_exploration_rover_2/mars/pos"},{type:"dynamo",url:"sc_mars_exploration_rover_2/edl/pos"},{type:"dynamo",url:"sc_mars_exploration_rover_2/surface/lin"},{type:"custom",func:t=>{const e=t.addControllerByClass(dp),i=new Lh;return i.setFromAxes(Vh.YAxis,Vh.XAxisNeg,void 0),e.setRotation(i),e.setRotatingOrientation(!1),e.setCoverage(new Ih(126462105,322567479.38962)),e}},{type:"fixed",orientation:Lh.Identity,coverage:[126462105,322567479.38962]},{type:"rotateByEntityOrientation",coverage:[126462105,322567479.38962]},{type:"custom",func:t=>{const e=t.addControllerByClass(Wd);return e.setGroundComponentRef("mars","cmts"),e.setUp(Vh.ZAxisNeg),e.setCoverage(new Ih(126462105,322567479.38962)),e}},{type:"align",primary:{type:"velocity",target:"sc_mars_exploration_rover_2",axis:Vh.ZAxisNeg},secondary:{type:"align",target:"mars",axis:Vh.YAxis,targetAxis:Vh.ZAxis},coverage:[Number.NEGATIVE_INFINITY,126462105]},{type:"coverage",coverage:[126462105,322567479.38962],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!0),e.setIgnoreDistance(!0))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!1),e.setIgnoreDistance(!1))}},{type:"coverage",coverage:[126462105,136138905],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setStartTime(126462105),e.setRelativeStartTime(!1))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeStartTime(!0)}},{type:"coverage",coverage:[126462396.1058,322567479.38962],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/rover/mer_static.gltf")},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setUrl("$STATIC_ASSETS_URL/models/sc_mars_exploration_rover/cruise/mpf_mera_merb_cruise.gltf")}},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,126444477],enter:t=>{const e=t.getControllerByClass(Td);null!==e&&(e.setPrimaryAlignType("point"),e.setPrimaryAxis(Vh.ZAxis),e.setPrimaryTargetEntity("sun"))},exit:t=>{const e=t.getControllerByClass(Td);null!==e&&(e.setPrimaryAlignType("velocity"),e.setPrimaryAxis(Vh.ZAxisNeg),e.setPrimaryTargetEntity("sc_mars_exploration_rover_2"))}}]},sc_mars_exploration_rover_2_landing_site:{groups:["mars","sc_mars_exploration_rover_2","sites"],radius:.001,systemRadius:200,label:"Spirit Landing Site",parents:[[108541883.184,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(-.25432749290990797,3.062677242395019,-2.614394925059969),coverage:[108541883.184,Number.POSITIVE_INFINITY]}]},sc_insight:{groups:["mars","spacecraft","landers"],radius:.00306,label:"InSight",parents:[[578795968.9654216,"earth"],[579182469.185,"sun"],[596376069.183,"mars"]],trail:{length:32137022.16,lengthCoverages:[[32137022.16,Number.NEGATIVE_INFINITY,596376069.183],[14400,596376069.183,596529871.284],[3600,596529871.284,596533602],[0,596533602,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_insight/lander/insight.gltf",rotate:[{y:90}]},controllers:[{type:"dynamo",url:"sc_insight/earth/pos"},{type:"dynamo",url:"sc_insight/sun/orb"},{type:"dynamo",url:"sc_insight/mars/orb"},{type:"dynamo",url:"sc_insight_edl/mars/pos"},{type:"align",primary:{type:"point",target:"mars",axis:Vh.ZAxisNeg},secondary:{type:"align",target:"mars",axis:Vh.YAxis,targetAxis:Vh.ZAxis},coverage:[578795968.9654216,596533602]},{type:"dynamo",url:"sc_insight/ori"},{type:"dynamo",url:"sc_insight_edl/ori"},{type:"fixed",llaOnSpheroid:new su(.07881611091588075,2.3734709256393973,-2.996371903616364),llaOnSpheroidEntity:"mars",coverage:[596533602,Number.POSITIVE_INFINITY]},{type:"coverage",coverage:[596529871.284,596533602],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!1)}},{type:"coverage",coverage:[578795968.9654216,596533602],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setUrl("$STATIC_ASSETS_URL/models/sc_insight/cruise/model.gltf"),e.setRotation(new Lh(Math.sqrt(.5),0,Math.sqrt(.5),0)),e.setTranslation(Vh.Zero))}},{type:"coverage",coverage:[596533602,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&(e.setUrl("$STATIC_ASSETS_URL/models/sc_insight/lander/insight.gltf"),e.setRotation(new Lh(Math.sqrt(.5),Math.sqrt(.5),0,0)),e.setTranslation(new Vh(0,0,85e-5)))}}]},sc_insight_landing_site:{groups:["mars","sc_insight","sites"],radius:.001,systemRadius:200,label:"InSight Landing Site",parents:[[578795968.9654216,"mars"],[596533602,""]],controllers:[{type:"fixed",llaOnSpheroid:new su(.07881611091588075,2.3734709256393973,-2.996371903616364),coverage:[578795968.9654216,596533602]}]},sc_marco_a:{groups:["mars","spacecraft"],radius:44375e-8,label:"MarCO A",parents:[[578796051,"earth"],[579182469.185,"sun"],[596376069.183,"mars"],[596552080,"sun"],[631152e3,""]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,579182469.185],[6720,579182469.185,596552080],[1e7,596552080,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_marco/model.gltf"},controllers:[{type:"dynamo",url:"sc_marco_a/earth/orb"},{type:"dynamo",url:"sc_marco_a/sun/1/orb"},{type:"dynamo",url:"sc_marco_a/mars/orb"},{type:"dynamo",url:"sc_marco_a/sun/2/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}}]},sc_marco_b:{groups:["mars","spacecraft"],radius:44375e-8,label:"MarCO B",parents:[[578796051,"earth"],[579182469.185,"sun"],[596376069.183,"mars"],[596552080,"sun"],[631152e3,""]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,579182469.185],[6720,579182469.185,596552080],[1e7,596552080,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_marco/model.gltf"},controllers:[{type:"dynamo",url:"sc_marco_b/earth/orb"},{type:"dynamo",url:"sc_marco_b/sun/1/orb"},{type:"dynamo",url:"sc_marco_b/mars/orb"},{type:"dynamo",url:"sc_marco_b/sun/2/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis}}]},sc_mars_odyssey:{groups:["mars","spacecraft"],occlusionRadius:.0013,extentsRadius:.004,label:"Mars Odyssey",parents:[[39932700,"earth"],[40233664,"sun"],[57128464,"mars"]],trail:{length:6727,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,57128464],[6727,57128464,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_odyssey/mars_odyssey.gltf",environmentMap:{cubemap:"$STATIC_ASSETS_URL/env_maps/park_gray/$FACE.jpg"},shadowEntities:["mars","deimos","phobos"]},controllers:[{type:"dynamo",url:"sc_mars_odyssey/earth/orb"},{type:"dynamo",url:"sc_mars_odyssey/sun/orb"},{type:"dynamo",url:"sc_mars_odyssey/mars/orb"},{type:"align",primary:{type:"point",target:"mars",axis:new Vh(-.95630475596,.29237170472,0)},secondary:{type:"velocity",target:"sc_mars_odyssey",axis:new Vh(.29237170472,.95630475596,0)}},{type:"dynamo",url:"sc_mars_odyssey/ori"}]},sc_mars_reconnaissance_orbiter:{groups:["mars","spacecraft"],radius:.0068,label:"Mars Reconnaissance Orbiter",parents:[[177122516,"earth"],[177429664,"sun"],[195285665,"mars"]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,195285665],[6720,195285665,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_reconnaissance_orbiter/MRO.gltf",environmentMap:{cubemap:"$STATIC_ASSETS_URL/env_maps/park_gray/$FACE.jpg"},shadowEntities:["mars","deimos","phobos"]},controllers:[{type:"dynamo",url:"sc_mars_reconnaissance_orbiter/earth/orb"},{type:"dynamo",url:"sc_mars_reconnaissance_orbiter/sun/orb"},{type:"dynamo",url:"sc_mars_reconnaissance_orbiter/mars/orb"},{type:"align",primary:{type:"point",target:"mars",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_mars_reconnaissance_orbiter",axis:Vh.XAxis}},{type:"dynamo",url:"sc_mars_reconnaissance_orbiter/ori"}]},sc_maven:{groups:["mars","spacecraft"],radius:.0057,label:"MAVEN",parents:[[438074509.3428109,"earth"],[438296467,"sun"],[464590867,"mars"]],trail:{length:16139},model:{url:"$STATIC_ASSETS_URL/models/sc_maven/Maven.gltf",rotate:[{x:90},{z:90}],environmentMap:{cubemap:"$STATIC_ASSETS_URL/env_maps/park_gray/$FACE.jpg"},shadowEntities:["mars","deimos","phobos"]},controllers:[{type:"dynamo",url:"sc_maven/earth/orb"},{type:"dynamo",url:"sc_maven/sun/orb"},{type:"dynamo",url:"sc_maven/mars/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxis}},{type:"dynamo",url:"sc_maven/ori"}]},sc_mars_express:{groups:["mars","spacecraft"],radius:.006,label:"Mars Express",parents:[[107853140.59600002,"earth"],[108232264,"sun"],[125539264,"mars"]],trail:{length:25e3,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,126749131],[12720,126749131,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_express/mars_express.gltf",rotate:[{x:90},{z:-180}],environmentMap:{cubemap:"$STATIC_ASSETS_URL/env_maps/park_gray/$FACE.jpg"},shadowEntities:["mars","deimos","phobos"]},controllers:[{type:"dynamo",url:"sc_mars_express/earth/orb"},{type:"dynamo",url:"sc_mars_express/sun/orb"},{type:"dynamo",url:"sc_mars_express/mars/orb"},{type:"align",primary:{type:"point",target:"mars",axis:Vh.XAxisNeg}},{type:"dynamo",url:"sc_mars_express/ori"}]},sc_phoenix:{groups:["mars","spacecraft"],radius:.0027,label:"Phoenix",parents:[[239496427,"earth"],[239618121,"sun"],[265008306,"mars"],[265030318,"sc_phoenix_landing_site"],[278942465,""]],trail:{length:45411186,lengthCoverages:[[45411186,Number.NEGATIVE_INFINITY,265008306],[5e4,265008306,265030318],[500,265030318,265030769],[0,265030769,278942465]]},model:{url:"$STATIC_ASSETS_URL/models/sc_phoenix/cruise/phoenix_cruise.gltf",rotate:[{z:90}]},controllers:[{type:"dynamo",url:"sc_phoenix/earth/orb"},{type:"dynamo",url:"sc_phoenix/sun/orb"},{type:"dynamo",url:"sc_phoenix/mars/orb"},{type:"dynamo",url:"sc_phoenix/phx_topo/pos"},{type:"dynamo",url:"sc_phoenix/ori"},{type:"fixed",position:new Vh(.027059368126568832,.013878235928918032,-.04367634407940447),coverage:[265030769,278942465]},{type:"rotateByEntityOrientation",rotatingOrientation:!1,coverage:[265030769,278942465]},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxisNeg}},{type:"coverage",coverage:[265029904,Number.POSITIVE_INFINITY],enter:t=>{t.getComponentByClass(ld).setUrl("$STATIC_ASSETS_URL/models/sc_phoenix/edl/phoenix_edl.gltf")},exit:t=>{t.getComponentByClass(ld).setUrl("$STATIC_ASSETS_URL/models/sc_phoenix/cruise/phoenix_cruise.gltf")}}],postCreateFunction:t=>{t.addParentChangedCallback(((t,e,i)=>{if(null!==i){const e=i.getName(),s=t.getComponentByClass(xd);"sc_phoenix_landing_site"===e?(s.setRelativeToEntity("mars"),s.setRelativeToEntityOrientation(!0)):(s.setRelativeToEntity(""),s.setRelativeToEntityOrientation(!1))}}))}},sc_phoenix_landing_site:{groups:["mars","sc_phoenix","sites"],radius:.001,systemRadius:200,label:"Phoenix Landing Site",parents:[[239496427,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(1.1906355815662266,-2.1947740491302206,-2.5912352775421823),coverage:[239496427,Number.POSITIVE_INFINITY]}]},sc_trace_gas_orbiter:{groups:["mars","spacecraft"],radius:.00875915,label:"Trace Gas Orbiter",parents:[[511257268,"earth"],[511941668,"sun"],[530107268,"mars"]],trail:{length:6720,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,530160041],[6720,530160041,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_trace_gas_orbiter/TGO.gltf",rotate:[{x:-90},{y:-90}],environmentMap:{cubemap:"$STATIC_ASSETS_URL/env_maps/park_gray/$FACE.jpg"},shadowEntities:["mars","deimos","phobos"]},controllers:[{type:"dynamo",url:"sc_trace_gas_orbiter/earth/orb"},{type:"dynamo",url:"sc_trace_gas_orbiter/sun/orb"},{type:"dynamo",url:"sc_trace_gas_orbiter/mars/orb"},{type:"align",primary:{type:"point",target:"mars",axis:Vh.YAxisNeg},secondary:{type:"point",target:"sun",axis:Vh.XAxisNeg}},{type:"dynamo",url:"sc_trace_gas_orbiter/ori"}],postCreateFunction:t=>{let e=t.addControllerByClass(Td);e.setJoint("right_array_1"),e.setPrimaryAxis(Vh.XAxis),e.setSecondaryAxis(Vh.YAxis),e.setSecondaryAlignType("point"),e.setSecondaryTargetEntity("sun"),e=t.addControllerByClass(Td),e.setJoint("left_array_1"),e.setPrimaryAxis(Vh.XAxis),e.setSecondaryAxis(Vh.YAxis),e.setSecondaryAlignType("point"),e.setSecondaryTargetEntity("sun")}},sc_mars_orbiter_mission:{groups:["mars","spacecraft"],radius:.00275,label:"Mars Orbiter Mission",parents:[[623211069.1823474,"mars"]],trail:{length:234146},controllers:[{type:"animdata",url:"sc_mars_orbiter_mission/mars",dataType:"pos"}]},sc_mars_global_surveyor:{groups:["mars","spacecraft"],occlusionRadius:.003,extentsRadius:.005,label:"Mars Global Surveyor",parents:[[-72699545,"mars"],[215697664.184,""]],trail:{length:7068.67},model:{url:"$STATIC_ASSETS_URL/models/sc_mars_global_surveyor/mars_global_surveyor.gltf",shadowEntities:["mars"]},controllers:[{type:"animdata",url:"sc_mars_global_surveyor_mission",dataType:"pos"},{type:"align",primary:{type:"point",target:"mars",axis:Vh.XAxisNeg}}]},sc_mars_climate_orbiter:{groups:["mars","spacecraft"],radius:.0011,label:"Mars Climate Orbiter",parents:[[-33318e3,"sun"],[-8650375.816,""]],trail:{length:73762215},controllers:[{type:"animdata",url:"sc_mars_climate_orbiter",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_mars_pathfinder:{groups:["mars","spacecraft"],radius:33e-5,label:"Mars Pathfinder",parents:[[-91704541,"sun"],[-78692880,""]],trail:{length:51497488},controllers:[{type:"animdata",url:"sc_mars_pathfinder",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_mars_pathfinder_landing_site:{groups:["mars","sc_mars_pathfinder","sites"],radius:.001,systemRadius:200,label:"Mars Pathfinder Landing Site",parents:[[-97045250.817,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(19.13*Math.PI/180,-33.22*Math.PI/180,0),coverage:[-97045250.817,Number.POSITIVE_INFINITY]}]},sc_mars_polar_lander:{groups:["mars","spacecraft"],radius:.0018,label:"Mars Polar Lander",parents:[[-31298400,"sun"],[-2476735.816,""]],trail:{length:41109006},controllers:[{type:"animdata",url:"sc_mars_polar_lander",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_viking_1_orbiter:{groups:["mars","spacecraft"],radius:.0047,label:"Viking 1 Orbiter",parents:[[-742490410,"mars"],[-663249600,""]],trail:{length:88649},controllers:[{type:"animdata",url:"sc_viking_1_orbiter",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_viking_1_lander_landing_site:{groups:["mars","sc_viking_1_lander","sites"],radius:.001,systemRadius:200,label:"Viking 1 Lander Landing Site",parents:[[-768926233.817,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(22.27*Math.PI/180,312.05*Math.PI/180,0),coverage:[-768926233.817,Number.POSITIVE_INFINITY]}]},sc_viking_2_orbiter:{groups:["mars","spacecraft"],radius:.0047,label:"Viking 2 Orbiter",parents:[[-738460186,"mars"],[-676517400,""]],trail:{length:98694},controllers:[{type:"animdata",url:"sc_viking_2_orbiter",dataType:"pos"},{type:"fixed",orientation:Lh.Identity}]},sc_viking_2_lander_landing_site:{groups:["mars","sc_viking_2_lander","sites"],radius:.001,systemRadius:200,label:"Viking 2 Lander Landing Site",parents:[[-767208013.818,"mars"]],controllers:[{type:"fixed",llaOnSpheroid:new su(47.64*Math.PI/180,-225.71*Math.PI/180,0),coverage:[-767208013.818,Number.POSITIVE_INFINITY]}]}}),xp.register({sc_messenger:{groups:["mercury","spacecraft"],occlusionRadius:.00133,extentsRadius:.0035,label:"MESSENGER",parents:[[144789279.39320505,"earth"],[145066469,"sun"],[175801890,"earth"],[176659095,"sun"],[214828942,"venus"],[215033751,"sun"],[234289415,"venus"],[234436749,"sun"],[253547108,"mercury"],[253671753,"sun"],[276485360,"mercury"],[276627276,"sun"],[307423681,"mercury"],[307651285,"sun"],[353474040,"mercury"],[483694028.351,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_messenger/Messenger.gltf",rotate:[{z:-90},{y:90}],shadowEntities:["mercury"]},controllers:[{type:"dynamo",url:"sc_messenger/earth/launch/orb"},{type:"dynamo",url:"sc_messenger/sun/1/orb"},{type:"dynamo",url:"sc_messenger/earth/flyby/orb"},{type:"dynamo",url:"sc_messenger/sun/2/orb"},{type:"dynamo",url:"sc_messenger/venus/flyby1/orb"},{type:"dynamo",url:"sc_messenger/sun/3/orb"},{type:"dynamo",url:"sc_messenger/venus/flyby2/orb"},{type:"dynamo",url:"sc_messenger/sun/4/orb"},{type:"dynamo",url:"sc_messenger/mercury/flyby1/orb"},{type:"dynamo",url:"sc_messenger/sun/5/orb"},{type:"dynamo",url:"sc_messenger/mercury/flyby2/orb"},{type:"dynamo",url:"sc_messenger/sun/6/orb"},{type:"dynamo",url:"sc_messenger/mercury/flyby3/orb"},{type:"dynamo",url:"sc_messenger/sun/7/orb"},{type:"dynamo",url:"sc_messenger/mercury/orb"},{type:"align",primary:{type:"point",target:"mercury",axis:Vh.YAxis},secondary:{type:"velocity",target:"sc_messenger",axis:Vh.ZAxis}},{type:"dynamo",url:"sc_messenger/ori"}]},sc_messenger_impact_site:{groups:["mercury","sc_messenger","sites"],radius:.001,label:"MESSENGER Impact Site",parents:[[Number.NEGATIVE_INFINITY,"mercury"]],controllers:[{type:"fixed",llaOnSpheroid:new su(.9501527254431932,-2.615904550043192,-.910251923861324),coverage:[483694028.351,Number.POSITIVE_INFINITY]}]}}),xp.register({sc_juno:{groups:["jupiter","spacecraft"],occlusionRadius:.001732,extentsRadius:.01,label:"Juno",parents:[[365836752.1832,"earth"],[366088266.183,"sun"],[434433667.182,"earth"],[434793667.182,"sun"],[519652868.184,"jupiter"],[676339597,"ganymede"],[676381521,"jupiter"],[717700360,"europa"],[717727733,"jupiter"],[757191924,"io"],[757203571,"jupiter"],[760247560,"io"],[760262808,"jupiter"]],trail:{length:void 0,lengthCoverages:[[63072e3,Number.NEGATIVE_INFINITY,519652868.184],[5184e3,519652868.184,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_juno/Juno.gltf",rotate:[{x:90}],shadowEntities:["jupiter","europa","ganymede","callisto","io"]},controllers:[{type:"dynamo",url:"sc_juno/earth/launch/orb"},{type:"dynamo",url:"sc_juno/sun/preflyby/orb"},{type:"dynamo",url:"sc_juno/earth/flyby/orb"},{type:"dynamo",url:"sc_juno/sun/postflyby/orb"},{type:"dynamo",url:"sc_juno/jupiter/orb"},{type:"dynamo",url:"sc_juno/ganymede/orb"},{type:"dynamo",url:"sc_juno/europa/orb"},{type:"dynamo",url:"sc_juno/io/1/orb"},{type:"dynamo",url:"sc_juno/io/2/orb"},{type:"fixed",orientation:Lh.Identity,coverage:[365836752.1832,Number.POSITIVE_INFINITY]},{type:"dynamo",url:"sc_juno/ori"},{type:"coverage",coverage:[393471366,529749008],update:t=>{const e=t.getComponentByClass(ld).getThreeJsObjectByName("engine_cover");if(null!==e){const i=t.getScene().getEngine().getTime(),s=ph.getIndex(i,k_,((t,e)=>t[1]<e)),n=k_[s][0],a=k_[s][1],r=hh.clamp01(((a-n)/2-Math.abs(i-(a+n)/2))/600);e.rotation.x=hh.lerp(Math.PI,Math.PI/8,r)}},exit:t=>{const e=t.getComponentByClass(ld).getThreeJsObjectByName("engine_cover");null!==e&&(e.rotation.x=Math.PI)}},{type:"coverage",coverage:[399637867.183,520959604.184],update:t=>{const e=t.getComponentByClass(cd),i=t.getScene().getEngine().getTime(),s=ph.getIndex(i,F_,((t,e)=>t[1]<e)),n=F_[s][0],a=F_[s][1],r=n<=i&&i<a;e.setEnabled(r)},exit:t=>{t.getComponentByClass(cd).setEnabled(!1)}},{type:"coverage",coverage:[519652868.184,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);e&&e.setRelativeToEntity("jupiter")},exit:t=>{const e=t.getComponentByClass(xd);e&&e.setRelativeToEntity("")}}],postCreateFunction:t=>{const e=t.addControllerByClass(P_);e.setKeyframes(U_),e.setDirection(Vh.ZAxis),e.setCoverage(new Ih(365836752.1832,521025625));const i=t.addControllerByClass(R_);i.setKeyframes(z_),i.setAxis(Vh.ZAxis),i.setCoverage(new Ih(365836752.1832,521025625)),i.setStartingAngle(-.96);const s=t.addComponentByClass(cd);s.setNumberOfParticles(100),s.setSizeOfParticles(3e-4),s.setSpeedOfParticles(.01),s.setColorOfParticles(new vh(1,.75,0,.25)),s.setSpread(-3),s.setParticleSpacingRandom(!1),s.setLength(.003),s.setOriginOffset(new Vh(0,0,-.0017)),s.setDirection(Vh.ZAxisNeg),s.setEnabled(!1)}},sc_cassini:{groups:["saturn","spacecraft"],occlusionRadius:.0034,extentsRadius:.0055,label:"Cassini",parents:[[-69820368.42763124,"earth"],[-69537536.818,"sun"],[-53179136.814,"venus"],[-53092736.814,"sun"],[-16495135.816,"venus"],[-16451935.816,"sun"],[-11951935.817,"earth"],[-11660335.817,"sun"],[139219264.185,"saturn"],[558743640,""]],dependents:["sc_huygens"],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_cassini/Cassini.gltf",rotate:[{x:-90},{z:180}],shadowEntities:["saturn","titan","enceladus","mimas","tethys"]},controllers:[{type:"dynamo",url:"sc_cassini/earth/launch/orb"},{type:"dynamo",url:"sc_cassini/sun/1/orb"},{type:"dynamo",url:"sc_cassini/venus/flyby1/orb"},{type:"dynamo",url:"sc_cassini/sun/2/orb"},{type:"dynamo",url:"sc_cassini/venus/flyby2/orb"},{type:"dynamo",url:"sc_cassini/sun/3/orb"},{type:"dynamo",url:"sc_cassini/earth/flyby/orb"},{type:"dynamo",url:"sc_cassini/sun/4/orb"},{type:"dynamo",url:"sc_cassini/saturn/orb"},{type:"dynamo",url:"sc_cassini/quat"},{type:"coverage",coverage:[-13098535.817,534124760.143],update:t=>{const e=t.getComponentByClass(cd),i=t.getScene().getEngine().getTime(),s=ph.getIndex(i,D_,((t,e)=>t[1]<e)),n=D_[s][0],a=D_[s][1],r=n<=i&&i<a;e.setEnabled(r)},exit:t=>{t.getComponentByClass(cd).setEnabled(!1)}},{type:"coverage",coverage:[157212064.184,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setHiddenObject("huygens_probe",!0)},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setHiddenObject("huygens_probe",!1)}}],postCreateFunction:t=>{const e=t.addComponentByClass(cd);e.setNumberOfParticles(50),e.setSizeOfParticles(3e-4),e.setSpeedOfParticles(.01),e.setColorOfParticles(new vh(1,.75,0,.25)),e.setSpread(-3),e.setParticleSpacingRandom(!1),e.setLength(.002),e.setOriginOffset(new Vh(0,29e-5,.0033)),e.setDirection(Vh.ZAxis),e.setEnabled(!1)}},sc_europa_clipper:{groups:["jupiter","europa","ganymede","callisto","spacecraft"],occlusionRadius:.003,extentsRadius:.011,label:"Europa Clipper",parents:[[781796651,"sun"],[849443647,"earth"],[849694384,"sun"],[954569001,"jupiter"],[1096736672,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_europa_clipper/europa_clipper.gltf",shadowEntities:["jupiter","earth","mars","europa"]},controllers:[{type:"dynamo",url:"sc_europa_clipper/sun/orb"},{type:"dynamo",url:"sc_europa_clipper/earth/flyby/orb"},{type:"dynamo",url:"sc_europa_clipper/jupiter/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxis}}]},sc_galileo:{groups:["jupiter","spacecraft"],occlusionRadius:.003,extentsRadius:.0055,label:"Galileo",parents:[[-321964226.73959994,"earth"],[-321559829,"sun"],[-312199026,"venus"],[-311946958,"sun"],[-286252262,"earth"],[-285827020,"sun"],[-223105356,"earth"],[-222610262,"sun"],[-129268796,"jupiter"],[117442702,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_galileo/galileo.gltf",shadowEntities:["jupiter","earth","venus"],rotate:[{x:-90},{z:180}]},controllers:[{type:"dynamo",url:"sc_galileo/earth/launch/orb"},{type:"dynamo",url:"sc_galileo/sun/orb"},{type:"dynamo",url:"sc_galileo/venus/flyby/orb"},{type:"dynamo",url:"sc_galileo/earth/flyby1/orb"},{type:"dynamo",url:"sc_galileo/earth/flyby2/orb"},{type:"dynamo",url:"sc_galileo/jupiter/orb"},{type:"align",primary:{type:"point",target:"mercury",axis:Vh.ZAxisNeg},secondary:{type:"align",axis:Vh.YAxis,target:"earth",targetAxis:Vh.ZAxis}},{type:"dynamo",url:"sc_galileo/quat"}],postCreateFunction:t=>{const e=t.addControllerByClass(mp);e.setJoint("spinning_section"),e.setRate(6*Math.PI/60),e.setAxis(Vh.YAxisNeg,!0)}},sc_galileo_probe:{groups:["jupiter","spacecraft"],radius:72e-5,label:"Galileo Probe",parents:[[-321964226.73959994,"sc_galileo"],[-129268796,"jupiter"],[-128353980,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_galileo_probe/galileo_probe.gltf",rotate:[{x:-90}]},controllers:[{type:"dynamo",url:"sc_galileo_probe/galileo/orb"},{type:"dynamo",url:"sc_galileo_probe/jupiter/orb"},{type:"fixed",position:Vh.Zero,orientation:Lh.Identity,coverage:[-321964226.73959994,-141114537.48322043]},{type:"coverage",coverage:[Number.NEGATIVE_INFINITY,-141114537.48322043],enter:t=>{const e=t.getComponentByClass(sd);null!==e&&e.setEnabled(!1);const i=t.getComponentByClass(xd);null!==i&&i.setEnabled(!1),t.getControllerByClass(yp).setTranslation(new Vh(0,0,.001))},exit:t=>{const e=t.getComponentByClass(sd);null!==e&&e.setEnabled(!0);const i=t.getComponentByClass(xd);null!==i&&i.setEnabled(!0),t.getControllerByClass(yp).setTranslation(new Vh(-16e-6,24e-6,7e-4))}}],postCreateFunction:t=>{t.getComponentByClass(ld).setTranslation(new Vh(0,0,-.001));const e=t.addControllerByClass(yp);e.setTranslation(new Vh(-16e-6,24e-6,7e-4)),e.setRelativeToOrientation(!0),e.setCoverage(new Ih(-321964226.73959994,-128353980)),t.addControllerByClass(pp).setCoverage(new Ih(-321964226.73959994,-141114537.48322043));const i=t.addControllerByClass(Jd);i.setOrientation(new Lh(.40004226980201746,.3894033591393042,-.7928008139628516,.24453645053961984)),i.setCoverage(new Ih(-141114537.48322043,Number.POSITIVE_INFINITY))}},sc_huygens:{groups:["saturn","spacecraft","titan"],occlusionRadius:.0013,extentsRadius:.0013,label:"Huygens",parents:[[157212064.184,"saturn"],[158945582,"titan"],[158974766.184,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_huygens/Huygens.gltf",rotate:[{x:-90},{z:180}],shadowEntities:["saturn","titan","enceladus","mimas","tethys"]},controllers:[{type:"dynamo",url:"sc_huygens/saturn/orb"},{type:"dynamo",url:"sc_huygens/titan/orb"},{type:"fixed",orientation:new Lh(.8295521744501194,.09912464029342342,-.04158756948048668,-.5479853735424731)},{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(158965616.707,new Vh(-74.84608000701567,-3832.0774028380238,-305.9513410781612)),e.addPositionKeyframe(158965667.7750001,new Vh(-168.19015737501377,-3541.733393771429,-291.12326824195395)),e.addPositionKeyframe(158965894.184,new Vh(-376.8992769951708,-2686.9622048526126,-273.33138256355716)),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(158965894.184,new Vh(-376.8992769951708,-2686.9622048526126,-273.33138256355716)),e.addPositionKeyframe(158974766.184,new Vh(-251.2479743710496,-2548.813556954952,-266.5500089234507)),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(yp);return e.setTranslation(new Vh(-.0013,0,.0011)),e.setRelativeToOrientation(!0),e.setCoverage(new Ih(157212064.184,158974766.184)),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(R_);return e.setKeyframes(j_),e.setAxis(Vh.XAxisNeg),e.setCoverage(new Ih(157212064.184,Number.POSITIVE_INFINITY)),e}},{type:"coverage",coverage:[158965616.707,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!1)}}],postCreateFunction:t=>{t.getComponentByClass(ld).setTranslation(new Vh(.0013,0,-.0011))}},sc_huygens_landing_site:{groups:["titan","sc_huygens","sites"],radius:.001,systemRadius:200,label:"Huygens Landing Site",parents:[[157212064.184,"titan"]],controllers:[{type:"fixed",llaOnSpheroid:new su(-.18453331247520502,2.9263055188728955,0),coverage:[157212064.184,Number.POSITIVE_INFINITY]}]},sc_juice:{groups:["jupiter","ganymede","spacecraft"],occlusionRadius:.007,extentsRadius:.0135,label:"JUICE",parents:[[734748207,"earth"],[735606318,"sun"],[777026548,"earth"],[778061110,"sun"],[809697014,"venus"],[810162491,"sun"],[843697642,"earth"],[844049179,"sun"],[916393497,"earth"],[916903199,"sun"],[994471790,"jupiter"],[1103217877,"ganymede"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_juice/juice.gltf",shadowEntities:["ganymede","jupiter","earth"]},controllers:[{type:"dynamo",url:"sc_juice/earth/launch"},{type:"dynamo",url:"sc_juice/sun"},{type:"dynamo",url:"sc_juice/earth/flyby1"},{type:"dynamo",url:"sc_juice/venus/flyby"},{type:"dynamo",url:"sc_juice/earth/flyby2"},{type:"dynamo",url:"sc_juice/earth/flyby3"},{type:"dynamo",url:"sc_juice/jupiter"},{type:"dynamo",url:"sc_juice/ganymede"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.XAxisNeg},secondary:{type:"align",target:"sun",axis:Vh.YAxisNeg,targetAxis:Vh.ZAxis}},{type:"dynamo",url:"sc_juice/quat"}]},sc_pioneer_10:{groups:["sun","jupiter","spacecraft"],occlusionRadius:.002118055,extentsRadius:.003,label:"Pioneer 10",parents:[[-878291717.8145751,"earth"],[-878146409,"sun"],[-824046472,"jupiter"],[-822011429,"sun"]],trail:{length:31536e4},model:{url:"$STATIC_ASSETS_URL/models/sc_pioneer/pioneer.gltf",rotate:[{x:90}]},controllers:[{type:"dynamo",url:"sc_pioneer_10/earth/orb"},{type:"dynamo",url:"sc_pioneer_10/sun/1/orb"},{type:"dynamo",url:"sc_pioneer_10/jupiter/orb"},{type:"dynamo",url:"sc_pioneer_10/sun/2/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis}}]},sc_pioneer_11:{groups:["sun","jupiter","saturn","spacecraft"],occlusionRadius:.002118055,extentsRadius:.003,label:"Pioneer 11",parents:[[-843816855.8143449,"earth"],[-843644357,"sun"],[-792658454,"jupiter"],[-790152245,"sun"],[-643302619,"saturn"],[-640194311,"sun"]],trail:{length:31536e4},model:{url:"$STATIC_ASSETS_URL/models/sc_pioneer/pioneer.gltf",rotate:[{x:90}]},controllers:[{type:"dynamo",url:"sc_pioneer_11/earth/orb"},{type:"dynamo",url:"sc_pioneer_11/sun/1/orb"},{type:"dynamo",url:"sc_pioneer_11/jupiter/orb"},{type:"dynamo",url:"sc_pioneer_11/sun/2/orb"},{type:"dynamo",url:"sc_pioneer_11/saturn/orb"},{type:"dynamo",url:"sc_pioneer_11/sun/3/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis}}]},sc_voyager_1:{groups:["jupiter","saturn","sun","spacecraft"],occlusionRadius:.00183,extentsRadius:.0043,label:"Voyager 1",parents:[[-704412035.617,"earth"],[-703530245,"sun"],[-660264745,"jupiter"],[-655057463,"sun"],[-606239665,"saturn"],[-600733702,"sun"]],trail:{length:94608e4,lengthCoverages:[[15768e4,Number.NEGATIVE_INFINITY,377123932.454],[94608e4,377123932.454,Number.POSITIVE_INFINITY],[5184e3,-660264745,-655057463],[5184e3,-606239665,-600733702]]},model:{url:"$STATIC_ASSETS_URL/models/sc_voyager/Voyager.gltf",rotate:[{x:-90}]},controllers:[{type:"dynamo",url:"sc_voyager_1/earth/orb"},{type:"dynamo",url:"sc_voyager_1/sun/1/orb"},{type:"dynamo",url:"sc_voyager_1/jupiter/orb"},{type:"dynamo",url:"sc_voyager_1/sun/2/orb"},{type:"dynamo",url:"sc_voyager_1/saturn/orb"},{type:"dynamo",url:"sc_voyager_1/sun/3/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxisNeg}},{type:"dynamo",url:"sc_voyager_1/ori"}]},sc_voyager_2:{groups:["jupiter","saturn","uranus","neptune","sun","spacecraft"],occlusionRadius:.00183,extentsRadius:.0043,label:"Voyager 2",parents:[[-705788847.817,"earth"],[-704774613,"sun"],[-650828783,"jupiter"],[-642276063,"sun"],[-582886481,"saturn"],[-574538624,"sun"],[-440395228,"uranus"],[-439259319,"sun"],[-327233138,"neptune"],[-326252606,"sun"]],trail:{length:94608e4,lengthCoverages:[[15768e4,Number.NEGATIVE_INFINITY,651751314.724],[94608e4,651751314.724,Number.POSITIVE_INFINITY],[5184e3,-650828783,-642276063],[5184e3,-582886481,-574538624],[5184e3,-440395228,-439259319],[5184e3,-327233138,-326252606]]},model:{url:"$STATIC_ASSETS_URL/models/sc_voyager/Voyager.gltf",rotate:[{x:-90}]},controllers:[{type:"dynamo",url:"sc_voyager_2/earth/orb"},{type:"dynamo",url:"sc_voyager_2/sun/1/orb"},{type:"dynamo",url:"sc_voyager_2/jupiter/orb"},{type:"dynamo",url:"sc_voyager_2/sun/2/orb"},{type:"dynamo",url:"sc_voyager_2/saturn/orb"},{type:"dynamo",url:"sc_voyager_2/sun/3/orb"},{type:"dynamo",url:"sc_voyager_2/uranus/orb"},{type:"dynamo",url:"sc_voyager_2/sun/4/orb"},{type:"dynamo",url:"sc_voyager_2/neptune/orb"},{type:"dynamo",url:"sc_voyager_2/sun/5/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.ZAxisNeg}},{type:"dynamo",url:"sc_voyager_2/ori"}]}});const D_=[[-13098535.817,-13098146.797],[-12342535.817,-12342421.197],[-10612735.817,-10612663.357],[14274064.185,14274070.255],[36653454.185,36653459.605],[71128864.186,71128875.066],[105091264.185,105091282.755],[118339264.182,118339287.092],[138968824.185,138969181.735],[140692084.184,140692123.174],[141916392.184,141922237.024],[146548444.183,146551498.073],[147846664.183,147846668.693],[152302564.182,152302569.842],[154285264.183,154285267.193],[156518584.184,156518669.274],[157466284.184,157466438.074],[159139264.184,159139404.074],[160168144.185,160168264.795],[161978464.185,161978469.745],[163011064.185,163011104.295],[163869664.186,163869667.996],[164528404.186,164528414.466],[165853384.186,165853391.046],[166370464.186,166370502.696],[168008344.186,168008476.766],[174127084.184,174127086.454],[176341864.183,176341881.793],[176952124.183,176952139.533],[178261744.183,178261753.433],[178699444.183,178699535.673],[180420064.182,180420240.372],[182368684.182,182368777.962],[184039204.183,184039282.793],[185162584.183,185162597.343],[196273205.186,196273208.936],[197566385.186,197566387.476],[199978145.185,199978148.205],[202994705.185,202994717.245],[207734765.183,207734800.073],[211183265.182,211183306.302],[211500485.182,211500537.082],[212965745.182,212965786.692],[214371665.182,214371670.582],[216354545.183,216354568.983],[219456245.183,219456251.063],[219887345.184,219887389.034],[220835165.184,220835169.094],[221266265.184,221266275.434],[222644225.185,222644240.975],[224109485.185,224109487.885],[226090325.185,226090329.355],[227038025.186,227038032.946],[227469065.186,227469075.266],[228387005.186,228387008.496],[228846905.186,228846923.006],[230225585.186,230225608.176],[231577265.185,231577300.725],[232982885.185,232982919.625],[233930525.185,233930529.665],[234334565.185,234334641.855],[235309205.185,235309210.915],[235740245.184,235740294.424],[239704565.183,239704568.933],[242004965.183,242004968.253],[242979665.182,242979748.272],[244876985.182,244876993.442],[247203665.183,247203671.283],[248986685.183,248986692.503],[249417845.183,249417942.863],[250365665.183,250365669.503],[250801865.183,250801924.453],[252201785.184,252201798.884],[253728965.184,253728983.974],[255535625.185,255535853.415],[256682225.185,256682228.065],[257684225.185,257684269.165],[258146525.185,258146533.105],[258722525.186,258722543.076],[261147905.186,261147925.516],[262453685.186,262453688.326],[264259265.185,264259272.395],[267474305.184,267474379.954],[271073765.183,271073780.663],[272731805.183,272731887.753],[275208605.182,275208611.692],[276214805.182,276214829.892],[277127525.182,277127545.362],[277506665.182,277506708.062],[279455045.183,279455100.823],[279799805.183,279799837.073],[280747565.183,280747571.013],[282126485.183,282126503.483],[282471245.183,282471256.053],[286040946.185,286040974.915],[287532306.185,287532308.475],[289858866.186,289858897.046],[291603966.186,291603971.806],[292809906.186,292809948.366],[294188586.186,294188602.066],[295567266.185,295567279.505],[296945946.185,296945956.015],[297893586.185,297893599.995],[299272206.184,299272220.614],[300687786.184,300687808.034],[302066526.183,302066563.313],[303703506.183,303703583.793],[304824006.183,304824009.283],[305390946.183,305390972.583],[308925306.182,308925311.352],[309355506.182,309355530.682],[310684866.183,310684869.093],[312200586.183,312200601.223],[534124756.143,534124760.143]],k_=[[393471366,393501486],[399019747,399883447],[400569547,400988887],[420541747,420794647],[454490527,454650187],[487136707,487309687],[519804068,521041748],[528958868,529749008]],F_=[[399637867.183,399639659.183],[400933867.182,400935660.182],[420714067.185,420714072.185],[454572067.185,454572072.185],[487231267.185,487231272.185],[520957868.184,520959604.184]],U_=[[365835906,"velocity"],[365836206,"sun"],[371908866,"sun"],[371909466,"earth"],[399631646,"earth"],[399632628,"sun"],[399635271,"sun"],[399636306,"-velocity"],[399640481,"-velocity"],[399641686,"sun"],[399700717,"sun"],[399641887,"earth"],[400927646,"earth"],[400928454,"sun"],[400931272,"sun"],[400932282,"-velocity"],[400936477,"-velocity"],[400937632,"sun"],[401003197,"sun"],[401009197,"earth"],[423014467,"earth"],[423014767,"sun"],[436924867,"sun"],[436925167,"earth"],[520954868,"earth"],[520955888,"-velocity"],[520960808,"-velocity"],[520962008,"sun"],[521018048,"sun"],[521025625,"earth"]],z_=[[394545667,1*Math.PI/30],[394545967,2*Math.PI/30],[399636967,2*Math.PI/30],[399637264,5*Math.PI/30],[399637866,5*Math.PI/30],[399639659,5.5*Math.PI/30],[399639788,5.5*Math.PI/30],[399640072,2*Math.PI/30],[400932921,2*Math.PI/30],[400933214,5*Math.PI/30],[400933866,5*Math.PI/30],[400935660,5.5*Math.PI/30],[400935790,5.5*Math.PI/30],[400936068,2*Math.PI/30],[520956548,2*Math.PI/30],[520956848,5*Math.PI/30],[520960088,5*Math.PI/30],[520960388,2*Math.PI/30],[521025625,2*Math.PI/30]],j_=[[157212064.184,7.5*Math.PI/30],[158965863.184,7.5*Math.PI/30],[158966163.184,2.6*Math.PI/30],[158966434.184,0],[158966883.184,-5.6*Math.PI/30],[158967123.184,-9.7*Math.PI/30],[158967363.184,-7.3*Math.PI/30],[158968263.184,-2.8*Math.PI/30],[158973723.184,-1*Math.PI/30]];class B_{static makeSubobjectVisibleAnimation(t,e,i,s){s.sort(((t,e)=>t[0]-e[0]));const n=t.getEntity().addControllerByClass(Fd);return n.setCoverage(new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),n.setUpdateFunction((n=>{const a=n.getScene().getEngine().getTime(),r=ph.getIndex(a,s,((t,e)=>t[0]<e));0===r?t.setHiddenObject(e,!i):t.setHiddenObject(e,!s[r-1][1])})),n}static makeJointRotationAnimation(t,e,i,s){s.sort(((t,e)=>t[0]-e[0]));const n=t.getEntity().addControllerByClass(Fd);return n.setCoverage(new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),n.setUpdateFunction((n=>{const a=t.getThreeJsObjectByName(e);if(null!==a){const t=n.getScene().getEngine().getTime(),e=ph.getIndex(t,s,((t,e)=>t[0]<e));if(0===e)a.rotation[i]=s[0][1];else if(e===s.length)a.rotation[i]=s[s.length-1][1];else{const n=s[e-1],r=s[e],o=(t-n[0])/(r[0]-n[0]);a.rotation[i]=hh.lerp(n[1],r[1],o)}}})),n}}xp.register({sc_dart:{groups:["small body spacecraft","asteroid spacecraft","65803_didymos","dimorphos","spacecraft"],occlusionRadius:.0012,extentsRadius:.00625,label:"DART",parents:[[691007069,"earth"],[691418893,"sun"],[717454117,"65803_didymos"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_dart/dart.gltf",shadowEntities:["earth"]},controllers:[{type:"dynamo",url:"sc_dart/earth/orb"},{type:"dynamo",url:"sc_dart/sun/orb"},{type:"dynamo",url:"sc_dart/65803_didymos/pos"},{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(717503237,new Vh(-10320.163052194115,13421.106828492655,5349.381737812169)),e.addPositionKeyframe(717506127.238318,new Vh(-.9047084058613565,-.7147384471771195,-.30125475602973617)),e}},{type:"align",primary:{type:"velocity",target:"sc_dart",axis:Vh.ZAxisNeg},secondary:{type:"point",target:"sun",axis:Vh.YAxis},coverage:[Number.NEGATIVE_INFINITY,717454117]},{type:"align",primary:{type:"point",target:"dimorphos",axis:Vh.ZAxisNeg},secondary:{type:"point",target:"sun",axis:Vh.YAxis},coverage:[717454117,Number.POSITIVE_INFINITY]}]},sc_dawn:{groups:["small body spacecraft","asteroid spacecraft","dwarf planet spacecraft","4_vesta","1_ceres","spacecraft"],occlusionRadius:885e-6,extentsRadius:.00985,label:"Dawn",parents:[[244168849.8323595,"earth"],[244461608,"sun"],[288169447,"mars"],[288210177,"sun"],[363182466,"4_vesta"],[400075267,"sun"],[476712067,"1_ceres"],[594302469.184,""]],trail:{length:659889.75},model:{url:"$STATIC_ASSETS_URL/models/sc_dawn/model.gltf",rotate:[{z:-90}]},controllers:[{type:"dynamo",url:"sc_dawn/earth/orb"},{type:"dynamo",url:"sc_dawn/sun/1/orb"},{type:"dynamo",url:"sc_dawn/mars/orb"},{type:"dynamo",url:"sc_dawn/sun/2/orb"},{type:"dynamo",url:"sc_dawn/vesta/orb"},{type:"dynamo",url:"sc_dawn/sun/3/orb"},{type:"dynamo",url:"sc_dawn/ceres/orb"},{type:"fixed",orientation:new Lh(.9999478154504517,.008904517167862874,.004868284692665544,-.0011729254143642916),coverage:[244168849.8323595,244171353.18400002]},{type:"dynamo",url:"sc_dawn/ori"}]},sc_deep_impact:{groups:["small body spacecraft","comet spacecraft","9p_tempel_1","103p_hartley_2","spacecraft"],occlusionRadius:.00165,extentsRadius:.003,label:"Deep Impact",parents:[[158829812.068274,"earth"],[159287744,"sun"],[173560752,"9p_tempel_1"],[173923158,"sun"],[251798121,"earth"],[253531474,"sun"],[282984399,"earth"],[285405903,"sun"],[330384030,"earth"],[331534813,"sun"],[342017751,"103p_hartley_2"],[342368983,"sun"],[429192067,""]],trail:{length:47421459,lengthCoverages:[[362406,173560752,173923158],[1733353,251798121,253531474],[2421504,282984399,285405903],[1150783,330384030,331534813],[351232,342017751,342368983]]},model:{url:"$STATIC_ASSETS_URL/models/sc_deep_impact/deep_impact_wo_impactor.gltf",rotate:[{y:-90}]},controllers:[{type:"dynamo",url:"sc_deep_impact/earth/launch/orb"},{type:"dynamo",url:"sc_deep_impact/sun/orb"},{type:"dynamo",url:"sc_deep_impact/9p_tempel_1/pos"},{type:"dynamo",url:"sc_deep_impact/earth/flyby1/orb"},{type:"dynamo",url:"sc_deep_impact/earth/flyby2/orb"},{type:"dynamo",url:"sc_deep_impact/earth/flyby3/orb"},{type:"dynamo",url:"sc_deep_impact/103p_hartley_2/pos"},{type:"fixed",orientation:Lh.Identity},{type:"dynamo",url:"sc_deep_impact/quat"}]},sc_deep_impact_impactor:{groups:["small body spacecraft","comet spacecraft","9p_tempel_1","sc_deep_impact","spacecraft"],occlusionRadius:.001,extentsRadius:.001,label:"Deep Impact Impactor",parents:[[158829812.068274,"sc_deep_impact"],[173642464.18400002,"9p_tempel_1"],[173727938.18158135,""]],trail:{length:27830},model:{url:"$STATIC_ASSETS_URL/models/sc_deep_impact_impactor/deep_impact_impactor.gltf",rotate:[{y:-90}]},controllers:[{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(173642464.18400002,new Vh(-713e-6,-55e-6,0),"sc_deep_impact",void 0,"sc_deep_impact"),e.addPositionKeyframe(173656621.40411958,new Vh(-123095.24746842826,-48294.70341251187,61743.99881253781),"sc_deep_impact",173642464.18400002),e.addPositionKeyframe(173727938.18158135,new Vh(1.580046751199936,3.178179950746365,-.628457454223176)),e}},{type:"fixed",position:new Vh(-713e-6,-55e-6,0),orientation:Lh.Identity,relativeToEntity:"sc_deep_impact",coverage:[158829812.068274,173642464.18400002]},{type:"fixed",orientation:new Lh(.9060465048532422,.3173702681972099,.2649483984949708,.09032269948692226),coverage:[173642464.18400002,Number.POSITIVE_INFINITY]},{type:"dynamo",url:"sc_deep_impact_impactor/quat",coverage:[173642464.18400002,Number.POSITIVE_INFINITY]}]},sc_deep_impact_impactor_impact_site:{groups:["small body sites","comet sites","9p_tempel_1","sc_deep_impact","sc_deep_impact_impactor","sites"],radius:.001,label:"Deep Impact Impactor Impact Site",parents:[[173727938.18158135,"9p_tempel_1"]],controllers:[{type:"fixed",position:new Vh(3.1153282512332603,-1.2860729555237982,-1.277920399403075),orientation:Lh.Identity,relativeToEntity:"9p_tempel_1",coverage:[173727938.18158135,Number.POSITIVE_INFINITY]}]},sc_deep_space_1:{groups:["small body spacecraft","asteroid spacecraft","9969_braille","spacecraft"],occlusionRadius:.00125,extentsRadius:.005,label:"Deep Space 1",parents:[[-37470248,"earth"],[-36628312,"sun"],[-13523799,"9969_braille"],[-13496699,"sun"],[54458637,"19p_borrelly"],[54476825,"sun"],[61977664.184,""]],trail:{length:40845609,lengthCoverages:[[27100,-13523799,-13496699],[18188,54458637,54476825]]},model:{url:"$STATIC_ASSETS_URL/models/sc_deep_space_1/deep_space_1.gltf",rotate:[{x:90},{z:90}]},controllers:[{type:"dynamo",url:"sc_deep_space_1/earth/orb"},{type:"dynamo",url:"sc_deep_space_1/sun/orb"},{type:"dynamo",url:"sc_deep_space_1/9969_braille/pos"},{type:"dynamo",url:"sc_deep_space_1/19p_borrelly/pos"},{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"earth"},secondary:{type:"point",axis:Vh.ZAxisNeg,target:"sun"}},{type:"dynamo",url:"sc_deep_space_1/quat"}]},sc_near_shoemaker:{groups:["small body spacecraft","asteroid spacecraft","253_mathilde","433_eros","spacecraft"],occlusionRadius:.002,extentsRadius:.0034,label:"NEAR",parents:[[-122129937,"sun"],[-61397606,"earth"],[-60793811,"sun"],[-79403925,"253_mathilde"],[-79210250,"sun"],[-8425610,"433_eros"],[36675809.3654,""]],trail:{length:63919069,lengthCoverages:[[4e5,-8425610,35279032.137],[0,35279032.137,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_near_shoemaker/near.gltf",rotate:[{x:90},{z:135}]},controllers:[{type:"custom",func:t=>{const e=t.addControllerByClass(ap),i=new Nh;return i.eccentricity=.3722732412046076,i.epoch=-122129937,i.semiMajorAxis=235420679.8644008,i.orbitOrientation.set(.25408339907533106,.05463135384055627,-.18986948069810847,.9467875272685549),i.meanAngularMotion=1.0085301888805118e-7,i.meanAnomalyAtEpoch=-.005941352116228519,e.addOrbitalElements(-122129937,i),e.addOrbitalElements(-113227200,i),e.setCoverage(new Ih(-122129937,-113227200)),e}},{type:"dynamo",url:"sc_near_shoemaker/sun/orb"},{type:"dynamo",url:"sc_near_shoemaker/earth/flyby/orb"},{type:"dynamo",url:"sc_near_shoemaker/253_mathilde/pos"},{type:"dynamo",url:"sc_near_shoemaker/433_eros/orb"},{type:"fixed",orientation:new Lh(.5052018803124495,-.11842169431143575,.7652511949887616,-.3809697770341459),coverage:[-122129937,-121953528.049046]},{type:"dynamo",url:"sc_near_shoemaker/quat"},{type:"fixed",position:new Vh(.930389249841349,4.935129554115763,-4.002004469114965),orientation:new Lh(.11222410400554989,.7066112547219852,-.6897721372150081,.11099857612696495),coverage:[35279032.137,36675809.3654]},{type:"rotateByEntityOrientation",coverage:[35279032.137,36675809.3654]}]},sc_near_shoemaker_landing_site:{groups:["433_eros","sc_near_shoemaker","sites"],radius:.001,systemRadius:200,label:"NEAR Shoemaker Landing Site",parents:[[36675809.3654,"433_eros"]],controllers:[{type:"fixed",position:new Vh(.930389249841349,4.935129554115763,-4.002004469114965),orientation:new Lh(.11222410400554989,.7066112547219852,-.6897721372150081,.11099857612696495),relativeToEntity:"433_eros",coverage:[36675809.3654,Number.POSITIVE_INFINITY]}]},sc_lucy:{groups:["small body spacecraft","asteroid spacecraft","52246_donaldjohanson","3548_eurybates","15094_polymele","11351_leucus","21900_orus","617_patroclus","menoetius","spacecraft"],occlusionRadius:.002,extentsRadius:.007125,label:"Lucy",parents:[[687656642.763,"earth"],[687915086,"sun"],[718960993,"earth"],[719531941,"sun"],[787134972,"earth"],[787532222,"sun"],[798252820,"52246_donaldjohanson"],[798584539,"sun"],[870652086,"3548_eurybates"],[872642047,"sun"],[872642047,"15094_polymele"],[875308504,"sun"],[891166024,"11351_leucus"],[894761809,"sun"],[909384911,"21900_orus"],[912190135,"sun"],[977590306,"earth"],[978108682,"sun"],[1046169596,"617_patroclus_barycenter"],[1047892376,"sun"]],dependents:["152830_dinkinesh"],trail:{length:63919069,lengthCoverages:[[570948,718960993,719531941],[397250,787134972,787532222],[331719,798252820,798584539],[1989961,870652086,872642047],[2666457,872642047,875308504],[3595785,891166024,894761809],[2805224,909384911,912190135],[518376,977590306,978108682],[1722780,1046169596,1047892376]]},model:{url:"$STATIC_ASSETS_URL/models/sc_lucy/lucy.gltf",rotate:[{x:90},{z:90}]},controllers:[{type:"dynamo",url:"sc_lucy/earth/launch/orb"},{type:"fixed",orientation:Lh.Identity},{type:"dynamo",url:"sc_lucy/sun/orb"},{type:"dynamo",url:"sc_lucy/earth/flyby1/orb"},{type:"dynamo",url:"sc_lucy/earth/flyby2/orb"},{type:"dynamo",url:"sc_lucy/52246_donaldjohanson/pos"},{type:"dynamo",url:"sc_lucy/3548_eurybates/pos"},{type:"dynamo",url:"sc_lucy/15094_polymele/pos"},{type:"dynamo",url:"sc_lucy/11351_leucus/pos"},{type:"dynamo",url:"sc_lucy/21900_orus/pos"},{type:"dynamo",url:"sc_lucy/earth/flyby3/orb"},{type:"dynamo",url:"sc_lucy/617_patroclus/pos"},{type:"align",primary:{type:"point",axis:Vh.XAxis,target:"earth"},secondary:{type:"align",axis:Vh.YAxis,target:"sun",targetAxis:Vh.ZAxis}},{type:"dynamo",url:"sc_lucy/quat"}]},sc_new_horizons:{groups:["small body spacecraft","dwarf planet spacecraft","TNO spacecraft","134340_pluto","486958_arrokoth","spacecraft"],occlusionRadius:.00135,extentsRadius:.0026,label:"New Horizons",parents:[[190972278.33046317,"earth"],[191055829,"sun"],[225619606,"jupiter"],[226100665,"sun"],[490130161,"134340_pluto"],[490167848,"sun"],[598753684,"486958_arrokoth"],[600203601,"sun"]],trail:{length:94608e3},model:{url:"$STATIC_ASSETS_URL/models/sc_new_horizons/new_horizons.gltf",rotate:[{y:90}]},controllers:[{type:"dynamo",url:"sc_new_horizons/earth/orb"},{type:"dynamo",url:"sc_new_horizons/sun/1/orb"},{type:"dynamo",url:"sc_new_horizons/jupiter/orb"},{type:"dynamo",url:"sc_new_horizons/sun/2/orb"},{type:"dynamo",url:"sc_new_horizons/pluto/orb"},{type:"dynamo",url:"sc_new_horizons/sun/3/pos"},{type:"dynamo",url:"sc_new_horizons/mu69/pos"},{type:"dynamo",url:"sc_new_horizons/sun/4/pos"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis}},{type:"dynamo",url:"sc_new_horizons/ori/1"},{type:"dynamo",url:"sc_new_horizons/ori/2"}]},sc_rosetta:{groups:["small body spacecraft","comet spacecraft","67p_churyumov_gerasimenko","spacecraft"],occlusionRadius:.0014,extentsRadius:.016,label:"Rosetta",parents:[[131491581.583,"earth"],[131901500,"sun"],[162704887,"earth"],[163831232,"sun"],[225623375,"mars"],[225657862,"sun"],[248111015,"earth"],[248475560,"sun"],[311055929,"earth"],[311664877,"sun"],[452394238,"67p_churyumov_gerasimenko"],[528503957.968,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_rosetta/rosettaPhilae.gltf",rotate:[{x:180},{z:90}]},controllers:[{type:"dynamo",url:"sc_rosetta/earth/launch/orb"},{type:"fixed",orientation:Lh.Identity},{type:"dynamo",url:"sc_rosetta/sun/1/orb"},{type:"dynamo",url:"sc_rosetta/earth/flyby1/orb"},{type:"dynamo",url:"sc_rosetta/sun/2/orb"},{type:"dynamo",url:"sc_rosetta/mars/flyby/orb"},{type:"dynamo",url:"sc_rosetta/sun/3/orb"},{type:"dynamo",url:"sc_rosetta/earth/flyby2/orb"},{type:"dynamo",url:"sc_rosetta/sun/4/orb"},{type:"dynamo",url:"sc_rosetta/earth/flyby3/orb"},{type:"dynamo",url:"sc_rosetta/sun/5/orb"},{type:"dynamo",url:"sc_rosetta/67p_churyumov_gerasimenko/pos"},{type:"dynamo",url:"sc_rosetta/ori"},{type:"coverage",coverage:[469053367.183,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setHiddenObject("Philae",!0)},exit:t=>{const e=t.getComponentByClass(ld);null!==e&&e.setHiddenObject("Philae",!1)}},{type:"custom",func:t=>{const e=t.addControllerByClass(Td);return e.setJoint("panels_01"),e.setSecondaryAlignType("point"),e.setSecondaryAxis(Vh.ZAxis),e.setSecondaryTargetEntity("sun"),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(Td);return e.setJoint("panels_02"),e.setSecondaryAlignType("point"),e.setSecondaryAxis(Vh.ZAxis),e.setSecondaryTargetEntity("sun"),e}}]},sc_rosetta_impact_site:{groups:["small body sites","comet sites","67p_churyumov_gerasimenko","sc_rosetta","sites"],radius:.001,label:"Rosetta Impact Site",parents:[[528503957.968,"67p_churyumov_gerasimenko"]],controllers:[{type:"fixed",position:new Vh(1.7309310500292525,.3509303067271947,1.1641920075039298),orientation:Lh.Identity,relativeToEntity:"67p_churyumov_gerasimenko",coverage:[528503957.968,Number.POSITIVE_INFINITY]}]},sc_osiris_rex:{groups:["small body spacecraft","asteroid spacecraft","101955_bennu","spacecraft"],occlusionRadius:.0016,extentsRadius:.005,label:"OSIRIS-REx",parents:[[526676400,"earth"],[527025408,"sun"],[558938468,"earth"],[559919190,"sun"],[591770603,"101955_bennu"],[674049669,"sun"],[748358886,"earth"],[749140122,"sun"]],dependents:["sc_osiris_rex_src","99942_apophis"],trail:{length:102742.5,lengthCoverages:[[1e7,Number.NEGATIVE_INFINITY,599748661],[672e3,599748661,668095733],[1e7,668095733,Number.POSITIVE_INFINITY]]},model:{url:"$STATIC_ASSETS_URL/models/sc_osiris_rex_v2/osiris_rex_articulated_panels.gltf",rotate:[{x:90}],shadowEntities:["bennu"]},controllers:[{type:"dynamo",url:"sc_osiris_rex/earth/launch/orb"},{type:"dynamo",url:"sc_osiris_rex/sun/1/orb"},{type:"dynamo",url:"sc_osiris_rex/earth/flyby/orb"},{type:"dynamo",url:"sc_osiris_rex/sun/2/orb"},{type:"dynamo",url:"sc_osiris_rex/bennu/pos"},{type:"dynamo",url:"sc_osiris_rex/sun/3/orb"},{type:"dynamo",url:"sc_osiris_rex/earth/sample_return/orb"},{type:"dynamo",url:"sc_osiris_rex/sun/4/orb"},{type:"align",primary:{type:"point",target:"earth",axis:new Vh(.175109477645991,.45028151394683397,.8755473882299549)},secondary:{type:"align",target:"sun",axis:Vh.XAxis,targetAxis:Vh.ZAxis},coverage:[658200668.0606446,Number.POSITIVE_INFINITY]},{type:"dynamo",url:"sc_osiris_rex/ori"},{type:"coverage",coverage:[748838793,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(sd);null!==e&&(e.getDiv().innerHTML=e.getDiv().innerHTML.replace("REx","APEX"))},exit:t=>{const e=t.getComponentByClass(sd);null!==e&&(e.getDiv().innerHTML=e.getDiv().innerHTML.replace("APEX","REx"))}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeSubobjectVisibleAnimation(e,"Tagsam_housing_cover",!0,[[593036911,!1]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Tagsam_rod_bottom","z",[[595442726,0],[595442906,-2.51758508612],[595443086,-2.51758508612],[595443266,0],[656489486,0],[656489846,-3.71758508612],[656502896,-3.71758508612],[656503076,0],[657366686,0],[657367046,-2.73771997401],[657367406,0]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Tagsam_rod_top","z",[[593728111,0],[593728113,.15],[595442726,.15],[595442906,2.73247002363],[595443086,2.73247002363],[595443266,.15],[656489486,.15],[656489846,3.73247002363],[656502896,3.73247002363],[656503076,.15],[657366686,.15],[657366866,1.16136826422],[657367046,.509601235],[657367226,1.16136826422],[657367406,.15]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"tagsam_head","z",[[595442906,0],[595442996,1.57079632679],[595443086,1.57079632679],[656489486,0],[656489576,1.57079632679],[656502806,1.57079632679],[656502896,0],[657366686,0],[657367046,1.01463145268]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeSubobjectVisibleAnimation(e,"tagsam_head",!0,[[657367046,!1]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Gimbal_Base_Right","z",[[656501483,-70*Math.PI/180],[656501603,0],[656503242,0],[656503602,-70*Math.PI/180]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Gimbal_Base_Left","z",[[656501483,-70*Math.PI/180],[656501603,0],[656503242,0],[656503602,-70*Math.PI/180]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Gimbal_Pivot_Right","x",[[656501603,0],[656501723,38*Math.PI/180],[656503242,38*Math.PI/180],[656503362,0]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeJointRotationAnimation(e,"Gimbal_Pivot_Left","x",[[656501603,0],[656501723,-38*Math.PI/180],[656503242,-38*Math.PI/180],[656503362,0]])}},{type:"custom",func:t=>{const e=t.getComponentByClass(ld);return B_.makeSubobjectVisibleAnimation(e,"heatshield",!0,[[748824183.985732,!1]])}}]},sc_osiris_rex_src:{groups:["small body spacecraft","asteroid spacecraft","101955_bennu","sample return capsule"],occlusionRadius:8e-4,extentsRadius:5e-4,label:"OSIRIS-REx SRC",parents:[[748824183.985732,"sc_osiris_rex"],[748832190,"earth"],[748839215,""]],dependents:["sc_osiris_rex"],trail:{length:360},model:{url:"$STATIC_ASSETS_URL/models/sc_osiris_rex_v2/src/osiris_rex_heatshield.gltf",rotate:[{x:90}]},controllers:[{type:"dynamo",url:"sc_osiris_rex_src/sc_osiris_rex"},{type:"dynamo",url:"sc_osiris_rex_src/earth"},{type:"fixed",orientation:new Lh(-.7795827954678449,-.23701239922750972,.5441503490850964,-.19994045416955505)},{type:"coverage",coverage:[748838642,748839373],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!0)},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&e.setRelativeToEntityOrientation(!1)}},{type:"custom",func:t=>{const e=t.addControllerByClass(yp);return e.setTranslation(new Vh(0,0,.0012)),e.setRelativeToOrientation(!0),e},coverage:[748824183.985732,748839215]}],postCreateFunction:t=>{t.getComponentByClass(ld).setTranslation(new Vh(0,0,-.0012))}},sc_philae:{groups:["small body spacecraft","comet spacecraft","67p_churyumov_gerasimenko","spacecraft","landers"],occlusionRadius:6e-4,extentsRadius:.001,label:"Philae",parents:[[469053367.183,"67p_churyumov_gerasimenko"],[469078512.324,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_philae/philae.gltf",rotate:[{x:180},{z:90}]},controllers:[{type:"dynamo",url:"sc_philae/67p_churyumov_gerasimenko/pos"},{type:"fixed",orientation:new Lh(.05763938670269045,.04093459828351704,.6750586755218195,.7343690110337115)},{type:"custom",func:t=>{const e=new Vh(.0021658104318583687,.0011575046500869896,.00011875498849156656),i=new Vh(.00147,0,0),s=t.addControllerByClass(yp);return s.setTranslation(e),t.getComponentByClass(ld).setTranslation(i),s},coverage:[469053367.183,469078512.324]}]},sc_philae_landing_site:{groups:["small body sites","comet sites","67p_churyumov_gerasimenko","sc_philae","sites"],radius:.001,systemRadius:200,label:"Philae Landing Site",parents:[[469078512.324,"67p_churyumov_gerasimenko"]],controllers:[{type:"fixed",position:new Vh(2.4452763955965984,-.12110982508097201,-.36032099522959377),orientation:Lh.Identity,relativeToEntity:"67p_churyumov_gerasimenko",coverage:[469078512.324,Number.POSITIVE_INFINITY]}]},sc_psyche:{groups:["small body spacecraft","asteroid spacecraft","16_psyche","spacecraft"],occlusionRadius:.0031,extentsRadius:.025,label:"Psyche",parents:[[750482453,"earth"],[750686758,"sun"],[831828698,"mars"],[832302380,"sun"],[931665741,"16_psyche"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_psyche/psyche.gltf",rotate:[{y:-90},{x:90}]},controllers:[{type:"dynamo",url:"sc_psyche/earth/orb"},{type:"dynamo",url:"sc_psyche/sun/orb"},{type:"dynamo",url:"sc_psyche/mars/orb"},{type:"dynamo",url:"sc_psyche/16_psyche/orb"},{type:"align",primary:{type:"point",target:"earth",axis:Vh.XAxisNeg}},{type:"custom",func:t=>{const e=t.addControllerByClass(Td);return e.setJoint("ArrayGimbleLeft"),e.setSecondaryAlignType("point"),e.setSecondaryAxis(Vh.YAxis),e.setSecondaryTargetEntity("sun"),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(Td);return e.setJoint("ArrayGimbleRight"),e.setSecondaryAlignType("point"),e.setSecondaryAxis(Vh.YAxis),e.setSecondaryTargetEntity("sun"),e}}]},sc_stardust:{groups:["small body spacecraft","comet spacecraft","81p_wild_2","9p_tempel_1","spacecraft"],occlusionRadius:65e-5,extentsRadius:.003,label:"Stardust",parents:[[-28304869.3,"earth"],[-28038699,"sun"],[32627842,"earth"],[33120541,"sun"],[89379733,"5535_annefrank"],[89550209,"sun"],[126009572,"81p_wild_2"],[126678668,"sun"],[190336290,"earth"],[190866114,"sun"],[284944970,"earth"],[285742028,"sun"],[350896766,"9p_tempel_1"],[351068113,"sun"],[354279666,""]],trail:{length:62659492},model:{url:"$STATIC_ASSETS_URL/models/sc_stardust/stardust_articulated.gltf",shadowEntities:["earth"],rotate:[{x:90},{z:90}]},controllers:[{type:"dynamo",url:"sc_stardust/earth/launch/orb"},{type:"dynamo",url:"sc_stardust/sun/orb"},{type:"dynamo",url:"sc_stardust/earth/flyby1/orb"},{type:"dynamo",url:"sc_stardust/5535_annefrank/pos"},{type:"dynamo",url:"sc_stardust/81p_wild_2/pos"},{type:"dynamo",url:"sc_stardust/earth/flyby2/orb"},{type:"dynamo",url:"sc_stardust/earth/flyby3/orb"},{type:"dynamo",url:"sc_stardust/9p_tempel_1/pos"},{type:"dynamo",url:"sc_stardust/quat"},{type:"fixed",orientation:new Lh(.382740492391079,-.1080542417135509,-.5511677923678098,-.7335175941913997),coverage:[351017063,354279666]},{type:"coverage",coverage:[190576690.7833838,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(ld);for(const t of["Stardust_capsule","Stardust_tex_01_c","Stardust_tex_02_c","Stardust_tex_03_c","Stardust_tex_02_c2","Stardust_Sample_Collection1"])e.setHiddenObject(t,!0)},exit:t=>{const e=t.getComponentByClass(ld);for(const t of["Stardust_capsule","Stardust_tex_01_c","Stardust_tex_02_c","Stardust_tex_03_c","Stardust_tex_02_c2","Stardust_Sample_Collection1"])e.setHiddenObject(t,!1)}}],postCreateFunction:t=>{const e=t.getComponentByClass(ld),i=(t,e,i)=>[[4449664+e,t],[4449664+e+i,0],[10411264-e-i,0],[10411264-e,t],[81864064+e,t],[81864064+e+i,0],[92664064-e-i,0],[92664064-e,t],[125496064+e,t],[125496064+e+i,0],[126363664-e-i,0],[126363664-e,t]];B_.makeJointRotationAnimation(e,"Stardust_capsule","x",i(1.481785,0,600)),B_.makeJointRotationAnimation(e,"Stardust_Sample_Collection1","x",i(-Math.PI,610,300)),B_.makeJointRotationAnimation(e,"Stardust_Sample_Collection2","x",i(-Math.PI,920,300))}},sc_stardust_src:{groups:["small body spacecraft","comet spacecraft","81p_wild_2","earth","spacecraft"],occlusionRadius:4e-4,extentsRadius:8e-4,label:"Stardust SRC",parents:[[190576690.7833838,"sc_stardust"],[190576755.185,"earth"],[190591985.184,""]],trail:{length:14547},model:{url:"$STATIC_ASSETS_URL/models/sc_stardust_src/stardust_capsule.gltf",shadowEntities:["earth"],rotate:[{x:90},{z:90}]},controllers:[{type:"dynamo",url:"sc_stardust_src/earth/pos"},{type:"fixed",orientation:new Lh(.5761056269233067,.6860897901682099,.2627910947477326,.3582233199772653)},{type:"coverage",coverage:[190591100,Number.POSITIVE_INFINITY],enter:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!0),e.setStartTime(1600))},exit:t=>{const e=t.getComponentByClass(xd);null!==e&&(e.setRelativeToEntityOrientation(!1),e.setStartTime(18e3))}},{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(190576690.7833838,new Vh(-.0010057,0,1569e-7),"sc_stardust",void 0,"sc_stardust",void 0),e.addPositionKeyframe(190576755.185,new Vh(-.016734488308429718,-.019199222326278687,-.00404781848192215),"sc_stardust"),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(Yd);return e.addPositionKeyframe(190591163,new Vh(-1979.4577357598625,-4478.591383446022,4136.322858267745),"earth"),e.addPositionKeyframe(190591445.184,new Vh(-1947.8360605285134,-4491.082890234251,4123.1018367103425),"earth"),e.addPositionKeyframe(190591985.184,new Vh(-1918.7633689113482,-4478.864184129612,4103.897124245734),"earth"),e}},{type:"rotateByEntityOrientation",coverage:[190591163,190591985.184]}]}}),xp.register({sc_biosentinel:{groups:["sun","spacecraft"],occlusionRadius:2e-4,extentsRadius:5e-4,label:"BioSentinel",parents:[[721866289,"earth"],[722273637,"moon"],[722923565,"sun"]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_biosentinel/biosentinel.gltf",shadowEntities:["moon"]},controllers:[{type:"dynamo",url:"sc_biosentinel/earth/orb"},{type:"dynamo",url:"sc_biosentinel/moon/orb"},{type:"dynamo",url:"sc_biosentinel/sun/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.YAxis},secondary:{type:"align",target:"sun",axis:Vh.ZAxis,targetAxis:Vh.ZAxis}}]},sc_kepler_space_telescope:{groups:["sun","spacecraft","telescope"],occlusionRadius:.00235,extentsRadius:.004,label:"Kepler",parents:[[289679042.1855,"earth"],[290348743,"sun"],[595512069.183,""]],trail:{length:32190048},model:{url:"$STATIC_ASSETS_URL/models/sc_kepler/Kepler.gltf"},controllers:[{type:"dynamo",url:"sc_kepler/earth/orb"},{type:"dynamo",url:"sc_kepler/sun/orb"},{type:"align",primary:{type:"align",target:"sun",targetAxis:new Vh(.25176480336,-.66735243742,.7009092643),axis:Vh.YAxis},secondary:{type:"point",target:"sun",axis:Vh.XAxisNeg}}]},sc_mariner_2:{groups:["sun","spacecraft"],occlusionRadius:.002,extentsRadius:.0025,label:"Mariner 2",parents:[[-1178599240.703784,"sun"],[409233667.18358755,""]],trail:{length:29411352},controllers:[{type:"animdata",url:"sc_mariner_2",dataType:"pos"}]},sc_parker_solar_probe:{groups:["sun","spacecraft"],occlusionRadius:.0015,extentsRadius:.003,label:"Parker Solar Probe",parents:[[587333783.3431,"earth"],[587454078,"sun"]],trail:{length:12942631},model:{url:"$STATIC_ASSETS_URL/models/sc_parker_solar_probe/PSP.gltf"},controllers:[{type:"dynamo",url:"sc_parker_solar_probe/earth/orb"},{type:"dynamo",url:"sc_parker_solar_probe/sun/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxisNeg}}]},sc_spitzer:{groups:["sun","spacecraft"],occlusionRadius:.0085,extentsRadius:.004,label:"Spitzer",parents:[[115064804,"earth"],[115493678,"sun"],[633614469,""]],trail:{length:32167331},model:{url:"$STATIC_ASSETS_URL/models/sc_spitzer/SPITZER.gltf",rotate:[{z:-90},{x:-90}],shadowEntities:["venus","mercury"]},controllers:[{type:"dynamo",url:"sc_spitzer/earth/orb"},{type:"dynamo",url:"sc_spitzer/sun/orb"},{type:"fixed",orientation:new Lh(.5258297992951877,.8139480432783324,-.1400557906856776,-.20341086625833524),coverage:[115064804,174548493]},{type:"dynamo",url:"sc_spitzer/quat"}]},sc_stereo_ahead:{groups:["sun","spacecraft"],occlusionRadius:.003,extentsRadius:.003,label:"STEREO Ahead",parents:[[215097110,"earth"],[221418192,"sun"]],trail:{length:29809031},model:{url:"$STATIC_ASSETS_URL/models/sc_stereo_ahead/stereo_a.gltf",rotate:[{x:90}],shadowEntities:["venus","mercury"]},controllers:[{type:"dynamo",url:"sc_stereo_ahead/earth/orb"},{type:"dynamo",url:"sc_stereo_ahead/sun/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_stereo_ahead",axis:Vh.YAxisNeg}}]},sc_stereo_behind:{groups:["sun","spacecraft"],occlusionRadius:.003,extentsRadius:.003,label:"STEREO Behind",parents:[[215097110,"earth"],[224468337,"sun"],[527860868.182,""]],trail:{length:33473699},model:{url:"$STATIC_ASSETS_URL/models/sc_stereo_behind/stereo_b.gltf",rotate:[{x:90}],shadowEntities:["venus","mercury"]},controllers:[{type:"dynamo",url:"sc_stereo_behind/earth/orb"},{type:"dynamo",url:"sc_stereo_behind/sun/orb"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_stereo_behind",axis:Vh.YAxisNeg}}]},sc_ulysses:{groups:["sun","spacecraft"],occlusionRadius:.002,extentsRadius:.002,label:"Ulysses",parents:[[-291488100,"sun"],[268142464.18410408,""]],trail:{length:140294739},model:{url:"$STATIC_ASSETS_URL/models/sc_ulysses/ulysses.gltf",shadowEntities:["venus","mercury"]},controllers:[{type:"animdata",url:"sc_ulysses",dataType:"pos"},{type:"align",primary:{type:"point",target:"sun",axis:Vh.ZAxis},secondary:{type:"velocity",target:"sc_ulysses",axis:Vh.YAxisNeg}}]},sc_wmap:{groups:["sun","spacecraft"],occlusionRadius:.0026,extentsRadius:.0026,label:"WMAP",parents:[[339422466.184,"sun"],[360158466.184,""]],trail:{length:31536e3},controllers:[{type:"animdata",url:"sc_wmap",dataType:"pos"}]}}),xp.register({sc_magellan:{groups:["venus","spacecraft"],occlusionRadius:.0032,extentsRadius:.006,label:"Magellan",parents:[[-336388283.36,"sun"],[-296448521.457,"venus"],[-164631538.81763855,""]],trail:{length:void 0},model:{url:"$STATIC_ASSETS_URL/models/sc_magellan/magellan.gltf",shadowEntities:["venus"]},controllers:[{type:"dynamo",url:"sc_magellan/venus/orb"},{type:"custom",func:t=>{const e=t.addControllerByClass(ap),i=new Nh;return i.epoch=-336394683.816,i.eccentricity=.1791852824104108,i.semiMajorAxis=128280596.63956015,i.meanAngularMotion=2.5073465306679634e-7,i.meanAnomalyAtEpoch=2.9229288382327625,i.orbitOrientation.set(.8728453580255966,.1876084386162498,-.08948587100888229,.4415159494547423),e.addOrbitalElements(-336388283.36,i),e.addOrbitalElements(-296448521.457,i),e}},{type:"custom",func:t=>{const e=t.addControllerByClass(ap),i=new Nh;i.epoch=-296448521.457,i.eccentricity=1.272922970547487,i.semiMajorAxis=23358.593430196037,i.meanAngularMotion=.00015965302516479147,i.meanAnomalyAtEpoch=-6.138103356108873,i.orbitOrientation.set(-.49933963770188916,.11817755769547109,.7262027627540558,-.45751889408554064),e.addOrbitalElements(-296448521.457,i),e.addOrbitalElements(-296410230.351,i);const s=new Nh;return s.epoch=-295884037.7511,s.eccentricity=.39186818222106645,s.semiMajorAxis=10434.012201911135,s.meanAngularMotion=.000534773863104956,s.meanAnomalyAtEpoch=-1.5165416917234864,s.orbitOrientation.set(-.4665778554219434,.18802595119032475,.7217932088991018,-.47535871728198204),e.addOrbitalElements(-296410230.351,s),e.addOrbitalElements(-295884037.7511,s),e}},{type:"align",primary:{type:"point",target:"earth",axis:Vh.YAxis},secondary:{type:"align",axis:new Vh(-Math.sqrt(.5),Math.sqrt(.5),0),target:"venus",targetAxis:Vh.ZAxisNeg}}]},sc_venus_express:{groups:["venus","spacecraft"],occlusionRadius:9e-4,extentsRadius:.004,label:"Venus Express",parents:[[184784702,"earth"],[185369766,"sun"],[197902579,"venus"],[473341201,""]],trail:{length:779592.165087551},controllers:[{type:"dynamo",url:"sc_venus_express/earth"},{type:"dynamo",url:"sc_venus_express/sun"},{type:"dynamo",url:"sc_venus_express/venus"},{type:"fixed",orientation:Lh.Identity},{type:"dynamo",url:"sc_venus_express/quat"}]}}),xp.register({rose_bowl:{groups:["comparison"],radius:.15,label:"Rose Bowl",parents:[],model:{url:"$STATIC_ASSETS_URL/models/comparison/rose_bowl/rose_bowl.gltf",rotate:[{x:90},{z:-90}]},controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}]},school_bus:{groups:["comparison"],radius:.0065,label:"School bus",parents:[],model:{url:"$STATIC_ASSETS_URL/models/comparison/school_bus/school_bus.gltf",rotate:[{x:90},{z:-90}]},controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}]},scientist:{groups:["comparison"],radius:835e-6,label:"Scientist",parents:[],model:{url:"$STATIC_ASSETS_URL/models/comparison/scientist/scientist.gltf",rotate:[{x:90}]},controllers:[{type:"fixed",position:Vh.Zero,orientation:Lh.Identity}]}});const H_="  4.3.5  ";class V_ extends Sd{constructor(t,e,i){super(t,e,i),this._position=null,this._velocity=null,this._eccentricity=0,this._semiMajorAxis=0,this._meanAngularMotion=0,this._orbitOrientation=new Lh,this._orbitOrientationInversed=!1,this.addModifiedState("position")}setParams(t){this._eccentricity=t.eccentricity,this._semiMajorAxis=t.semiMajor*V_.AUtoKm,this._meanAngularMotion=hh.twoPi/(86400*t.period);const e=hh.degToRad(t.inclination),i=hh.degToRad(t.ra),s=hh.degToRad(t.dec),n=new Vh;n.x=Math.cos(Math.PI/2-e-s)*Math.cos(i+Math.PI),n.y=Math.cos(Math.PI/2-e-s)*Math.sin(i+Math.PI),n.z=Math.sin(Math.PI/2-e-s),-1===t.periapsisDirection&&(this._orbitOrientationInversed=!0,n.mult(n,t.periapsisDirection));const a=new Vh;a.x=Math.cos(-s)*Math.cos(i+Math.PI),a.y=Math.cos(-s)*Math.sin(i+Math.PI),a.z=Math.sin(-s),a.cross(n,a),a.normalize(a),this._orbitOrientation.setFromAxes(n,a,void 0)}getOrbitOrientation(){return this._orbitOrientation}setOrbitOrientation(t){if(this._orbitOrientation.copy(t),this._orbitOrientationInversed){const t=new Vh;this._orbitOrientation.getAxis(t,2);const e=new Lh;e.setFromAxisAngle(t,Math.PI),this._orbitOrientation.mult(e,this._orbitOrientation)}}__updatePositionAtTime(t,e){this._getPositionAtTime(t,e)}__updateVelocityAtTime(t,e){this._getVelocityAtTime(t,e)}__update(){const t=Vh.pool.get(),e=Vh.pool.get(),i=this.getEntity().getScene().getEngine().getTime();this._getPositionAtTime(t,i),this._getVelocityAtTime(e,i),this.getEntity().setPosition(t),this.getEntity().setVelocity(e),Vh.pool.release(t),Vh.pool.release(e)}_getPositionAtTime(t,e){const i=hh.wrap(this._meanAngularMotion*e,-hh.pi,+hh.pi);let s=i;this._eccentricity>=.8&&(s=Math.sign(i)*hh.pi);for(let t=0;t<20;t++){const t=(s-this._eccentricity*Math.sin(s)-i)/(this._eccentricity*Math.cos(s)-1);if(s+=t,Math.abs(t)<.00174532925)break}t.x=this._semiMajorAxis*(Math.cos(s)-this._eccentricity),t.y=this._semiMajorAxis*Math.sqrt(1-this._eccentricity*this._eccentricity)*Math.sin(s),t.z=0,t.rotate(this._orbitOrientation,t)}_getVelocityAtTime(t,e){const i=hh.wrap(this._meanAngularMotion*e,-hh.pi,+hh.pi);let s=i;this._eccentricity>=.8&&(s=Math.sign(i)*hh.pi);for(let t=0;t<20;t++){const t=(s-this._eccentricity*Math.sin(s)-i)/(this._eccentricity*Math.cos(s)-1);if(s+=t,Math.abs(t)<.00174532925)break}const n=this._semiMajorAxis*(1-this._eccentricity*Math.cos(s)),a=this._meanAngularMotion*this._semiMajorAxis*this._semiMajorAxis/n;t.x=-a*Math.sin(s),t.y=a*Math.sqrt(1-this._eccentricity*this._eccentricity)*Math.cos(s),t.z=0,t.rotate(this._orbitOrientation,t)}}V_.AUtoKm=149597900;const G_=V_;var q_=i(7703);const J_=function(t,e,i){return t<e?e:t>i?i:t},W_=function(t){var e=Math.max(t[0],t[1],t[2]),i=Math.min(t[0],t[1],t[2]),s=t.slice();if(s[0]=0,s[1]=0,s[2]=e,e===i)return s;var n=e-i;s[1]=n/e;var a=t.map((function(t){return(t-i)/n}));return e===t[0]?(s[0]=(a[1]-a[2])/6,s[0]<0&&(s[0]+=1)):e===t[1]?s[0]=(2+a[2]-a[0])/6:e===t[2]&&(s[0]=(4+a[0]-a[1])/6),s},Y_=function(t){var e=t.slice();if(0===t[1])return e[0]=e[1]=e[2],e;var i=t[2]*t[1];e[0]=e[1]=e[2]=t[2]-i;var s=6*t[0],n=i*(1-Math.abs(s%2-1));return s<1||s<2?(e[0]+=i,e[1]+=n):s<3?(e[1]+=i,e[2]+=n):s<4?(e[2]+=i,e[1]+=n):s<5?(e[2]+=i,e[0]+=n):s<6&&(e[0]+=i,e[2]+=n),e.map((function(t){return J_(t,0,1)}))};let $_={};const X_={MISSIONS:[{name:"TESS",id:"sc_tess",title:"TESS",subtitle:"",img:"image/generic/image_TESS_TransitingExoplanetSurveySatellite.jpg",paragraphs:["Launched in 2018, TESS (Transiting Exoplanet Survey Satellite) is designed to search for and discover new exoplanets by observing transits in an all-sky survey. TESSs main instrument is a set of four wide-angle CCD cameras, similar to those used on ground-based automated transit survey telescopes such as SuperWASP. Whereas ground-based all-sky surveys have been most effective at finding giant planets, TESS aims to discover rocky planets that transit nearby stars, ideal candidates for further characterization with large ground-based telescopes or the future James Webb Space Telescope."]},{name:"JWST",id:"sc_jwst",title:"James Webb Space Telescope",subtitle:"",img:"image/generic/jwst.jpg",paragraphs:["The James Webb Space Telescope (JWST) is a large infrared telescope with a 6.5 meter primary mirror, and will study every phase in the history of our Universe. The deployment of the James Webb Space Telescope was possibly the most complex ever done in space, having over 300 single points of failure in the two-week process of deployment."]},{name:"Kepler",id:"sc_kepler_space_telescope",title:"Kepler and K2",subtitle:"",img:"image/generic/image_Kepler.jpg",paragraphs:["Launched in 2009, NASA's Kepler mission spent over four years intently observing a single patch of sky and discovered over 1,000 planets around other stars, with thousands more potential planet discoveries waiting to be confirmed. In June 2014, the Kepler spacecraft's operations were extended with a new mission, dubbed K2, continuing the search for extrasolar planets outside of its original observing field. In November 2018, a final command was sent to the telescope to cease communications and begin retirement, after it ran out of fuel."]},{name:"Spitzer",id:"sc_spitzer",title:"Spitzer Space Telescope",subtitle:"NASA",img:"image/generic/image_SpitzerSpaceTelescope.jpg",paragraphs:['An infrared space telescope and part of NASAs Great Observatories program, Spitzer was responsible for numerous exoplanet science milestones, including the first detection of an exoplanet atmosphere and the first temperature map of an exoplanet. Launched in 2003, Spitzer followed the Earth around the sun in what is known as an "Earth-trailing" orbit. The mission completed in January 2020.']},{name:"Hubble",id:"sc_hubble_space_telescope",title:"Hubble Space Telescope",subtitle:"NASA",img:"image/generic/image_HubbleSpaceTelescope.jpg",paragraphs:["One of the most influential space missions ever launched, the Hubble Space Telescope, launched in 1990, has provided astronomers with more than pretty pictures -- Hubble has contributed significant exoplanet discoveries, including one of the first visible-light images of a planet beyond our solar system. Hubble has also been able to detect exoplanet atmospheres and remains one of the few instruments capable of making such detailed measurements."]}],DATABASE_NAMES:{stars:"stars",planets:"planets",hwostars:"hwostars",hwoApiData:"hwoApiData",candidates:"candidates",tesscandidates:"tesscandidates"},randomColor:function(t,e,i){for(let e=0;e<t.length;e++)t[e]=t[e]>1?t[e]/=255:t[e];i||(i=Math.random());var s=W_(t).map((function(t,s){var n=t+e[s]*(2*i()-1);return J_(n,0,1)}));return Y_(s)},shuffle:function(t,e){e||(e=Math.random);const i=t.slice();for(let t=0;t<i.length;t++){const s=e(),n=Math.floor(s*(t+1)),a=i[t];i[t]=i[n],i[n]=a}return i},HSBtoRGB:Y_,RGBtoHSB:W_,hashCode:function(t){if(!t||0===t.length)return 0;for(var e=0,i=t.length,s=0;s<i;s++)e=(e<<5)-e+t.charCodeAt(s)|0;return e},ParkMiller:function(t){var e={seed:t||2147483647*Math.random()};return e.seed|=0,e.seed=t%2147483647,e.seed<=0&&(e.seed+=2147483647),e.next=function(){return e.seed=16807*e.seed%2147483647|0},e.float=function(){return(e.next()-1)/2147483646},e},SVec4:function(t){return t&&4===t.length?`vec4(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`:null},numberToComma:function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):null},calculateRawDistance:function(t){return!t||t.length<3?-1:Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},convertToDistanceString:function(t){return t<0?"Unknown":(t>9461e9?t=this.numberToComma(Math.round(t/9461e9))+" light-years":t>1e9?t=this.numberToComma(Math.round(.6213712*t/1e9))+" billion mi":t>1e6?t=this.numberToComma(Math.round(.6213712*t/1e6))+" million mi":t>1e3?t=this.numberToComma(Math.round(.6213712*t/1e3))+" thousand mi":t>0&&(t=Math.round(.6213712*t*10)/10+" mi"),t)},isEmptyObj:t=>{if(!t)return!0;for(let e in t)if(t.hasOwnProperty(e))return!1;return!0},setCurrentQueries:t=>{$_=t},getCurrentQueries:()=>$_},K_=class extends Yu{constructor(t,e,i){super(t,e,i),this._name=e,this._entity=i,this._global_alpha=null,this._alpha=[],this._dates=[],this._starPositions=[],this._clickable=!1,this._planetCount=0,this._starCount=0,this._visualBasedDiscovery=!0,this._selectedStarIndex=void 0,this._interactable=!0,this._dragging=!1,this._zooming=!1,this._hasMouse=!1,this._cursorStartPos={x:0,y:0},this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseClick=this._onMouseClick.bind(this),this._clickAction=this._clickAction.bind(this),this.init=this.init.bind(this),this.setInteractable=this.setInteractable.bind(this),this.setFilter=this.setFilter.bind(this),this.setStarSprite=this.setStarSprite.bind(this),this.starFade=this.starFade.bind(this),(0,q_.autoPlay)(!0),this.__setRadius(Number.POSITIVE_INFINITY)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.starDB=t,this.planetDB=e,this.updateLabel=i,this._engine=this._entity.getScene().getEngine(),this.setFilter(null,0);let s=this._engine.getRootDiv();s.addEventListener("click",this._onMouseClick,!1),s.addEventListener("mousedown",this._onMouseDown,!1),s.addEventListener("mousemove",this._onMouseMove,!1),s.addEventListener("touchstart",this._onTouchStart,{passive:!1}),s.addEventListener("touchmove",this._onTouchMove,{passive:!1}),s.addEventListener("touchend",this._onTouchEnd,{passive:!1}),this.startTime=Date.now(),this.setStarSprite(0)}_clickAction(){if(!this.starDB||!this._clickable)return;let t=this.getEntity().getScene().getEngine().getViewport(0).getCamera();if(!this._interactable)return;this._intersectStars(t);let e=Object.keys(this.currentStarDB);if(null===this._selectedStarIndex||!e[this._selectedStarIndex])return void this.updateLabel();let i=this.currentStarDB[e[this._selectedStarIndex]];this.updateLabel(i)}_onTouchStart(t){t.preventDefault();let e=t.changedTouches[0];this._cursorStartPos.x=e.pageX,this._cursorStartPos.y=e.pageY,this._dragging=!1}_onTouchMove(t){t.preventDefault();let e=t.changedTouches[0];Math.max(Math.abs(e.pageX-this._cursorStartPos.x),Math.abs(e.pageY-this._cursorStartPos.y))>5&&(this._dragging=!0),t.touches.length>1&&(this._zooming=!0)}_onTouchEnd(t){t.preventDefault(),this._dragging||this._zooming||this._clickAction(),this._dragging=!1,0===t.touches.length&&(this._zooming=!1)}_onMouseDown(t){this._cursorStartPos.x=t.clientX,this._cursorStartPos.y=t.clientY,this._dragging=!1}_onMouseMove(t){this._hasMouse=!0,Math.max(Math.abs(t.clientX-this._cursorStartPos.x),Math.abs(t.clientY-this._cursorStartPos.y))>5&&(this._dragging=!0)}_onMouseClick(){this._dragging||this._clickAction(),this._dragging=!1}setInteractable(t){this._interactable=t}setFilter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.currentStarDB=Object.assign({},this.starDB),this.currentPlanetDB=Object.assign({},this.planetDB);let i=!0;this.planetDiscovery=[0,0];var s=[],n=[],a=[];let r=!1;const o=[];if(t&&"all"!==t){let e={},s={};for(let n=0;n<t.length;n++){let a=t[n];if("planets"===a.db){let t=this.planetDB?Object.keys(this.planetDB):[];for(let n=0;n<t.length;n++){let r=this.planetDB[t[n]],o=!1;if(r){let t=r[a.field];o="="===a.op?t===a.value:t.indexOf(a.value)>=0,a.value.indexOf("Kepler")>=0&&a.value.indexOf("K2")>=0&&(o=t.indexOf("Kepler")>=0||t.indexOf("K2")>=0),o&&r&&(i=!1,this.planetDiscovery[0]=!this.planetDiscovery[0]||this.planetDiscovery[0]>r.date?r.date:this.planetDiscovery[0],this.planetDiscovery[1]=!this.planetDiscovery[1]||this.planetDiscovery[1]<r.date?r.date:this.planetDiscovery[1],e[r.pl_hostname]=this.starDB[r.pl_hostname],s[r.exo_id]=r)}}}else if("stars"===a.db){let t=this.starDB?Object.keys(this.starDB):[];for(let s=0;s<t.length;s++){let n=this.starDB[t[s]],o=!1;if(n){let t=n[a.field];"="===a.op?(o=t===a.value,"hwo"===a.field&&o&&(r=!0,e[n.exo_id]=n)):o=t.indexOf(a.value)>=0;let s=this.planetDB?this.planetDB[n.planets[0]]:null;o&&s&&(i=!1,this.planetDiscovery[0]=!this.planetDiscovery[0]||this.planetDiscovery[0]>s.date?s.date:this.planetDiscovery[0],this.planetDiscovery[1]=!this.planetDiscovery[1]||this.planetDiscovery[1]<s.date?s.date:this.planetDiscovery[1],e[n.exo_id]=n)}}}}this.currentStarDB=e,this.currentPlanetDB=s}const l=this.currentStarDB?Object.keys(this.currentStarDB):[];let c=[],h=[];this._starPositions=[];for(var u=0;u<l.length;u++){const t=this.currentStarDB[l[u]];this._starPositions.push(t.positionJ2000);let d=t&&t.position&&-1!==t.position[0];if(r||"ExoMainstarfield"!==this._name||(d=d&&t.planets?.length>0),d){if(s.push(t.positionJ2000.x,t.positionJ2000.y,t.positionJ2000.z),n.push(t.color[0],t.color[1],t.color[2]),this._visualBasedDiscovery&&this.planetDB){let e=null;for(let s=0;s<t.planets.length;s++){const n=this.planetDB[t.planets[s]];n&&!e&&(i&&(this.planetDiscovery[0]=!this.planetDiscovery[0]||this.planetDiscovery[0]>n.date?parseInt(n.date):this.planetDiscovery[0],this.planetDiscovery[1]=!this.planetDiscovery[1]||this.planetDiscovery[1]<n.date?parseInt(n.date):this.planetDiscovery[1]),e=n.date?parseInt(n.date):null)}c.push(e),h.push(0)}else h.push(null!==e?e:1);a.push(t.planets?.length||0),o.push(r&&t.hwo?1:0)}}this._threeJsObject&&(this._threeJsObject.material.dispose(),this._threeJsObject.geometry.dispose(),this.getEntity().getScene().getThreeJsScene().remove(this._threeJsObject));const d=new Js({uniforms:{texture:new ql(this._starfieldTexture)},vertexShader:"\n\tattribute float size;\n\tattribute float alpha;\n\tattribute float planet;\n\tattribute float showHWO;\n\n\tvarying vec4 vColor;\n\tvarying float count;\n\tvarying float renderHWO;\n\n\t#ifdef L_EXT_frag_depth\n\t\tvarying float fragDepth;\n\t#else\n\t\tuniform float nearDistance;\n\t\tuniform float midDistance;\n\t#endif\n\n\tvoid main() {\n\t    vColor = vec4(color, alpha);\n\t    count = round(planet);\n\t\trenderHWO = showHWO;\n\n\t    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t    float pointSizeBase = 35.0;\n\t    float pointCutoff = 6000000000000000.0;\n\t    float ratio = length(mvPosition) / pointCutoff;\n\t    gl_PointSize = pointSizeBase * clamp(exp(1.0 - ratio), 1.0, 64.0);\n\t    gl_Position = projectionMatrix * mvPosition;\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tfragDepth = gl_Position.w;\n\t\t#else\n\t\t\tfloat z = gl_Position.w;\n\t\t\tif (z < midDistance) {\n\t\t\t\tgl_Position.z = nearDistance * (z - midDistance) / (midDistance - nearDistance);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfloat logFactor = 0.01254291648; // 1 / log2(1e24 - midDistance + 1.0)\n\t\t\t\tgl_Position.z = log2(z - midDistance + 1.0) * logFactor;\n\t\t\t\tgl_Position.z *= gl_Position.w;\n\t\t\t}\n\t\t#endif\n\t}\n",fragmentShader:"\n\tuniform sampler2D starTexture;\n\n\t#ifdef L_EXT_frag_depth\n\t\tuniform mat4 projectionMatrix;\n\t\tvarying float fragDepth;\n\t#endif\n\n\tvarying vec4 vColor;\n\tvarying float count;\n\tvarying float renderHWO;\n\tvarying float hwoOffset;\n\n\tvec2 getCoordinates() {\n\t\t// Fix rounding error to avoid flickering\n\t\tfloat roundedCount = round(count);\n\t\tfloat offsetX = mod(roundedCount, 4.0) / 4.0;\n\t\tfloat offsetY = 3.0 / 4.0 - floor(roundedCount / 4.0) / 4.0;\n\n\t\tvec2 coord = vec2(gl_PointCoord.x / 4.0 + offsetX, gl_PointCoord.y / 4.0 + offsetY);\n        coord.x = clamp(coord.x, 0.0, 1.0);\n        coord.y = clamp(coord.y, 0.0, 1.0);\n\n\t\treturn coord;\n\t}\n\n\tvoid main() {\n\t\tvec4 clr = texture2D(starTexture, getCoordinates());\n\t   \tgl_FragColor = vec4(vColor.rgb, vColor.a * clr.r);\n\n\t\tif(renderHWO > 0.0) {\n\t\t\tgl_FragColor = vec4(vColor.rgb, vColor.a * clr.g);\n\t\t}\n\n\t\t// Log-Depth Buffering\n\t\t#ifdef L_EXT_frag_depth\n\t\t\tfloat logFactor = 0.01254291648; // 1 / log2(1 + 1e24)\n\t\t\tgl_FragDepthEXT = projectionMatrix[1][3] * log2(1.0 + fragDepth) * logFactor + projectionMatrix[2][3];\n\t\t#endif\n\t}\n",blending:5,blendDst:206,depthWrite:!1,transparent:!0,vertexColors:!0});du.setupLogDepthBuffering(d),this.getThreeJsMaterials().push(d);const p=new xs;p.setAttribute("position",new ps(s,3)),p.setAttribute("color",new ps(n,3)),p.setAttribute("planet",new ps(a,1)),p.setAttribute("showHWO",new ps(o,1)),p.setAttribute("alpha",new ps(h,1)),this._threeJsObject=new Po(p,d),du.setupObject(this,this._threeJsObject),this._threeJsObject.name="Exostars_"+this.getName(),this._threeJsObject.material.uniforms.starTexture={value:this._starfieldTexture},this._threeJsObject.visible=!0,this.getThreeJsObjects().push(this._threeJsObject),this._starCount=X_.isEmptyObj(this.currentStarDB)?0:Object.keys(this.currentStarDB).length,this._planetCount=X_.isEmptyObj(this.currentPlanetDB)?0:Object.keys(this.currentPlanetDB).length,this._alpha=h,this._dates=c,this._threeJsObject.material.needsUpdate=!0}get planetCount(){return this._planetCount}setStarSprite(t){this._starfieldTexture&&du.destroyTexture(this._starfieldTexture),this._starfieldTexture=(new ml).load("assets/image/exofield/twinkle-ball.png"),1===t&&(this._starfieldTexture=(new ml).load("assets/image/exofield/number-solid-outline.png")),this._starfieldTexture.flipY=!1,this._threeJsObject&&(this._threeJsObject.material.uniforms.starTexture={value:this._starfieldTexture})}starFade(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;if(!this.currentStarDB||!this.currentPlanetDB)return;let i=this._threeJsObject.geometry.attributes,s=Object.keys(this.currentStarDB),n=this.planetDiscovery[0];const a=this.planetDiscovery[1]-this.planetDiscovery[0];this.filterTween&&(0,q_.remove)(this.filterTween);let r=t?0:1,o=t?1:0;this.filterTween=new q_.Tween({value:r}).to({value:o},e).on("update",(e=>{let{value:r}=e;n=t?this.planetDiscovery[0]*(1-r)+(this.planetDiscovery[1]+a)*r:(this.planetDiscovery[0]-a)*(1-r)+this.planetDiscovery[1]*r,n=Math.round(n);let l=!1;for(let e=0;e<s.length;e++){if(l=null===this._dates[e]||void 0===this._dates[e],this.planetDiscovery&&this.planetDiscovery[0]&&this.planetDiscovery[1]?this.planetDiscovery[1]-this.planetDiscovery[0]==0&&(l=!0):l=!0,l)this._alpha[e]=t?this._alpha[e]>r?this._alpha[e]:r:this._alpha[e]<r?this._alpha[e]:r;else if(t){if(this._dates[e]<=n){const t=(this._dates[e]-this.planetDiscovery[0])/(this.planetDiscovery[1]-this.planetDiscovery[0]),i=0===t?1:(2*r-t)/t;this._alpha[e]<i&&(this._alpha[e]=i)}}else if(this._dates[e]>=n){const t=(this.planetDiscovery[1]-this._dates[e])/(this.planetDiscovery[1]-this.planetDiscovery[0]),i=0===t?0:1-(1-r)/t;this._alpha[e]>i&&(this._alpha[e]=i)}this._alpha[e]=this._alpha[e]>1?1:this._alpha[e],this._alpha[e]=this._alpha[e]<0?0:this._alpha[e],i.alpha.array[e]=this._alpha[e]}i.alpha.needsUpdate=!0,r===o&&(this._clickable=t)})).start()}__prepareForRender(t){if(!this._threeJsObject)return;let e=this.getEntity().getCameraSpacePosition(t);this._threeJsObject.position.set(e.x,e.y,e.z),this._interactable&&this._threeJsObject.visible&&this._hasMouse&&this._intersectStars(t)}__setVisible(t){this._threeJsObject.visible=t}_intersectStars(t){const e=this.getEntity().getScene().getEngine().getInput().getCursorPosition(),i=Vh.pool.get();t.getEntity().getPositionRelativeToEntity(i,Vh.Zero,this.getEntity());const s=Vh.pool.get();t.getViewport().getNormalSpacePositionFromPixelSpacePosition(s,e),t.getCameraSpacePositionFromNormalSpacePosition(s,s),s.normalize(s);const n=Vh.pool.get(),a=Vh.pool.get();let r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,l=0;for(let e=0,c=this._starPositions.length;e<c;e++){n.sub(this._starPositions[e],i);const c=n.dot(s);if(c<0)continue;a.addMult(n,s,-c);const h=a.magnitude(),u=t.getNormalSpaceRadiusFromRadius(h,c);r>u&&(o=t.getViewport().getPixelSpaceRadiusFromNormalSpaceRadius(u),o<=35&&(r=u,l=e))}Vh.pool.release(a),Vh.pool.release(n),Vh.pool.release(i),Vh.pool.release(s),r<Number.POSITIVE_INFINITY?(this._hasMouse&&(this._engine.getViewportDiv().style.cursor="pointer"),this._selectedStarIndex=l):(this._hasMouse&&(this._engine.getViewportDiv().style.cursor="default"),this._selectedStarIndex=void 0)}},Z_=JSON.parse('{"":[[1,1,0.65],[1,0.9,0.2]],"Unknown":[[1,1,0.65],[1,0.9,0.2]],"A":[[1,1,1],[0.8,0.8,1]],"B":[[0.8,0.9,1],[0.65,0.65,1]],"F":[[1,0.9,0.7],[0.85,0.75,0.3]],"G":[[1,1,0.65],[1,0.9,0.2]],"K":[[1,1,0.4],[0.8,0.5,0.2]],"L":[[0.75,0.2,0],[0.4,0.2,0]],"M":[[0.9,0.2,0],[0.5,0.1,0]],"O":[[0.9,0.9,1],[0.65,0.65,1]],"S":[[1,0.7,0.2],[0.75,0.35,0.2]],"T":[[0.8,0.4,0.2],[0.2,0.1,0.2]],"W":[[1,1,0.65],[1,0.9,0.2]]}');class Q_{static create(t,e,i){if(!e)return console.warn("WARNING:",e.displayName," not found"),null;let s=t.get(e.exo_id);if(s)return s;const n=t.get("earth");s=t.addEntity(e.exo_id),s.setOcclusionRadius(e.radius),s.setExtentsRadius(e.radius),s.setParent(n),s.setPosition(e.positionJ2000),s.setOrientation(Lh.Identity);const a=Z_[e.starType][0],r=Z_[e.starType][1],o=s.addComponent("div").getDiv();o.innerHTML='<label class="title">'+e.displayName+"</label>",o.className="exostar pioneer-label-div",o.addEventListener("click",(()=>{i(`star/${e.exo_id}`)}),!1),o.addEventListener("touchend",(()=>{i(`star/${e.exo_id}`)}),!1);const l=s.addComponent("spheroid",e.exo_id),c=s.addComponent("spheroidLOD",e.exo_id+"_LOD");c.setFeature("colorMapEmmissive",!0),l.setPolarRadius(e.radius),l.setEquatorialRadius(e.radius),c.setForceLoaded(!0),c.setResourcesLoadedCallback((async()=>{Q_.applyNoise(c,e)})),c.setTexture("color","assets/image/exostar/genericType_grayscale.png",c.getTextureSizes("color"));let h=s.addComponent("sprite");h.setBillboard(!0),h.setTextureUrl("$STATIC_ASSETS_URL/sprites/sun_glow.png");const u=5*e.radius;h.setSize(new Fh(u,u)),h.setSizeUnits("km"),h.setTransparent(!0),h.setColorMultiplier(new vh(a[0],a[1],a[2]));let d=s.addComponent("atmosphere");return d.setEmissivity(1),d.setScaleHeight(10),d.setDensity(3e-6),d.setColor(new vh(r[0],r[1],r[2])),s.addComponent("lightSource"),s}static destroy(t,e){e&&(clearInterval(e.updateUniform),t.removeEntity(e.exo_id))}static applyNoise(t,e){const i=t.getThreeJsMaterials();if(!i||!Array.isArray(i)||0===i.length)return;const s=i[0],n=Z_[e.starType][0],a=Z_[e.starType][1],r=new ze(n[0],n[1],n[2]);s.uniforms.colorBright=new ql(r);const o=new ze(a[0],a[1],a[2]);s.uniforms.colorDark=new ql(o),s.uniforms.wallTime=new ql(0),e.updateUniform=setInterval((()=>{s&&s.uniforms&&(s.uniforms.wallTime=new ql(Date.now()/1e3%1e3))}),1),s.uniforms.perlinGain=new ql(.36),s.uniforms.perlinAmplitude=new ql(1),s.uniforms.perlinLacunarity=new ql(5.2),s.uniforms.perlinDensity=new ql(4.7),s.uniforms.limbDist=new ql(.8),s.uniforms.limbValue=new ql(-1),s.uniforms.noiseMult=new ql(3),s.uniforms.perlinVelocity=new ql(.015);let l="// ATMOSPHERE";s.fragmentShader=s.fragmentShader.replace(l,"\n\tuniform float perlinGain;\n\tuniform float perlinAmplitude;\n\tuniform float perlinLacunarity;\n\tuniform float perlinDensity;\n\tuniform float noiseMult;\n\tuniform float perlinVelocity;\n\tuniform float wallTime;\n\n\tuniform vec3 colorBright;\n\tuniform vec3 colorDark;\n\n\t#define M_PI 3.1415926535897\n\n\tbool isNan(float val)\n\t{\n\t  return (val <= 0.0 || 0.0 <= val) ? false : true;\n\t}\n\n\tvec4 permute1(vec4 x) {\n\t    return mod((x * 125.0 + 13.0) * x, 155.0);;\n\t}\n\n\tfloat PerlinNoise(vec3 P) {\n\t\tvec3 Pi0 = floor(P); // Integer part for indexing\n\t\tvec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n\t\tPi0 = mod(Pi0, 255.0);\n\t\tPi1 = mod(Pi1, 255.0);\n\t\tvec3 Pf0 = fract(P); // Fractional part for interpolation\n\t\tvec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n\t\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\tvec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\tvec4 iz0 = Pi0.zzzz;\n\t\tvec4 iz1 = Pi1.zzzz;\n\n\t\tvec4 ixy = permute1(permute1(ix) + iy);\n\t\tvec4 ixy0 = permute1(ixy + iz0);\n\t\tvec4 ixy1 = permute1(ixy + iz1);\n\n\t\tvec4 gx0 = ixy0 * (1.0 / 7.0);\n\t\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n\t\tgx0 = fract(gx0);\n\t\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\t\tvec4 sz0 = step(gz0, vec4(0.0));\n\t\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\t\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n\t\tvec4 gx1 = ixy1 * (1.0 / 7.0);\n\t\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n\t\tgx1 = fract(gx1);\n\t\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\t\tvec4 sz1 = step(gz1, vec4(0.0));\n\t\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\t\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n\t\tvec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n\t\tvec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n\t\tvec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n\t\tvec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n\t\tvec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n\t\tvec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n\t\tvec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n\t\tvec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n\n\t\tfloat n000 = dot(g000, Pf0);\n\t\tfloat n100 = dot(g100, vec3(Pf1.x,  Pf0.yz));\n\t\tfloat n010 = dot(g010, vec3(Pf0.x,  Pf1.y, Pf0.z));\n\t\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\t\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\t\tfloat n101 = dot(g101, vec3(Pf1.x,  Pf0.y, Pf1.z));\n\t\tfloat n011 = dot(g011, vec3(Pf0.x,  Pf1.yz));\n\t\tfloat n111 = dot(g111, Pf1);\n\n\t\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), Pf0.z);\n\t\tvec2 n_yz = mix(n_z.xy, n_z.zw, Pf0.y);\n\t\tfloat n_xyz = mix(n_yz.x, n_yz.y, Pf0.x);\n\t\treturn 3.5 * n_xyz;\n\t}\n\n\tfloat fbm(vec3 P) {\n\t    float sum = 0.0;\n\t    float amplitude = perlinAmplitude;\n\n\t    for(int i = 0; i < 3; i++) {\n\t        amplitude *= perlinGain;\n\t        sum += amplitude * PerlinNoise(P);\n\t        P *= perlinLacunarity;\n\t    }\n\t    return sum;\n\t}\n\n\tfloat pattern(vec3 p) {\n\t    float time = wallTime * perlinVelocity;\n\n\t    vec3 q;\n\t    q.x = fbm(p + vec3(3.7 * time, 2.7 * time, -1.7 * time));\n\t    q.y = q.x;\n\t    q.z = q.x;\n\n\t    vec3 r;\n\t    r.x = fbm(p + 4.0 * q + vec3(1.3 * time, -2.3 * time, 3.3 * time));\n\t    r.y = r.x;\n\t    r.z = r.x;\n\n\t    return fbm(p + 4.0 * r);\n\t}\n\n\tvec4 noise(float m) {\n\t    float theta = 2.0 * M_PI * vColorUV.x;\n\t    float phi = M_PI * vColorUV.y;\n\n\t    float _x = cos(theta) * sin(phi);\n\t    float _y = sin(theta) * sin(phi);\n\t    float _z = -cos(phi);\n\n\t    vec3 spatialPosition = vec3(_x,_y,_z);\n\n\t    float color = pattern(spatialPosition * perlinDensity);\n\n\t    vec4 c = vec4(color, color, color, 1.0);\n\n\t    c *= noiseMult / m;\n\n\t    return c;\n\t}\n"+l);let c="";c+="\tvec4 ret = noise( length(colorPixel) );\n",c+="\tcolorPixel = vec4(colorBright * ret.r + (1.0 - ret.r) * colorDark, 1.0);\n",l="// Apply diffuse shading.",s.fragmentShader=s.fragmentShader.replace(l,"\tvec4 ret = noise( length(colorPixel) );\n\tcolorPixel = vec4(colorBright * ret.r + (1.0 - ret.r) * colorDark, 1.0);\n"+l),s.needsUpdate=!0}}const tf=Q_,ef=JSON.parse('{"GJ_504_b":{"texture":"GJ_504_b.jpg"},"HAT-P-11_b":{"texture":"HAT-P-11_b.jpg"},"HD_189733_b":{"texture":"HD_189733_b.jpg"},"Kepler-7_b":{"texture":"Kepler-7_b.jpg","tidalLock":{"primary":"YAxis","secondary":"XAxis"}},"Kepler-22_b":{"texture":"Kepler-22_b.jpg","specular":"Kepler-22_b_specular.jpg"},"Kepler-452_b":{"texture":"Kepler-452_b.jpg"},"OGLE-2005-BLG-390L_b":{"texture":"OGLE-2005-BLG-390L_b.jpg","specular":"OGLE-2005-BLG-390L_b_specular.jpg"},"Proxima_Cen_b":{"texture":"Proxima_Cen_b.jpg"},"TRAPPIST-1_b":{"texture":"TRAPPIST-1_b.jpg","specular":"TRAPPIST-1_b_specular.jpg"},"TRAPPIST-1_c":{"texture":"TRAPPIST-1_c.jpg","specular":"TRAPPIST-1_c_specular.jpg"},"TRAPPIST-1_d":{"texture":"TRAPPIST-1_d.jpg","specular":"TRAPPIST-1_d_specular.jpg"},"TRAPPIST-1_e":{"texture":"TRAPPIST-1_e.jpg","atmosphere":{"color":[0.94,0.56,0.17]}},"TRAPPIST-1_f":{"texture":"TRAPPIST-1_f.jpg","tidalLock":{"primary":"XAxis","secondary":"YAxisNeg"}},"TRAPPIST-1_g":{"texture":"TRAPPIST-1_g.jpg","specular":"TRAPPIST-1_g_specular.jpg"},"TRAPPIST-1_h":{"texture":"TRAPPIST-1_h.jpg"},"YZ_Cet_d":{"texture":"YZ_Cet_d.jpg"},"KOI-55_b":{"modelScale":[5,5,5],"modelRotate":[[0,1,0,90],[1,0,0,90]],"model":"assets/model/KOI-55_b/KOI-55b.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}},"PSR_B1257+12_b":{"modelScale":[2,2,2],"model":"assets/model/PSR_B1257_12b/PSR_B1257_12b.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}},"AU_Mic_b":{"modelScale":[50000,50000,50000],"modelRotate":[[0,1,0,90],[1,0,0,90]],"model":"assets/model/AUMicb/AUMicb.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}},"TrES-2_b":{"modelScale":[130000,130000,130000],"modelRotate":[[0,0,1,90]],"model":"assets/model/TrES-2_b/Tres2b.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}},"WASP-12_b":{"modelScale":[346,346,346],"modelRotate":[[0,0,1,-90]],"model":"assets/model/WASP-12_b/WASP-12B.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}},"55_Cnc_e":{"modelScale":[23000,23000,23000],"modelRotate":[[0,0,1,90]],"model":"assets/model/55Cancri_e/55Cancri_e.gltf","tidalLock":{"primary":"YAxisNeg","secondary":"XAxisNeg"}}}'),sf=JSON.parse('{"Gas Giant":{"baseMaps":[5,6],"baseColors":[[[205,69,69,255],[0,0,0,0]],[[56,197,56,255],[0,0,0,0]],[[83,83,196,255],[0,0,0,0]]],"detailCount":[2,3],"detailMaps":[5,6,7],"detailColors":[[[169,162,132,128],[0.5,0,0.1,0.5]],[[66,92,131,128],[0.5,0,0.1,0.5]],[[230,122,101,128],[0.5,0,0.1,0.5]]]},"Neptune-like":{"baseMaps":[5,6],"baseColors":[[[205,69,69,255],[0,0,0,0]],[[56,197,56,255],[0,0,0,0]],[[83,83,196,255],[0,0,0,0]]],"detailCount":[2,3],"detailMaps":[5,6,7],"detailColors":[[[169,162,132,128],[0.5,0,0.1,0.5]],[[66,92,131,128],[0.5,0,0.1,0.5]],[[230,122,101,128],[0.5,0,0.1,0.5]]]},"Hot Jupiter":{"baseMaps":[6],"baseColors":[[[255,0,0,255],[0,0,0,0]],[[0,255,0,255],[0,0,0,0]],[[0,0,255,255],[0,0,0,0]]],"detailCount":[2,3],"detailMaps":[5,6,7],"detailColors":[[[255,119,0,128],[0.014,0,0.1,0.5]],[[255,80,0,128],[0.028,0,0.1,0.5]],[[255,225,0,128],[0.014,0,0.1,0.5]]]},"lavaAtmos":{"baseMaps":[2,4],"baseColors":[[[255,240,51,255],[0.028,0.1,0.1,0]],[[230,84,74,255],[0.028,0.1,0.1,0]],[[15,11,3,255],[0.028,0.1,0.1,0]]],"normMaps":[2,4],"detailCount":[1,2],"detailMaps":[1,2,3,4],"detailColors":[[[255,255,255,212],[0,0,0,0.1]],[[255,255,199,53],[0,0,0,0.1]]]},"lavaNoAtmos":{"baseMaps":[2,4],"baseColors":[[[255,240,51,255],[0.028,0.1,0.1,0]],[[230,84,74,255],[0.028,0.1,0.1,0]],[[15,11,3,255],[0.028,0.1,0.1,0]]],"normMaps":[2,4],"detailCount":[0,0],"detailMaps":[],"detailColors":[]},"iceAtmos":{"baseMaps":[1],"baseColors":[[[238,238,238,255],[0.028,0.1,0.1,0]],[[0,148,255,255],[0.028,0.1,0.1,0]],[[202,221,255,255],[0.028,0.1,0.1,0]]],"normMaps":[1],"detailCount":[1,2],"detailMaps":[1,2,3,4],"detailColors":[[[255,255,255,28],[0,0,0,0.1]],[[255,255,255,183],[0,0,0,0.1]]]},"desertAtmos":{"baseMaps":[2,4],"baseColors":[[[238,188,144,255],[0.05,0.15,0.15,0]],[[213,176,118,255],[0.05,0.15,0.15,0]],[[188,160,96,255],[0.05,0.15,0.15,0]]],"normMaps":[2,4],"detailCount":[1,1],"detailMaps":[1,2,3,4],"detailColors":[[[255,255,255,212],[0,0,0.1,0.1]]]},"desertNoAtmos":{"baseMaps":[2,4],"baseColors":[[[238,188,144,255],[0.05,0.15,0.15,0]],[[213,176,118,255],[0.05,0.15,0.15,0]],[[188,160,96,255],[0.05,0.15,0.15,0]]],"normMaps":[2,4],"detailCount":[0,0],"detailMaps":[],"detailColors":[]},"Unknown":{"baseMaps":[5,6],"baseColors":[[[157,123,123,255],[0,0,0,0]],[[149,180,149,255],[0,0,0,0]],[[125,125,161,255],[0,0,0,0]]],"detailCount":[1,2],"detailMaps":[5,6,7],"detailColors":[[[131,111,109,30],[0.5,0,0.03,0.02]],[[93,94,106,35],[0.5,0,0.06,0.01]]]}}');class nf{static create(t,e,i,s){if(!i||!e)return void console.warn("WARNING:",i.displayName," not found");let n=t.get(i.exo_id);if(n)return n;n=t.addEntity(i.exo_id),n.setOcclusionRadius(i.radius),n.setExtentsRadius(i.radius),n.setParent(t.get(e.exo_id)),n.setOrientation(Lh.Identity),n.addController("keplerianorbit").setParams(i);let a=ef[i.exo_id];if(i&&a&&a.tidalLock){let t=n.addController("align");t.setPrimaryAlignType("point"),t.setPrimaryTargetEntity(e.exo_id),t.setPrimaryAxis(Vh[a.tidalLock.primary]),t.setSecondaryAlignType("velocity"),t.setSecondaryTargetEntity(i.exo_id),t.setSecondaryAxis(Vh[a.tidalLock.secondary])}if(i&&a&&a.model){const t=n.addComponent("model");if(t.setUrl(a.model),a.modelScale){const e=a.modelScale;t.setScale(new Vh(e[0],e[1],e[2]))}if(a.modelRotate)for(let e=0;e<a.modelRotate.length;e++){const i=a.modelRotate[e],s=new Lh,n=new Vh(i[0],i[1],i[2]);s.setFromAxisAngle(n,Math.PI/180*i[3]),t.setRotation(s)}}else{if("HD_209458_b"===i.id){i.visType="Jovian";const t=n.addComponent("sprite");t.setBillboard(!0),t.setTextureUrl("$STATIC_ASSETS_URL/sprites/sun_glow.png");const e=10*i.radius;t.setSize(new Fh(e,e)),t.setSizeUnits("km"),t.setTransparent(!0),t.setColorMultiplier(new vh(75/255,111/255,129/255))}const t=n.addComponent("spheroid",i.exo_id),e=n.addComponent("spheroidLOD",i.exo_id+"_LOD");if(t.setPolarRadius(i.radius),t.setEquatorialRadius(i.radius),i.exo_id&&a&&a.texture){const t="assets/image/exoplanet/";e.setTexture("color",t+a.texture,e.getTextureSizes("color")),a.specular&&(e.setTexture("specular",t+a.texture,e.getTextureSizes("specular")),e.setFeature("specularMap",!0))}else e.setForceLoaded(!0),e.setResourcesLoadedCallback((async()=>{nf.applyCustomTexture(e,i)}))}const r=n.addComponent("div").getDiv();r.innerHTML='<label class="title">'+i.displayName+"</label>",r.className="exoplanet",r.addEventListener("click",(t=>{s(`planet/${i.id}`)})),r.addEventListener("touchend",(t=>{s(`planet/${i.id}`)}),!1);const o=n.addComponent("trail");o.setStartTime(86400*i.period),o.setColor(new vh(1,1,1,.5)),o.setAlphaFade(.1);let l=.25;i.eccentricity>.9?l=.025:i.eccentricity>.75?l=.05:i.eccentricity>.5&&(l=.1);const c=hh.degToRad(l);return o.setAngleCurveThreshold(c),o.resetPoints(),n}static destroy(t,e){e&&t.removeEntity(e)}static applyCustomTexture(t,e){let i=X_.ParkMiller(X_.hashCode(e.exo_id));const s=sf[e.visType]||sf.Unknown;if(!s)return void console.error("visType is wrong",e.visType);let n=i.float(),a="",r="";const o="assets/image/exoplanet/base";if(s.normMaps&&s.normMaps.length>0){let e=Math.round(n*s.normMaps.length);e=e<0?0:e,e=e>=s.normMaps.length?s.normMaps.length-1:e,t.setTexture("normal","assets/image/exoplanet/norm"+s.normMaps[e]+".png",t.getTextureSizes("normal")),t.setFeature("normalMap",!0)}const l=t.getThreeJsMaterials();if(!l||!Array.isArray(l)||0===l.length)return;const c=l[0],h=(new ml).load(o+s.baseMaps[0]+".jpg");c.uniforms.base0=new ql(h),a+="uniform sampler2D base0;\n",r+="colorPixel += texture2D(base0, vColorUV);\n";let u=0;if(s.baseMaps.length>1){const t=(new ml).load(o+s.baseMaps[1]+".jpg");c.uniforms.base1=new ql(t),u=i.float(),a+="uniform sampler2D base1;\n",r+="colorPixel += "+(1-u).toPrecision(8)+" * texture2D(base1, vColorUV);\n"}const d=s.baseColors.map((t=>X_.randomColor(t[0],t[1],i.float)));d&&3===d.length&&(r+="colorPixel = colorPixel.r * "+X_.SVec4(d[0]),r+=" + colorPixel.g * "+X_.SVec4(d[1]),r+=" + colorPixel.b * "+X_.SVec4(d[2])+";\n");const p=s.detailCount[0]+Math.floor(i.float()*(1+s.detailCount[1]-s.detailCount[0]));let m=[];p>0&&(m=X_.shuffle(s.detailMaps,i.float).slice(0,p));var g=s.detailColors.slice(0,p).map((function(t,e){return X_.randomColor(t[0],t[1],i.float)}));for(let t=0;t<p;t++){const e=(new ml).load("assets/image/exoplanet/detail"+m[t]+".png");c.uniforms["detail"+t]=new ql(e)}for(let t=0;t<p;t++)a+="uniform sampler2D detail"+t+";\n",r+="float alpha"+t+" = texture2D(detail"+t+", vColorUV).a;\n",r+="colorPixel = alpha"+t+" * "+X_.SVec4(g[t])+" + (1.0 - alpha"+t+") * colorPixel;\n";const _="\t#ifndef colorMapEmmissive\n";c.fragmentShader=a+c.fragmentShader,c.fragmentShader=c.fragmentShader.replace(_,r+_),c.needsUpdate=!0}}const af=nf,rf=JSON.parse('{"Kepler-16":{"semiMajor":0.224,"ra":289.075714,"eccentricity":0.15944,"period":42.079,"stars":[{"displayName":"Kepler-16A","exo_id":"Kepler-16_A","magnitude":1,"st_mass":0.654,"radius":451439,"starType":"K"},{"displayName":"Kepler-16B","exo_id":"Kepler-16_B","magnitude":1,"st_mass":0.1959,"radius":157388,"starType":"M"}]},"Kepler-34":{"semiMajor":0.22882,"ra":296.435822,"eccentricity":0.52087,"period":27.7958103,"stars":[{"displayName":"Kepler-34A","exo_id":"Kepler-34_A","magnitude":1,"st_mass":1.0479,"radius":808264,"starType":"G"},{"displayName":"Kepler-34B","magnitude":1,"exo_id":"Kepler-34_B","st_mass":1.0208,"radius":760191,"starType":"G"}]},"Kepler-38":{"semiMajor":0.4632,"ra":286.830312,"eccentricity":0,"period":18.8,"stars":[{"displayName":"Kepler-38A","exo_id":"Kepler-38_A","magnitude":1,"st_mass":0.949,"radius":1222344,"starType":"M"},{"displayName":"Kepler-38B","magnitude":1,"exo_id":"Kepler-38_B","st_mass":0.249,"radius":189508,"starType":"G"}]}}'),of=149597900,lf=new Lh(.9791532214288992,.2031230389823101,0,0),cf=class{constructor(t,e,i,s){this._pioneer=t,this._scene=e,this._contentManager=null,this._pathChangeHandler=null,this._starfield=null,this._keplerCandidates=null,this._tessCandidates=null,this._currentSystem=null,this._deleteQueue=[],this._isLightOn=!1,this._forcedLightOn=!1,this._milkywaySprite=null,this._systemLabel=null,this._systemList=[],this._selection=null,this._cameraManager=i,this._isMobile=s,this._createExostar=this._createExostar.bind(this),this.setContentManager=this.setContentManager.bind(this),this.createLabel=this.createLabel.bind(this),this.updateLabel=this.updateLabel.bind(this),this.setExoSystem=this.setExoSystem.bind(this),this.cleanExoSystems=this.cleanExoSystems.bind(this),this.deleteExoSystem=this.deleteExoSystem.bind(this),this._removeExoSystem=this._removeExoSystem.bind(this),this._createExoSystem=this._createExoSystem.bind(this),this.toggleConstellations=this.toggleConstellations.bind(this),this.setStarSprite=this.setStarSprite.bind(this),this.setGalaxySpriteAlpha=this.setGalaxySpriteAlpha.bind(this),this.isHabzoneOn=this.isHabzoneOn.bind(this),this.setHabzone=this.setHabzone.bind(this),this.setFilter=this.setFilter.bind(this),this.showKeplerCandidates=this.showKeplerCandidates.bind(this),this.showTESSCandidates=this.showTESSCandidates.bind(this),this.isLightOn=this.isLightOn.bind(this),this.toggleLight=this.toggleLight.bind(this),this.createLabel(),window.addEventListener("cameraupdate",(async t=>{let{type:e}=t.detail;"spacecraft"===e?this._isLightOn||this.toggleLight(!0):(this._forcedLightOn&&this._isLightOn&&this.toggleLight(),this._forcedLightOn=!1)}),!1)}_createExostar(t){let e=tf.create(this._scene,t,this._pathChangeHandler);return this._deleteQueue.indexOf(t.exo_id)<0&&this._deleteQueue.push(t.exo_id),e}setContentManager(t){this._contentManager=t}setPathChangeHandler(t){this._pathChangeHandler=t}createLabel(){const t=this._scene.get("earth");this._systemLabel=this._scene.addEntity("systemLabel"),this._systemLabel.setParent(t),this._systemLabel.setPosition(Vh.Zero),this._systemLabel.setOrientation(Lh.Identity);const e=this._systemLabel.addComponent("div").getDiv();e.innerHTML='<label class="title">VOID</label>',e.id="void";let i=document.createElement("label");i.className="subtitle",i.innerText="Click to zoom",e.appendChild(i),e.className="exostar pioneer-label-div",e.style.cursor="pointer",e.addEventListener("click",(t=>{t.stopPropagation(),this._systemLabel.setEnabled(!1),this._pathChangeHandler(`system/${e.id}`)}),{passive:!1}),e.addEventListener("touchstart",(t=>{t.stopPropagation(),t.preventDefault()}),{passive:!1}),e.addEventListener("touchmove",(t=>{t.stopPropagation(),t.preventDefault()}),{passive:!1}),e.addEventListener("touchend",(t=>{t.stopPropagation(),t.preventDefault(),this._systemLabel.setEnabled(!1),this._pathChangeHandler(`system/${e.id}`)}),{passive:!1}),this._systemLabel.setEnabled(!1)}updateLabel(t){if(!t)return this._systemLabel.setEnabled(!1),void this.select(null);if(!this._cameraManager.isTransitioning()&&this._selection!==t.id){this.select(t.id),this._systemLabel.setOcclusionRadius(t.radius),this._systemLabel.setExtentsRadius(t.radius),this._systemLabel.setPosition(t.positionJ2000);let e=this._systemLabel.get("div").getDiv();e.childNodes[0].innerText=t.displayName,e.id=t.id,this._systemLabel.setEnabled(!0)}}async toggleConstellations(t){const e=this._scene.get("sun");if(null===e)return;let i=e.getComponentByType("constellations");t&&null===i?(i=e.addComponent("constellations"),i instanceof Cp&&(i.setUrl("$STATIC_ASSETS_URL/stars/constellations.bin"),i.setColor(new vh(.35,.7,1,.5))),await this._pioneer.waitUntilNextFrame(),await i.getLoadedPromise()):t||null===i||e.removeComponent(i)}setExoSystem(t){let e=this._contentManager.getSystemInfo(t);if(!e){const i=this._contentManager.getDB(X_.DATABASE_NAMES.hwostars,!0);for(let s=0;s<i?.length;s+=1)t===i[s].exo_id&&(e=i[s],e.positionJ2000=new Vh(e.position[2],-e.position[0],e.position[1]),e.positionJ2000.rotate(lf,e.positionJ2000))}e&&(this._currentSystem=e,this._systemList.push(e.exo_id),(void 0!==e.length&&e.length>0||!X_.isEmptyObj(e))&&this._createExoSystem(e))}cleanExoSystems(){if(this._systemList.length>1){let t=this._systemList.pop(),e=this._systemList.pop();for(;void 0!==e;){if(e!==t){let t=this._contentManager.getSystemInfo(e);this._removeExoSystem(t)}e=this._systemList.pop()}this._systemList.push(t)}}hideExoSystem(){}showExoSystem(){null!==this._currentSystem&&this._scene.get(this._currentSystem.exo_id)&&this._scene.get(this._currentSystem.exo_id).setEnabled(!0)}deleteExoSystem(){null!==this._currentSystem&&(this._removeExoSystem(this._currentSystem),this._systemList=[],this._currentSystem=null)}_removeExoSystem(t){if(t){this._scene.get("sun","sprite").setEnabled(!0),this._scene.removeEntity("habzone_"+t.exo_id);for(let e=t.planets.length-1;e>=0;e--)af.destroy(this._scene,t.planets[e]);if(t.stars)for(let e=t.stars.length-1;e>=0;e--)t.stars[e]&&tf.destroy(this._scene,t.stars[e]);t&&tf.destroy(this._scene,t)}}_createExoSystem(t){if(!t||!t.exo_id||this._scene.get(t.exo_id))return;const e=[];if(rf[t.exo_id]&&rf[t.exo_id].stars){let i=this._scene.get(t.exo_id);if(i)return;i=this._scene.addEntity(t.exo_id),i.setParent(this._scene.get("sun")),i.setOcclusionRadius(1e-6),i.setOrientation(Lh.Identity),i.setPosition(t.positionJ2000),i.addComponent("label").setText("x"),this._currentSystem.stars=rf[t.exo_id].stars;for(let i=0;i<rf[t.exo_id].stars.length;i++){let s={...t},n=rf[t.exo_id].stars[i];s.exo_id=n.exo_id,s.displayName=n.displayName;for(let t in n)s[t]=n[t];const a=this._createExostar(s);if(a){a.setOcclusionRadius(s.radius),a.setParent(this._scene.get(t.exo_id)),void 0===rf[t.exo_id].inclination&&(rf[t.exo_id].inclination=-1);let n={...t},r=rf[t.exo_id].stars[0].st_mass/rf[t.exo_id].stars[1].st_mass;n.semiMajor=rf[t.exo_id].semiMajor/(1+Math.pow(r,0===i?1:-1)),n.inclination=rf[t.exo_id].inclination,n.eccentricity=rf[t.exo_id].eccentricity,n.period=rf[t.exo_id].period,n.ra=rf[t.exo_id].ra,n.displayName=s.displayName,n.exo_id=s.exo_id,n.periapsisDirection=0===i?1:-1,a.addController("keplerianorbit").setParams(n);let o=a.addComponent("trail");o.setStartTime(86400*n.period),o.setColor(new vh(1,.5,.2,.7)),o.setRelativeToEntityOrientation(!0);const l=hh.degToRad(.25);o.setAngleCurveThreshold(l),o.setAlphaFade(.1),o.resetPoints(),e.push(a)}}}else e.push(this._createExostar(t));let i=null;const s=[];for(let e=0;e<t.planets.length;e++){let n=this._contentManager.getDB("planets")[t.planets[e]];if(n.radius=n.pl_rade>0?6378.1*n.pl_rade:71492,!this._scene.get(n.exo_id)){const a=10*n.radius;i?Math.abs(n.semiMajor-i)*of<=a&&(i=n.semiMajor,n.semiMajor=i-a*(e+1)/of):i=n.semiMajor;const r=af.create(this._scene,t,n,this._pathChangeHandler);n.inclination>=0&&s.push(r),this._deleteQueue.indexOf(n.exo_id)<0&&this._deleteQueue.push(n.exo_id)}}const n=new Vh;for(let t=0,e=s.length;t<e;t++){const e=new Vh;s[t].get("keplerianorbit").getOrbitOrientation().getAxis(e,2),n.add(n,e)}n.magnitude()>0?n.normalize(n):n.set(0,0,1);let a=null,r=Number.POSITIVE_INFINITY;for(let t=0,e=s.length;t<e;t++){const e=new Vh;s[t].get("keplerianorbit").getOrbitOrientation().getAxis(e,2);const i=e.angle(n);r>i&&(r=i,a=e)}null===a&&(a=new Vh(0,0,1));const o=new Lh,l=new Vh;if(l.cross(a,Vh.ZAxis),l.magnitude()>0?l.normalize(l):l.set(1,0,0),o.setFromAxes(l,void 0,a),t.orientation=o,rf[t.exo_id]&&rf[t.exo_id].stars)for(let e=0;e<rf[t.exo_id].stars.length;e++){const i=rf[t.exo_id].stars[e];rf[t.exo_id].inclination<0&&this._scene.get(i.exo_id,"keplerianorbit").setOrbitOrientation(o)}for(let e=0;e<t.planets.length;e++){let i=t.planets[e];i&&i.inclination<0&&this._scene.get(i.exo_id,"keplerianorbit").setOrbitOrientation(o)}if(t.habZone){const e=this._scene.addEntity("habzone_"+t.exo_id);if(this._scene.get(t.exo_id)){e.addParentingTableEntry(0,t.exo_id),e.setOcclusionRadius(t.habZone[1]),e.setExtentsRadius(t.habZone[1]),e.setCanOcclude(!1),e.setPosition(Vh.Zero),e.setOrientation(o);const i=e.addComponent("annulus");i.setInnerRadius(t.habZone[0]),i.setOuterRadius(t.habZone[1]),i.setIgnoreDistance(!1),i.setMinDistance(t.habZone[0]/1e3),i.setMaxDistance(1e3*t.habZone[1]),i.setColor(new vh(0,.458,.486,.25))}}this._scene.get("sun","sprite").setEnabled(!1)}setStarSprite(t){this._starfield||(this._starfield=this._scene.get("sun").get("Exostarfield")),this._starfield.setStarSprite(t)}setGalaxySpriteAlpha(t){null===this._milkywaySprite&&(this._milkywaySprite=this._scene.get("milky_way","sprite"));let e=Vh.pool.get();t.getPositionRelativeToEntity(e,Vh.Zero,this._milkywaySprite.getEntity());let i=e.magnitude()/this._milkywaySprite.getEntity().getOcclusionRadius()-1;const s=t.getPosition().magnitude(),n=hh.clamp01(s/8e17);let a=Vh.pool.get(),r=Vh.pool.get();t.getOrientation().getAxis(a,1),this._scene.get("milky_way").getOrientation().getAxis(r,2);let o=1;if(!a.isNaN()&&!r.isNaN()){let t=Math.abs(a.dot(r)),e=this._isMobile()?5:3;o=Math.pow(t,e),i=hh.clamp01(i),o=hh.lerp(o,n,i,!0)}let l=Math.min(n,o);this._milkywaySprite.setColorMultiplier(new vh(1,1,1,l)),Vh.pool.release(e),Vh.pool.release(a),Vh.pool.release(r)}isHabzoneOn(){if(this._currentSystem){let t=this._scene.getEntity("habzone_"+this._currentSystem.exo_id);return null!==t&&t.isEnabled()}return!1}getObjectById(t){return this._scene.get(t)}setHabzone(t){if(this._currentSystem){const{exo_id:e,habZone:i}=this._currentSystem;let s=this._scene.getEntity("habzone_"+e);if(s&&s.setEnabled(t),t&&e&&i){let t=this._scene.getEntity("habzone_"+e);t||(t=this._scene.addEntity("habzone_"+e));const s=t.getComponentByType("annulus");s&&(s.setInnerRadius(i[0]),s.setOuterRadius(i[1]),s.setIgnoreDistance(!1),s.setMinDistance(i[0]/1e3),s.setMaxDistance(1e3*i[1]))}return e}}get planetCount(){return this._starfield||(this._starfield=this._scene.get("sun").get("Exostarfield")),this._starfield?.planetCount}setFilter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._starfield||(this._starfield=this._scene.get("sun").get("Exostarfield")),this._starfield.setFilter(t,e)}starFade(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this._starfield&&this._starfield.starFade(t,e)}showKeplerCandidates(t){this._keplerCandidates||(this._keplerCandidates=this._scene.get("sun").getComponent("ExoKeplercandidatefield")),this._keplerCandidates.starFade(t,t?1e3:0)}showTESSCandidates(t){this._tessCandidates||(this._tessCandidates=this._scene.get("sun").getComponent("ExoTESScandidatefield")),this._tessCandidates.starFade(t,t?1e3:0)}isLightOn(){return this._isLightOn}toggleLight(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._forcedLightOn=t,this._isLightOn=!this._isLightOn,this._scene.getEntity("camera").get("lightSource").setEnabled(this._isLightOn)}getSelection(){return this._selection}select(t){this._selection=t}showPlacemarks(t){const e=this._scene.get("placemarks");if(e&&e.getNumChildren())for(let i=0;i<e.getNumChildren();i++)e.getChild(i).setEnabled(t)}};class hf{constructor(t,e,i){this._pioneer=t,this._scene=e,this._camera=e.get("camera"),this._contentManager=null,this._spoutManager=null,this._currentSystem="",this._currentObject="",this._id=null,this._defaultMaxDistance=73686231697268e3,this._galaxyViewCoverageUpdate=this._galaxyViewCoverageUpdate.bind(this),this.setContentManager=this.setContentManager.bind(this),this.goToGalaxyView=this.goToGalaxyView.bind(this),this.flyToObject=this.flyToObject.bind(this),this.flyToEarth=this.flyToEarth.bind(this),this.flyToSurface=this.flyToSurface.bind(this),this.getLatLon=this.getLatLon.bind(this),this.formatLatLon=this.formatLatLon.bind(this),this.readCameraAE=this.readCameraAE.bind(this),this.getAEFromEntity=this.getAEFromEntity.bind(this),this._galaxyViewTarget=e.addEntity("galaxy_view_target"),this._galaxyViewTarget.setParent(e.getEntity("earth")),this._galaxyViewTarget.setPosition(Vh.Zero);const s=this._galaxyViewTarget.addController("coverage");if(s.setCoverage(new Ih(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),s.setUpdateFunction(this._galaxyViewCoverageUpdate),s.addDependentState("earth","orientation"),s.addDependentState("milky_way","orientation"),i.spout){const t=this._camera.addComponent("spout");t instanceof md&&i.spoutRenderWidth&&t.setRenderWidth(i.spoutRenderWidth)}}setContentManager(t){this._contentManager=t}setSpoutManager(t){this._spoutManager=t}isTransitioning(){return!(null===this._pioneer.get("main","camera","transition"))}async goToGalaxyView(){this._camera.clearControllers();let t=new CustomEvent("cameraupdate",{detail:{id:"earth",type:"galaxy"}});window.dispatchEvent(t);try{await bp.goToEntity(this._camera,this._scene.get("earth"),{distance:hf.milkyWayRadius/42,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,0,!0,this._scene.get("earth"))})}catch(t){return console.warn("e: ",t),!0}let e=new CustomEvent("cameraupdatedone",{detail:{id:"earth",type:"galaxy"}});return window.dispatchEvent(e),this._currentSystem="",this._currentObject="",!0}async goToObjectView(t,e){const i=!this._camera.getPosition().isNaN(),s=this._scene.get(t),n=this._contentManager.getSystemInfo(t),a=this._scene.get(this._currentObject),r=n?n.exo_id:"solar_system",o=this._scene.get(r)||this._scene.get("sun"),l=n?n.system_radius:hf.solarSystemRadius/10;if(""!==this._currentObject&&t!==this._currentObject){const t=Vh.pool.get();this._getSystemDestination(t,n),await bp.goToEntity(this._camera,a,{up:!1,zoom:!1,destination:t,duration:1,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,s.getOcclusionRadius(),!0,s)}),Vh.pool.release(t)}if(""!==this._currentSystem&&r!==this._currentSystem&&t.indexOf("sc_")<0){await this._lookAtObject(o);const t=Vh.pool.get();this._getSystemDestination(t,n),await bp.goToEntity(this._camera,o,{up:!0,zoom:!1,destination:t,duration:2,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,o.getOcclusionRadius(),!0,o)}),Vh.pool.release(t)}const c=this.getDistanceForRadius(s.getOcclusionRadius());if(await this._flyToObject(s,c,i?1:0),e){const t=new Vh,e=new Vh;e.cross(s.getPosition(),this._camera.getPosition()),e.normalize(e);const n=Math.PI-this._camera.getPosition().angle(s.getPosition()),a=Math.PI/4,r=new Lh,o=Math.max(0,n-a);r.setFromAxisAngle(e,o),t.rotate(r,this._camera.getPosition()),t.normalize(t),t.mult(t,c),await bp.goToEntity(this._camera,s,{up:!0,zoom:!0,destination:t,duration:i?o/2:0,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,s.getOcclusionRadius(),!0,s)})}this._currentSystem=r,this._currentObject=t,this._camera.get("zoom")&&this._camera.get("zoom").setDistanceClamp(new Ih(1.25*s.getOcclusionRadius(),6*l)),this._addCinematicController(this._camera,!0)}async goToSystemView(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=!this._camera.getPosition().isNaN();let n=this._contentManager.getSystemInfo(t);if(!n){const e=this._contentManager.getDB(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<e?.length;i+=1)e[i].exo_id===t&&(n=e[i])}const a=this._scene.get(n.exo_id);""!==this._currentSystem&&await this._lookAtObject(a),""!==this._currentSystem&&n.exo_id!==this._currentSystem&&await this._flyToObject(a,2*n.system_radius,2);const r=Vh.pool.get();this._getSystemDestination(r,n,e,i),await bp.goToEntity(this._camera,a,{up:!0,zoom:!0,destination:r,duration:s?1:0,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,a.getOcclusionRadius(),!0,a)}),Vh.pool.release(r),this._currentSystem=t,this._currentObject="",this._camera.get("zoom").setDistanceClamp(new Ih(1.25*a.getOcclusionRadius(),6*Math.max(n.habZone&&n.habZone[0],n.habZone&&n.habZone[1],n.system_radius,hf.solarSystemRadius))),this._addCinematicController(this._camera,!0)}async _lookAtObject(t){const e=new Vh,i=new Vh;this._camera.getOrientation().getAxis(i,1),this._camera.getPosition().isNaN()||t.getPositionRelativeToEntity(e,Vh.Zero,this._camera),await bp.goToEntity(this._camera,t,{up:!1,distance:e.magnitude(),duration:i.angle(e)/2})}async _flyToObject(t,e,i){const s=new Vh;if(this._camera.getPosition().isNaN()||t.getPositionRelativeToEntity(s,Vh.Zero,this._camera),0===s.magnitude()&&(i=0),t&&t.getParent()&&"earth"===t.getParent().getName()){const e=t.getParent().getComponentByType("spheroidLOD");if(e){const t=e.getTextureNames();if(t&&Array.isArray(t))for(let i=0;i<t.length;i++){const s=e.getTextureUrl(t[i]);e.setTexture(t[i],s,e.getTextureSizes(t[i]))}}}await bp.goToEntity(this._camera,t,{up:!1,distance:e,duration:i}),this._spoutManager.setSpoutTarget(t.getName())}_getSystemDestination(t,e,i,s){const n=e?e.exo_id:"solar_system",a=this._scene.get(n),r=e?e.system_radius:hf.solarSystemRadius/10;let o=0;const l=this._scene.getEntity("habzone_"+n);if(s){o=2*e.system_radius;let t=0,i=0;for(let s=0;s<e.planets.length;s++){const n=e.planets[s];n&&(0===s?(t=n.semiMajor?n.semiMajor:0,i=n.semiMajor?n.semiMajor:0):(t=Math.max(t,n.semiMajor?n.semiMajor:0),i=Math.min(i,n.semiMajor?n.semiMajor:0)))}const s=30.1,n=.4;n>t?o=3*n*149597900:s>t&&n<i||s>t&&n>i?o=3*s*149597900:n>i&&(o=3*i*149597900)}else o=e&&i&&null!==l&&l.isEnabled()&&e.habZone&&2===e.habZone.length?3.5*Math.max(r,e.habZone[0],e.habZone[1]):3.5*r;const c=Vh.pool.get();a?a.getOrientation().getAxis(c,2):hf.j2000ToEclipJ2000Rotation.getAxis(c,2);const h=Vh.pool.get();h.copy(this._camera.getPosition()),h.isNaN()&&h.copy(Vh.XAxisNeg),h.addMult(h,c,-h.dot(c)),h.normalize(h),t.add(h,c),Vh.pool.release(h),Vh.pool.release(c),t.normalize(t),t.mult(t,o)}async flyToObject(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pioneer.setTime(gh.now()),this._pioneer.setTimeRate(1);try{if(this._camera.clearControllers(),"spacecraft"===e){const e=this._scene.get(t),i=this._pioneer.getTime(),s=e.getPositionCoverage().min,n=e.getPositionCoverage().max;this._pioneer.setTime(i>n?s:i)}let n=this._contentManager.getSystemInfo(t);const a=new CustomEvent("cameraupdate",{detail:{id:t,type:e,system:n}});window.dispatchEvent(a),"star"===e||"planet"===e||"spacecraft"===e?await this.goToObjectView(t,"planet"===e):"system"===e&&await this.goToSystemView(t,i,s);const r=new CustomEvent("cameraupdatedone",{detail:{id:t,type:e,system:n}});window.dispatchEvent(r)}catch(t){throw t}}async moveToCompare(t,e){const i=e.getController("compare"),s=new Vh;i.getOrientation().getAxis(s,2);const n=new Vh;"school_bus"===e.getName()?(n.neg(i.getPosition()),n.normalize(n),n.addMult(n,s,.4)):n.cross(s,i.getPosition()),n.normalize(n);const a=(t.getOcclusionRadius()+e.getOcclusionRadius()+i.getPosition().magnitude())/2;n.mult(n,this.getDistanceForRadius(a));try{await bp.goToEntity(this._camera,t,{up:!1,destination:n,destinationUp:s,duration:1,transitionFunction:Ip.jumpToLocationOnSphere.bind(void 0,0,t.getOcclusionRadius(),!1,t)})}catch(t){return}this._camera.get("zoom").setDistanceClamp(new Ih(1.25*a,20*a))}async flyToEarth(){let t=new CustomEvent("cameraupdate",{detail:{id:"earth",type:"planet"}});window.dispatchEvent(t);let e=this._scene.get("earth");const i=this._scene.get("sun");return i&&i.getComponentByType("lightSource")&&i.getComponentByType("lightSource").setEnabled(!0),bp.goToEntity(this._camera,e,{}).then((()=>{let t=this._camera.addController("pick");t.setPickedEntity(e),t.setCallback((t=>{const i=new Vh;i.copy(t),i.rotateInverse(e.getOrientation(),i),window.exoUI&&window.exoUI.footer&&window.exoUI.footer.pickedLocation(i)})),this._camera.get("zoom").setDistanceClamp(new Ih(1.25*e.getOcclusionRadius(),6*e.getOcclusionRadius()));const i=this._camera.addController("pick");i.setPickedEntity(e),i.setTriggerOnHover(!0),i.setCallback((t=>{window.exoUI&&window.exoUI.footer&&window.exoUI.footer.setHoverPosition(!0)}));let s=new CustomEvent("cameraupdatedone",{detail:{id:"earth",type:"planet"}});window.dispatchEvent(s)})).catch((()=>{}))}async flyToSurface(t,e){let i=this._scene.getEntity("cameraTarget"),s=i.getControllerByType("fixed");i.getControllerByType("rotateByEntityOrientation")||i.addController("rotateByEntityOrientation"),s.getEntity().setParent(t);const n=new Lh,a=t.get("spheroid"),r=new su;a.llaFromXYZ(r,e),a.orientationFromLLA(n,r),s.setOrientation(n);const o=new Vh;a.upFromLLA(o,r),o.mult(o,25),e.add(e,o),s.setPosition(e),await this._pioneer.waitUntilNextFrame();let l=new CustomEvent("cameraupdate",{detail:{id:"earth",type:"surface"}});window.dispatchEvent(l);let c=this._camera.get("camera").getVerticalFieldOfView()/5,h=new Vh(0,-.001*Math.cos(c),-.001*Math.sin(c));h.rotate(i.getOrientation(),h);let u=t.getComponentByType("atmosphere");null!==u&&u.setEnabled(!1),await bp.goToEntity(this._camera,i,{destination:h,up:!0,zoom:!1}).catch((()=>{}));const d=this._camera.get("orbit");d&&d.setPitchAngleLimits(new Ih(-Math.PI/2,Math.PI/18));let p=new CustomEvent("cameraupdatedone",{detail:{id:"earth",type:"surface"}});window.dispatchEvent(p)}getLatLon(t,e){if(null===e||t.isNaN())return;const i=e.getComponentByType("spheroid");if(null==i||null===parent||t.isNaN())return null;const s=su.pool.get();i.llaFromXYZ(s,t);const n={latitude:hh.radToDeg(s._lat),longitude:hh.radToDeg(s._lon)};return su.pool.release(s),null==n.latitude||null==n.longitude?null:n}formatLatLon(t,e){return{lat:t<0?Math.abs(t).toFixed(2)+"S":t.toFixed(2)+"N",lon:e<0?Math.abs(e).toFixed(2)+"W":e.toFixed(2)+"E"}}readCameraAE(){let t={azimuth:0,elevation:0};return this.getAEFromEntity(this._camera,t),t}getAEFromEntity(t,e){let i=Vh.pool.get(),s=fh.pool.get(),n=Lh.pool.get();n.inverse(t.getParent().getOrientation()),t.getOrientation().getAxis(i,1),i.rotate(n,i),s.setFromVector(i),e.azimuth=(90-hh.radToDeg(s.azimuth)).toFixed(2),e.azimuth=hh.wrap(e.azimuth,0,360).toFixed(2),e.elevation=hh.radToDeg(s.elevation).toFixed(2),Lh.pool.release(n),fh.pool.release(s),Vh.pool.release(i)}_galaxyViewCoverageUpdate(t){const e=t.getScene().get("earth"),i=t.getScene().get("milky_way"),s=this._camera.getPosition().magnitude(),n=Vh.pool.get(),a=Vh.pool.get();e.getOrientation().getAxis(n,2),i.getOrientation().getAxis(a,2);const r=Vh.pool.get(),o=Math.log(1+(s-4331287782369)/634940534727848);r.slerp(n,a,o,!0),Vh.pool.release(n),Vh.pool.release(a);const l=Vh.pool.get();this._camera.getOrientation().getAxis(l,1),l.setNormalTo(r,l);const c=Lh.pool.get();c.setFromAxes(void 0,l,r),Vh.pool.release(l),Vh.pool.release(r),t.setOrientation(c),Lh.pool.release(c)}_getNicePositionForCamera(t,e,i){const s=Vh.pool.get(),n=Vh.pool.get();e.getPositionRelativeToEntity(s,Vh.Zero,i),s.normalize(s),e.getOrientation().getAxis(n,2),n.setNormalTo(s,n),t.cross(n,s),t.addMult(t,s,-.5),t.addMult(t,n,.4),t.normalize(t),Vh.pool.release(n),Vh.pool.release(s),t.mult(t,this.getDistanceForRadius(e.getOcclusionRadius()))}_addCinematicController(t,e){const i=t.getControllerByType("align"),s=t.addController("spin",void 0,i);s instanceof mp&&(s.setAxis(Vh.ZAxis,!0),s.setRate(hh.degToRad(1)),s.setUsingRealTime(!0),s.setRotatingPosition(!0));const n=t.addController("tap");n instanceof _p&&n.setTapCallback((()=>{t.removeController(s),t.removeController(n)}))}getDistanceForRadius(t){const e=this._camera.get("camera"),i=Math.min(e.getHorizontalFieldOfView(),e.getVerticalFieldOfView());return t/Math.sin(i/2)*1.2}}hf.milkyWayRadius=12e17,hf.solarSystemRadius=4478351247,hf.j2000ToEclipJ2000Rotation=new Lh(.9791532214288992,-.2031230389823101,0,0);const uf=hf,df=new Lh(.9791532214288992,.2031230389823101,0,0),pf=class{constructor(t,e,i){this._pioneer=t,this._scene=e,this._planets=i,this._contentManager=null,this._cameraManager=null,this._isCompareSS=!1,this._isPlanet=!1,this._compareObject=null,this._customOrientation={sc_spitzer:{horz:2,vert:0,distance:this._defaultDistance,scientist:{pos:1,neg:!0,ori:[{axis:Vh.YAxis,angle:Math.PI/2},{axis:Vh.XAxis,angle:Math.PI/2}]},school_bus:{neg:!0,pos:1,ori:[{axis:Vh.ZAxis,angle:Math.PI}]}},sc_kepler_space_telescope:{horz:2,vert:1,distance:this._defaultDistance,scientist:{pos:0,neg:!1,ori:[{axis:Vh.XAxis,angle:-Math.PI/2},{axis:Vh.YAxis,angle:Math.PI}]},school_bus:{neg:!1,pos:0,ori:[{axis:Vh.ZAxis,angle:-Math.PI/2}]}},sc_hubble_space_telescope:{horz:2,vert:1,distance:this._defaultDistance,scientist:{pos:0,neg:!1,ori:[{axis:Vh.XAxis,angle:-Math.PI/2},{axis:Vh.YAxis,angle:Math.PI}]},school_bus:{pos:0,neg:!1,ori:[{axis:Vh.ZAxis,angle:-Math.PI/2}]}},sc_tess:{horz:1,vert:0,distance:this._defaultDistance,scientist:{pos:2,neg:!1,ori:[{axis:Vh.YAxis,angle:Math.PI/2}]},school_bus:{neg:!1,pos:2,ori:[{axis:Vh.XAxis,angle:Math.PI/2}]}}},this._defaultDistance=this._defaultDistance.bind(this),this.setContentManager=this.setContentManager.bind(this),this.setCameraManager=this.setCameraManager.bind(this),this.compareSystem=this.compareSystem.bind(this),this.comparePlanet=this.comparePlanet.bind(this),this.compare=this.compare.bind(this),this.reset=this.reset.bind(this),this.resetAll=this.resetAll.bind(this)}setContentManager(t){this._contentManager=t}setCameraManager(t){this._cameraManager=t}compareSystem(t,e){if(this._isCompareSS=t,this.reset(),"sun"===e)return;if(!t)return void this._planets.forEach((e=>{e.getComponentByType("div").setEnabled(t),e.getComponentByType("trail").setEnabled(t),e.getComponentByType("spheroid").setEnabled(!t),e.setEnabled(t)}));let i=this._contentManager.getDB(X_.DATABASE_NAMES.stars)[e];if(!i){const t=this._contentManager.getDB(X_.DATABASE_NAMES.hwostars,!0);for(let s=0;s<t?.length;s+=1)t[s].exo_id===e&&(i=t[s])}if(!i)return;const s=new Lh;s.multInverseR(i.orientation,df),this._planets.forEach((e=>{e.addParentingTableEntry(0,i.exo_id);const n=e.getComponentByType("spheroidLOD");if(n){const t=n.getTextureNames();if(t&&Array.isArray(t))for(let e=0;e<t.length;e++){const i=n.getTextureUrl(t[e]);n.setTexture(t[e],i,n.getTextureSizes(t[e]))}}e.getComponentByType("div").setEnabled(t),e.getComponentByType("trail").setEnabled(t),e.getComponentByType("spheroid").setEnabled(!t),e.setEnabled(t),e.getController("compare")&&e.removeController("compare");const a=e.addController("rotate","compare"),r=this._scene.get(i.exo_id);a.getEntity().setParent(r),a.setRotation(s)})),this._cameraManager.flyToObject(i.exo_id,"system",!1,!0)}comparePlanet(t,e){let i=this._contentManager.getDB("planets")[t]||null;if(e){if(i)return this._isPlanet=!0,this.compare(i.exo_id,e)}else if(this.reset(),i)return this._cameraManager.flyToObject(i.exo_id,"planet")}compare(t,e){if(this.reset(),!t||!e)return;let i;if(i="string"==typeof t?this._scene.get(t):t,this._compareObject="string"==typeof e?this._scene.get(e):e,this._compareObject.addParentingTableEntry(0,i.getName()),null!==i&&null!==this._compareObject){null!==i&&null!==i.get("sprite")&&i.get("sprite").setEnabled(!1);let t=this._customOrientation[i.getName()],e=t?t[this._compareObject.getName()]:null,s=i.getOcclusionRadius(),n=this._compareObject.getOcclusionRadius();this._setCompareObject(i,t,e,s,n);const a=this._compareObject.getComponentByType("spheroidLOD");if(a){const t=a.getTextureNames();if(t&&Array.isArray(t))for(let e=0;e<t.length;e++){const i=a.getTextureUrl(t[e]);a.setTexture(t[e],i,a.getTextureSizes(t[e]))}}return this._cameraManager.moveToCompare(i,this._compareObject)}}reset(){null!==this._compareObject&&(null!==this._compareObject.getParent()&&null!==this._compareObject.getParent().get("sprite")&&this._compareObject.getParent().get("sprite").setEnabled(!0),this._compareObject.removeController("compare"),this._compareObject.setEnabled(!1),this._compareObject=null)}resetAll(){this._isCompareSS?this.compareSystem(!1):this.reset()}_defaultDistance(t,e){return 1.5*Math.max(t,e)}_setCompareObject(t,e,i,s,n){let a=t.getOrientation();a.isNaN()&&(a=new Lh);let r=new Vh;i&&"pos"in i?a.getAxis(r,i.pos):(a.getAxis(r,2),r.cross(r,t.getPosition()),r.normalize(r));let o=e&&"distance"in e?e.distance(s,n):1.5*(s+n);i&&i.neg&&(o=-o),r.mult(r,o);let l=new Lh,c=new Lh;if(i&&"ori"in i)for(let t=0;t<i.ori.length;t++){let e=i.ori[t];c.setFromAxisAngle(e.axis,e.angle),l.mult(c,l)}l.mult(a,l),this._compareObject.getController("compare")&&this._compareObject.removeController("compare");const h=this._compareObject.addController("fixed","compare");h.setPosition(r),h.setOrientation(l),h.getEntity().setParent(t),this._compareObject.setEnabled(!0)}},mf=JSON.parse('[{"display_name":"Acton Sky Portal Observatory","exo_id":"Acton Sky Portal Observatory","date":"","imageList":"./assets/image/thumbnail/observatory/acton.webp","category":"","noSubtitle":true,"by":"","description":"This observatory is home to the Kourovka Planet Search (KPS) project, a search for transiting exoplanets."},{"display_name":"Anglo-Australian Telescope","exo_id":"Anglo-Australian Telescope","date":"1974","imageList":"./assets/image/thumbnail/observatory/anglo-australian.webp","category":"Earth (Siding Spring Observatory, New South Wales, Australia)","noSubtitle":true,"by":"Australian Astronomical Observatory","description":"The AAT is a 3.9 m telescope at Siding Spring Observatory with a high-resolution spectrograph, the University College London Echelle Spectrograph (UCLES). The AAT has been used by the Anglo-Australian Planet Search Program since 1998 to discover exoplanets using the radial velocity method."},{"display_name":"Apache Point Observatory","exo_id":"Apache Point Observatory","date":"","imageList":"./assets/image/thumbnail/observatory/apache.webp","category":"","noSubtitle":true,"by":"","description":"The Apache Point Observatory is located in the Sacramento Mountains in Sunspot, New Mexico. It is home to MARVELS (Multi-object Apache Point Observatory Radial Velocity Exoplanet Large-area Survey), part of the Sloan Digital Sky Survey III (SDSS) program, using the 2.5-meter-wide-field SDSS telescope in 2008-2014.  The major goals for the MARVELS survey are to provide the largest homogeneous, giant planet sample for revealing the diversity in giant exoplanet populations and testing models of the formation, migration, and dynamical evolution of giant planet systems."},{"display_name":"Arecibo Observatory","exo_id":"Arecibo Observatory","date":"1960","imageList":"./assets/image/thumbnail/observatory/arecibo-observatory.webp","category":"Earth (Arecibo, Puerto Rico)","noSubtitle":true,"by":"SRI International / USRA / UMET","description":"Arecibos 305 m (1,000 ft) radio telescope is the largest single-aperture telescope in the world. It has been used to study the radio emissions from pulsars, and in this capacity was used to discover the first known pulsar planets in 1992. Today, Arecibo is part of SETI (Search for Extra-Terrestrial Intelligence), watching for signs of life in the form of radio transmissions from elsewhere in the galaxy."},{"display_name":"Calar Alto Observatory","exo_id":"Calar Alto Observatory","date":"","imageList":"./assets/image/thumbnail/observatory/calar-alto.webp","category":"","noSubtitle":true,"by":"","description":"The Calar Alto Observatory is located in Almera province in Spain, is home to the CARMENES search,  a 750-night exoplanet survey targeting about 300 red dwarf stars, including TESS targets"},{"display_name":"Bohyunsan Optical Astronomical Observatory","exo_id":"Bohyunsan Optical Astronomical Observatory","date":"1996","imageList":"./assets/image/thumbnail/observatory/bohyunsan-optical.webp","category":"Earth (Gyeongbuk, South Korea)","noSubtitle":true,"by":"Korea Astronomy and Space Science Institute","description":"BOAO, along with Okayama Astrophysical Observatory in Japan and Xinglong Station in China, has been used by an international team to discover exoplanets using the radial velocity method as part of the East Asian Planet Search Network."},{"display_name":"CHEOPS (CHaracterizing ExOPlanets Satellite)","exo_id":"CHaracterising ExOPlanets Satellite (CHEOPS)","date":"2017 (planned)","imageList":"./assets/image/thumbnail/observatory/cheops.webp","category":"Space (Sun-synchronous LEO)","noSubtitle":true,"by":"ESA / Swiss Space Office","description":"Planned for launch in 2017, the CHEOPS spacecraft is intended to examine transiting exoplanets around nearby, bright stars with a 0.30 m reflector telescope to accurately measure their radii. Its main targets will be planets for which ground-based studies have already established mass estimates in the range between the mass of Earth and the mass of Neptune; knowing both mass and radius with sufficient precision will allow scientists to determine the approximate composition and type of these planets, helping to establish where the terrestrial Super Earth category ends and gas giants begin."},{"display_name":"Cerro Tololo Inter-American Observatory","exo_id":"Cerro Tololo Inter-American Observatory","date":"1962","imageList":"./assets/image/thumbnail/observatory/cerro-tololo.webp","category":"Earth (Coquimbo Region, Chile)","noSubtitle":true,"by":"National Optical Astronomy Observatory","description":"Located near La Serena, Chile, CTIO conducts research on dark energy and other topics of interest in astronomy. The CTIO 1.5 m telescope has CHIRON mounted, a precise fiber-fed spectrometer that has been used to discover exoplanets using radial velocity measurements."},{"display_name":"CoRoT","exo_id":"CoRoT","date":"December 27, 2006","imageList":"./assets/image/thumbnail/observatory/corot.webp","category":"Space (Earth orbit)","noSubtitle":true,"by":"CNES / ESA","description":"Operated by the French Space Agency (CNES), ESA, and other partners, CoRoT (French: COnvection ROtation et Transits plantaires; English: Convection Rotation and Planetary Transits) was launched in 2006 to collect asteroseismology data and search for transiting exoplanets. As the first space mission designed with the capability to detect transiting exoplanets, CoRoT led the way for later, more advanced transit observatories such as Kepler and the upcoming PLATO and TESS spacecraft."},{"display_name":"Fred Lawrence Whipple Observatory","exo_id":"Fred Lawrence Whipple Observatory","date":"1966","imageList":"./assets/image/thumbnail/observatory/fred-lawrence.webp","category":"Earth (Mount Hopkins, Arizona)","noSubtitle":true,"by":"Harvard-Smithsonian Center for Astrophysics","description":"Among a collection of gamma-ray instruments and other telescopes, Whipple Observatory hosts a 1.5 m reflector with the Advanced Fiber Optic Echelle spectrometer (AFOE) installed. The site is also host to a HATNet telescope and one of the MEarth Projects installations."},{"display_name":"Gemini Observatory","exo_id":"Gemini Observatory","date":"2000","imageList":"./assets/image/thumbnail/observatory/gemini.webp","category":"Earth (Mauna Kea, Hawaii, USA and Cerro Pachn, Chile)","noSubtitle":true,"by":"Association of Universities for Research in Astronomy","description":"The Gemini Observatory consists of a pair of separated twin 8.1 m telescopes, one on Mauna Kea in Hawaii (Gemini North) and one on a mountain in the Chilean Andes (Gemini South). Together the two sites are home to some of the most advanced observatory equipment available to modern astronomers, particularly advanced optics. Gemini has already contributed to the efforts to directly image exoplanets and is likely to contribute even more in the future when the Gemini Planet Imager instrument begins operations."},{"display_name":"HATNet","exo_id":"HATNet","date":"2000","imageList":"./assets/image/thumbnail/observatory/hatnet.webp","category":"Earth","noSubtitle":true,"by":"Harvard-Smithsonian Center for Astrophysics and Mauna Kea Observatory","description":"Based on a prototype developed by a Hungarian undergraduate student and his advisors at Etvs Lornd University, the Hungarian Automated Telescope Network consists of three small, fully automated robotic telescopes at two sites in the northern hemisphere. With the addition of HATSouth, the network provides full coverage of both hemispheres. The network scans the sky nightly, watching for signs of transiting exoplanets."},{"display_name":"HATSouth","exo_id":"HATSouth","date":"2009","imageList":"./assets/image/thumbnail/observatory/hatsouth.webp","category":"Earth","noSubtitle":true,"by":"Las Campanas Observatory (LCO),  High Energy Stereoscopic System (HESS), and Siding Spring Observatory (SSO)","description":"Based on a prototype developed by a Hungarian undergraduate student and his advisors at Etvs Lornd University, the Hungarian Automated Telescope Network - Southern Hemisphere consists of three small, fully automated robotic telescopes at sites spread throughout the southern hemisphere. When combined with the original three HATNet telescopes in the northern hemisphere, the HAT network provides full coverage of both hemispheres. The network scans the sky nightly, watching for signs of transiting exoplanets."},{"display_name":"Haute-Provence Observatory","exo_id":"Haute-Provence Observatory","date":"1937","imageList":"./assets/image/thumbnail/observatory/haute-provence.webp","category":"Earth (Alpes-de-Haute-Provence, France)","noSubtitle":true,"by":"CNRS, Aix Marseille University","description":"Located atop a plateau in the southeast of France, Haute-Provence Observatorys largest telescope, a 1.93 m reflector, has been used successfully to hunt exoplanets using the radial velocity method. The first known exoplanet around a main sequence star, 51 Pegasi b, was discovered 1995 using the ELODIE instrument at Haute-Provence."},{"display_name":"Hubble Space Telescope","exo_id":"Hubble Space Telescope","date":"April 24, 1990","imageList":"./assets/image/thumbnail/observatory/hubble.webp","category":"Space (Earth orbit)","noSubtitle":true,"by":"NASA","description":"One of the most influential space missions ever launched, the Hubble Space Telescope, launched in 1990, has provided astronomers with more than pretty pictures -- Hubble has contributed significant exoplanet discoveries, including one of the first visible-light images of a planet beyond our solar system. Hubble has also been able to detect exoplanet atmospheres and remains one of the few instruments capable of making such detailed measurements."},{"display_name":"Infrared Survey Facility","exo_id":"Infrared Survey Facility","date":"2000","imageList":"./assets/image/thumbnail/observatory/infrared-survey.webp","category":"Earth (Sutherland, South Africa)","noSubtitle":true,"by":"South African Astronomical Observatory / Nagoya University","description":"The Infrared Survey Facility at Sutherlands SIRIUS imaging instrument on its 1.4 m telescope has been used to discover an exoplanet through near-infrared imaging."},{"display_name":"KELT","exo_id":"KELT","date":"2005","imageList":"./assets/image/thumbnail/observatory/kelt.webp","category":"Earth (Arizona, USA and Sutherland, South Africa)","noSubtitle":true,"by":"Ohio State University and other Universities","description":"The Kilodegree Extremely Little Telescope survey project consists of two robotic telescopes searching for transiting exoplanets around bright stars."},{"display_name":"KELT-North","exo_id":"KELT-North","date":"","imageList":"./assets/image/thumbnail/observatory/kelt-north.webp","category":"","noSubtitle":true,"by":"","description":"The Kilodegree Extremely Little Telescope (or KELT) consists of two telescopes in the North and South hemispheres and its primary mission is to look for transiting exoplanets around bright stars.\\nKELT-North is located in Arizona."},{"display_name":"KELT-South","exo_id":"KELT-South","date":"","imageList":"./assets/image/thumbnail/observatory/kelt-south.webp","category":"","noSubtitle":true,"by":"","description":"The Kilodegree Extremely Little Telescope (or KELT) consists of two telescopes in the northern and southern hemispheres and its primary mission is to look for transiting exoplanets around bright stars.\\nKELT-South is located at South African Astronomical Observatory in South Africa."},{"display_name":"Kepler and K2","exo_id":"Kepler","date":"March 7, 2009","imageList":"./assets/image/thumbnail/observatory/kepler.webp","category":"Space (Earth-trailing orbit)","noSubtitle":true,"by":"NASA","description":"Launched in 2009, NASA\'s Kepler mission spent over four years intently observing a single patch of sky and discovered over 1,000 planets around other stars, with thousands more potential planet discoveries waiting to be confirmed. Since June 2014, the Kepler spacecraft\'s operations have been extended with a new mission, dubbed K2, continuing the search for extrasolar planets outside of its original observing field."},{"display_name":"Kepler and K2","exo_id":"K2","date":"March 7, 2009","imageList":"./assets/image/thumbnail/observatory/kepler.webp","category":"Space (Earth-trailing orbit)","noSubtitle":true,"by":"NASA","description":"Launched in 2009, NASA\'s Kepler mission spent over four years intently observing a single patch of sky and discovered over 1,000 planets around other stars, with thousands more potential planet discoveries waiting to be confirmed. Since June 2014, the Kepler spacecraft\'s operations have been extended with a new mission, dubbed K2, continuing the search for extrasolar planets outside of its original observing field."},{"display_name":"Kitt Peak National Observatory","exo_id":"Kitt Peak National Observatory","date":"1958","imageList":"./assets/image/thumbnail/observatory/kitt-peak.webp","category":"Earth (Kitt Peak, Arizona, USA)","noSubtitle":true,"by":"National Optical Astronomy Observatory","description":"Kitt Peak is home to a 0.9 m coud feed telescope, used for an exoplanet survey, as well as a 2.1 m telescope with a custom built doppler spectrometer, the Exoplanet Tracker."},{"display_name":"KMTNet","exo_id":"KMTNet","date":"","imageList":"./assets/image/thumbnail/observatory/kmtn.webp","category":"","noSubtitle":true,"by":"","description":"The Korea Microlensing Telescope Network (KMTNet) consists of three telescopes, one at Capetown, one in northern Chile, and one in New South Wales, Australia. These telescopes provide 24-hour continuous monitoring of the Galactic bulge. The KMTNet aims primarily to discover extrasolar planets based on the analyses of gravitational microlensing phenomena, especially the detection of Earth-mass planets in the habitable zone of their parent star."},{"display_name":"KOINet","exo_id":"KOINet","image":"KOINet600x307","date":"","imageList":"./assets/image/thumbnail/observatory/koinet.webp","category":"","noSubtitle":true,"by":"","description":"This project is a multi-site photometric follow-up to confirm and characterize  Kepler Objects of Interest (KOIs) identified by the Kepler space telescope."},{"display_name":"La Silla Observatory","exo_id":"La Silla Observatory","date":"1964","imageList":"./assets/image/thumbnail/observatory/la-silla.webp","category":"Earth (Coquimbo Region, Chile)","noSubtitle":true,"by":"European Southern Observatory","description":"At its dry and remote site in Chiles Atacama desert, La Silla Observatory has access to some of the darkest night skies on Earth. Among other instruments, La Silla plays host to HARPS (the High Accuracy Radial Velocity Planet Searcher) mounted on its 3.6 m telescope, and CORALIE, a spectrograph mounted on La Sillas 1.2 m telescope."},{"display_name":"Las Campanas Observatory","exo_id":"Las Campanas Observatory","date":"1971","imageList":"./assets/image/thumbnail/observatory/las-campanas.webp","category":"Earth (Atacama Region, Chile)","noSubtitle":true,"by":"Carnegie Institution for Science","description":"Located in Chile above the Atacama desert, Las Campanas observatory operates the twin 6.5 m Magellan telescopes, which have several spectrographic instruments for discovering exoplanets through the radial velocity method. Las Campanas is also home to the main instrument of the OGLE project, operated by the University of Warsaw."},{"display_name":"Leoncito Astronomical Complex","exo_id":"Leoncito Astronomical Complex","date":"1983","imageList":"./assets/image/thumbnail/observatory/leoncito-astronomical.webp","category":"Earth (San Juan Province, Argentina)","noSubtitle":true,"by":"National Scientific and Technical Research Council","description":"Located in Argentinas El Leoncito National Park, an area which rarely sees cloud cover, Leoncito Astronomical Complex is home to several telescopes. The observatorys 2.15 m Jorge Sahade telescope has been used to detect exoplanets by observing eclipse timing variations."},{"display_name":"Lick Observatory","exo_id":"Lick Observatory","date":"1876","imageList":"./assets/image/thumbnail/observatory/lick.webp","category":"Earth (Mount Hamilton, California, USA)","noSubtitle":true,"by":"University of California","description":"The worlds first permanently occupied mountaintop observatory, Lick Observatory is situated just east of Californias Silicon Valley.  Lick Observatory has been used to discover several of the moons of Jupiter, near-Earth asteroids, and many exoplanets. Most exoplanet discovery research at the observatory is done with the Hamilton spectrograph on the 3.0 m Shane telescope, using the radial velocity method."},{"display_name":"Mauna Kea Observatory - UKIRT","exo_id":"Mauna Kea Observatory","date":"","imageList":"./assets/image/thumbnail/observatory/ukirt.webp","category":"","noSubtitle":true,"by":"","description":"United Kingdom Infrared Telescope (UKIRT) is operated by the University of Hawaii at the summit of  Mauna Kea, located in Hawaii."},{"display_name":"MEarth Project","exo_id":"MEarth Project","imageList":"./assets/image/thumbnail/observatory/mearth.webp","date":"2008","category":"Earth (Mount Hopkins, Arizona, USA and Coquimbo Region, Chile)","noSubtitle":true,"by":"Harvard-Smithsonian Center for Astrophysics","description":"A robotic observatory adjunct to Fred Lawrence Whipple Observatory in Arizona, MEarths installation monitors the brightness of red dwarf stars, searching for transiting exoplanets."},{"display_name":"MOA","exo_id":"MOA","date":"1995","imageList":"./assets/image/thumbnail/observatory/moa.webp","category":"Earth (Mount John, South Island, New Zealand)","noSubtitle":true,"by":"University of Canterbury / Nagoya University","description":"Microlensing Observations in Astrophysics is a collaborative project between researchers in New Zealand and Japan that observes microlensing phenomena to investigate dark matter and exoplanets. MOA uses a 1.8 m telescope in New Zealand which was specially built for the project."},{"display_name":"McDonald Observatory","exo_id":"McDonald Observatory","date":"1932","imageList":"./assets/image/thumbnail/observatory/mcdonald.webp","category":"Earth (Davis Mountains, Texas, USA)","noSubtitle":true,"by":"University of Texas at Austin","description":"Atop Mount Fowlkes in the Davis Mountains in western Texas, the McDonald Observatory hosts one of the largest optical telescopes in the world, the 9.2 m Hobby-Eberly Telescope. Unique in that it is optimized for spectrography, the telescopes three spectrograph instruments have been used to measure the mass of one of the largest known black holes, in addition to discovering exoplanets through precise radial velocity measurements of stars."},{"display_name":"OGLE","exo_id":"OGLE","date":"1992","imageList":"./assets/image/thumbnail/observatory/ogle.webp","category":"Earth (Atacama Region, Chile)","noSubtitle":true,"by":"Operated by: University of Warsaw","description":"The Optical Gravitational Lensing Experiment is a Polish project dedicated to using the microlensing technique to discover dark matter; its discovery of more than two dozen exoplanets has been a side benefit. From a dedicated telescope specially constructed by the project at Las Campanas Observatory in the Chilean desert, OGLE watches for gravitational microlensing events that can sometimes indicate the presence of an unseen planet. OGLE has also discovered several planets by observing transits."},{"display_name":"Oak Ridge Observatory","exo_id":"Oak Ridge Observatory","date":"1933","imageList":"./assets/image/thumbnail/observatory/oak-ridge.webp","category":"Earth (Harvard, Massachusetts, USA)","noSubtitle":true,"by":"Harvard University","description":"Also known as the George R. Agassiz Station, Oak Ridge was formerly a facility of the Harvard-Smithsonian Astrophysical Observatory until 2005. The 61 in (1.55 m) Wyeth telescope was used by David Latham et al. in their 1989 discovery of the optically unseen sub brown dwarf HD 114762 b, arguably the first exoplanet ever detected."},{"display_name":"Okayama Astrophysical Observatory","exo_id":"Okayama Astrophysical Observatory","date":"1960","imageList":"./assets/image/thumbnail/observatory/okayama.webp","category":"Earth (Mount Chikurinji, Okayama, Japan)","noSubtitle":true,"by":"National Astronomical Observatory of Japan","description":"A facility of the National Astronomical Observatory of Japan, Okayama Observatorys main telescope is a 1.88 m reflector with HIDES (the High Dispersion Echelle Spectrograph) and other spectrographs mounted. Okayama Astrophysical Observatory, along with Xinglong Station in China and Bohyunsan Optical Astronomical Observatory in South Korea, has been used by an international team to discover exoplanets using the radial velocity method as part of the East Asian Planet Search Network."},{"display_name":"Palomar Observatory","exo_id":"Palomar Observatory","date":"1928","imageList":"./assets/image/thumbnail/observatory/palomar.webp","category":"Earth (California, USA)","noSubtitle":true,"by":"California Institute of Technology","description":"Located in the mountains of southern California, Palomar Observatory is home to the historic 200 in (5.1 m) Hale Telescope, which was the largest in the world for over twenty-five years following its construction in 1949. The Palomar High Angular Resolution Observer (PHARO) adaptive optics camera on the Hale Telescope has been used to discover exoplanets by direct imaging. Many of the municipalities in the area near Palomar have taken steps to reduce light pollution that might affect the observatorys operations."},{"display_name":"Paranal Observatory","exo_id":"Paranal Observatory","date":"1998","imageList":"./assets/image/thumbnail/observatory/paranal.webp","category":"Earth (Cerro Paranal, Chile)","noSubtitle":true,"by":"European Southern Observatory","description":"By total light-collecting area, Paranal Observatory in the Atacama desert of Chile is the largest observatory in the southern hemisphere. Paranal is home to the Very Large Telescope (VLT) a set of four identical 8.2 m telescopes that can be combined to create an interferometer, the VLTI. This combined instrument allows astronomers are able to see with a resolution equivalent to distinguishing the two headlights of a car at the distance of the moon, making the VLTI an invaluable tool for imaging exoplanets directly."},{"display_name":"Parkes Observatory","exo_id":"Parkes Observatory","date":"1961","imageList":"./assets/image/thumbnail/observatory/parkes.webp","category":"Earth (Parkes, New South Wales, Australia)","noSubtitle":true,"by":"Commonwealth Scientific and Industrial Research Organization","description":"Parkes Observatory (a.k.a. The Dish) is a large radio astronomy facility in Australia. The main instrument is a 64 m altitude-azimuth radio dish telescope, which has been used to discover pulsar planets."},{"display_name":"Qatar","exo_id":"Qatar","date":"2008","imageList":"./assets/image/thumbnail/observatory/qatar.webp","category":"Earth (Mayhill, New Mexico, USA)","noSubtitle":true,"by":"Qatar Foundation","description":"The Qatar Exoplanet Survey, funded by the semi-private non-profit Qatar Foundation, uses a purpose-built automated robotic observatory to conduct a survey looking for transiting exoplanets. The design and location of the instrument were chosen to complement the SuperWASP network of automated telescopes."},{"display_name":"Roque de los Muchachos Observatory","exo_id":"Roque de los Muchachos Observatory","date":"1979","imageList":"./assets/image/thumbnail/observatory/roque-de-los-muchachos.webp","category":"Earth (La Palma, Canary Islands)","noSubtitle":true,"by":"European Northern Observatory","description":"According to astronomical seeing data, Roque de los Muchachos Observatory on the island of La Palma has the second best conditions for optical and near-infrared observation in the northern hemisphere, behind the Mauna Kea Observatories site. It is home to the 10.4 m Gran Telescopio Canarias, currently the largest in the world. The observatorys Telescopio Nazionale Galileo (TNG) 3.58 m telescope is equipped with HARPS-N, a high-precision echelle spectrograph for radial velocity exoplanet discovery based on the original HARPS instrument on the 3.6 m telescope at ESO La Silla Observatory."},{"display_name":"Spitzer Space Telescope","exo_id":"Spitzer Space Telescope","date":"August 25, 2003","imageList":"./assets/image/thumbnail/observatory/spitzer.webp","category":"Space (Earth-trailing orbit)","noSubtitle":true,"by":"NASA","description":"An infrared space telescope and part of NASAs Great Observatories program, Spitzer has been responsible for numerous exoplanet science milestones, including the first detection of an exoplanet atmosphere and the first temperature map of an exoplanet. Launched in 2003, Spitzer follows the Earth around the sun in what is known as an Earth-trailing orbit."},{"display_name":"Subaru Telescope","exo_id":"Subaru Telescope","date":"1986","imageList":"./assets/image/thumbnail/observatory/subaru.webp","category":"Earth (Mauna Kea, Hawaii, USA)","noSubtitle":true,"by":"National Astronomical Observatory of Japan","description":"On top of Mauna Kea in Hawaii, next door to the W. M. Keck Observatory, sits the 8.2 m Subaru Telescope, the flagship installation of the National Astronomical Observatory of Japan. The Subaru Telescope has been used to collect radial velocity data for many planet discoveries. Its HiCIAO (High-Contrast Coronographic Imager for Adaptive Optics) instrument has also contributed to research on direct imaging of exoplanets."},{"display_name":"SuperWASP","exo_id":"SuperWASP","date":"2002","imageList":"./assets/image/thumbnail/observatory/superwasp.webp","category":"Earth","noSubtitle":true,"by":"Multiple UK Universities","description":"The UKs leading exoplanet search program, SuperWASP (Wide-Angle Search for Planets) is a network of two robotic telescope installations, one on the island of La Palma in the Canary Islands and the other in Sutherland, South Africa. The telescopes operate autonomously and continuously year-round, providing full coverage of both hemispheres of the sky. Each installation contains eight small wide-angle cameras that monitor millions of stars simultaneously, watching for the telltale dip in brightness that indicates a planetary transit. The array can gather up to 100 gigabytes of data per night."},{"display_name":"SuperWASP-North","exo_id":"SuperWASP-North","date":"","imageList":"./assets/image/thumbnail/observatory/superwasp-north.webp","category":"","noSubtitle":true,"by":"","description":"SuperWASP is a UK  extrasolar planet detection program consisting of two robotic observatories that operate continuously throughout the year, allowing coverage of both hemispheres of the sky. \\n\\nSuperWASP-North is located at La Palma Observatory in the Canary Islands."},{"display_name":"SuperWASP-South","exo_id":"SuperWASP-South","image":"image_SuperWASP","date":"","imageList":"./assets/image/thumbnail/observatory/superwasp.webp","category":"","noSubtitle":true,"by":"","description":"SuperWASP is a UK  extrasolar planet detection program consisting of two robotic observatories that operate continuously throughout the year, allowing coverage of both hemispheres of the sky. SuperWASP-South is  located at the site of the South African Astronomical Observatory (SAAO), just outside Sutherland, South Africa."},{"display_name":"TESS","exo_id":"Transiting Exoplanet Survey Satellite (TESS)","date":"2018","imageList":"./assets/image/thumbnail/observatory/tess.webp","category":"Space (High Eccentricity HEO)","noSubtitle":true,"by":"NASA","description":"Launched in 2018, TESS (Transiting Exoplanet Survey Satellite) is designed to search for and discover new exoplanets  by observing transits in an all-sky survey. TESSs main instrument is a set of four wide-angle CCD cameras, similar to those used on ground-based automated transit survey telescopes such as SuperWASP. Whereas ground-based all-sky surveys have been most effective at finding giant planets, TESS aims to discover rocky planets that transit nearby stars, ideal candidates for further characterization with large ground-based telescopes or the future James Webb Space Telescope."},{"display_name":"Teide Observatory","exo_id":"Teide Observatory","date":"1964","imageList":"./assets/image/thumbnail/observatory/teide.webp","category":"Earth (Tenerife, Canary Islands)","noSubtitle":true,"by":"Instituto de Astrofsica de Canarias","description":"The IAC-80 0.80 m telescope at Teide Observatory has been used to directly image a large near deuterium burning limit exoplanet."},{"display_name":"The Large Binocular Telescope","exo_id":"Large Binocular Telescope Observatory","date":"","imageList":"./assets/image/thumbnail/observatory/lbt.webp","category":"","noSubtitle":true,"by":"","description":"The Large Binocular Telescope, located in southeast Arizona, consists of two identical 8.4-meter telescopes mounted side-by-side on a common altitude-azimuth mounting for a combined collecting area of a single 11.8-meter telescope. The entire telescope and enclosure are very compact by virtue of the fast focal ratio (F/1.14) of the primary mirrors."},{"display_name":"Thueringer Landessternwarte Tautenburg","exo_id":"Thueringer Landessternwarte Tautenburg","date":"1960","imageList":"./assets/image/thumbnail/observatory/thueringer-landessternwarte.webp","category":"Earth (Tautenburg, Germany)","noSubtitle":true,"by":"Thueringian State Observatory","description":"Thueringer Landessternwarte Tautenburg, also known as Karl Schwarzschild Observatory, hosts the 2.0 m Alfred Jensch telescope. The observatory has been used to discover exoplanets using the radial velocity method."},{"display_name":"TrES","exo_id":"TrES","date":"2003","imageList":"./assets/image/thumbnail/observatory/tres.webp","category":"Earth (Lowell Observatory, Palomar Observatory, and Canary Islands)","noSubtitle":true,"by":"Harvard-Smithsonian Center for Astrophysics","description":"The Transatlantic Exoplanet Survey uses a network of three 10 cm robotic telescopes spread across the northern hemisphere to search for transiting exoplanets. TrES is no longer operational."},{"display_name":"United Kingdom Infrared Telescope","exo_id":"United Kingdom Infrared Telescope","date":"1975","imageList":"./assets/image/thumbnail/observatory/united-kingdom-infrared.webp","category":"Earth (Mauna Kea, Hawaii)","noSubtitle":true,"by":"University of Arizona / University of Hawaii / Lockheed Martin Advanced Technology Center","description":"The United Kingdom Infrared Telescope (UKIRT), located at the Mauna Kea Observatories site, is used to conduct the UKIRT Infrared Deep Sky Survey. As part of the survey, the facility has discovered a handful of transiting exoplanets. Originally owned by the UK Science and Technology Facilities Council, ownership was transferred to the University of Hawaii in 2014. UKIRT is currently funded by NASA and operated by the University of Arizona in conjunction with the University of Hawaii and the Lockheed Martin Advanced Technology Center."},{"display_name":"WASP-South","exo_id":"WASP-South","date":"","imageList":"./assets/image/thumbnail/observatory/superwasp.webp","category":"","noSubtitle":true,"by":"","description":"The Wide Angle Search for Planets (WASP)  is a collaboration finding exoplanets using the transit method. The WASP camera arrays scan the night sky every clear night, taking CCD images every minute, and building up long-term lightcurves of tens of millions of stars. The WASP-South array  observes the Southern Hemisphere from Sutherland in South Africa."},{"display_name":"W. M. Keck Observatory","exo_id":"W. M. Keck Observatory","date":"1985","imageList":"./assets/image/thumbnail/observatory/keck.webp","category":"Earth (Mauna Kea, Hawaii, USA)","noSubtitle":true,"by":"California Association for Research in Astronomy","description":"Situated on the summit of Hawaiis Mauna Kea, the two 10 m telescopes of the W. M. Keck Observatory are among the largest in the world and are equipped with an advanced adaptive optics system to compensate for blurring due to atmospheric turbulence. One of the observatorys most complex main instruments is HIRES (the High Resolution Echelle Spectrometer), which is capable of precisely measuring changes in a stars radial velocity. It is one of the leading ground-based observatories for exoplanet research."},{"display_name":"XO Project","exo_id":"XO","date":"2005","imageList":"./assets/image/thumbnail/observatory/xo.webp","category":"Earth (Haleakala, Hawaii, USA)","noSubtitle":true,"by":"XO Project","description":"The XO project is an automated photometric search for transiting exoplanets. The autonomous installation was built from commercially available equipment and parts, and consists of two 200mm telephoto camera lenses, along with sensors and computer-controlled mount. The XO Telescope is located on the summit of Haleakala on the island of Maui in Hawaii."},{"display_name":"Xinglong Station","exo_id":"Xinglong Station","date":"pre-1995","imageList":"./assets/image/thumbnail/observatory/xinglong-station.webp","category":"Earth (Yanshan Mountains, Hebei, China)","noSubtitle":true,"by":"National Astronomical Observatory of China","description":"Along with Okayama Astrophysical Observatory in Japan and Bohyunsan Optical Astronomical Observatory in South Korea, Chinas Xinglong Station has been used by an international team to discover exoplanets using the radial velocity method as part of the East Asian Planet Search Network."},{"display_name":"Yunnan Astronomical Observatory","exo_id":"Yunnan Astronomical Observatory","date":"1972","imageList":"./assets/image/thumbnail/observatory/yunnan.webp","category":"Earth (Kunming, Yunnan, China)","noSubtitle":true,"by":"Chinese Academy of Sciences","description":"This Chinese observing stations 2.4 m Lijiang telescope has been used to discover an exoplanet through observing eclipse timing variations."}]'),gf=JSON.parse('[{"id":22794,"planet_ids":[6592,7199,6591,6593],"exo_id":"HD_20794","st_vj":4.258,"st_optmag":4.258,"st_dist":6.0414,"st_j":4.258,"st_mass":0.97,"dec":-43.069782,"st_teff":5432,"st_rad":0.913,"ra":49.9818788,"system_radius":76145315.83,"planet_count":0,"status":1,"pl_hostname":"HD_20794","custom_system_description":null,"custom_star_description":"HD 20794, also known as 82 Eridani, is a Sun-like star visible to the naked eye in the southern constellation Eridanus. Relative to the Sun, it is slightly smaller and cooler, older, and contains a lower abundance of elements heavier than helium. 82 Eridani is a fast-moving yellow star, with low levels of stellar magnetic activity, and is surrounded by a cool, dusty disk.","custom_star_title":"82 Eridani","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 20794,HR 1008,GJ 139","display_name":"82 Eridani","tagline":"A nearby Sun-like star harboring planets and a disk","tic_id":"TIC 301051051","pop_culture":"Well before exoplanets were detected around 82 Eridani, it was featured as the host star for planets in multiple novels and short stories, including Poul Anderson\'s \\"Orbit Unlimited.\\" It also served as the host to the sci-fi world of Epona, the backdrop of multiple stories in \\"Analog Science Fiction and Fact\\" magazine.","detection_timeline":"Multiple planets have been detected around 82 Eridani. Years of radial velocity data suggest that four super-Earth planets might be present within the habitable zone, with detections of up to six planets claimed. As a nearby Sun-like star hosting planets, 82 Eridani is a prime target for exploration with future space telescopes, including those using direct imaging.","rv_planets_prospects":"4 planets have been detected to date around this star using radial velocities.\\n\\nThe stars low magnetic activity makes it a good candidate for radial velocity detections. Radial velocity monitoring of the star over time has revealed multiple Super-Earth planets in the system. Confirmations are needed for the potential planet candidates.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a bright, nearby star, 82 Eridani is a prime target for future direct imaging. Future space telescopes will be able to search for rocky exoplanets down to Earth size in the stars habitable zone and characterize planets that have been suggested by radial velocity data of the star. The outermost of the four planets detected by radial velocity is a super-Earth that could be imaged immediately by proposed future direct imaging missions.","astrometry":"","constellation":"Eridanus","title":"82 Eridani","subtitle":"HD 20794, also known as 82 Eridani, is a Sun-like star visible to the naked eye in the southern constellation Eridanus. Relative to the Sun, it is slightly smaller and cooler, older, and contains a lower abundance of elements heavier than helium. 82 Eridani is a fast-moving yellow star, with low levels of stellar magnetic activity, and is surrounded by a cool, dusty disk.","can_compare":true},{"id":22817,"planet_ids":[6616],"exo_id":"HD_33564","st_vj":5.08,"st_optmag":5.08,"st_dist":20.7858,"st_j":5.08,"st_mass":1.21,"dec":79.2311507,"st_teff":6354,"st_rad":1.496,"ra":80.6397108,"system_radius":164557657,"planet_count":1,"status":1,"pl_hostname":"HD_33564","custom_system_description":null,"custom_star_description":"","custom_star_title":"HD 33564","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 1686,GJ 196","display_name":"HD 33564","tagline":"","tic_id":"TIC 142103211","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Camelopardalis","title":"HD 33564","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":22852,"planet_ids":[6666,6664,6665],"exo_id":"HD_69830","st_vj":5.951,"st_optmag":5.951,"st_dist":12.5794,"st_j":5.951,"st_mass":0.93,"dec":-12.6321714,"st_teff":5423,"st_rad":0.883,"ra":124.599779,"system_radius":94246658.1,"planet_count":3,"status":1,"pl_hostname":"HD_69830","custom_system_description":null,"custom_star_description":"","custom_star_title":"HD 69830","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 3259,GJ 302","display_name":"HD 69830","tagline":"","tic_id":"TIC 307624961","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Puppis","title":"HD 69830","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":22903,"planet_ids":[6720],"exo_id":"HD_102365","st_vj":4.893,"st_optmag":4.893,"st_dist":9.3195,"st_j":4.893,"st_mass":1.02,"dec":-40.5003572,"st_teff":5618,"st_rad":0.97,"ra":176.6294689,"system_radius":68815020.2,"planet_count":1,"status":1,"pl_hostname":"HD_102365","custom_system_description":null,"custom_star_description":"HD 102365 is a bright, nearby Sun-like star in the constellation Centaurus that can be seen with the naked eye. It is similar in size and temperature to the Sun, but less luminous. HD 102365 has similar levels of magnetic activity as the Sun and a lower abundance of elements heavier than helium. It is part of a binary system with a red dwarf companion star, HD 102365 B.","custom_star_title":"HD 102365","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR4523,GJ442A,HR 4523,GJ 442A","display_name":"HD 102365","tagline":"The largest star in a binary system, with one exoplanet already discovered","tic_id":"TIC 454082369","pop_culture":"An alien family from HD 102365 makes a cameo appearance in the opening credits of the first episode of season 30 of The Simpsons.","detection_timeline":"HD 102365 has one confirmed exoplanet, HD 102365 b, which was discovered in 2010 using the radial velocity technique. This Neptune-sized exoplanet orbits at roughly 0.5 astronomical units from the host star and completes a full orbit every 122 days. As a nearby bright star similar to the Sun, HD 102365 is an ideal target for further exoplanet exploration, particularly through direct imaging. Upcoming space telescopes with high-contrast imaging capabilities could reveal exoplanets down to Earth size in the stars habitable zone.","rv_planets_prospects":"1 planet has been detected with radial velocities around this star to date. \\n\\nA 12-year radial velocity study culminated in the discovery of the Neptune-sized exoplanet HD 102365 b. This exoplanet is close to the host star, and completes a full orbit every 122 days. ","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a nearby bright star, HD 102365 is a prime candidate for future direct imaging efforts. Upcoming large space telescopes will be able to search for exoplanets, including rocky planets as small as Earth, in the stars habitable zone. They will also have the capability to detect larger planets farther from the star.","astrometry":"","constellation":"Centaurus","title":"HD 102365","subtitle":"HD 102365 is a bright, nearby Sun-like star in the constellation Centaurus that can be seen with the naked eye. It is similar in size and temperature to the Sun, but less luminous. HD 102365 has similar levels of magnetic activity as the Sun and a lower abundance of elements heavier than helium. It is part of a binary system with a red dwarf companion star, HD 102365 B.","can_compare":true},{"id":23029,"planet_ids":[6877,6878],"exo_id":"HD_190360","st_vj":5.745,"st_optmag":5.745,"st_dist":16.0035,"st_j":5.745,"st_mass":0.96,"dec":29.8968035,"st_teff":5563,"st_rad":1.162,"ra":300.9058545,"system_radius":583431693,"planet_count":2,"status":1,"pl_hostname":"HD_190360","custom_system_description":null,"custom_star_description":"HD 190360 is a nearby Sun-like star situated in the Cygnus constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 190360 is larger, more luminous, and has a similar temperature. It exhibits lower levels of stellar magnetic activity but has a higher abundance of elements heavier than helium, compared to the Sun. HD 190360 is part of a stellar binary system, and it has a smaller red dwarf companion, LHS 3509, orbiting at a distance of 3,000 astronomical units.","custom_star_title":"HD 190360","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 7670,GJ 777A","display_name":"HD 190360","tagline":"A Sun-like star with a planetary system","tic_id":"TIC 105999792","pop_culture":"","detection_timeline":"Two exoplanets have been detected around HD 190360 using the radial velocity method. The closest planet, HD 190360 c, is a hot Neptune orbiting merely 0.13 astronomical units from the host star. The other exoplanet, HD 190360 b, has a mass almost double that of Jupiter and orbits slightly closer to the host star than Jupiter orbits the Sun. HD 190360 is a promising candidate for further exploration with direct imaging. Future space telescopes with high-contrast imaging capabilities could potentially reveal exoplanets as small as Earth within the star\'s habitable zone. Moreover, such technology would enable scientists to characterize the atmospheres of the already known exoplanets within the system.\\n","rv_planets_prospects":"2 planets have been detected to date around this star using radial velocities.\\n\\nThe exoplanet HD 190360 b was discovered in 2003. It has a mass nearly double that of Jupiter, but its orbit is smaller than Jupiter\'s. A smaller, second exoplanet, HD 190360 c, was detected in 2005. It has a mass nearly 20 times that of Earth and is much closer to the host star, completing an orbit around the star every 17 days. Due to lower stellar magnetic activity levels than the Sun, HD 190360 is well-suited to radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause HD 190360 is a nearby bright star, it is a good target for future direct imaging. Upcoming large space telescopes equipped with direct imaging capabilities will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to characterize the atmospheres of the already known exoplanets within the system.\\n","astrometry":"","constellation":"Cygnus","title":"HD 190360","subtitle":"HD 190360 is a nearby Sun-like star situated in the Cygnus constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 190360 is larger, more luminous, and has a similar temperature. It exhibits lower levels of stellar magnetic activity but has a higher abundance of elements heavier than helium, compared to the Sun. HD 190360 is part of a stellar binary system, and it has a smaller red dwarf companion, LHS 3509, orbiting at a distance of 3,000 astronomical units.","can_compare":true},{"id":23061,"planet_ids":[6913],"exo_id":"HR_810","st_vj":5.395,"st_optmag":5.395,"st_dist":17.3572,"st_j":5.395,"st_mass":1.14,"dec":-50.8002931,"st_teff":6157,"st_rad":1.158,"ra":40.6394444,"system_radius":137630040.4,"planet_count":0,"status":1,"pl_hostname":"HR_810","custom_system_description":null,"custom_star_description":"HR 810, also known as Iota Horologii, is a nearby yellow-hued star, bright enough to be seen with the naked eye. It is located in the constellation Horologium, which represents a pendulum clock, and Iota Horologii forms part of the clock\'s face. Relative to the Sun, it is larger, hotter, and more luminous. It exhibits higher levels of stellar magnetic activity and has a greater abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"HR 810","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 17051,HR 810,GJ 108","display_name":"Iota Horologii","tagline":"A star hosting a hot Jupiter exoplanet","tic_id":"TIC 166853853","pop_culture":"","detection_timeline":"To date, one exoplanet has been confirmed around Iota Horologii. A hot Jupiter exoplanet was discovered in 1999, using the radial velocity technique. Iota Horologii is a promising target for future exoplanet discoveries with direct imaging. Upcoming large space telescopes with high-contrast imaging could reveal rocky exoplanets, as small as Earth, in the stars habitable zone, if they exist. Additionally, future observations will provide insights into the atmospheric composition of the known exoplanet.","rv_planets_prospects":"1 planet has been detected with radial velocities around this star to date. \\n\\nIota Horologii b is a hot gas giant exoplanet that was discovered using the radial velocity technique in 1999. Located slightly closer to its host star than Earth is to the Sun, the planet has an orbital period of 303 days.  Its mass is at least twice that of Jupiter. The stars level of magnetic activity complicate radial velocity planet searches.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nGiven its proximity and brightness, Iota Horologii is an excellent target for future direct imaging missions. Upcoming large space telescopes will have the capability to directly image rocky exoplanets as small as Earth within the star\'s habitable zone. Moreover, these telescopes will enable the characterization of the atmosphere of the already known exoplanet.\\n","astrometry":"","constellation":"Horologium","title":"HR 810","subtitle":"HR 810, also known as Iota Horologii, is a nearby yellow-hued star, bright enough to be seen with the naked eye. It is located in the constellation Horologium, which represents a pendulum clock, and Iota Horologii forms part of the clock\'s face. Relative to the Sun, it is larger, hotter, and more luminous. It exhibits higher levels of stellar magnetic activity and has a greater abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":23099,"planet_ids":[6960,6962,6963,6961],"exo_id":"HD_160691","st_vj":5.124,"st_optmag":5.124,"st_dist":15.6042,"st_j":5.124,"st_mass":1,"dec":-51.8340532,"st_teff":5761,"st_rad":1.383,"ra":266.0362631,"system_radius":623823117.9,"planet_count":0,"status":1,"pl_hostname":"HD_160691","custom_system_description":null,"custom_star_description":"HD 160691, also known as Mu Arae and Cervantes, is a nearby Sun-like star located in the constellation Ara. Bright enough to be visible to the naked eye, the star is larger, slightly cooler, and more luminous than the Sun, with lower levels of magnetic activity and a higher abundance of heavy elements.  The stars official name, Cervantes, is the result of the International Astronomical Unions NameExoWorlds campaign, where the Planetario de Pamplona proposed that the star be named in honor of  Spanish author, Miguel de Cervantes. There are at least four confirmed exoplanets around this star, all of which have official names based on the characters from Cervantes\' novel \\"Don Quixote.\\"","custom_star_title":"HD 160691","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 160691,HR 6585,GJ 691","display_name":"Cervantes","tagline":"A Sun-like star with four confirmed exoplanets","tic_id":"TIC 362661163","pop_culture":"HD 160691 appears on a navigation chart in an episode of \\"Star Trek: Picard.\\"","detection_timeline":"To date, four exoplanets have been confirmed around HD 160691, based on radial velocity detections from 2000-2006. As part of the 2015 NameExoWorlds campaign, these exoplanets have been named after characters from the novel \\"Don Quixote.\\" The exoplanets in the system are Mu Arae d (Dulcinea), which is a hot Neptune-sized exoplanet, Mu Arae e (Rocinante), Mu Arae b (Quijote), and Mu Arae c (Sancho), with the last three being gas giants. All of these planets have orbits that are within 4 astronomical units of the star, with Quijote located in the habitable zone. HD 160691 is a promising system for direct imaging in the future, as larger space telescopes may be capable of detecting smaller planets in the system and characterizing the atmospheres of the known exoplanets.","rv_planets_prospects":"4 planets have been detected with radial velocities around this star to date. \\n\\nDiscovered between 2000 and 2006, four giant planets have been detected around HD 160691 using the radial velocity method. The stars proximity and lower magnetic activity, compared to the Sun, make it an excellent candidate for radial velocity studies. This method is particularly effective in detecting large exoplanets located close to their host star, which matches the type of exoplanets (three gas giants and one Neptune-like planet) currently known in this system. Continued radial velocity monitoring aims to discover additional exoplanets in the system.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nGiven that HD 160691 is a nearby and bright star, it is a good target for future direct imaging efforts. Upcoming large space telescopes equipped with advanced imaging capabilities will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will provide the opportunity to detect larger exoplanets situated farther away from the star and to characterize the atmospheres of the exoplanets already confirmed in the system.","astrometry":"","constellation":"Ara","title":"HD 160691","subtitle":"HD 160691, also known as Mu Arae and Cervantes, is a nearby Sun-like star located in the constellation Ara. Bright enough to be visible to the naked eye, the star is larger, slightly cooler, and more luminous than the Sun, with lower levels of magnetic activity and a higher abundance of heavy elements.  The stars official name, Cervantes, is the result of the International Astronomical Unions NameExoWorlds campaign, where the Planetario de Pamplona proposed that the star be named in honor of  Spanish author, Miguel de Cervantes. There are at least four confirmed exoplanets around this star, all of which have official names based on the characters from Cervantes\' novel \\"Don Quixote.\\"","can_compare":true},{"id":23129,"planet_ids":[6999,7000,6998],"exo_id":"47_UMa","st_vj":5.037,"st_optmag":5.037,"st_dist":13.8875,"st_j":5.037,"st_mass":1.07,"dec":40.4302557,"st_teff":5880,"st_rad":1.21,"ra":164.8665531,"system_radius":1735335292,"planet_count":0,"status":1,"pl_hostname":"47_UMa","custom_system_description":null,"custom_star_description":"47 Ursae Majoris, also known as Chalawan, is a Sun-like star located nearby in the Ursa Major constellation. The name \\"Chalawan\\" was recommended by the Thai Astronomical Society as part of the NameExoWorlds campaign and adopted by the International Astronomical Union. In comparison to the Sun, 47 Ursae Majoris is larger, slightly hotter, and more luminous. It exhibits lower levels of stellar magnetic activity and has a slightly higher abundance of elements heavier than helium.","custom_star_title":"47 Ursae Majoris","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"47 Ursae Majoris,HD 95128,HR 4277,GJ 407","display_name":"Chalawan","tagline":"A Sun-like star already known to host three large planets","tic_id":"TIC 21535479","pop_culture":"47 Ursae Majoris has served as the host star for exoplanetary systems in science fiction novels such as \\"Old Man\'s War\\" by John Scalzi and the \\"Coyote\\" trilogy by Allen Steele.","detection_timeline":"Three large planets have already been discovered around 47 Ursae Majoris. These exoplanets were detected using the radial velocity technique, which is particularly effective at detecting large exoplanets situated close to their host star. All three known exoplanets are expected to be gas giants. As a bright nearby star resembling the Sun, 47 Ursae Majoris is a key target for further exploration of exoplanets. Future direct imaging missions hold the potential to not only characterize the atmospheres of the currently detected exoplanets, but also reveal smaller rocky exoplanets within the star\'s habitable zone.","rv_planets_prospects":"3 planets have been detected with radial velocities around this star to date.\\n\\nThe exoplanets 47 Ursae Majoris b (Taphao Thong) and 47 Ursae Majoris c (Taphae Kaew) were discovered in 1996 and 2001, respectively. These names were inspired by characters associated with Chalawan in Thai mythology and given as part of the NameExoWorlds program. Refinements in radial velocity measurements led to the detection of another planet, 47 Ursae Majoris d, in 2009.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, 47 Ursae Majoris is an ideal candidate for future direct imaging missions. Advanced space telescopes with direct imaging capabilities will be able to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, future direct imaging will enable scientists to study the atmospheres of the already known exoplanets in this system.","astrometry":"","constellation":"Ursa Major","title":"47 Ursae Majoris","subtitle":"47 Ursae Majoris, also known as Chalawan, is a Sun-like star located nearby in the Ursa Major constellation. The name \\"Chalawan\\" was recommended by the Thai Astronomical Society as part of the NameExoWorlds campaign and adopted by the International Astronomical Union. In comparison to the Sun, 47 Ursae Majoris is larger, slightly hotter, and more luminous. It exhibits lower levels of stellar magnetic activity and has a slightly higher abundance of elements heavier than helium.","can_compare":true},{"id":23131,"planet_ids":[7005,7003,7002,7004,7006],"exo_id":"55_Cnc","st_vj":5.96,"st_optmag":5.96,"st_dist":12.5868,"st_j":5.96,"st_mass":0.95,"dec":28.3308208,"st_teff":5292,"st_rad":0.948,"ra":133.1492129,"system_radius":891154511.59,"planet_count":0,"status":1,"pl_hostname":"55_Cnc","custom_system_description":"","custom_star_description":"","custom_star_title":"55 Cancri","custom_system_title":"Cancri 55","stellar_type":"K","context_description":"Cancri 55 System ","aliases":"55 Cancri,HD 75732 A,HR 3522 A,GJ 324A","display_name":"Copernicus","tagline":"","tic_id":"TIC 332064670","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Cancer","title":"55 Cancri","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":23132,"planet_ids":[7009,7007,7008],"exo_id":"61_Vir","st_vj":4.735,"st_optmag":4.735,"st_dist":8.5344,"st_j":4.735,"st_mass":0.97,"dec":-18.3111938,"st_teff":5552,"st_rad":0.982,"ra":199.6013083,"system_radius":71208586.11999999,"planet_count":0,"status":1,"pl_hostname":"61_Vir","custom_system_description":null,"custom_star_description":"61 Virginis is a bright Sun-like star located relatively nearby in the constellation Virgo. 61 Virginis is remarkably similar to the Sun in size and mass, but is older, slightly cooler, and less luminous. The star has low levels of magnetic activity and a low abundance of elements heavier than helium. Far from the star, there is a broad, dusty debris disk.","custom_star_title":"61 Viriginis","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 115617,HR 5019,GJ 506","display_name":"61 Virginis","tagline":"A bright Sun-like star that hosts a multiplanet system","tic_id":"TIC 422478973","pop_culture":"A planetary system around 61 Virginis is the fictional home to human settlement efforts in short stories, such as Ken Liu\'s \\"The Waves and Mono No Aware,\\" Alastair Reynolds\' \\"Poseidon\'s Children\\" trilogy, as well as flight simulation and role-playing games.","detection_timeline":"61 Virginis is home to three planets that were detected using five years of radial velocity data. Two of the planets are estimated to be Neptune sized, while one is a super-Earth. The three planets lie between the star and its debris disk. When these planets were discovered in 2009, the presence of the super-Earth made 61 Virginis the first G-type, Sun-like star to host a super-Earth mass planet. As a bright star that is so similar to the Sun, 61 Virginis is still an active target for exoplanet searches. Future space telescopes, capable of direct imaging to look for a rocky Earth-sized planet in the stars habitable zone, will make 61 Virginis a prime target for further exploration.","rv_planets_prospects":"3 planets have been detected to date around this star using radial velocities.\\n\\n1 Super-Earth and 2 Neptune-sized planets have been detected from radial velocity measurements around 61 Virginis. Since the star has low magnetic activity, it is well suited for radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\n61 Virginis is well suited for direct imaging with future space telescopes. These future searches will easily be able to detect the outermost of the three known exoplanets in the system, as well as explore a significant fraction of the stars habitable zone, and would be aided by how bright a potential Earth analog around the star would be. Direct imaging would also be able to characterize the atmospheres and surfaces of the planets that have been suggested by existing radial velocity data.","astrometry":"","constellation":"Virgo","title":"61 Viriginis","subtitle":"61 Virginis is a bright Sun-like star located relatively nearby in the constellation Virgo. 61 Virginis is remarkably similar to the Sun in size and mass, but is older, slightly cooler, and less luminous. The star has low levels of magnetic activity and a low abundance of elements heavier than helium. Far from the star, there is a broad, dusty debris disk.","can_compare":true},{"id":23162,"planet_ids":[7042],"exo_id":"eps_Eri","st_vj":3.718,"st_optmag":3.718,"st_dist":3.2198,"st_j":3.718,"st_mass":0.78,"dec":-9.458261,"st_teff":5098,"st_rad":0.746,"ra":53.2326854,"system_radius":528080481.09999996,"planet_count":0,"status":1,"pl_hostname":"eps_Eri","custom_system_description":null,"custom_star_description":"Epsilon Eridani is one of the closest star systems  our third closest neighbor  making it visible to the naked eye. Named Ran by the International Astronomical Union, after the Norse goddess of the sea, Epsilon Eridani is the fifth-brightest star in the southern constellation Eridanus, which takes the shape of a river. Epsilon Eridani is similar to the Sun, but it is slightly smaller and cooler, with an orange hue. Compared to the Sun, this star has more magnetic activity, and it rotates slightly faster. It also contains a lower abundance of elements heavier than helium. An interesting feature of the Epsilon Eridani system is that around the star, there is a dusty debris disk and an inner asteroid belt.","custom_star_title":"Epsilon Eridani","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"Epsilon Eridani,HD 22049,HR 1084,GJ 144","display_name":"Ran","tagline":"A nearby star like the Sun, already known to host a planet","tic_id":"TIC 118572803","pop_culture":"As a nearby Sun-like star with the prospect of hosting a habitable zone planet, Epsilon Eridani and its potential planets are commonly featured in works of fiction, including \\"Star Trek\\" and \\"Babylon 5.\\" Epsilon Eridani has featured in countless games, including \\"Halo\\" and \\"Race for the Galaxy.\\" In Isaac Asimovs novels \\"Foundations Edge\\" and \\"Robots and Empire,\\" a fictional planet of Epsilon Eridani serves as the first \\"non-Spacer\\" planet to be settled. In Marvel Comics \\"Fantastic Four\\" stories, it is revealed that one destination is Epsilon Eridani.","detection_timeline":"To date, one gas giant planet (named Epsilon Eridani b) has been confirmed, using radial velocity data over the period of 1980-2000, from telescopes on the ground. Based on interactions between potential planets and the dusty disk in the system, other planets have been suggested but never confirmed. In the past century, Epsilon Eridani has been the subject of searches for extraterrestrial radio communication, through experiments by Frank Drake and others. It also has been included as a target in efforts for interstellar travel. As Sun-like star close to Earth with a planetary system, Epsilon Eridani is a promising target for future exploration. Due to the large amount of dust orbiting the star, future direct imaging missions will probably not be able to detect any Earth-sized planets directly, but they can hope to see the gravitational imprint of habitable zone planets on the systems dust.","rv_planets_prospects":"1 gas giant exoplanet has been detected to date around this star using radial velocities.\\n\\nIt is difficult to detect exoplanets around Epsilon Eridani because the star has strong magnetic activity. It is only with long-term radial velocity monitoring that a large gas giant planet was found in 2016, outside of the stars habitable zone.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nEfforts to directly image exoplanets around Epsilon Eridani are underway, but have not yet succeeded. The planet discovered with the radial velocity method, Epsilon Eridani b, is an active target for direct imaging, both from space- and ground-based telescopes. Due to the large amount of dust orbiting the star, future direct imaging missions will probably not be able to detect any Earth-sized planets directly. However, they can hope to see the gravitational imprint of habitable zone planets on the systems dust.","astrometry":"","constellation":"Eridanus","title":"Epsilon Eridani","subtitle":"Epsilon Eridani is one of the closest star systems  our third closest neighbor  making it visible to the naked eye. Named Ran by the International Astronomical Union, after the Norse goddess of the sea, Epsilon Eridani is the fifth-brightest star in the southern constellation Eridanus, which takes the shape of a river. Epsilon Eridani is similar to the Sun, but it is slightly smaller and cooler, with an orange hue. Compared to the Sun, this star has more magnetic activity, and it rotates slightly faster. It also contains a lower abundance of elements heavier than helium. An interesting feature of the Epsilon Eridani system is that around the star, there is a dusty debris disk and an inner asteroid belt.","can_compare":true},{"id":23199,"planet_ids":[7087,7104,7088,7089,7105,7103],"exo_id":"HD_219134","st_vj":5.54,"st_optmag":5.54,"st_dist":6.5418,"st_j":5.54,"st_mass":0.75,"dec":57.1683566,"st_teff":4874,"st_rad":0.723,"ra":348.320729,"system_radius":465249375.7,"planet_count":6,"status":1,"pl_hostname":"HD_219134","custom_system_description":null,"custom_star_description":"HD 219134 is an orange dwarf star in the constellation Cassiopeia. It is relatively nearby and close to the limit of what can be seen with the naked eye. Compared to the Sun, HD 219134 is older, smaller and less luminous, with a lower abundance of elements heavier than helium, and low levels of stellar magnetic activity.","custom_star_title":"HD 219134","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 8832,GJ 892","display_name":"HD 219134","tagline":"A bright nearby star with multiple planets","tic_id":"TIC 283722336","pop_culture":"","detection_timeline":"HD 219134 has been detected as a system with six possible exoplanets. The innermost planet, HD 219134 b, is a rocky super-Earth planet. This and three additional exoplanets (one additional rocky super-Earth, one Neptunian world, and one Jovian world) were deduced using radial velocity data. Two months after the initial announcement, a six-planet solution was proposed, adding two new planets. Of the planets detected, the Spitzer space telescope determined that two of them are transiting rocky super-Earths. As a bright, nearby star hosting planets, HD 219134 is a prime target for further exploration with upcoming space telescopes, with the outermost planet being particularly well suited to further observations.","rv_planets_prospects":"6 planets have been detected to date around this star using radial velocities.\\n\\nRadial velocity measurements have revealed the presence of multiple planets around HD 219134, ranging from rocky Super Earths to gas giant planets. The stars low stellar magnetic activity levels make it well suited to radial velocity measurements.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.\\n\\nWhile no planets were first discovered via transits around this star, two planet candidates detected with the radial velocity method have been found to transit the star.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a bright, nearby star, HD 219134 is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone and characterize the exoplanets already discovered. The outermost planet will be readily detectable by future space-based exoplanet imaging missions.","astrometry":"","constellation":"Cassiopeia","title":"HD 219134","subtitle":"HD 219134 is an orange dwarf star in the constellation Cassiopeia. It is relatively nearby and close to the limit of what can be seen with the naked eye. Compared to the Sun, HD 219134 is older, smaller and less luminous, with a lower abundance of elements heavier than helium, and low levels of stellar magnetic activity.","can_compare":true},{"id":23259,"planet_ids":[7180,7178,7179,7177],"exo_id":"tau_Cet","st_vj":3.496,"st_optmag":3.496,"st_dist":3.6522,"st_j":3.496,"st_mass":0.94,"dec":-15.9374799,"st_teff":5356,"st_rad":0.826,"ra":26.0170131,"system_radius":199563558.58,"planet_count":0,"status":1,"pl_hostname":"tau_Cet","custom_system_description":"","custom_star_description":"Tau Ceti is the second brightest Sun-like star in the sky. Visible to the naked eye, it is located near the celestial equator, in the constellation Cetus, the sea monster. Compared to the Sun, it has a lower abundance of elements heavier than helium, rotates more slowly, and has weaker magnetic activity. Around the star, there is a broad, inclined, dusty debris disk, which corresponds to Tau Ceti\'s version of the Kuiper Belt. While Tau Cetis disk is smaller and dustier than our own Kuiper Belt, the habitable zone around Tau Ceti is not very dusty.","custom_star_title":"Tau Ceti","custom_system_title":"","stellar_type":"G","context_description":"","aliases":"HD 10700,HR 509,GJ 71","display_name":"Tau Ceti","tagline":"A bright nearby star with planets in the habitable zone","tic_id":"TIC 419015728","pop_culture":"As one of the nearest Sun-like stars, Tau Ceti has been the setting of numerous works of science fiction. Two worlds around Tau Ceti provide the backdrop for Ursula K. Le Guins anarchic utopia novel, \\"The Dispossessed,\\" whereas in Kim Stanley Robinson\'s novel, \\"Aurora,\\" travelers aim to colonize an Earth analog around Tau Ceti. Other authors who have featured Tau Ceti include Isaac Asimov, Arthur C. Clarke, Frank Herbert, and Robert Heinlein. A planet around Tau Ceti even serves as the setting for the 1968 film, \\"Barbarella.\\"","detection_timeline":"To date, multiple planets have been detected around Tau Ceti. In 2012, five exoplanets were reported, but as of 2017 only two of these planets were confirmed: two potential super-Earths known as Tau Ceti e and f. These planets lie at the inner and outer edges of the stars habitable zone, respectively. While additional observations are needed to confirm and clarify the nature of Tau Ceti\'s planetary system, a giant planet like our own Jupiter appears to be ruled out. As a magnetically quiet star, Tau Ceti has long been monitored with radial velocity observations, which have resulted in the planets detected to date. As a bright and nearby star, Tau Cetis planetary system is also a prime target for direct imaging from space.  Future large space telescopes will be able to detect exoplanets down to the size of Earth in Tau Ceti\'s habitable zone and image the already discovered super-Earth, Tau Ceti e. With these future missions, it will be possible to identify the atmospheric constituents of these planets and determine their habitability.","rv_planets_prospects":"2 super-Earth planets have been confirmed as of 2017, with potentially others detected. \\n\\nTau Ceti is a magnetically quiet star, making it well suited to radial velocity measurements. It has long been the subject of radial velocity studies, which have already yielded multiple planetary detections, including two potential super-Earths at the inner and outer edges of the habitable zone. More planets have been reported, but continuing observations are needed to help provide an improved picture of Tau Cetis planetary system.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and bright, its planetary system is a prime imaging target. Future large space telescopes will be able to detect exoplanets down to Earth size in Tau Ceti\'s habitable zone, identify their atmospheric constituents, and determine if they have habitable conditions. Any dust clouds near the habitable zone could also be studied in great detail.","astrometry":"","constellation":"Cetus","title":"Tau Ceti","subtitle":"Tau Ceti is the second brightest Sun-like star in the sky. Visible to the naked eye, it is located near the celestial equator, in the constellation Cetus, the sea monster. Compared to the Sun, it has a lower abundance of elements heavier than helium, rotates more slowly, and has weaker magnetic activity. Around the star, there is a broad, inclined, dusty debris disk, which corresponds to Tau Ceti\'s version of the Kuiper Belt. While Tau Cetis disk is smaller and dustier than our own Kuiper Belt, the habitable zone around Tau Ceti is not very dusty.","can_compare":true},{"id":23301,"planet_ids":[8971,8970,7246,7243],"exo_id":"rho_CrB","st_vj":5.41,"st_optmag":5.41,"st_dist":17.5108,"st_j":5.41,"st_mass":0.97,"dec":33.303511,"st_teff":5812,"st_rad":1.328,"ra":240.2610854,"system_radius":123717438.49,"planet_count":0,"status":1,"pl_hostname":"rho_CrB","custom_system_description":null,"custom_star_description":"Rho Coronae Borealis is a nearby Sun-like star situated in the Corona Borealis constellation. It is visible to the naked eye and shares many similarities with our Sun. Compared to the Sun, it has a similar temperature but is larger and more luminous. Additionally, it exhibits lower levels of stellar magnetic activity and a reduced abundance of elements heavier than helium.","custom_star_title":"Rho Coronae Borealis","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 143761,HR 5968,GJ 9537,rho crb","display_name":"Rho Coronae Borealis","tagline":"A Sun-like star known to host exoplanets","tic_id":"TIC 458494003","pop_culture":"","detection_timeline":"Radial velocity searches have detected multiple exoplanets around Rho Coronae Borealis. Rho Coronae Borealis b is a large gas giant exoplanet that was discovered in 1997, and Rho Coronae Borealis c is an exoplanet that is more similar to Neptune, discovered in 2016. In 2023, two new exoplanets were reported using radial velocity method: a temperate Neptune-mass planet d and a hot super-Earth e.  As a bright, nearby Sun-like star, Rho Coronae Borealis represents a promising target for future direct imaging missions. With the high-contrast imaging capabilities of upcoming large space telescopes, it will become possible to search for Earth-sized planets within the star\'s habitable zone.","rv_planets_prospects":"4 planets have been detected to date around this star using radial velocities.\\n\\nRho Coronae Borealis b was initially detected in 1997, but its existence faced controversy for several decades due to its predicted mass, which approached that of a small star. In 2016, a paper confirmed the presence of this exoplanet and announced the discovery of Rho Coronae Borealis c, the second exoplanet in the system. Rho Coronae Borealis b has a mass at least as large as Jupiter, while Rho Coronae Borealis c is slightly more massive than Neptune. In 2023, a distant Neptune-like exoplanet, Rho Coronae Borealis d, and a close-in super Earth, Rho Coronae Borealis e, were detected. Given Rho Coronae Borealis\' Sun-like properties and low levels of stellar magnetic activity, it is a favorable candidate for future radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nDue to its proximity and brightness, Rho Coronae Borealis is a good target for future direct imaging missions. Upcoming large space telescopes will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Moreover, these telescopes will provide the opportunity to characterize the atmospheres of the already confirmed exoplanets, shedding light on their composition and properties.\\n","astrometry":"","constellation":"Corona Borealis","title":"Rho Coronae Borealis","subtitle":"Rho Coronae Borealis is a nearby Sun-like star situated in the Corona Borealis constellation. It is visible to the naked eye and shares many similarities with our Sun. Compared to the Sun, it has a similar temperature but is larger and more luminous. Additionally, it exhibits lower levels of stellar magnetic activity and a reduced abundance of elements heavier than helium.","can_compare":true},{"id":23328,"planet_ids":[7281],"exo_id":"Keid","st_vj":4.415,"st_optmag":4.415,"st_dist":5.0098,"st_j":4.415,"st_mass":0.86,"dec":-7.6528697,"st_teff":5133,"st_rad":0.809,"ra":63.8179984,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_26965","custom_system_description":null,"custom_star_description":"40 Eridani A, also known as Keid (from the Arabic word for eggshells) or HD 26965, is a yellow-orange star located in the constellation Eridanus. This star is visible to the naked eye and is part of a triple system that includes 40 Eridani B, a red dwarf, and 40 Eridani C, a white dwarf. 40 Eridani A is the largest star in the system and is smaller, cooler, and less than half as luminous as the Sun. It has similar levels of magnetic activity but a lower abundance of elements heavier than helium, compared to the Sun. 40 Eridani B and 40 Eridani C orbit each other closely and are located far (400 astronomical units) from 40 Eridani A.","custom_star_title":"40 Eridani A","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD26965,HD 26965 A,HR 1325 A,GJ 166A","display_name":"Keid","tagline":"A star in a triple system that may host exoplanets","tic_id":"TIC 67772871","pop_culture":"40 Eridani A is a popular star in science fiction. It is home to the planet Vulcan in Star Trek and a life-supporting planet in \\"Dune.\\" The exoplanet 40 Eridani A b, which was falsely detected in 2018, inspired the exobiology in Andy Weir\'s novel Project Hail Mary. This involved an extremely high-pressure world where life evolved to see using echolocation, to minimize movement and energy expenditure.","detection_timeline":"Detection of a potential exoplanet was claimed in 2018, but it was later found to be a false positive. Currently, no exoplanets have been confirmed to exist around 40 Eridani A. However, this bright nearby star is a prime target for future direct imaging using upcoming space telescopes. If exoplanets exist in the star\'s habitable zone, direct imaging may reveal them.","rv_planets_prospects":"0 planets have been confirmed using radial velocities to date.\\n\\nIn 2018, a potential exoplanet, 40 Eridani A b, was detected with a mass of 8.5 Earth-masses. However, a follow-up study in 2023 found that this exoplanet was likely a false positive caused by stellar activity.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 40 Eridani A is a bright nearby star, it is a prime target for future direct imaging. Upcoming large space telescopes will be able to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone using direct imaging. These telescopes will also have the capability to detect larger planets farther from the star.","astrometry":"","constellation":"Eridanus","title":"40 Eridani A","subtitle":"40 Eridani A, also known as Keid (from the Arabic word for eggshells) or HD 26965, is a yellow-orange star located in the constellation Eridanus. This star is visible to the naked eye and is part of a triple system that includes 40 Eridani B, a red dwarf, and 40 Eridani C, a white dwarf. 40 Eridani A is the largest star in the system and is smaller, cooler, and less than half as luminous as the Sun. It has similar levels of magnetic activity but a lower abundance of elements heavier than helium, compared to the Sun. 40 Eridani B and 40 Eridani C orbit each other closely and are located far (400 astronomical units) from 40 Eridani A.","can_compare":true},{"id":23334,"planet_ids":[7287,7890],"exo_id":"GJ_411","st_vj":7.421,"st_optmag":7.421,"st_dist":2.5461,"st_j":7.421,"st_mass":0.44,"dec":35.9698823,"st_teff":3601,"st_rad":0.363,"ra":165.8341451,"system_radius":439817737.8,"planet_count":0,"status":1,"pl_hostname":"GJ_411","custom_system_description":null,"custom_star_description":"GJ 411, also known as Lalande 21185, is a nearby red dwarf star located in the constellation Ursa Major. Although it is not visible to the naked eye, GJ 411 is the third closest star to the Sun. Compared to the Sun, it is much smaller, cooler, andsignificantly less luminout. It exhibits lower levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"GJ 411","custom_system_title":null,"stellar_type":"M","context_description":null,"aliases":"GJ 411,HD 95735","display_name":"Lalande 21185","tagline":"The third closest star to the Sun, with two exoplanets already discovered","tic_id":"TIC 166646191","pop_culture":"Due to its proximity to the solar system, GJ 411 has been featured in numerous works of science fiction. It has been depicted as a star with exoplanets in novels by Janusz Zajdel, Hal Clement, Gregory Benford, and others. GJ 411 also serves as the setting of the video game Civilization II: Test of Time, where humans are stranded on a rocky exoplanet and strive to return to Earth.","detection_timeline":"To date, two exoplanets have been confirmed around GJ 411. Both GJ 411 b and GJ 411 c were discovered using the radial velocity technique. GJ 411 b is a closely orbiting super-Earth, while GJ 411 c is closer in size to Uranus and orbits further out, at a distance of 3 astronomical units from the host star. This system is of great interest for future exploration, particularly with upcoming direct imaging missions. Advanced space telescopes will enable the search for other exoplanets as small as Earth, within the stars habitable zone, and provide further insights into the atmospheres of the already known exoplanets.","rv_planets_prospects":"2 planets have been detected to date around this star using radial velocities.\\n\\nGJ 411 b was confirmed in 2019 and is a super-Earth in close proximity to its host star, with an orbital distance of 0.08 astronomical units and a period of 13 days. GJ 411 c was confirmed in 2021 and is a larger exoplanet similar in size to Uranus, orbiting at a distance of nearly 3 astronomical units.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nDue to its proximity, GJ 411 is a good target for future direct imaging. Upcoming large space telescopes will utilize direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. These telescopes will also have the capability to characterize the known exoplanets in the system.","astrometry":"","constellation":"Ursa Major","title":"GJ 411","subtitle":"GJ 411, also known as Lalande 21185, is a nearby red dwarf star located in the constellation Ursa Major. Although it is not visible to the naked eye, GJ 411 is the third closest star to the Sun. Compared to the Sun, it is much smaller, cooler, andsignificantly less luminout. It exhibits lower levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":23349,"planet_ids":[7322,7320,7321],"exo_id":"HD_136352","st_vj":5.655,"st_optmag":5.655,"st_dist":14.7391,"st_j":5.655,"st_mass":1.02,"dec":-48.3176305,"st_teff":5685,"st_rad":1.046,"ra":230.4506246,"system_radius":63579094.75,"planet_count":0,"status":1,"pl_hostname":"HD_136352","custom_system_description":null,"custom_star_description":"HD 136352, also known as Nu2 Lupi, is a nearby Sun-like star, located in the constellation Lupus. It is bright enough to be seen with the naked eye. In terms of temperature, size, and luminosity, HD 136352 closely resembles the Sun. It exhibits comparable levels of stellar magnetic activity but has a lower abundance of elements heavier than helium. HD 136352 is estimated to be around 12 billion years old, more than twice the age of the Sun.","custom_star_title":"HD 136352","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 136352,HR 5699,GJ 582","display_name":"Nu2 Lupi","tagline":"A Sun-like star hosting three confirmed exoplanets","tic_id":"TIC 136916387","pop_culture":"","detection_timeline":"Multiple exoplanets have been confirmed around HD 136352. Three planets were detected using the radial velocity method, but they can also be observed as they transit the host star. All three planets orbit HD 136352 at close distances. The innermost planet, HD 136352 b, is a rocky super-Earth. The other two planets have sizes comparable to Neptune, but their composition and atmospheres remain largely unknown. Because HD 136352 is a bright, nearby Sun-like star, it is a promising target for future direct imaging, enabling scientists to study the atmospheres of these exoplanets and search for smaller rocky exoplanets within the star\'s habitable zone.\\n","rv_planets_prospects":"3 planets have been detected to date around this star using radial velocities.\\n\\nThree planets have been detected around HD 136352 through radial velocity measurements. These discoveries were made in 2019 following over a decade of observations. As a nearby star exhibiting magnetic activity levels similar to the Sun, HD 136352 is a suitable candidate for further radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.\\n","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nGiven HD 136352\'s proximity and brightness, it presents a good opportunity for future direct imaging. Upcoming large space telescopes equipped for high contrast direct imaging will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, they will be able to characterize the atmospheres of the exoplanets detected with radial velocity measurements.","astrometry":"","constellation":"Lupus","title":"HD 136352","subtitle":"HD 136352, also known as Nu2 Lupi, is a nearby Sun-like star, located in the constellation Lupus. It is bright enough to be seen with the naked eye. In terms of temperature, size, and luminosity, HD 136352 closely resembles the Sun. It exhibits comparable levels of stellar magnetic activity but has a lower abundance of elements heavier than helium. HD 136352 is estimated to be around 12 billion years old, more than twice the age of the Sun.","can_compare":true},{"id":23897,"planet_ids":[8038,8039],"exo_id":"HD_189567","st_vj":6.07,"st_optmag":6.07,"st_dist":17.9323,"st_j":6.07,"st_mass":1.02,"dec":-67.3208961,"st_teff":5730,"st_rad":1.033,"ra":301.3865229,"system_radius":29470780.39,"planet_count":2,"status":1,"pl_hostname":"HD_189567","custom_system_description":null,"custom_star_description":"","custom_star_title":"HD 189567","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 7644,GJ 776","display_name":"HD 189567","tagline":"","tic_id":"TIC 352402781","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Pavo","title":"HD 189567","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":24854,"planet_ids":[7271,6627,8489],"exo_id":"HD_39091","st_vj":5.666,"st_optmag":5.666,"st_dist":18.2874,"st_j":5.666,"st_mass":1.08,"dec":-80.4691207,"st_teff":5982,"st_rad":1.153,"ra":84.2911952,"system_radius":495318547.57,"planet_count":0,"status":1,"pl_hostname":"HD_39091","custom_system_description":null,"custom_star_description":"HD 39091, also known as Pi Mensae, is a nearby Sun-like star located in the constellation Mensa, bright enough to be seen with the naked eye. Compared to the Sun, HD 39091 is larger, slightly hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a higher abundance of elements heavier than helium. HD 39091 is surrounded by a cool debris disk, situated at a radius of 46 astronomical units.","custom_star_title":"HD 39091","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 39091,HR 2022,GJ 9189","display_name":"Pi Mensae","tagline":"A Sun-like star with an interesting planetary system","tic_id":"TIC 261136679","pop_culture":"","detection_timeline":"To date, three exoplanets have been confirmed around HD 39091. Its first exoplanet, HD 39091 b, was discovered in 2001 using the radial velocity technique. It is one of the largest known exoplanets and nearly reaches the size of a brown dwarf. In 2018, Pi Mensae c became the first exoplanet discovered by the TESS space telescope. It is a super-Earth orbiting in close proximity to the host star. A third exoplanet, Pi Mensae d, was discovered in 2022 using radial velocity measurements. As a bright nearby Sun-like star, HD 39091, is a good target for future direct imaging. Future space telescopes with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth within the star\'s habitable zone and characterize the already known exoplanets within the system, including insights into their atmospheric compositions. ","rv_planets_prospects":"2 planets have been detected to date around this star using radial velocities.\\n\\nThe first exoplanet in the system, HD 39091 b, was detected in 2001 through radial velocities and is one of the largest exoplanets discovered. It has an orbital period of 2089 days, ranging in distance from the star between 3.3 and 2.5 astronomical units. In 2022, another planet, Pi Mensae d, was discovered using radial velocities. It is classified as either a super-Earth or hot Neptune, with an orbital period of 125 days. Given HD 39091\'s similarity in magnetic activity to the Sun and its proximity, it is a suitable candidate for further radial velocity studies.\\n","transit_planets_prospects":"1 planet has been detected with transits around this star to date.\\n\\nIn 2018, Pi Mensae c was the first exoplanet to be discovered by the Transiting Exoplanet Survey Satellite (TESS).  It is a super-Earth exoplanet that orbits very close to its star, with an orbital period of 6.3 days.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Pi Mensae is a good target for future direct imaging. Upcoming large space telescopes equipped with direct imaging capabilities will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Moreover, these telescopes will enable the characterization of the atmospheres of the already known exoplanets within the system.\\n","astrometry":"","constellation":"Mensa","title":"HD 39091","subtitle":"HD 39091, also known as Pi Mensae, is a nearby Sun-like star located in the constellation Mensa, bright enough to be seen with the naked eye. Compared to the Sun, HD 39091 is larger, slightly hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a higher abundance of elements heavier than helium. HD 39091 is surrounded by a cool debris disk, situated at a radius of 46 astronomical units.","can_compare":true},{"id":25092,"planet_ids":[7641,7642],"exo_id":"GJ_887","st_vj":7.33,"st_optmag":7.33,"st_dist":3.2871,"st_j":7.33,"st_mass":0.49,"dec":-35.8530709,"st_teff":3680,"st_rad":0.47,"ra":346.4668158,"system_radius":17951744.4,"planet_count":0,"status":1,"pl_hostname":"GJ_887","custom_system_description":null,"custom_star_description":"GJ 887, also known as Lacaille 9352, is a nearby red dwarf star located in the constellation Piscis Austrinus. Relative to the Sun, it is smaller, cooler, and significantly less luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"GJ 887","custom_system_title":null,"stellar_type":"M","context_description":null,"aliases":"HD 217987,GJ 887","display_name":"Lacaille 9352","tagline":"A star with two closely orbiting super-Earths","tic_id":"TIC 155315739","pop_culture":"GJ 887 has been featured in various works of science fiction. In the \\"Revelation Space\\" series by Alastair Reynolds, it is orbited by an exoplanet named Fand, which supports life.","detection_timeline":"To date, two exoplanets have been confirmed around GJ 887. Detected in 2020 from radial velocity measurements, the two exoplanets, GJ 887 b and GJ 887 c, are extremely close to the host star, with masses of at least four and eight times that of Earth, respectively. A signal suggests the potential presence of additional exoplanets in the system. GJ 887 holds great promise for further exploration, particularly through future direct imaging. Upcoming large space telescopes will enable the search for exoplanets as small as Earth within the stars habitable zone, in addition to imaging the existing two exoplanets.","rv_planets_prospects":"2 planets have been detected to date around this star using radial velocities.\\n\\nTwo super-Earth exoplanets, GJ 887 b and GJ 887 c, were detected in 2020. Both exoplanets orbit close to the star, with GJ 887 b closer-in on a nine day orbit around the star, whereas GJ 887 c orbits once every 22 days. GJ 887 is a good candidate for further radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nDue to its brightness and proximity, GJ 887 is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. These telescopes will also characterize the atmospheres of the exoplanets already known to exist within the GJ 887 system.","astrometry":"","constellation":"Piscis Austrinus","title":"GJ 887","subtitle":"GJ 887, also known as Lacaille 9352, is a nearby red dwarf star located in the constellation Piscis Austrinus. Relative to the Sun, it is smaller, cooler, and significantly less luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":25129,"planet_ids":[6813],"exo_id":"HD_10647","st_vj":5.52,"st_optmag":5.52,"st_dist":17.3488,"st_j":5.52,"st_mass":1.14,"dec":-53.740831,"st_teff":6155,"st_rad":1.095,"ra":25.6221438,"system_radius":301439708.05,"planet_count":0,"status":1,"pl_hostname":"HD_10647","custom_system_description":null,"custom_star_description":"","custom_star_title":"HD 10647","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 10647,HR 506,GJ 3109","display_name":"q1 Eridani","tagline":"","tic_id":"TIC 229137615","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Eridanus","title":"HD 10647","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":25136,"planet_ids":[6748],"exo_id":"HD_114613","st_vj":4.847,"st_optmag":4.847,"st_dist":20.4628,"st_j":4.847,"st_mass":0.99,"dec":-37.8030222,"st_teff":5688,"st_rad":2.116,"ra":198.0132679,"system_radius":798852625.8,"planet_count":1,"status":1,"pl_hostname":"HD_114613","custom_system_description":null,"custom_star_description":"","custom_star_title":"HD 114613","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 4979,GJ 9432","display_name":"HD 114613","tagline":"","tic_id":"TIC 30293512","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Centaurus","title":"HD 114613","subtitle":"A G-type star, which is  visible from Earth.","can_compare":true},{"id":25176,"planet_ids":[6882,6883],"exo_id":"HD_192310","st_vj":5.73,"st_optmag":5.73,"st_dist":8.8116,"st_j":5.73,"st_mass":0.77,"dec":-27.0329754,"st_teff":5087,"st_rad":0.818,"ra":303.8224641,"system_radius":176525486.6,"planet_count":2,"status":1,"pl_hostname":"HD_192310","custom_system_description":null,"custom_star_description":"HD 192310, also known as HR 7722, is a relatively nearby orange dwarf star. Faintly visible to the naked eye, the star is located in the southern constellation Capricornus. Relative to the Sun, HD 192310 is smaller, cooler, and older, with similar abundances of elements heavier than helium. Less than half as bright as the Sun, the star has an orange hue and very low levels of magnetic activity.","custom_star_title":"HD 192310","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 7722,GJ 785","display_name":"HD 192310","tagline":"A bright star that harbors planets","tic_id":"TIC 326096771","pop_culture":"HD 192310 is referenced in a graphic novella \\"Aliens: Inhuman Condition,\\" which extends the world of the movie \\"Alien.\\" In this work, there is a planet around HD 192310 named Narvis-4, which houses an Artificial Humanoid Fabrication Plant.","detection_timeline":"Two exoplanets have been confirmed around HD 192310. Discovered in 2011 from radial velocity measurements, the planets are similar to Neptune, orbiting near the inner and outer edges of the stars habitable zone. As a bright, nearby star, HD 192310 is well suited to future exoplanet exploration, particularly with direct imaging. If there are habitable planets in the system, future space telescopes capable of high contrast imaging would reveal them.","rv_planets_prospects":"2 planets have been detected to date around this star using radial velocities.\\n\\nThe star is well suited to radial velocity studies due to its low magnetic activity. Radial velocity monitoring led to the detection of 2 Neptune-like planets on the inner and outer edges of the stars habitable zone.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, HD 192310 is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone and characterize the planets detected with radial velocity measurements.","astrometry":"","constellation":"Capricornus","title":"HD 192310","subtitle":"HD 192310, also known as HR 7722, is a relatively nearby orange dwarf star. Faintly visible to the naked eye, the star is located in the southern constellation Capricornus. Relative to the Sun, HD 192310 is smaller, cooler, and older, with similar abundances of elements heavier than helium. Less than half as bright as the Sun, the star has an orange hue and very low levels of magnetic activity.","can_compare":true},{"id":25222,"planet_ids":[7031],"exo_id":"HN_Peg","st_vj":5.942,"st_optmag":5.942,"st_dist":18.133,"st_j":5.942,"st_mass":1.08,"dec":14.7719398,"st_teff":5939,"st_rad":1.006,"ra":326.1305414,"system_radius":115639153510,"planet_count":0,"status":1,"pl_hostname":"HN_Peg","custom_system_description":null,"custom_star_description":"","custom_star_title":"HN Pegasi","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 206860,HR 8314,GJ 9751","display_name":"HN Pegasi","tagline":"","tic_id":"TIC 301880196","pop_culture":"","detection_timeline":"","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Pegasus","title":"HN Pegasi","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":25737,"planet_ids":[7879],"exo_id":"HD_141004","st_vj":4.422,"st_optmag":4.422,"st_dist":11.9159,"st_j":4.422,"st_mass":1.09,"dec":7.3530687,"st_teff":5898,"st_rad":1.356,"ra":236.6108925,"system_radius":18520216.305999998,"planet_count":0,"status":1,"pl_hostname":"HD_141004","custom_system_description":null,"custom_star_description":"HD 141004, also known as Lambda Serpentis, is a star like the Sun located relatively close to Earth, in the constellation Serpens. Larger and warmer than the Sun, the star is twice as luminous and is visible to the naked eye. It has low levels of magnetic activity and a slightly lower abundance of elements heavier than helium, as compared to the Sun.","custom_star_title":"Lambda Serpentis","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 141004,HR 5868,GJ 598","display_name":"Lambda Serpentis","tagline":"A bright star, located relatively nearby, that hosts a planet","tic_id":"TIC 296740796","pop_culture":"Lambda Serpentis is featured as a planetary system in the \\"Halo\\" video game franchise and the \\"Blue Planet\\" role-playing game, as well as episodes of \\"Star Trek.\\"","detection_timeline":"To date, one Neptune-like giant planet (named HD 141004 b) has been detected around this star, using radial velocity data. As a nearby, Sun-like star hosting a planet, HD 141004 is a prime target for future exoplanet exploration, particularly with direct imaging. If there are planets in the habitable zone around this Sun-like star, future space telescopes capable of high contrast imaging could reveal them.","rv_planets_prospects":"1 planet has been detected to date around this star using radial velocities\\n\\nRadial velocity monitoring led to the detection of a Neptune-like planet around this star, interior to the habitable zone, which was confirmed in 2021. Given the low magnetic activity of the star, it is well suited to further radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, HD 141004 is a good target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone and characterize the planet that has already been detected in the system.","astrometry":"","constellation":"Serpens","title":"Lambda Serpentis","subtitle":"HD 141004, also known as Lambda Serpentis, is a star like the Sun located relatively close to Earth, in the constellation Serpens. Larger and warmer than the Sun, the star is twice as luminous and is visible to the naked eye. It has low levels of magnetic activity and a slightly lower abundance of elements heavier than helium, as compared to the Sun.","can_compare":true},{"id":25834,"planet_ids":[6781],"exo_id":"HD_3651","st_vj":5.863,"st_optmag":5.863,"st_dist":11.1081,"st_j":5.863,"st_mass":0.86,"dec":21.2504758,"st_teff":5203,"st_rad":0.898,"ra":9.8408558,"system_radius":44131371.65,"planet_count":0,"status":1,"pl_hostname":"HD_3651","custom_system_description":null,"custom_star_description":"HD 3651, also known as 54 Piscium A, is a nearby orange dwarf star located in the constellation Pisces. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 3651 is smaller, cooler, and half as luminous. It exhibits lower levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. HD 3651 is part of the 54 Piscium system, which includes a brown dwarf companion star, 54 Piscium B.","custom_star_title":"54 Piscium A","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 3651,HD 3651 A,HR 166 A,GJ 27A","display_name":"54 Piscium A","tagline":"An orange star with a Saturn-sized planet","tic_id":"TIC 434210589","pop_culture":"","detection_timeline":"One exoplanet has been confirmed around HD 3651. Discovered in 2003 using the radial velocity technique, this exoplanet is comparable in size to Saturn and orbits close to its host star. As a bright nearby star, HD 3651 holds promise for exploration with future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for rocky exoplanets as small as Earth, within the stars habitable zone.","rv_planets_prospects":"1 planet has been detected with radial velocities around this star to date. \\n\\nThe exoplanet HD 3651 b was discovered in 2003, based on radial velocity measurements. This hot gas giant exoplanet is Saturn-sized and orbits the host star at a distance of 0.3 astronomical units, with an orbital period of 62 days.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, 54 Piscium A is a good target for future direct imaging. Upcoming large space telescopes will have the capacity to employ direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, these telescopes will enable the characterization of the atmosphere of the exoplanet already known to exist within the system.","astrometry":"","constellation":"Pisces","title":"54 Piscium A","subtitle":"HD 3651, also known as 54 Piscium A, is a nearby orange dwarf star located in the constellation Pisces. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 3651 is smaller, cooler, and half as luminous. It exhibits lower levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. HD 3651 is part of the 54 Piscium system, which includes a brown dwarf companion star, 54 Piscium B.","can_compare":true},{"id":25870,"planet_ids":[6936],"exo_id":"HD_147513","st_vj":5.37,"st_optmag":5.37,"st_dist":12.8923,"st_j":5.37,"st_mass":1.07,"dec":-39.1929805,"st_teff":5868,"st_rad":0.968,"ra":246.0053797,"system_radius":197469188.4,"planet_count":1,"status":1,"pl_hostname":"HD_147513","custom_system_description":null,"custom_star_description":"HD 147513 is a Sun-like star located nearby in the constellation Scorpius. It is visible to the naked eye and shares similarities in size, temperature, and luminosity with the Sun. Compared to the Sun, HD 147513 exhibits higher stellar magnetic activity and a higher abundance of elements heavier than helium. It is part of a system, with a white dwarf companion.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 6094,GJ 9559","display_name":"HD 147513","tagline":"A Sun-like star orbited by an exoplanet and white dwarf","tic_id":"TIC 350673608","pop_culture":"","detection_timeline":"Currently, one exoplanet has been detected around HD 147513. HD 147513 b was discovered in 2003 using the radial velocity technique. As a bright nearby Sun-like star, HD 147513 holds significant potential for further exoplanet exploration. Future direct imaging techniques will enable scientists to study the atmosphere of the already discovered exoplanet and may reveal smaller rocky exoplanets within the star\'s habitable zone.","rv_planets_prospects":"1 planet has been detected with radial velocities around this star to date. \\n\\nHD 147513 b, a Jupiter-sized planet, was discovered in 2003. It orbits at a distance of 1.3 astronomical units from HD 147513, completing one orbit every 528 days.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, HD 147513 is an excellent candidate for future direct imaging missions. Advanced space telescopes will use direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to detect larger exoplanets situated farther from the star. This will also provide an opportunity to characterize the atmosphere of the already-discovered exoplanet.","astrometry":"","constellation":"Scorpius","title":"HD 147513","subtitle":"HD 147513 is a Sun-like star located nearby in the constellation Scorpius. It is visible to the naked eye and shares similarities in size, temperature, and luminosity with the Sun. Compared to the Sun, HD 147513 exhibits higher stellar magnetic activity and a higher abundance of elements heavier than helium. It is part of a system, with a white dwarf companion.","can_compare":true},{"id":26241,"planet_ids":[7511],"exo_id":"eps_Ind_A","st_vj":4.674,"st_optmag":4.674,"st_dist":3.6384,"st_j":4.674,"st_mass":0.72,"dec":-56.7859786,"st_teff":4641,"st_rad":0.728,"ra":330.8402234,"system_radius":1727855398.5,"planet_count":0,"status":1,"pl_hostname":"eps_Ind_A","custom_system_description":null,"custom_star_description":"Epsilon Indi A is an orange star located deep in the southern sky. It is the sixth nearest star system visible to the naked eye and the fifth brightest star in the constellation Indus. Relative to the Sun it is somewhat smaller and cooler, with a slightly lower abundance of elements heavier than helium. The star also has a slightly faster rotation period and higher levels of magnetic activity than the Sun. Far from the star (Epsilon Indi A), there is a pair of brown dwarf stars (Epsilon Indi Ba and Bb). These brown dwarf companions have masses just below the threshold needed to sustain core nuclear fusion and become stars in their own right.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"EpsilonIndiA,Epsilon Indi A,HD 209100,HR 8387,GJ 845A","display_name":"Epsilon Indi","tagline":"A bright nearby star with multiple companions","tic_id":"TIC 231698181","pop_culture":"As a bright nearby star, Epsilon Indi has been referenced in science fiction and games. In Larry Nivens 1973 novel \\"Protector,\\" the planet Home is set around Epsilon Indi. In Robert Sawyers novel \\"Starplex,\\" one of the closest portals to Earth is in New New York, set in the Epsilon Indi system. Elsewhere, Epsilon Indi has been included in everything from \\"Star Trek\\" episodes to \\"Frontier Elite\\" video games.","detection_timeline":"Radial velocity data have suggested the presence of a gas giant planet around Epsilon Indi, known as Epsilon Indi A b. Estimates indicate that the planet is at least a few times the mass of Jupiter, with an orbital period of 50-80 years, but additional work is needed to confirm the planets existence and establish its properties. The planet is a target for observations by the Webb Telescope. As a bright and nearby star, Epsilon Indi As planetary system also is a prime target for direct imaging from space. Future large space telescopes will be able to detect exoplanets down to the size of Earth in its habitable zone, identify the atmospheric constituents of these planets, and determine their habitability.","rv_planets_prospects":"1 gas giant planet has been detected to date around this star using radial velocities.\\n\\nEpsilon Indi is a magnetically quiet star where the radial velocity technique can be used to best effect. Years of past observations have suggested a gas giant planet outside of the habitable zone. Continuing observations are needed to confirm the planet and provide an improved picture of its properties.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and bright, its planetary system will be a prime imaging target for future space telescopes. Those missions will be able to detect exoplanets down to Earth size in Epsilon Indi\'s habitable zone, identify their atmospheric constituents, and determine if they have habitable conditions.","astrometry":"","constellation":"Indus","title":"Epsilon Indi","subtitle":"Epsilon Indi A is an orange star located deep in the southern sky. It is the sixth nearest star system visible to the naked eye and the fifth brightest star in the constellation Indus. Relative to the Sun it is somewhat smaller and cooler, with a slightly lower abundance of elements heavier than helium. The star also has a slightly faster rotation period and higher levels of magnetic activity than the Sun. Far from the star (Epsilon Indi A), there is a pair of brown dwarf stars (Epsilon Indi Ba and Bb). These brown dwarf companions have masses just below the threshold needed to sustain core nuclear fusion and become stars in their own right.","can_compare":true},{"id":26253,"planet_ids":[7058,7057,7059],"exo_id":"ups_And","st_vj":4.1,"st_optmag":4.1,"st_dist":13.4916,"st_j":4.1,"st_mass":1.18,"dec":41.4054587,"st_teff":6154,"st_rad":1.611,"ra":24.1993398,"system_radius":375982830.6923,"planet_count":0,"status":1,"pl_hostname":"ups_And","custom_system_description":null,"custom_star_description":"Upsilon Andromedae A, also known as Titawin, is a nearby yellowish-white star in the Andromeda constellation, bright enough to be seen with the naked eye. The stars official name, Titawin, is the result of the International Astronomical Unions 2015 NameExoWorlds campaign, where the Vega Astronomy Club of Morocco proposed that the star be named in honor of Titawin (also known as Medina of Tetouan), a settlement in northern Morocco that was an historically important meeting point between civilizations. Upsilon Andromedae A is part of a binary star system, with a red dwarf companion star named Upsilon Andromedae B. Compared to the Sun, Upsilon Andromedae A is significantly larger, hotter, and more luminous. It has lower levels of stellar magnetic activity while having a higher abundance of elements heavier than helium, compared to the Sun. ","custom_star_title":"Upsilon Andromedae","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"UpsilonAndromedae,HD9826A,HR458A,Upsilon Andromedae,HD 9826 A,HR 458 A,GJ 61A","display_name":"Titawin","tagline":"A bright, nearby Sun-like star hosting three gas giant exoplanets","tic_id":"TIC 189576919","pop_culture":"","detection_timeline":"As a nearby Sun-like star, Upsilon Andromedae A, has been a prominent target for exoplanet searches. Three exoplanets were detected from 1996 to 1999 based on radial velocities. The first, Upsilon Andromedae A b (also known as Saffar), was discovered in 1996 and determined to be a Jupiter-mass exoplanet orbiting close to the star, making it one of the first hot Jupiters detected. In 1999, two additional gas giant exoplanets, Upsilon Andromedae A c (Samh) and Upsilon Andromedae A d (Majriti) were detected. As part of the 2015 NameExoWorlds campaign, these exoplanets received official names, honoring historical Andalusian Arab astronomers. The search for smaller, Earth analog exoplanets around Upsilon Andromedae A continues, and the star is a target for future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for Earth-sized planets within the stars habitable zone and to to characterize the atmospheres of the exoplanets that have already been detected.","rv_planets_prospects":"3 planets have been detected to date around this star using radial velocities.\\n\\nUpsilon Andromedae A is a star with relatively low levels of stellar magnetic activity making it a good target for radial velocity measurements. Early radial velocity studies resulted in the detection of three gas giant exoplanets.  The innermost planet Upsilon Andromedae A b is known as a hot Jupiter because it orbits close to the star,  while the other two planets (Upsilon  Andromedae A c and Upsilon Andromedae A d) are likely larger, on orbits farther from the star. ","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Upsilon Andromedae A is a suitable target for future direct imaging missions. Upcoming space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth within the star\'s habitable zone and to characterize the exoplanets detected with radial velocity measurements.","astrometry":"","constellation":"Andromeda","title":"Upsilon Andromedae","subtitle":"Upsilon Andromedae A, also known as Titawin, is a nearby yellowish-white star in the Andromeda constellation, bright enough to be seen with the naked eye. The stars official name, Titawin, is the result of the International Astronomical Unions 2015 NameExoWorlds campaign, where the Vega Astronomy Club of Morocco proposed that the star be named in honor of Titawin (also known as Medina of Tetouan), a settlement in northern Morocco that was an historically important meeting point between civilizations. Upsilon Andromedae A is part of a binary star system, with a red dwarf companion star named Upsilon Andromedae B. Compared to the Sun, Upsilon Andromedae A is significantly larger, hotter, and more luminous. It has lower levels of stellar magnetic activity while having a higher abundance of elements heavier than helium, compared to the Sun. ","can_compare":true},{"id":26436,"planet_ids":[8602,8601],"exo_id":"HD_140901","st_vj":6.012,"st_optmag":6.012,"st_dist":15.2465,"st_j":6.012,"st_mass":0.96,"dec":-37.9163119,"st_teff":5602,"st_rad":0.959,"ra":236.8712542,"system_radius":1765254866,"planet_count":0,"status":1,"pl_hostname":"HD_140901","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 5864 A,GJ 599A","display_name":"HD 140901 A","tagline":null,"tic_id":"TIC 179348425","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Lupus","title":"HD 140901 A","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26445,"planet_ids":[8617,8616],"exo_id":"HD_115404_A","st_vj":6.55,"st_optmag":6.55,"st_dist":10.9869,"st_j":6.55,"st_mass":0.76,"dec":17.017178,"st_teff":4843,"st_rad":0.781,"ra":199.2127143,"system_radius":1700030194.68,"planet_count":2,"status":1,"pl_hostname":"HD_115404_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"GJ 505A","display_name":"HD 115404 A","tagline":null,"tic_id":"TIC 373765355","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Coma Berenices","title":"HD 115404 A","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26617,"planet_ids":[],"exo_id":"HD_72673","st_vj":6.378,"st_optmag":6.378,"st_dist":12.1643,"st_j":6.378,"st_mass":0.85,"dec":-31.5008514,"st_teff":5261,"st_rad":0.765,"ra":128.2145653,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_72673","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 3384,GJ 309","display_name":"HD 72673","tagline":null,"tic_id":"TIC 393844873","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Pyxis","title":"HD 72673","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26618,"planet_ids":[],"exo_id":"3_Ursae_Majoris_A","st_vj":5.63,"st_optmag":5.63,"st_dist":14.4388,"st_j":5.63,"st_mass":1.08,"dec":65.0209064,"st_teff":5893,"st_rad":0.946,"ra":129.7987692,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"3_Ursae_Majoris_A","custom_system_description":null,"custom_star_description":"3 Ursae Majoris, also known as Pi1 Ursae Majoris, is a nearby star similar to the Sun, located in the constellation Ursa Major. It is bright enough to be visible to the naked eye. Relative to the Sun, it is slightly smaller and hotter, but it has a similar luminosity. 3 Ursae Majoris exhibits more stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. Additionally, the star is surrounded by a debris disk at a distance of 1.6 astronomical units, which falls outside of the star\'s habitable zone.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 72905,HR 3391,GJ 311","display_name":"3 Ursae Majoris A","tagline":"A Sun-like star with a surrounding debris disk","tic_id":"TIC 417762326","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 3 Ursae Majoris. Radial velocity measurements have not ruled out any planets in the system. As a nearby Sun-like star, 3 Ursae Majoris presents a good opportunity for future direct imaging efforts. If there are exoplanets as small as Earth within the star\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to detect them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\n3 Ursae Majoris has been under observation for over a decade, and current radial velocity measurements have effectively ruled out the presence of a brown dwarf companion within a few astronomical units. However, no definitive constraints have been placed on the possibility of smaller objects within the system. \\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nGiven its proximity and brightness, 3 Ursae Majoris is a good target for future direct imaging studies. Upcoming large space telescopes will have the capacity to employ direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. However, the presence of the debris disk in the system may have an impact on the detection of exoplanets located farther from the star.","astrometry":"","constellation":"Ursa Major","title":"3 Ursae Majoris A","subtitle":"3 Ursae Majoris, also known as Pi1 Ursae Majoris, is a nearby star similar to the Sun, located in the constellation Ursa Major. It is bright enough to be visible to the naked eye. Relative to the Sun, it is slightly smaller and hotter, but it has a similar luminosity. 3 Ursae Majoris exhibits more stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. Additionally, the star is surrounded by a debris disk at a distance of 1.6 astronomical units, which falls outside of the star\'s habitable zone.","can_compare":true},{"id":26619,"planet_ids":[],"exo_id":"HD_74576","st_vj":6.556,"st_optmag":6.556,"st_dist":11.1917,"st_j":6.556,"st_mass":0.76,"dec":-38.8823808,"st_teff":4992,"st_rad":0.753,"ra":130.8251265,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_74576","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"GJ 320","display_name":"HD 74576","tagline":null,"tic_id":"TIC 181273463","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Vela","title":"HD 74576","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26621,"planet_ids":[],"exo_id":"HD_76151","st_vj":6.008,"st_optmag":6.008,"st_dist":16.8465,"st_j":6.008,"st_mass":1.02,"dec":-5.4344595,"st_teff":5780,"st_rad":0.983,"ra":133.5747796,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_76151","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 3538,GJ 327","display_name":"HD 76151","tagline":null,"tic_id":"TIC 62569281","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Hydra","title":"HD 76151","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26622,"planet_ids":[],"exo_id":"HD_78366","st_vj":5.962,"st_optmag":5.962,"st_dist":18.9498,"st_j":5.962,"st_mass":1.08,"dec":33.8822184,"st_teff":5992,"st_rad":1.045,"ra":137.2127933,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_78366","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 3625,GJ 334.2","display_name":"HD 78366","tagline":null,"tic_id":"TIC 355127594","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Lynx","title":"HD 78366","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26623,"planet_ids":[],"exo_id":"13_Ursae_Majoris_A","st_vj":4.809,"st_optmag":4.809,"st_dist":20.5169,"st_j":4.809,"st_mass":1.21,"dec":67.1340172,"st_teff":6325,"st_rad":1.68,"ra":137.5981111,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"13_Ursae_Majoris_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"Sigma2 Ursae Majoris A,HD 78154 A,HR 3616 A,GJ 335A","display_name":"13 Ursae Majoris A","tagline":null,"tic_id":"TIC 219709102","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ursa Major","title":"13 Ursae Majoris A","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26624,"planet_ids":[],"exo_id":"11_Leo_Minoris_A","st_vj":5.402,"st_optmag":5.402,"st_dist":11.2348,"st_j":5.402,"st_mass":0.94,"dec":35.8101325,"st_teff":5518,"st_rad":0.969,"ra":143.9145925,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"11_Leo_Minoris_A","custom_system_description":null,"custom_star_description":"11 Leonis Minoris A is a nearby Sun-like star situated in the constellation Leo Minor, also known as the little lion. Visible to the naked eye the star is slightly smaller, cooler, and less luminous than the Sun. Additionally, it has higher levels of stellar magnetic activity and a significantly greater abundance of elements heavier than helium, compared to the Sun. 11 Leonis Minoris A is the largest star in the stellar binary system 11 Leonis Minoris, which also includes a smaller red dwarf companion star. ","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD82885A,HR3815A,11 Leo Minoris A,HD 82885 A,HR 3815 A,GJ 356A","display_name":"11 Leonis Minoris A","tagline":"A Sun-like star with potential for exoplanet discovery","tic_id":"TIC 8915802","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 11 Leonis Minoris A. Given its brightness and proximity, 11 Leonis Minoris A presents a promising target for future direct imaging missions. By using upcoming large space telescopes equipped with high-contrast imaging capabilities, it will become possible to search for Earth-sized planets in the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs it is a nearby bright star, 11 Leonis Minoris A is an excellent candidate for future direct imaging missions. Advanced space telescopes will have the ability to employ direct imaging techniques, enabling the search for rocky exoplanets as small as Earth within the star\'s habitable zone.","astrometry":"","constellation":"Leo Minor","title":"11 Leonis Minoris A","subtitle":"11 Leonis Minoris A is a nearby Sun-like star situated in the constellation Leo Minor, also known as the little lion. Visible to the naked eye the star is slightly smaller, cooler, and less luminous than the Sun. Additionally, it has higher levels of stellar magnetic activity and a significantly greater abundance of elements heavier than helium, compared to the Sun. 11 Leonis Minoris A is the largest star in the stellar binary system 11 Leonis Minoris, which also includes a smaller red dwarf companion star. ","can_compare":true},{"id":26625,"planet_ids":[],"exo_id":"HD_84117","st_vj":4.914,"st_optmag":4.914,"st_dist":14.9515,"st_j":4.914,"st_mass":1.14,"dec":-23.9155672,"st_teff":6163,"st_rad":1.233,"ra":145.5600675,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_84117","custom_system_description":null,"custom_star_description":"HD 84117 is a yellowish-white star located in the constellation Hydra, visible to the naked eye. It is larger, hotter, and more luminous than the Sun. Compared to the Sun, HD 84117 exhibits lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 3862,GJ 364","display_name":"HD 84117","tagline":"","tic_id":"TIC 11310083","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around HD 84117. Radial velocity studies have been conducted, ruling out the presence of gas-giant planets within a few astronomical units of the star. Due to its brightness and proximity, HD 84117 is an excellent target for further exploration of exoplanets, especially through direct imaging. High-contrast imaging capabilities of upcoming large space telescopes hold the potential to reveal exoplanets down to Earth size within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with lower levels of stellar magnetic activity than the Sun, HD 84117 is well suited for radial velocity studies. A study using more than five years of radial velocity measurements has ruled out the presence of a gas-giant exoplanet within a few astronomical units of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a bright nearby star, HD 84117 is an excellent candidate for future direct imaging missions. Upcoming large space telescopes will have the ability to employ direct imaging techniques, allowing for the search of rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will be capable of detecting larger planets located farther away from the star.","astrometry":"","constellation":"Hydra","title":"HD 84117","subtitle":"HD 84117 is a yellowish-white star located in the constellation Hydra, visible to the naked eye. It is larger, hotter, and more luminous than the Sun. Compared to the Sun, HD 84117 exhibits lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium.","can_compare":true},{"id":26626,"planet_ids":[],"exo_id":"HD_84737","st_vj":5.086,"st_optmag":5.086,"st_dist":18.8226,"st_j":5.086,"st_mass":1.08,"dec":46.0210074,"st_teff":5893,"st_rad":1.604,"ra":147.1473806,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_84737","custom_system_description":null,"custom_star_description":"15 Leonis Minoris (also known as HD 84737) is a nearby Sun-like star located in the constellation Ursa Major. It is visible to the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has less stellar magnetic activity than the Sun and has a higher abundance of elements heavier than helium. 15 Leonis Minoris is an older star that may be expanding.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"15 Leonis Minoris,HR 3881,GJ 368","display_name":"HD 84737","tagline":"A Sun-like star to search for exoplanets around","tic_id":"TIC 23969522","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 15 Leonis Minoris. More than 20 years of radial velocity data has ruled out the possibility of Jupiter-sized planets within an astronomical unit of the star. As a bright nearby Sun-like star, 15 Leonis Minoris is a good target for exoplanet exploration, particularly with future direct imaging. If there are exoplanets in the stars habitable zone, upcoming large space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with less magnetic activity than the Sun, 15 Leonis Minoris is a good candidate for radial velocity studies. It has been monitored for more than 20 years, but no exoplanets have been detected. These observations have ruled out Jupiter-sized planets within an astronomical unit of the star.","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 15 Leonis Minoris is a bright nearby star, it is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to Earths size in the stars habitable zone. These telescopes will also have the capability to detect larger exoplanets farther from the star.","astrometry":"","constellation":"Ursa Major","title":"HD 84737","subtitle":"15 Leonis Minoris (also known as HD 84737) is a nearby Sun-like star located in the constellation Ursa Major. It is visible to the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has less stellar magnetic activity than the Sun and has a higher abundance of elements heavier than helium. 15 Leonis Minoris is an older star that may be expanding.","can_compare":true},{"id":26627,"planet_ids":[],"exo_id":"20_Leo_Minoris_A","st_vj":5.378,"st_optmag":5.378,"st_dist":14.9263,"st_j":5.378,"st_mass":1,"dec":31.9236703,"st_teff":5743,"st_rad":1.186,"ra":150.252737,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"20_Leo_Minoris_A","custom_system_description":null,"custom_star_description":"20 Leonis Minoris A is a bright nearby star located in the constellation Leo Minor, visible to the naked eye. The star is similar to the Sun, but it is larger, slightly cooler, and more luminous. It has a higher abundance of elements heavier than helium and less stellar magnetic activity than the Sun. 20 Leonis Minoris A is part of a stellar binary system, with a small red dwarf companion star.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD86728A,HR3951A,20 Leo Minoris A,HD 86728 A,HR 3951 A,GJ 376A","display_name":"20 Leonis Minoris A","tagline":"A nearby Sun-like star","tic_id":"TIC 172954294","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 20 Leonis Minoris A. Past radial velocity studies, have ruled out the possibility of Jupiter-sized exoplanets within a few astronomical units of the star. As a nearby Sun-like star, 20 Leonis Minoris A is a promising target for future direct imaging. If there are exoplanets as small as the Earth  in the star\'s habitable zone, upcoming large space telescopes may be able to detect them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with less stellar magnetic activity than the Sun, 20 Leonis Minoris A is a good candidate for radial velocity studies. It has been closely monitored for more than two decades, but no exoplanets have been detected. Jupiter-sized exoplanets close to the star have been ruled out.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a nearby and bright star, it is a promising target for future direct imaging. Upcoming large space telescopes will have the ability to search for rocky exoplanets as small as Earth in the star\'s habitable zone, and also have the potential to detect larger exoplanets farther from the star.\\n","astrometry":"","constellation":"Leo Minor","title":"20 Leonis Minoris A","subtitle":"20 Leonis Minoris A is a bright nearby star located in the constellation Leo Minor, visible to the naked eye. The star is similar to the Sun, but it is larger, slightly cooler, and more luminous. It has a higher abundance of elements heavier than helium and less stellar magnetic activity than the Sun. 20 Leonis Minoris A is part of a stellar binary system, with a small red dwarf companion star.","can_compare":true},{"id":26628,"planet_ids":[],"exo_id":"Groombridge_1618","st_vj":6.55,"st_optmag":6.55,"st_dist":4.8706,"st_j":6.55,"st_mass":0.63,"dec":49.4542364,"st_teff":4097,"st_rad":0.636,"ra":152.8422498,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Groombridge_1618","custom_system_description":null,"custom_star_description":"Groombridge 1618 is a nearby orange dwarf star located in the constellation Ursa Major. While it is dimly visible to the naked eye, it often requires binoculars or a telescope to observe. The star is named after the scientist who first identified it. In comparison to the Sun, Groombridge 1618 is smaller, cooler, and significantly less luminous. It exhibits higher levels of stellar magnetic activity and has a much higher abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 88230,GJ 380","display_name":"Groombridge 1618","tagline":"","tic_id":"TIC 371520835","pop_culture":"Groombridge 1618 has been depicted as the host to exoplanetary systems in science fiction works by authors such as Frederik Pohl, Lyon Sprague de Camp, and Joe Halderman.","detection_timeline":"To date, no planets have been confirmed around Groombridge 1618. Due to its proximity, Groombridge 1618 is considered a prime target for exoplanet exploration, particularly through future direct imaging missions. Large space telescopes with high-contrast imaging capabilities hold the potential to reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star, Groombridge 1618 is a good candidate for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity, Groombridge 1618 is an excellent candidate for future direct imaging missions. Upcoming large space telescopes will be equipped with advanced direct imaging techniques, enabling the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to detect larger exoplanets located farther away from the star.","astrometry":"","constellation":"Ursa Major","title":"Groombridge 1618","subtitle":"Groombridge 1618 is a nearby orange dwarf star located in the constellation Ursa Major. While it is dimly visible to the naked eye, it often requires binoculars or a telescope to observe. The star is named after the scientist who first identified it. In comparison to the Sun, Groombridge 1618 is smaller, cooler, and significantly less luminous. It exhibits higher levels of stellar magnetic activity and has a much higher abundance of elements heavier than helium.","can_compare":true},{"id":26629,"planet_ids":[],"exo_id":"40_Leonis","st_vj":4.792,"st_optmag":4.792,"st_dist":21.2199,"st_j":4.792,"st_mass":1.35,"dec":19.4709128,"st_teff":6410,"st_rad":1.669,"ra":154.93403,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"40_Leonis","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 89449,HR 4054,GJ 9324","display_name":"40 Leonis","tagline":null,"tic_id":"TIC 95431211","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Leo","title":"40 Leonis","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26630,"planet_ids":[],"exo_id":"HD_90589","st_vj":3.99,"st_optmag":3.99,"st_dist":16.2232,"st_j":3.99,"st_mass":1.43,"dec":-74.0316121,"st_teff":6905,"st_rad":1.587,"ra":156.0987749,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_90589","custom_system_description":null,"custom_star_description":"HD 90589 (also known as I Carinae or HR 4102) is a yellowish-white star located in the constellation Carina, bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more luminous. It has a higher abundance of elements heavier than helium, compared to the Sun, and it has greater levels of stellar magnetic activity. As a young star, it emits significant amounts of X-rays.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 4102,GJ 391","display_name":"HD 90589","tagline":"","tic_id":"TIC 453620177","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around HD 90589. As an active young star, it is not a target for radial velocity exoplanet searches. However, as a bright, nearby Sun-like star, it is a viable target for future direct imaging missions. If there are Earth-sized exoplanets residing within the star\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities may be able to detect them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a young star with more stellar magnetic activity than the Sun, HD 90589 is not a good candidate for radial velocity studies. ","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Carina","title":"HD 90589","subtitle":"HD 90589 (also known as I Carinae or HR 4102) is a yellowish-white star located in the constellation Carina, bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more luminous. It has a higher abundance of elements heavier than helium, compared to the Sun, and it has greater levels of stellar magnetic activity. As a young star, it emits significant amounts of X-rays.","can_compare":true},{"id":26631,"planet_ids":[],"exo_id":"36_Ursae_Majoris_A","st_vj":4.82,"st_optmag":4.82,"st_dist":12.9452,"st_j":4.82,"st_mass":1.18,"dec":55.9805388,"st_teff":6164,"st_rad":1.111,"ra":157.6565803,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"36_Ursae_Majoris_A","custom_system_description":null,"custom_star_description":"36 Ursae Majoris A is a nearby yellowish-white star located in the constellation Ursa Major. It is visible to the naked eye and is larger, hotter, and more luminous than the Sun. It exhibits more stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. 36 Ursae Majoris A is part of the 36 Ursae Majoris binary system, alongside the orange dwarf star, 36 Ursae Majoris B.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 90839,HR 4112 A,GJ 395","display_name":"36 Ursae Majoris A","tagline":"A Sun-like star in a binary system","tic_id":"TIC 416519065","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around 36 Ursae Majoris A. Due to its similarities to the Sun and its proximity, it is an excellent candidate for future exoplanet exploration using direct imaging. With the advent of upcoming large space telescopes capable of high-contrast imaging, it will be possible to reveal potential exoplanets in the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with more magnetic activity than the Sun, 36 Ursae Majoris is a potentially suitable candidate for radial velocity studies. 36 Ursae Majoris A has been monitored for over a decade, but no exoplanets have been detected.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, 36 Ursae Majoris A is a primary target for future direct imaging missions. Upcoming large space telescopes will have the capability to directly image rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will be capable of detecting larger planets located farther away from the star.","astrometry":"","constellation":"Ursa Major","title":"36 Ursae Majoris A","subtitle":"36 Ursae Majoris A is a nearby yellowish-white star located in the constellation Ursa Major. It is visible to the naked eye and is larger, hotter, and more luminous than the Sun. It exhibits more stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. 36 Ursae Majoris A is part of the 36 Ursae Majoris binary system, alongside the orange dwarf star, 36 Ursae Majoris B.","can_compare":true},{"id":26632,"planet_ids":[],"exo_id":"HD_90089_A","st_vj":5.25,"st_optmag":5.25,"st_dist":22.7302,"st_j":5.25,"st_mass":1.39,"dec":82.5586517,"st_teff":6758,"st_rad":1.316,"ra":157.7696164,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_90089_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 4084 A,GJ 9330A","display_name":"HD 90089 A","tagline":null,"tic_id":"TIC 367631379","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Camelopardalis","title":"HD 90089 A","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26633,"planet_ids":[],"exo_id":"HD_91324","st_vj":4.897,"st_optmag":4.897,"st_dist":22.0616,"st_j":4.897,"st_mass":1.16,"dec":-53.7154836,"st_teff":6155,"st_rad":1.845,"ra":157.8409203,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_91324","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 4134,GJ 9332","display_name":"HD 91324","tagline":null,"tic_id":"TIC 447823435","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Vela","title":"HD 91324","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26636,"planet_ids":[],"exo_id":"20_Crateris_A","st_vj":5.956,"st_optmag":5.956,"st_dist":9.559,"st_j":5.956,"st_mass":0.88,"dec":-32.8313397,"st_teff":5196,"st_rad":0.751,"ra":173.6228602,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"20_Crateris_A","custom_system_description":null,"custom_star_description":"20 Crateris A is a nearby orange dwarf star located in the constellation Hydra. It is visible to the naked eye. Relative to the Sun, 20 Crateris A is smaller, cooler, and less luminous. It exhibits similar levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. 20 Crateris A is part of the binary system 20 Crateris, which includes the white dwarf companion, 20 Crateris B.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 100623 A,HR 4458 A,GJ 432A","display_name":"20 Crateris A","tagline":"","tic_id":"TIC 57611256","pop_culture":"","detection_timeline":"To date, no planets have been detected around 20 Crateris A. Radial velocity studies have excluded the presence of Jupiter-sized exoplanets within a few astronomical units of the star. Given its proximity and brightness, 20 Crateris A is a prime target for exoplanet exploration, particularly through future direct imaging missions. Advanced space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\n20 Crateris A has been monitored by radial velocity studies for over a decade, but the presence of the white dwarf companion makes this method more difficult. These observations have ruled out a Jupiter-sized exoplanet within a few astronomical units of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 20 Crateris A is a bright nearby star, it is a prime target for future direct imaging missions. Upcoming large space telescopes will have the capability to employ direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, these telescopes will be capable of detecting larger exoplanets positioned farther away from the star.","astrometry":"","constellation":"Hydra","title":"20 Crateris A","subtitle":"20 Crateris A is a nearby orange dwarf star located in the constellation Hydra. It is visible to the naked eye. Relative to the Sun, 20 Crateris A is smaller, cooler, and less luminous. It exhibits similar levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. 20 Crateris A is part of the binary system 20 Crateris, which includes the white dwarf companion, 20 Crateris B.","can_compare":true},{"id":26637,"planet_ids":[],"exo_id":"61_Ursae_Majoris","st_vj":5.308,"st_optmag":5.308,"st_dist":9.5762,"st_j":5.308,"st_mass":0.94,"dec":34.2016338,"st_teff":5491,"st_rad":0.862,"ra":175.2625678,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"61_Ursae_Majoris","custom_system_description":null,"custom_star_description":"61 Ursae Majoris is a star like the Sun, located relatively close to Earth, in the northern constellation Ursa Major. The star is faintly visible to the naked eye, with a yellow-orange hue. Compared to the Sun, 61 Ursae Majoris is slightly smaller and cooler, with a slightly lower abundance of elements heavier than helium. The star has high levels of magnetic activity.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 101501,HR 4496,GJ 434","display_name":"61 Ursae Majoris","tagline":"A bright magnetically active star close enough for future observations","tic_id":"TIC 101641846","pop_culture":"61 Ursae Majoris is the host star for planets in \\"Star Trek,\\" the video game, \\"Mass Effect,\\" as well as Larry Niven\'s short story \\"The Warriors\\" and the role-playing game, \\"2300 AD.\\"","detection_timeline":"No planets have been detected to date around 61 Ursae Majoris. While radial velocity planet searches have come up empty, complicated by the stars stellar magnetic activity, 61 Ursae Majoris remains a promising target for future exoplanet exploration. Given that it is a bright, nearby Sun-like star, it is well suited for direct imaging. If there are habitable planets in the system, future space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\n61 Ursae Majoris is a magnetically active star, making it challenging for radial velocity planet searches.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, 61 Ursae Majoris is a good target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Ursa Major","title":"61 Ursae Majoris","subtitle":"61 Ursae Majoris is a star like the Sun, located relatively close to Earth, in the northern constellation Ursa Major. The star is faintly visible to the naked eye, with a yellow-orange hue. Compared to the Sun, 61 Ursae Majoris is slightly smaller and cooler, with a slightly lower abundance of elements heavier than helium. The star has high levels of magnetic activity.","can_compare":true},{"id":26638,"planet_ids":[],"exo_id":"Zavijava","st_vj":3.602,"st_optmag":3.602,"st_dist":10.929,"st_j":3.602,"st_mass":1.14,"dec":1.7647226,"st_teff":6123,"st_rad":1.679,"ra":177.6738271,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Zavijava","custom_system_description":null,"custom_star_description":"Beta Virginis, also known as Zavijava, is a nearby yellowish-white star located in the Virgo constellation. Bright enough to be seen with the naked eye, it is the fifth brightest star in Virgo, and it represents a part of the maiden\'s head in the constellation. Beta Virginis is significantly larger, hotter, and more luminous than the Sun. It has similar levels of stellar magnetic activity as the Sun and a higher abundance of elements heavier than helium. Beta Virginis may be surrounded by a distant debris disk.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"Beta Virginis,HD 102870,HR 4540,GJ 449","display_name":"Zavijava","tagline":"A bright star with hints of a debris disk","tic_id":"TIC 366661076","pop_culture":"Beta Virginis has served as a host star for exoplanets across science fiction literature. In the novel \\"Tau Zero\\" by Poul Anderson, Beta Hydris exoplanetary system serves as the destination for a human colonization ship. In the collective science fiction world-building project known as the Orion\'s Arm Universe Project, Beta Virginis is the site of one of the earliest human extrasolar colonies.","detection_timeline":"No confirmed exoplanets have been identified around Beta Virginis, to date. Given its proximity and similarities to the Sun, it is a good target star for radial velocity studies and for future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will make it possible to search for Earth-sized planets within the habitable zone of Beta Virginis.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star exhibiting stellar magnetic activity levels comparable to the Sun, Beta Virginis is a good target for radial velocity studies. Previous radial velocity searches of the star have been conducted, but no exoplanets have yet been detected.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Virgo","title":"Zavijava","subtitle":"Beta Virginis, also known as Zavijava, is a nearby yellowish-white star located in the Virgo constellation. Bright enough to be seen with the naked eye, it is the fifth brightest star in Virgo, and it represents a part of the maiden\'s head in the constellation. Beta Virginis is significantly larger, hotter, and more luminous than the Sun. It has similar levels of stellar magnetic activity as the Sun and a higher abundance of elements heavier than helium. Beta Virginis may be surrounded by a distant debris disk.","can_compare":true},{"id":26639,"planet_ids":[],"exo_id":"Groombridge_1830","st_vj":6.427,"st_optmag":6.427,"st_dist":9.1718,"st_j":6.427,"st_mass":0.85,"dec":37.7186817,"st_teff":5057,"st_rad":0.6,"ra":178.2448639,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Groombridge_1830","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 103095,HR 4550,GJ 451","display_name":"Groombridge 1830","tagline":null,"tic_id":"TIC 309599261","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ursa Major","title":"Groombridge 1830","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26640,"planet_ids":[],"exo_id":"Alchiba","st_vj":4.025,"st_optmag":4.025,"st_dist":14.9365,"st_j":4.025,"st_mass":1.5,"dec":-24.7288751,"st_teff":6990,"st_rad":1.439,"ra":182.1034022,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Alchiba","custom_system_description":null,"custom_star_description":"Alpha Corvi, also known as Alchiba, is a nearby yellowish-white star, bright enough to be seen with the naked eye.  Located in the constellation Corvus, which represents a crow, Alpha Corvi corresponds to the crow\'s beak.  Compared to the Sun, Alpha Corvi is larger, hotter, and more than four times as luminous. It has a significantly higher level of stellar magnetic activity and a higher abundance of elements heavier than helium compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"Alpha Corvi,HD 105452 A,HR 4623 A,GJ 9389A","display_name":"Alchiba","tagline":"","tic_id":"TIC 421189312","pop_culture":"Based on the Halo video game franchise, the \\"Halo: Collateral Damage\\" comics feature Alpha Corvi as a host star for a fictional exoplanet that supports a human colony.","detection_timeline":"To date, no exoplanets have been confirmed around Alpha Corvi. Since the star has too much stellar magnetic activity, it is not well suited to exoplanet searches with the radial velocity technique. However, its brightness and proximity make it a promising target for future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for Earth-sized planets within the habitable zone of Alpha Corvi, if they exist.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a very magnetically active star, Alpha Corvi is not a good target for exoplanet searches with the radial velocity technique.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Corvus","title":"Alchiba","subtitle":"Alpha Corvi, also known as Alchiba, is a nearby yellowish-white star, bright enough to be seen with the naked eye.  Located in the constellation Corvus, which represents a crow, Alpha Corvi corresponds to the crow\'s beak.  Compared to the Sun, Alpha Corvi is larger, hotter, and more than four times as luminous. It has a significantly higher level of stellar magnetic activity and a higher abundance of elements heavier than helium compared to the Sun.","can_compare":true},{"id":26641,"planet_ids":[],"exo_id":"Eta_Corvi","st_vj":4.297,"st_optmag":4.297,"st_dist":18.2437,"st_j":4.297,"st_mass":1.44,"dec":-16.1960052,"st_teff":6871,"st_rad":1.517,"ra":188.01761,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Eta_Corvi","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 109085,HR 4775,GJ 9411","display_name":"Eta Corvi","tagline":null,"tic_id":"TIC 1628071","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Corvus","title":"Eta Corvi","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26642,"planet_ids":[],"exo_id":"Chara","st_vj":4.26,"st_optmag":4.26,"st_dist":8.4727,"st_j":4.26,"st_mass":1.08,"dec":41.3574781,"st_teff":5878,"st_rad":1.034,"ra":188.4356011,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Chara","custom_system_description":null,"custom_star_description":"Beta Canum Venaticorum (officially named Chara) is a nearby Sun-like star  the second brightest star in the northern constellation Canes Venatici. Given how similar it is to the Sun, Chara has been identified as one of the most promising potential planetary hosts. It is only slightly larger and hotter than the Sun, with very low levels of magnetic activity. Chara may be a double or multiple star system, which complicates the search for potential planets.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"Beta Canum Venaticorum,HD 109358,HR 4785,GJ 475,Bet CVn","display_name":"Chara","tagline":"A bright star similar to the Sun located nearby","tic_id":"TIC 458445966","pop_culture":"Chara was featured in the short story, \\"The Hunters of Asterion,\\" and the book, \\"The Chara Talisman,\\" as well as in the sci-fi game \\"2300 AD.\\"","detection_timeline":"Chara has been a prime target for planet searches of all forms, including SETI searches with radio telescopes. To date, no planets  habitable or otherwise  have been found. There may be habitable planets in the system, but the potential for discovery is very much still present and relies on future technologies to reveal whats currently unseen.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nChara has very low levels of magnetic activity, making it the ideal target for this method. Radial velocity observations of Chara with the Keck telescope (2000-2020) have ruled out the presence of giant planets in the inner part of this system, leaving terrestrial planets  including a packed multi-planet system - a possibility. More precise radial velocity surveys, with a precision of about 0.1 meters per second, would be needed to detect such planets.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nChara is well suited for direct imaging with future space telescopes. These future searches would be able to explore a significant fraction of the stars habitable zone and would be aided by how bright a potential Earth analog around Chara would be.","astrometry":"","constellation":"Canes Venatici","title":"Chara","subtitle":"Beta Canum Venaticorum (officially named Chara) is a nearby Sun-like star  the second brightest star in the northern constellation Canes Venatici. Given how similar it is to the Sun, Chara has been identified as one of the most promising potential planetary hosts. It is only slightly larger and hotter than the Sun, with very low levels of magnetic activity. Chara may be a double or multiple star system, which complicates the search for potential planets.","can_compare":true},{"id":26643,"planet_ids":[],"exo_id":"10_Canum_Venaticorum","st_vj":5.958,"st_optmag":5.958,"st_dist":17.5565,"st_j":5.958,"st_mass":1.14,"dec":39.2789162,"st_teff":5889,"st_rad":1.004,"ra":191.2475207,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"10_Canum_Venaticorum","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 110897,HR 4845,GJ 484, 10 CVn","display_name":"10 Canum Venaticorum","tagline":null,"tic_id":"TIC 389853353","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Canes Venatici","title":"10 Canum Venaticorum","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26644,"planet_ids":[],"exo_id":"Beta_Comae_Berenices","st_vj":4.23,"st_optmag":4.23,"st_dist":9.1975,"st_j":4.23,"st_mass":1.11,"dec":27.878184,"st_teff":5996,"st_rad":1.079,"ra":197.9683076,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Beta_Comae_Berenices","custom_system_description":null,"custom_star_description":"Beta Comae Berenices is a Sun-like star in the northern constellation Coma Berenices. Bright enough to be seen with the naked eye, the star is located relatively near to Earth. This star is slightly larger and hotter than the Sun, and 50% more luminous. Compared to the Sun, the star rotates faster, with a slightly higher abundance of elements heavier than helium and more stellar magnetic activity.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 114710,HR 4983,GJ 502","display_name":"Beta Comae Berenices","tagline":"A bright nearby star set for exoplanet exploration","tic_id":"TIC 445070560","pop_culture":"References to Beta Comae Berenices have been found in popular culture, as in the manual for \\"FSpace Role-Playing Game,\\" in which the star hosts an Earth-like planet inhabited by a colony of millions.","detection_timeline":"To date, no exoplanets have been detected around Beta Comae Berenices. With high-contrast direct imaging, it will become possible to search this star for Earth-sized planets. The prospect of finding an Earth analog around this bright, nearby Sun-like star makes it a good target for direct imaging with future space telescopes.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Beta Comae Berenices is a good target for future direct imaging. future large space telescopes will be able to search for rocky exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Coma Berenices","title":"Beta Comae Berenices","subtitle":"Beta Comae Berenices is a Sun-like star in the northern constellation Coma Berenices. Bright enough to be seen with the naked eye, the star is located relatively near to Earth. This star is slightly larger and hotter than the Sun, and 50% more luminous. Compared to the Sun, the star rotates faster, with a slightly higher abundance of elements heavier than helium and more stellar magnetic activity.","can_compare":true},{"id":26645,"planet_ids":[],"exo_id":"HD_114837_A","st_vj":4.913,"st_optmag":4.913,"st_dist":18.24,"st_j":4.913,"st_mass":1.25,"dec":-59.1032372,"st_teff":6238,"st_rad":1.475,"ra":198.5631031,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_114837_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 4989 A,GJ 503A","display_name":"HD 114837 A","tagline":null,"tic_id":"TIC 255854921","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Centaurus","title":"HD 114837 A","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26647,"planet_ids":[],"exo_id":"HD_122064","st_vj":6.488,"st_optmag":6.488,"st_dist":10.0672,"st_j":6.488,"st_mass":0.75,"dec":61.4928612,"st_teff":4867,"st_rad":0.759,"ra":209.3835765,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_122064","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 5256,GJ 12002","display_name":"HD 122064","tagline":null,"tic_id":"TIC 202380743","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ursa Major","title":"HD 122064","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26648,"planet_ids":[],"exo_id":"HD_125276_A","st_vj":5.872,"st_optmag":5.872,"st_dist":17.9888,"st_j":5.872,"st_mass":1.11,"dec":-25.815425,"st_teff":6120,"st_rad":0.978,"ra":214.753732,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_125276_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HR 5356 A,GJ 9476A","display_name":"HD 125276 A","tagline":null,"tic_id":"TIC 83391616","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Hydra","title":"HD 125276 A","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26649,"planet_ids":[],"exo_id":"Theta_Bootis_A","st_vj":4.052,"st_optmag":4.052,"st_dist":14.5307,"st_j":4.052,"st_mass":1.33,"dec":51.8507436,"st_teff":6280,"st_rad":1.696,"ra":216.2991543,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Theta_Bootis_A","custom_system_description":null,"custom_star_description":"Theta Botis A is a nearby yellowish-white star visible to the naked eye, located in the constellation Botes, which represents the herdsman. In the constellation, Theta Botis A represents the herdsman\'s hand, holding a whip. Compared to the Sun, Theta Botis A is larger, hotter, and more luminous. It has higher levels of stellar magnetic activity, while having a lower abundance of elements heavier than helium, compared to the Sun. Theta Botis A is believed to have a possible red dwarf companion star and may have a dusty debris disk.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"ThetaBotisA,HD 126660 A,HR 5404 A,GJ 549A","display_name":"Theta Bootis A","tagline":"","tic_id":"TIC 441709021","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Theta Botis A. As a moderately active star, it is not well suited to radial velocity exoplanet searches.  However, as a bright, nearby Sun-like star, Theta Botis A is a promising target for future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for Earth-sized planets within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs an active star, with higher levels of stellar magnetic activity than the Sun, Theta Botis A is not suited to exoplanet searches with the radial velocity technique.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Bootes","title":"Theta Bootis A","subtitle":"Theta Botis A is a nearby yellowish-white star visible to the naked eye, located in the constellation Botes, which represents the herdsman. In the constellation, Theta Botis A represents the herdsman\'s hand, holding a whip. Compared to the Sun, Theta Botis A is larger, hotter, and more luminous. It has higher levels of stellar magnetic activity, while having a lower abundance of elements heavier than helium, compared to the Sun. Theta Botis A is believed to have a possible red dwarf companion star and may have a dusty debris disk.","can_compare":true},{"id":26650,"planet_ids":[],"exo_id":"Sigma_Bootis","st_vj":4.465,"st_optmag":4.465,"st_dist":15.756,"st_j":4.465,"st_mass":1.39,"dec":29.7451271,"st_teff":6745,"st_rad":1.306,"ra":218.6700724,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Sigma_Bootis","custom_system_description":null,"custom_star_description":"Sigma Botis is a yellowish-white star located in the constellation Botes that is bright enough to be visible to the naked eye. It is larger, hotter, and more than three times as luminous as the Sun. While it has more stellar magnetic activity than the Sun, it has a lower abundance of elements heavier than helium. Sigma Botis is a young star that has a dusty debris disk located about nine astronomical units away from the star.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 128167,HR 5447,GJ 557","display_name":"Sigma Bootis","tagline":"A young star with a dusty debris disk","tic_id":"TIC 157966796","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Sigma Botis. It has been monitored in radial velocity studies in the past, and it has potential for further exploration. As a bright nearby star, it is a good target for future direct imaging. Upcoming large space telescopes capable of high-contrast imaging could reveal rocky exoplanets as small as the Earth in the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nSince Sigma Botis is a nearby star with more stellar activity than the Sun, it is a potentially suitable candidate for radial velocity studies. It has been monitored for over twenty years, but no exoplanets have been detected.","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause Sigma Botis is a bright nearby star, it is a good candidate for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for exoplanets, including rocky ones down to Earth\'s size in the star\'s habitable zone. The debris disk around this star is outside of the habitable zone, so it will not affect the detection of planets in this region.\\n","astrometry":"","constellation":"Bootes","title":"Sigma Bootis","subtitle":"Sigma Botis is a yellowish-white star located in the constellation Botes that is bright enough to be visible to the naked eye. It is larger, hotter, and more than three times as luminous as the Sun. While it has more stellar magnetic activity than the Sun, it has a lower abundance of elements heavier than helium. Sigma Botis is a young star that has a dusty debris disk located about nine astronomical units away from the star.","can_compare":true},{"id":26651,"planet_ids":[],"exo_id":"Toliman","st_vj":1.35,"st_optmag":1.35,"st_dist":1.3319,"st_j":1.35,"st_mass":0.94,"dec":-60.8375276,"st_teff":5244,"st_rad":0.859,"ra":219.8960963,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Toliman","custom_system_description":null,"custom_star_description":"The nearest stars beyond the solar system are those in Alpha Centauri. It is made up of three stars: Alpha Centauri A (officially named Rigil Kentaurus), Alpha Centauri B (Toliman), and Alpha Centauri C (Proxima Centauri), which is smaller and fainter than the other two stars. Alpha Centauri A and B form a binary system, which looks like a single star to the naked eye. This binary is so bright that it appears as the third brightest point beyond the solar system. Located in the constellation Centaurus, Alpha Centauri is prominent in the southern hemisphere, and it serves as one of the Pointer stars, pointing to the Southern Cross. Alpha Centauri A and B are both Sun-like stars, but Alpha Centauri B is slightly smaller and orange in color. Compared to the Sun, Alpha Centauri B is less massive, cooler, and older. Like the Sun, it has low stellar magnetic activity, but is half as luminous.","custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"Alpha Centauri B,HD 128621,HR 5460,GJ 559B","display_name":"Toliman","tagline":"One of the closest stars to Earth","tic_id":"TIC 471011144","pop_culture":"From Aboriginal Australian astronomy to modern science fiction, Alpha Centauri has featured prominently in storytelling about the night sky. In sci-fi literature, Alpha Centauri has been the inspiration for and fictionalized home to planets hosting life, as in the works of Isaac Asimov, Cixin Liu, Larry Niven, and Mary Doria Russell. It also has appeared in a range of video games, comics, films and television. Alpha Centauri is the setting for the film \\"Avatar,\\" and features in the worlds of \\"Babylon 5,\\" \\"Lost in Space,\\" \\"Star Trek,\\" and \\"Transformers.\\"","detection_timeline":"Alpha Centauri B has no confirmed exoplanets to date. In 2012, an exoplanet candidate was detected, using three years of radial velocity data. The proposed exoplanet had a mass similar to Earth, but it orbited much closer to its star. The claimed detection was later refuted, with studies suggesting that it was an artifact in the data and its processing. As a Sun-like star close to Earth, Alpha Centauri B remains a prime target for exoplanet discovery. Future space telescopes for direct imaging and astrometry aim to explore this system for what could be one of the nearest Earth-like planets to the solar system.","rv_planets_prospects":"0 planets have been confirmed to date around this star using radial velocities.\\n\\nIn 2012, a hot Earth-mass exoplanet candidate was suggested by radial velocity measurements of Alpha Centauri B. The exoplanet candidate was later refuted. While being in a binary system complicates measurements of Alpha Centauri B, the stars low magnetic activity helps its radial velocity prospects.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and bright, it is a prime imaging target. Being in a binary star system makes direct imaging of smaller Earth-like planets around Alpha Centauri B more challenging. Future large space telescopes will be able to validate the exoplanet candidate and search for new exoplanets down to Earths size in the stars habitable zone.","astrometry":"0 planets have been detected to date around this star using astrometry.\\n\\nBeing bright, nearby, and in a binary system makes Alpha Centauri B an ideal candidate for study with astrometry, from space telescopes using new optics technology.","constellation":"Centaurus","title":"Toliman","subtitle":"The nearest stars beyond the solar system are those in Alpha Centauri. It is made up of three stars: Alpha Centauri A (officially named Rigil Kentaurus), Alpha Centauri B (Toliman), and Alpha Centauri C (Proxima Centauri), which is smaller and fainter than the other two stars. Alpha Centauri A and B form a binary system, which looks like a single star to the naked eye. This binary is so bright that it appears as the third brightest point beyond the solar system. Located in the constellation Centaurus, Alpha Centauri is prominent in the southern hemisphere, and it serves as one of the Pointer stars, pointing to the Southern Cross. Alpha Centauri A and B are both Sun-like stars, but Alpha Centauri B is slightly smaller and orange in color. Compared to the Sun, Alpha Centauri B is less massive, cooler, and older. Like the Sun, it has low stellar magnetic activity, but is half as luminous.","can_compare":true},{"id":26652,"planet_ids":[],"exo_id":"Rigil_Kentaurus","st_vj":0.002,"st_optmag":0.002,"st_dist":1.3319,"st_j":0.002,"st_mass":1.11,"dec":-60.8339927,"st_teff":5776,"st_rad":1.231,"ra":219.9020583,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Rigil_Kentaurus","custom_system_description":null,"custom_star_description":"The nearest stars beyond the solar system are those in Alpha Centauri. It is made up of three stars: Alpha Centauri A (officially named Rigil Kentaurus), Alpha Centauri B (Toliman), and Alpha Centauri C (Proxima Centauri), which is smaller and fainter than the other two stars. Alpha Centauri A and B form a binary system, which looks like a single star to the naked eye. This binary is so bright that it appears as the third brightest point beyond the solar system. Located in the constellation Centaurus, Alpha Centauri is prominent in the southern hemisphere, and it serves as one of the southern Pointer stars, pointing to the Southern Cross. Alpha Centauri A and B are both Sun-like stars, but Alpha Centauri A is slightly larger and yellow in color. Compared to the Sun, Alpha Centauri A has about the same mass and temperature, but it is about 25% bigger. The star is also older and shines brighter than the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"Alpha Centauri A,HD 128620,HR 5459,GJ 559A","display_name":"Rigil Kentaurus","tagline":"One of the closest stars to Earth","tic_id":"TIC 471011145","pop_culture":"From Aboriginal Australian astronomy to modern science fiction, Alpha Centauri has featured prominently in storytelling about the night sky. In sci-fi literature, Alpha Centauri has been the inspiration for and fictionalized home to planets hosting life, as in the works of Isaac Asimov, Cixin Liu, Larry Niven, and Mary Doria Russell.  Alpha Centauri has appeared in a range of video games, comics, films and television. The film  \\"Avatar\\" takes place in the Alpha Centauri system, as do \\"Babylon 5,\\" \\"Lost in Space,\\" \\"Star Trek,\\" and \\"Transformers.\\"","detection_timeline":"To date, no exoplanets have been confirmed around Alpha Centauri A. Being in a binary star system may make planet formation more difficult, but current theories suggest the probability of an Earth-like planet in the system. Being so close to the Earth and so similar to the Sun, Alpha Centauri A is a popular target for exoplanet searches. In 2021, the Breakthrough Watch Initiatives ground-based imaging suggested the possible detection of an unconfirmed exoplanet candidate. If this detection is confirmed as a planet, rather than dust around the star or data artifact, it implies that the planet would be a sub-Neptune in the stars habitable zone. As a Sun-like star close to Earth, Alpha Centauri A is a prime target for exoplanet discovery with future telescopes.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nThe star has low magnetic activity, but being part of a binary system makes detections of an exoplanet, especially an Earth-like planet, difficult in this system. ","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and bright, it is a prime imaging target. Being in a binary star system makes direct imaging of smaller Earth-like planets around Alpha Centauri A more challenging. A ground-based telescope offered hints at a possible sub-Neptune exoplanet candidate. Future large space telescopes will be able to validate this gaseous planet candidate and search for new exoplanets down to Earth size in the stars habitable zone.","astrometry":"0 planets have been detected to date around this star using astrometry.\\n\\nBeing bright, relatively close to Earth, and in a binary system makes Alpha Centauri A an ideal candidate for study with astrometry, from space telescopes using new optics technology.","constellation":"Centaurus","title":"Rigil Kentaurus","subtitle":"The nearest stars beyond the solar system are those in Alpha Centauri. It is made up of three stars: Alpha Centauri A (officially named Rigil Kentaurus), Alpha Centauri B (Toliman), and Alpha Centauri C (Proxima Centauri), which is smaller and fainter than the other two stars. Alpha Centauri A and B form a binary system, which looks like a single star to the naked eye. This binary is so bright that it appears as the third brightest point beyond the solar system. Located in the constellation Centaurus, Alpha Centauri is prominent in the southern hemisphere, and it serves as one of the southern Pointer stars, pointing to the Southern Cross. Alpha Centauri A and B are both Sun-like stars, but Alpha Centauri A is slightly larger and yellow in color. Compared to the Sun, Alpha Centauri A has about the same mass and temperature, but it is about 25% bigger. The star is also older and shines brighter than the Sun.","can_compare":true},{"id":26653,"planet_ids":[],"exo_id":"Xi_Bootis_B","st_vj":6.979,"st_optmag":6.979,"st_dist":6.7486,"st_j":6.979,"st_mass":0.67,"dec":19.1019133,"st_teff":4288,"st_rad":0.652,"ra":222.8460153,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Xi_Bootis_B","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 131156 B,HR 5544 B,GJ 566B","display_name":"Xi Bootis B","tagline":null,"tic_id":"TIC 1101124559","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Bootes","title":"Xi Bootis B","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26654,"planet_ids":[],"exo_id":"Xi_Bootis_A","st_vj":4.54,"st_optmag":4.54,"st_dist":6.7536,"st_j":4.54,"st_mass":0.96,"dec":19.1004499,"st_teff":5487,"st_rad":0.823,"ra":222.8474519,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Xi_Bootis_A","custom_system_description":null,"custom_star_description":"Xi Botis A is a nearby Sun-like star located in the constellation Botes that is visible to the naked eye. Compared to the Sun, it is smaller, cooler, and less luminous. It has more stellar magnetic activity than the Sun and a lower abundance of elements heavier than helium. Xi Botis A is part of the binary system Xi Botis, alongside the orange dwarf star Xi Botis B. The system is believed to be very young, and the stars have eccentric orbits.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 131156 A,HR 5544 A,GJ 566A","display_name":"Xi Bootis A","tagline":"A Sun-like star in a binary system","tic_id":"TIC 1101124558","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Xi Botis. The star\'s age and companion make exoplanet detection with radial velocity measurements challenging, so other methods are needed for exoplanet exploration. As a bright nearby Sun-like star, Xi Botis A is a good target for future direct imaging. Upcoming large space telescopes capable of high-contrast imaging could reveal exoplanets, including rocky ones down to Earth\'s size, if they exist in the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nXi Botis A has been monitored for over a decade with radial velocity studies, but no exoplanets have been detected using this method. The star\'s young age and companion can pose challenges when using radial velocity measurements for exoplanet detection.\\n","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause Xi Botis A is a bright nearby star, it is a good target for future direct imaging. Upcoming large space telescopes will be capable of using direct imaging techniques to search for exoplanets, including rocky ones down to Earth\'s size, within the star\'s habitable zone.\\n","astrometry":"","constellation":"Bootes","title":"Xi Bootis A","subtitle":"Xi Botis A is a nearby Sun-like star located in the constellation Botes that is visible to the naked eye. Compared to the Sun, it is smaller, cooler, and less luminous. It has more stellar magnetic activity than the Sun and a lower abundance of elements heavier than helium. Xi Botis A is part of the binary system Xi Botis, alongside the orange dwarf star Xi Botis B. The system is believed to be very young, and the stars have eccentric orbits.","can_compare":true},{"id":26655,"planet_ids":[],"exo_id":"GJ_570A","st_vj":5.724,"st_optmag":5.724,"st_dist":5.8864,"st_j":5.724,"st_mass":0.72,"dec":-21.4154798,"st_teff":4632,"st_rad":0.732,"ra":224.36667,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"GJ_570A","custom_system_description":null,"custom_star_description":"GJ 570 A, also known as KX Librae, is a nearby orange dwarf star situated in the constellation Libra. It is bright enough to be visible to the naked eye. In comparison to the Sun, GJ 570 A is cooler, smaller, and has approximately one-fifth of the Sun\'s luminosity. It exhibits higher levels of stellar magnetic activity and a slightly higher abundance of elements heavier than helium than the Sun. GJ 570 A is a component of the GJ 570 system, which consists of three other significant objects. GJ 570 B and GJ 570 C are closely orbiting red dwarf stars, while GJ 570 D is a brown dwarf.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"KXLibrae,GJ 570 A,HD 131977,HR 5568 A","display_name":"GJ 570A","tagline":"The largest star in a quadruple system","tic_id":"TIC 287157634","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around GJ 570 A. The presence of the other stars within the system poses challenges for the radial velocity method. Being a bright nearby star, GJ 570 A is an excellent target for exoplanet exploration, particularly through future direct imaging missions. High-contrast imaging capabilities of upcoming large space telescopes may reveal potential exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nIn 1998, a candidate exoplanet was initially announced around this star, however, it was later retracted. Subsequently, GJ 570 A has been continuously monitored through radial velocity surveys for over a decade, but no additional detections have been made. The presence of multiple companion stars complicates the radial velocity method, as their gravitational influences also affect the movement of GJ 570 A.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, GJ 570 A is a prime target for future direct imaging missions. Advanced space telescopes equipped with direct imaging capabilities will be capable of searching for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capacity to detect larger planets located at greater distances from the star.","astrometry":"","constellation":"Libra","title":"GJ 570A","subtitle":"GJ 570 A, also known as KX Librae, is a nearby orange dwarf star situated in the constellation Libra. It is bright enough to be visible to the naked eye. In comparison to the Sun, GJ 570 A is cooler, smaller, and has approximately one-fifth of the Sun\'s luminosity. It exhibits higher levels of stellar magnetic activity and a slightly higher abundance of elements heavier than helium than the Sun. GJ 570 A is a component of the GJ 570 system, which consists of three other significant objects. GJ 570 B and GJ 570 C are closely orbiting red dwarf stars, while GJ 570 D is a brown dwarf.","can_compare":true},{"id":26656,"planet_ids":[],"exo_id":"45_Bootis","st_vj":4.94,"st_optmag":4.94,"st_dist":19.536,"st_j":4.94,"st_mass":1.33,"dec":24.8691943,"st_teff":6435,"st_rad":1.451,"ra":226.8252747,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"45_Bootis","custom_system_description":null,"custom_star_description":"45 Botis is a nearby yellowish-white star located in the constellation Botes. It is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more than three times as luminous. It has more stellar magnetic activity  than the Sun and a slightly lower abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 134083,HR 5634,GJ 578","display_name":"45 Bootis","tagline":"A nearby star with an unexplored habitable zone","tic_id":"TIC 229902025","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 45 Botis. As a bright nearby star, 45 Botis is a good target for exoplanet exploration, particularly with future direct imaging. If there are exoplanets in the stars habitable zone, future space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs it has more magnetic activity than the Sun, 45 Botis is not a good candidate for radial velocity studies. It has been monitored for over twenty years, but no exoplanets have been detected.\\n","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 45 Botis is a bright nearby star, it is a good target for future direct imaging. Upcoming space telescopes will be able to use direct imaging to search for rocky exoplanets down to Earths size in the stars potentially habitable zone. These telescopes will also have the capability to detect larger exoplanets farther from the star.","astrometry":"","constellation":"Bootes","title":"45 Bootis","subtitle":"45 Botis is a nearby yellowish-white star located in the constellation Botes. It is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more than three times as luminous. It has more stellar magnetic activity  than the Sun and a slightly lower abundance of elements heavier than helium.","can_compare":true},{"id":26658,"planet_ids":[],"exo_id":"Psi_Serpentis_A","st_vj":5.869,"st_optmag":5.869,"st_dist":14.7927,"st_j":5.869,"st_mass":0.94,"dec":2.5151668,"st_teff":5682,"st_rad":0.942,"ra":236.0075774,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Psi_Serpentis_A","custom_system_description":null,"custom_star_description":"Psi Serpentis A is a nearby Sun-like star located in the Serpens constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, Psi Serpentis A is slightly smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. Psi Serpentis A is part of the Psi Serpentis stellar system, which includes a companion, Psi Serpentis B, which consists of two small red dwarf stars in a close binary configuration.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 140538 A,HR 5853 A,GJ 9527A","display_name":"Psi Serpentis A","tagline":"A Sun-like star that may host exoplanets","tic_id":"TIC 459427073","pop_culture":"The Psi Serpentis system is featured in a short story collection set in the Halo video game series. Several fictional planets exist in the system, and the Battle of Psi Serpentis takes place there.","detection_timeline":"To date, no exoplanets have been confirmed around Psi Serpentis A. As a nearby Sun-like star, Psi Serpentis A is a good candidate for exploration with future direct imaging. The presence of potential exoplanets within the star\'s habitable zone could be revealed by upcoming large space telescopes equipped with high-contrast imaging capabilities.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nPsi Serpentis A is a good candidate for future radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Psi Serpentis A is a favorable target for future direct imaging efforts. Upcoming large space telescopes will have the capability to employ direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. ","astrometry":"","constellation":"Serpens","title":"Psi Serpentis A","subtitle":"Psi Serpentis A is a nearby Sun-like star located in the Serpens constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, Psi Serpentis A is slightly smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. Psi Serpentis A is part of the Psi Serpentis stellar system, which includes a companion, Psi Serpentis B, which consists of two small red dwarf stars in a close binary configuration.","can_compare":true},{"id":26661,"planet_ids":[],"exo_id":"Chi_Herculis","st_vj":4.608,"st_optmag":4.608,"st_dist":15.8975,"st_j":4.608,"st_mass":1.08,"dec":42.4515175,"st_teff":5820,"st_rad":1.742,"ra":238.168921,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Chi_Herculis","custom_system_description":null,"custom_star_description":"Chi Herculis is a nearby star similar to the Sun, located in the constellation Hercules. It is visible to the naked eye and represents Hercules right foot in the constellation. Compared to the Sun, Chi Herculis is larger, slightly hotter, and emits over three times more light. It exhibits lower levels of stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. Chi Herculis has a yellow hue and is older than our Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 142373,HR 5914,GJ 602","display_name":"Chi Herculis","tagline":"","tic_id":"TIC 157364190","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around Chi Herculis. Radial velocity observations have ruled out the presence of gas-giant exoplanets within an astronomical unit of the star. As a bright nearby star with similarities to the Sun, Chi Herculis presents a promising opportunity for exoplanet exploration, particularly through future direct imaging techniques. Advanced space telescopes, capable of high-contrast imaging, hold the potential to reveal exoplanets down to Earth size, within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nDue to its proximity and relatively low stellar magnetic activity, Chi Herculis is well-suited for radial velocity studies. Observations spanning more than two decades have been conducted, yet no exoplanets have been identified. These studies have ruled out the presence of gas-giant exoplanets within one astronomical unit of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nChi Herculis, being a bright star in close proximity to Earth, holds significant potential for future direct imaging missions. Upcoming large space telescopes that employ direct imaging techniques will be able to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to detect large exoplanets located farther away from the star.","astrometry":"","constellation":"Hercules","title":"Chi Herculis","subtitle":"Chi Herculis is a nearby star similar to the Sun, located in the constellation Hercules. It is visible to the naked eye and represents Hercules right foot in the constellation. Compared to the Sun, Chi Herculis is larger, slightly hotter, and emits over three times more light. It exhibits lower levels of stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. Chi Herculis has a yellow hue and is older than our Sun.","can_compare":true},{"id":26662,"planet_ids":[],"exo_id":"Gamma_Serpentis","st_vj":3.843,"st_optmag":3.843,"st_dist":11.2537,"st_j":3.843,"st_mass":1.25,"dec":15.6616168,"st_teff":6285,"st_rad":1.47,"ra":239.1132612,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Gamma_Serpentis","custom_system_description":null,"custom_star_description":"Gamma Serpentis is a nearby yellowish-white star located in the constellation Serpens, which represents a snake. It is visible to the naked eye and is the seventh brightest star in the constellation, located in the head of the snake. Compared to the Sun, it is larger, hotter, and more than three times as luminous. Gamma Serpentis has similar levels of magnetic activity to the Sun and a lower abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 142860,HR 5933,GJ 603","display_name":"Gamma Serpentis","tagline":"","tic_id":"TIC 377415363","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around Gamma Serpentis. As a bright nearby star, it is a prime target for exoplanet exploration, particularly with future direct imaging. If there are exoplanets in the star\'s habitable zone, upcoming large space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nGamma Serpentis is a target for radial velocity studies, being a nearby star with similar levels of magnetic activity to the Sun. It has been monitored for over two decades, but no exoplanets have been detected using the radial velocity method.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date. \\n\\nAs a nearby, bright star, Gamma Serpentis is an ideal target for future direct imaging. Upcoming large space telescopes will be able to use this technique to search for Earth-sized exoplanets in the star\'s habitable zone. These telescopes will also be capable of detecting larger planets farther from the star.","astrometry":"","constellation":"Serpens","title":"Gamma Serpentis","subtitle":"Gamma Serpentis is a nearby yellowish-white star located in the constellation Serpens, which represents a snake. It is visible to the naked eye and is the seventh brightest star in the constellation, located in the head of the snake. Compared to the Sun, it is larger, hotter, and more than three times as luminous. Gamma Serpentis has similar levels of magnetic activity to the Sun and a lower abundance of elements heavier than helium.","can_compare":true},{"id":26664,"planet_ids":[],"exo_id":"18_Scorpii","st_vj":5.496,"st_optmag":5.496,"st_dist":14.1369,"st_j":5.496,"st_mass":1.02,"dec":-8.3694395,"st_teff":5785,"st_rad":1.041,"ra":243.9052928,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"18_Scorpii","custom_system_description":null,"custom_star_description":"18 Scorpii is a nearby Sun-like star located in the constellation Scorpius. It is visible to the naked eye and is similar to the Sun in terms of size, temperature, and luminosity. It exhibits similar levels of stellar magnetic activity and slightly higher abundance of elements heavier than helium, compared to the Sun. 18 Scorpii is renowned as a \\"solar twin\\" due to its resemblance to our own star.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 146233,HR 6060,GJ 616","display_name":"18 Scorpii","tagline":"One of the most similar stars to the Sun","tic_id":"TIC 135656809","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 18 Scorpii. As it is a bright nearby Sun-like star, 18 Scorpii holds significant potential for future direct imaging missions. Advanced space telescopes with high-contrast imaging capabilities may uncover exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with magnetic activity levels similar to the Sun, 18 Scorpii is a promising candidate for radial velocity studies. It has been subject to monitoring for over a decade, but no exoplanets have been detected thus far.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity and brightness, 18 Scorpii is a prime target for future direct imaging missions. Upcoming large space telescopes will employ direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to detect larger exoplanets situated farther from the star.","astrometry":"","constellation":"Scorpius","title":"18 Scorpii","subtitle":"18 Scorpii is a nearby Sun-like star located in the constellation Scorpius. It is visible to the naked eye and is similar to the Sun in terms of size, temperature, and luminosity. It exhibits similar levels of stellar magnetic activity and slightly higher abundance of elements heavier than helium, compared to the Sun. 18 Scorpii is renowned as a \\"solar twin\\" due to its resemblance to our own star.","can_compare":true},{"id":26665,"planet_ids":[],"exo_id":"12_Ophiuchi","st_vj":5.764,"st_optmag":5.764,"st_dist":9.8939,"st_j":5.764,"st_mass":0.87,"dec":-2.324587,"st_teff":5262,"st_rad":0.818,"ra":249.0893737,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"12_Ophiuchi","custom_system_description":null,"custom_star_description":"12 Ophiuchi is a nearby orange dwarf star located in the constellation Ophiuchus. It is bright enough to be seen with the naked eye. Compared to the Sun, 12 Ophiuchi is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a slightly higher abundance of elements heavier than helium than the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 149661,HR 6171,GJ 631","display_name":"12 Ophiuchi","tagline":"","tic_id":"TIC 58092025","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 12 Ophiuchi. The star has been the subject of radial velocity studies, which have successfully ruled out the presence of a Jupiter-sized exoplanet within an astronomical unit of the star. Given its brightness and proximity, 12 Ophiuchi represents a prime target for exoplanet exploration, particularly through future direct imaging missions. Advanced space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets as small as Earth within 12 Ophiuchi\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\n12 Ophiuchi is regarded as a promising candidate for radial velocity monitoring and has been monitored for over a decade through radial velocity studies. These observations have ruled out the existence of Jupiter-sized exoplanets within an astronomical unit of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, 12 Ophiuchi is considered an excellent target for future direct imaging missions. Advanced space telescopes will have the capacity to utilize direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will be capable of detecting larger exoplanets positioned farther away from the star.","astrometry":"","constellation":"Ophiuchus","title":"12 Ophiuchi","subtitle":"12 Ophiuchi is a nearby orange dwarf star located in the constellation Ophiuchus. It is bright enough to be seen with the naked eye. Compared to the Sun, 12 Ophiuchi is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a slightly higher abundance of elements heavier than helium than the Sun.","can_compare":true},{"id":26666,"planet_ids":[],"exo_id":"Guniibuu","st_vj":5.07,"st_optmag":5.07,"st_dist":5.9523,"st_j":5.07,"st_mass":0.85,"dec":-26.6016992,"st_teff":5132,"st_rad":0.724,"ra":258.8365985,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Guniibuu","custom_system_description":null,"custom_star_description":"Guniibuu, also known as 36 Ophiuchi A, is a nearby orange dwarf star located in the constellation The stars proper name, Guniibuu, is based on the Aboriginal Australian name for the scarlet robin. Compared to the Sun, Guniibuu is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium. Guniibuu is part of a triple system known as 36 Ophiuchi. It orbits close to 36 Ophiuchi B, a slightly smaller orange dwarf star. The third star in the system, 36 Ophiuchi C, is a small orange dwarf that orbits at a greater distance.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 155886,HR 6402,GJ 663A","display_name":"Guniibuu","tagline":"The largest star in a triple system","tic_id":"TIC 1277142191","pop_culture":"The 36 Ophiuchi system has been depicted as hosting life-supporting exoplanetary systems in various works of science fiction. In the \\"Dune\\" novels, 36 Ophiuchi B is orbited by the planet Giedi Prime, and in the \\"Star Trek\\" universe, it is portrayed with a system of at least six planets. In a novel by Ian Douglas, an Earth-like world is depicted around one of the stars, and in the Frontier video game franchise, a gas giant planet orbits one of the stars.","detection_timeline":"To date, no exoplanets have been confirmed around Guniibuu. The two companion stars complicate the use of the radial velocity method to detect exoplanets. As a bright nearby star with similarities to the Sun, Guniibuu is a good target for exoplanet exploration, particularly with future direct imaging. If there are exoplanets in the stars habitable zone, upcoming large space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\t\\nBecause of the presence of a close companion star, it is difficult to use radial velocities to detect exoplanets around Guniibuu.","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause Guniibuu is a bright nearby star, it is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to Earths size in the stars habitable zone.","astrometry":"","constellation":"Ophiuchus","title":"Guniibuu","subtitle":"Guniibuu, also known as 36 Ophiuchi A, is a nearby orange dwarf star located in the constellation The stars proper name, Guniibuu, is based on the Aboriginal Australian name for the scarlet robin. Compared to the Sun, Guniibuu is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium. Guniibuu is part of a triple system known as 36 Ophiuchi. It orbits close to 36 Ophiuchi B, a slightly smaller orange dwarf star. The third star in the system, 36 Ophiuchi C, is a small orange dwarf that orbits at a greater distance.","can_compare":true},{"id":26667,"planet_ids":[],"exo_id":"Guniibuu_B","st_vj":5.11,"st_optmag":5.11,"st_dist":5.9478,"st_j":5.11,"st_mass":0.85,"dec":-26.602826,"st_teff":5144,"st_rad":0.725,"ra":258.8374326,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Guniibuu_B","custom_system_description":null,"custom_star_description":"36 Ophiuchi B is a nearby orange dwarf star located in the constellation Ophiuchus. It is bright enough to be seen with the naked eye. Relative to the Sun, it is smaller, cooler, and less luminous. It has more stellar magnetic activity than the Sun and a lower abundance of elements heavier than helium. 36 Ophiuchi B is part of the triple system 36 Ophiuchi. It orbits closely with Guniibuu (36 Ophiuchi A), a slightly larger orange dwarf star. The third star in the system, 36 Ophiuchi C, is a small orange dwarf which orbits at a much larger distance.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"36 Ophiuchi B,HD 155885,HR 6401,GJ 663B","display_name":"Guniibuu B","tagline":"An orange star in a triple system","tic_id":"TIC 1277142190","pop_culture":"The 36 Ophiuchi system has hosted life-supporting exoplanetary systems in several works of science fiction. In the Dune novels, 36 Ophiuchi B is orbited by the planet Giedi Prime, and in the Star Trek universe it has a system of at least six planets. An Earth-like world is depicted around one of the stars in a novel by Ian Douglas, and a gas-giant planet orbits one of the stars in the Frontier\\" video game franchise.","detection_timeline":"To date, no exoplanets have been confirmed around Guniibuu. The presence of two companion stars in the system poses challenges for using the radial velocity method to detect exoplanets. Nevertheless, as a bright nearby star with similarities to the Sun, 36 Ophiuchi B remains a promising target for exoplanet exploration, particularly through future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets as small as Earth within Guniibuu\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nThe presence of a close companion star complicates the use of radial velocities for exoplanet detection in the case of Guniibuu.","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity and brightness, 36 Ophiuchi B is a good candidate for future direct imaging efforts. Upcoming large space telescopes will have the capability to employ direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone.\\n","astrometry":"","constellation":"Ophiuchus","title":"Guniibuu B","subtitle":"36 Ophiuchi B is a nearby orange dwarf star located in the constellation Ophiuchus. It is bright enough to be seen with the naked eye. Relative to the Sun, it is smaller, cooler, and less luminous. It has more stellar magnetic activity than the Sun and a lower abundance of elements heavier than helium. 36 Ophiuchi B is part of the triple system 36 Ophiuchi. It orbits closely with Guniibuu (36 Ophiuchi A), a slightly larger orange dwarf star. The third star in the system, 36 Ophiuchi C, is a small orange dwarf which orbits at a much larger distance.","can_compare":true},{"id":26668,"planet_ids":[],"exo_id":"Guniibuu_C","st_vj":6.295,"st_optmag":6.295,"st_dist":5.9537,"st_j":6.295,"st_mass":0.68,"dec":-26.5461491,"st_teff":4476,"st_rad":0.66,"ra":259.0556767,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Guniibuu_C","custom_system_description":null,"custom_star_description":"36 Ophiuchi C is a nearby orange dwarf star located in the constellation Ophiuchus. Relative to the Sun, 36 Ophiuchi C is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. 36 Ophiuchi C is part of the system 36 Ophiuchi, which includes two larger orange dwarf stars named Guniibuu (36 Ophiuchi A) and 36 Ophiuchi B.","custom_star_title":"36 Ophiuchi C","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"36 Ophiuchi C,HD 156026,GJ 664","display_name":"Guniibuu C","tagline":"An orange dwarf in a nearby triple system","tic_id":"TIC 79841001","pop_culture":"The 36 Ophiuchi system has been depicted as hosting life-supporting exoplanetary systems in various works of science fiction. In the \\"Dune\\" novels, 36 Ophiuchi B is orbited by the planet Giedi Prime, and in the \\"Star Trek\\" universe, it is portrayed with a system of at least six planets. In a novel by Ian Douglas, an Earth-like world is depicted around one of the stars, and in the Frontier video game franchise, a gas giant orbits one of the stars.","detection_timeline":"Currently, no planets have been confirmed around 36 Ophiuchi C. Given its proximity and brightness, this star is a prime target for exoplanet exploration, particularly through future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\n36 Ophiuchi C has been monitored for radial velocity studies, but no exoplanets have been detected. The two companion stars make this method more difficult, as they also influence the radial velocity of 36 Ophiuchi C.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 36 Ophiuchi C is a bright nearby star, it is a prime target for future direct imaging missions. Upcoming large space telescopes will have the capability to employ direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, these telescopes will be capable of detecting larger exoplanets positioned farther away from the star.","astrometry":"","constellation":"Ophiuchus","title":"36 Ophiuchi C","subtitle":"36 Ophiuchi C is a nearby orange dwarf star located in the constellation Ophiuchus. Relative to the Sun, 36 Ophiuchi C is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. 36 Ophiuchi C is part of the system 36 Ophiuchi, which includes two larger orange dwarf stars named Guniibuu (36 Ophiuchi A) and 36 Ophiuchi B.","can_compare":true},{"id":26669,"planet_ids":[],"exo_id":"41_Arae_A","st_vj":5.472,"st_optmag":5.472,"st_dist":8.7911,"st_j":5.472,"st_mass":0.9,"dec":-46.6362334,"st_teff":5235,"st_rad":0.817,"ra":259.7659898,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"41_Arae_A","custom_system_description":null,"custom_star_description":"41 Arae A is a nearby yellow-orange Sun-like star located in the constellation Ara. It is bright enough to be seen with the naked eye. Relative to the Sun, 41 Arae A is smaller, cooler, and half as luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. 41 Arae A is part of a multiple star system and has at least one companion star.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 156274 A,HR 6416,GJ 666A","display_name":"41 Arae A","tagline":"A nearby Sun-like star awaiting exploration","tic_id":"TIC 217157387","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 41 Arae A. However, as a bright nearby Sun-like star, 41 Arae A holds promise for future exploration. Upcoming large space telescopes equipped with high-contrast imaging capabilities will enable the search for Earth-sized planets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nGiven its proximity and similarity in stellar magnetic activity to the Sun, 41 Arae A is a favorable candidate for future radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, 41 Arae A is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Ara","title":"41 Arae A","subtitle":"41 Arae A is a nearby yellow-orange Sun-like star located in the constellation Ara. It is bright enough to be seen with the naked eye. Relative to the Sun, 41 Arae A is smaller, cooler, and half as luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. 41 Arae A is part of a multiple star system and has at least one companion star.","can_compare":true},{"id":26670,"planet_ids":[],"exo_id":"72_Herculis","st_vj":5.385,"st_optmag":5.385,"st_dist":14.5863,"st_j":5.385,"st_mass":0.94,"dec":32.4677439,"st_teff":5704,"st_rad":1.163,"ra":260.1648644,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"72_Herculis","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 157214,HR 6458,GJ 672","display_name":"72 Herculis","tagline":null,"tic_id":"TIC 9728611","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Hercules","title":"72 Herculis","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26671,"planet_ids":[],"exo_id":"Aggia","st_vj":4.389,"st_optmag":4.389,"st_dist":17.5187,"st_j":4.389,"st_mass":1.44,"dec":-21.1129364,"st_teff":6756,"st_rad":1.484,"ra":260.2515605,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Aggia","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"Xi Ophiuchi A,HD 156897 A,HR 6445 A,GJ 670A","display_name":"Aggia","tagline":null,"tic_id":"TIC 75899957","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ophiuchus","title":"Aggia","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26672,"planet_ids":[],"exo_id":"HD_158633","st_vj":6.443,"st_optmag":6.443,"st_dist":12.7919,"st_j":6.443,"st_mass":0.87,"dec":67.306708,"st_teff":5302,"st_rad":0.761,"ra":261.2504073,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_158633","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 6518,GJ 675","display_name":"HD 158633","tagline":null,"tic_id":"TIC 219880402","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Draco","title":"HD 158633","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26673,"planet_ids":[],"exo_id":"Lambda_Arae","st_vj":4.762,"st_optmag":4.762,"st_dist":20.9624,"st_j":4.762,"st_mass":1.39,"dec":-49.4155831,"st_teff":6620,"st_rad":1.621,"ra":265.0992732,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Lambda_Arae","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 160032,HR 6569,GJ 9597","display_name":"Lambda Arae","tagline":null,"tic_id":"TIC 96745915","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ara","title":"Lambda Arae","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26674,"planet_ids":[],"exo_id":"58_Ophiuchi","st_vj":4.86,"st_optmag":4.86,"st_dist":17.6523,"st_j":4.86,"st_mass":1.33,"dec":-21.6831941,"st_teff":6404,"st_rad":1.335,"ra":265.8574731,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"58_Ophiuchi","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 160915,HR 6595,GJ 692","display_name":"58 Ophiuchi","tagline":null,"tic_id":"TIC 238115675","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Ophiuchus","title":"58 Ophiuchi","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26676,"planet_ids":[],"exo_id":"70_Ophiuchi_A","st_vj":4.22,"st_optmag":4.22,"st_dist":5.1133,"st_j":4.22,"st_mass":0.88,"dec":2.5001463,"st_teff":5298,"st_rad":0.865,"ra":271.363535,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"70_Ophiuchi_A","custom_system_description":null,"custom_star_description":"70 Ophiuchi A is a nearby yellow-orange dwarf star located in the constellation Ophiuchus. It is visible to the naked eye. Compared to the Sun, it is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium. 70 Ophiuchi A is part of the binary system 70 Ophiuchi, which includes a smaller orange dwarf star called 70 Ophiuchi B.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 165341 A,HR 6752 A,GJ 702A","display_name":"70 Ophiuchi A","tagline":"","tic_id":"TIC 1674663309","pop_culture":"The 70 Ophiuchi system has been featured in various works of science fiction literature, including \\"Dune by Frank Herbert, \\"Endymion\\" by Dan Simmons, and \\"The Ophiuchi Hotline\\" by John Varley. It also appears in an episode of Star Trek, where it is portrayed as having an exact duplicate of Earth as its orbiting planet.","detection_timeline":"To date, there have been no exoplanets confirmed around 70 Ophiuchi A. Despite previous claims of planets made by astronomers in the late 19th and 20th centuries, subsequent observations have discredited those claims. However, as a bright nearby star, 70 Ophiuchi A remains a promising target for further exploration. Direct imaging is a favored method for searching for Earth-like planets, and upcoming large space telescopes with high-contrast imaging capabilities hold the potential to reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. ","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.","astrometry":"Due to its proximity and brightness, 70 Ophiuchi A is a good target for future direct imaging missions. Advanced space telescopes equipped with direct imaging capabilities will have the ability to search for rocky exoplanets as small as Earth within the star\'s habitable zone. These telescopes will also enable the detection of larger exoplanets situated at greater distances from the star.","constellation":"Ophiuchus","title":"70 Ophiuchi A","subtitle":"70 Ophiuchi A is a nearby yellow-orange dwarf star located in the constellation Ophiuchus. It is visible to the naked eye. Compared to the Sun, it is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium. 70 Ophiuchi A is part of the binary system 70 Ophiuchi, which includes a smaller orange dwarf star called 70 Ophiuchi B.","can_compare":true},{"id":26677,"planet_ids":[],"exo_id":"70_Ophiuchi_B","st_vj":6.061,"st_optmag":6.061,"st_dist":5.1225,"st_j":6.061,"st_mass":0.78,"dec":2.498947,"st_teff":4475,"st_rad":0.674,"ra":271.3644289,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"70_Ophiuchi_B","custom_system_description":null,"custom_star_description":"70 Ophiuchi B is a nearby orange dwarf star situated in the Ophiuchus constellation. In comparison to the Sun, it is smaller, cooler, and significantly less luminous. 70 Ophiuchi B exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. The star is part of the stellar binary system 70 Ophiuchi, where it serves as the smaller companion to the larger star, 70 Ophiuchi A.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HD 165341 B,HR 6752 B,GJ 702B","display_name":"70 Ophiuchi B","tagline":"The smaller star in a binary system","tic_id":"TIC 398120047","pop_culture":"The 70 Ophiuchi system has been featured throughout science fiction literature, including \\"Dune by Frank Herbert, \\"Endymion\\" by Dan Simmons, and \\"The Ophiuchi Hotline\\" by John Varley. It also appears in an episode of Star Trek, where it is portrayed as hosting a planet that is an exact duplicate of Earth.","detection_timeline":"To date, no exoplanets have been confirmed around 70 Ophiuchi B. It is a good candidate for future direct imaging studies. If there are exoplanets within 70 Ophiuchi B\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to reveal their presence.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\n70 Ophiuchi B, being a nearby star, is a good candidate for future radial velocity studies. \\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, 70 Ophiuchi B is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Ophiuchus","title":"70 Ophiuchi B","subtitle":"70 Ophiuchi B is a nearby orange dwarf star situated in the Ophiuchus constellation. In comparison to the Sun, it is smaller, cooler, and significantly less luminous. 70 Ophiuchi B exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. The star is part of the stellar binary system 70 Ophiuchi, where it serves as the smaller companion to the larger star, 70 Ophiuchi A.","can_compare":true},{"id":26678,"planet_ids":[],"exo_id":"HD_165185","st_vj":5.949,"st_optmag":5.949,"st_dist":17.1146,"st_j":5.949,"st_mass":1.08,"dec":-36.0197863,"st_teff":5892,"st_rad":0.98,"ra":271.5988313,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_165185","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HR 6748,GJ 702.1","display_name":"HD 165185","tagline":null,"tic_id":"TIC 329574145","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Sagittarius","title":"HD 165185","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26679,"planet_ids":[],"exo_id":"HD_166620","st_vj":6.377,"st_optmag":6.377,"st_dist":11.0959,"st_j":6.377,"st_mass":0.78,"dec":38.4577772,"st_teff":5028,"st_rad":0.794,"ra":272.4059009,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_166620","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"HR 6806,GJ 706","display_name":"HD 166620","tagline":null,"tic_id":"TIC 75946144","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Hercules","title":"HD 166620","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26680,"planet_ids":[],"exo_id":"Iota_Pavonis","st_vj":5.469,"st_optmag":5.469,"st_dist":17.7532,"st_j":5.469,"st_mass":1.08,"dec":-62.00222,"st_teff":5951,"st_rad":1.238,"ra":272.6089738,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Iota_Pavonis","custom_system_description":null,"custom_star_description":"Iota Pavonis is a nearby Sun-like star located in the constellation Pavo, which represents a peacock. Iota Pavonis is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 165499,HR 6761,GJ 9616","display_name":"Iota Pavonis","tagline":"A Sun-like star to search for exoplanets","tic_id":"TIC 303704858","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Iota Pavonis. However, as a bright nearby Sun-like star, Iota Pavonis holds great potential for future exploration. With upcoming large space telescopes equipped with high-contrast imaging capabilities, it will become possible to search for Earth-sized planets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nGiven its proximity and levels of stellar magnetic activity, Iota Pavonis is a favorable candidate for future radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Iota Pavonis is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Pavo","title":"Iota Pavonis","subtitle":"Iota Pavonis is a nearby Sun-like star located in the constellation Pavo, which represents a peacock. Iota Pavonis is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","can_compare":true},{"id":26681,"planet_ids":[],"exo_id":"36_Draconis","st_vj":4.99,"st_optmag":4.99,"st_dist":23.1569,"st_j":4.99,"st_mass":1.33,"dec":64.3972849,"st_teff":6473,"st_rad":1.624,"ra":273.4743034,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"36_Draconis","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 168151,HR 6850,GJ 9619","display_name":"36 Draconis","tagline":null,"tic_id":"TIC 233121747","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Draco","title":"36 Draconis","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26682,"planet_ids":[],"exo_id":"31_Aquilae","st_vj":5.169,"st_optmag":5.169,"st_dist":14.922,"st_j":5.169,"st_mass":0.95,"dec":11.9444135,"st_teff":5593,"st_rad":1.393,"ra":291.2424999,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"31_Aquilae","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 182572,HR 7373,GJ 759","display_name":"31 Aquilae","tagline":null,"tic_id":"TIC 359981217","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Aquila","title":"31 Aquilae","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26683,"planet_ids":[],"exo_id":"Alsafi","st_vj":4.672,"st_optmag":4.672,"st_dist":5.7639,"st_j":4.672,"st_mass":0.87,"dec":69.6611766,"st_teff":5298,"st_rad":0.782,"ra":293.0899592,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Alsafi","custom_system_description":null,"custom_star_description":"Sigma Draconis (officially named Alsafi) is an orange star located high in the northern sky. It is the 18th brightest star in the constellation Draco the Dragon and is visible to the naked eye. Relative to the Sun, it is slightly smaller and cooler, with a slightly lower abundance of elements heavier than helium, slightly faster rotation period, and higher levels of stellar magnetic activity.","custom_star_title":"Sigma Draconis","custom_system_title":null,"stellar_type":"K","context_description":null,"aliases":"SigmaDraconis,Sigma Draconis,HD 185144,HR 7462,GJ 764","display_name":"Alsafi","tagline":"A star visible to the naked eye, where the search for planets continues","tic_id":"TIC 259237827","pop_culture":"From television to literature, the naked eye star Sigma Draconis has been featured as a fictionalized planet host and homeworld. In \\"Star Trek,\\" it served as the host for nine planets, three of which harbored life. Novels by Poul Anderson, Eleanor Arnason, and David Weber, among others, invoke life on a planet orbiting this star, and Sigma Draconis has also appeared in board games and computer games, such as \\"Dune II.\\"","detection_timeline":"Sigma Draconis has been monitored for radial velocity signals since the mid-2000s. To date, no planetary companions have been found, with Jupiter or Saturn-like planets ruled out within a few astronomical units of the star. Current techniques place only weak limits on planets that might be orbiting this star. A planetary system as varied and rich as our own could be present and escape detection today. Because the star is nearby and moderately bright, it will be a prime target for exploration with future space telescopes. Exoplanets down to Earth size will be detectable in Sigma Dra\'s habitable zone, while subsequent spectroscopy would be able identify their atmospheric constituents and determine if they have habitable conditions. In less than a week of observing, a future space telescope could reveal what is currently hidden in the glare of this neighboring star.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Sigma Draconis is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Draco","title":"Sigma Draconis","subtitle":"Sigma Draconis (officially named Alsafi) is an orange star located high in the northern sky. It is the 18th brightest star in the constellation Draco the Dragon and is visible to the naked eye. Relative to the Sun, it is slightly smaller and cooler, with a slightly lower abundance of elements heavier than helium, slightly faster rotation period, and higher levels of stellar magnetic activity.","can_compare":true},{"id":26684,"planet_ids":[],"exo_id":"17_Cygni_A","st_vj":5.005,"st_optmag":5.005,"st_dist":20.9857,"st_j":5.005,"st_mass":1.29,"dec":33.7275982,"st_teff":6455,"st_rad":1.503,"ra":296.6066669,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"17_Cygni_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 187013,HR 7534 A,GJ 9670A","display_name":"17 Cygni A","tagline":null,"tic_id":"TIC 58445695","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Cygnus","title":"17 Cygni A","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26685,"planet_ids":[],"exo_id":"Omicron_Aquilae_A","st_vj":5.122,"st_optmag":5.122,"st_dist":19.4881,"st_j":5.122,"st_mass":1.25,"dec":10.4157201,"st_teff":6134,"st_rad":1.491,"ra":297.7568487,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Omicron_Aquilae_A","custom_system_description":null,"custom_star_description":"Omicron Aquilae A is a nearby yellowish-white star located in the constellation Aquila. It is bright enough to be seen with the naked eye. Compared to the Sun, Omicron Aquilae A is larger, hotter, and more luminous. It exhibits lower levels of stellar magnetic activity than the Sun and has a higher abundance of elements heavier than helium. Omicron Aquilae A is the largest star in the binary system Omicron Aquilae, which includes a small red dwarf companion star.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"aliases":"HD 187691 A,HR 7560,GJ 9671 A","display_name":"Omicron Aquilae A","tagline":"A nearby star with an unexplored habitable zone","tic_id":"TIC 408842743","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Omicron Aquilae A. Despite a decade of monitoring, no detections have been made through radial velocity surveys. Given its status as a bright nearby star, Omicron Aquilae A holds potential for exoplanet exploration, particularly through future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities could potentially reveal rocky exoplanets as small as Earth within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nOmicron Aquilae A, being a nearby star with lower magnetic activity than the Sun, is well-suited to radial velocity studies. Despite over a decade of monitoring, no exoplanets have been detected using this method.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nDue to its proximity and brightness, Omicron Aquilae A is a good candidate for future direct imaging efforts. Upcoming large space telescopes will have the capability to employ direct imaging and search for rocky exoplanets as small as Earth within the star\'s habitable zone.\\n","astrometry":"","constellation":"Aquila","title":"Omicron Aquilae A","subtitle":"Omicron Aquilae A is a nearby yellowish-white star located in the constellation Aquila. It is bright enough to be seen with the naked eye. Compared to the Sun, Omicron Aquilae A is larger, hotter, and more luminous. It exhibits lower levels of stellar magnetic activity than the Sun and has a higher abundance of elements heavier than helium. Omicron Aquilae A is the largest star in the binary system Omicron Aquilae, which includes a small red dwarf companion star.","can_compare":true},{"id":26686,"planet_ids":[],"exo_id":"Delta_Pavonis","st_vj":3.556,"st_optmag":3.556,"st_dist":6.0993,"st_j":3.556,"st_mass":0.94,"dec":-66.1820674,"st_teff":5576,"st_rad":1.198,"ra":302.1817036,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Delta_Pavonis","custom_system_description":null,"custom_star_description":"Delta Pavonis is a nearby Sun-like star visible to the naked eye in the southern constellation of Pavo. While it is larger than the Sun, the star is slightly less massive and has similarly low levels of magnetic activity. Compared to the Sun, it contains a higher abundance of elements heavier than helium and rotates more slowly.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 190248,HR 7665,GJ 780","display_name":"Delta Pavonis","tagline":"A nearby star, well-suited for exoplanet searches","tic_id":"TIC 409891396","pop_culture":"Delta Pavonis has hosted a planet in numerous fictional works, from an ocean planet called Caladan in the Dune novels to Delta Pavonis IV hosting humanoid cats in \\"The Transformers\\" animated television show.","detection_timeline":"Delta Pavonis has long been a favorite star for exoplanet searches, given how bright and nearby this low-magnetic activity star is. To date, the only planet candidate in the system comes from astrometry done with the Gaia spacecraft and ground-based telescope data. It hints at a candidate planet similar to Jupiter, on a wide orbit, far from the star. Previously listed as SETIs best nearby G-type star for study, Delta Pavonis will continue to be the subject of exoplanet searches. It will be a prime target for exploration with future space telescopes, including those focused on direct imaging.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nDelta Pavonis has low stellar magnetic activity, making it well-suited for radial velocity studies. Recent studies indicate the presence of a long-period planet but more data is needed to confirm it.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a bright, nearby star, Delta Pavonis is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.  ","astrometry":"0 planets have been confirmed with astrometry of this star to date.\\n\\nA Jupiter-analog planet candidate has been suggested by astrometry data from the Gaia spacecraft. \\n","constellation":"Pavo","title":"Delta Pavonis","subtitle":"Delta Pavonis is a nearby Sun-like star visible to the naked eye in the southern constellation of Pavo. While it is larger than the Sun, the star is slightly less massive and has similarly low levels of magnetic activity. Compared to the Sun, it contains a higher abundance of elements heavier than helium and rotates more slowly.","can_compare":true},{"id":26687,"planet_ids":[],"exo_id":"HD_191408_A","st_vj":5.297,"st_optmag":5.297,"st_dist":6.0122,"st_j":5.297,"st_mass":0.76,"dec":-36.1012088,"st_teff":4980,"st_rad":0.715,"ra":302.7997449,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_191408_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"HD191408A","aliases":"HR 7703 A,GJ 783A","display_name":"HD 191408 A","tagline":null,"tic_id":"TIC 389198736","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Sagittarius","title":"HD 191408 A","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26688,"planet_ids":[],"exo_id":"HD_193664","st_vj":5.922,"st_optmag":5.922,"st_dist":17.4813,"st_j":5.922,"st_mass":1.08,"dec":66.853689,"st_teff":5930,"st_rad":0.999,"ra":304.3805338,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_193664","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD193664","aliases":"HR 7783,GJ 788","display_name":"HD 193664","tagline":null,"tic_id":"TIC 403585118","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Draco","title":"HD 193664","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26689,"planet_ids":[],"exo_id":"Psi_Capricorni","st_vj":4.137,"st_optmag":4.137,"st_dist":14.6334,"st_j":4.137,"st_mass":1.33,"dec":-25.2708975,"st_teff":6638,"st_rad":1.42,"ra":311.5238859,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Psi_Capricorni","custom_system_description":null,"custom_star_description":"Psi Capricorni is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Capricorn, it represents the front leg of the goat. Relative to the Sun, Psi Capricorni is larger, hotter, and more than three times as luminous. It exhibits significantly higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"PsiCapricorni","aliases":"PsiCapricorni,HD197692,HR7936,GJ805,HD 197692,HR 7936,GJ 805","display_name":"Psi Capricorni","tagline":"","tic_id":"TIC 269995013","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Psi Capricorni. While the star is too magnetically active for exoplanet searches using radial velocity measurements, it is a good target for future direct imaging. Since Psi Capricorni is a bright, nearby Sun-like star, upcoming large space telescopes capable of high-contrast imaging will be able to detect, as yet, unseen exoplanets, including Earth-sized planets in the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nSince Psi Capricorni has high levels of stellar magnetic activity (significantly more than the Sun), it is not a suitable candidate for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Capricornus","title":"Psi Capricorni","subtitle":"Psi Capricorni is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Capricorn, it represents the front leg of the goat. Relative to the Sun, Psi Capricorni is larger, hotter, and more than three times as luminous. It exhibits significantly higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26690,"planet_ids":[],"exo_id":"HD_199260","st_vj":5.709,"st_optmag":5.709,"st_dist":21.1021,"st_j":5.709,"st_mass":1.2,"dec":-26.2963779,"st_teff":6270,"st_rad":1.182,"ra":314.1972153,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_199260","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD199260","aliases":"HR 8013,GJ 811","display_name":"HD 199260","tagline":null,"tic_id":"TIC 29495621","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Capricornus","title":"HD 199260","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26691,"planet_ids":[],"exo_id":"61_Cygni_A","st_vj":5.211,"st_optmag":5.211,"st_dist":3.4966,"st_j":5.211,"st_mass":0.68,"dec":38.7494173,"st_teff":4441,"st_rad":0.637,"ra":316.7247483,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"61_Cygni_A","custom_system_description":null,"custom_star_description":"61 Cygni A is part of a binary star system in the constellation Cygnus the swan. Both 61 Cygni A and its companion 61 Cygni B are among the closest stars seen in the northern hemisphere. The stars orbit each other every 659 years, making them appear as two of the fastest-moving stars in the sky. Visible in dark skies, the stars are near the limit of what can be seen with the naked eye. Both stars in 61 Cygni are orange dwarfs, intermediate between larger stars like the Sun and smaller red dwarf stars. 61 Cygni A is slightly larger than 61 Cygni B, but it is still smaller, cooler and more magnetically active than the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"61CygniA","aliases":"61CygniA,HD201091,HR8085,GJ820A,HD 201091,HR 8085,GJ 820A,61 Cygni B,HD 201092,HR 8086,GJ 820B","display_name":"61 Cygni A","tagline":"One of a pair of nearby, fast-moving stars","tic_id":"TIC 165602000","pop_culture":"The nearby star system 61 Cygni has been included throughout popular culture as a potential host for planets and life. On the television series \\"Star Trek,\\" it served as the location of the planet Tellar Prime, the homeworld of the Tellarites, and is featured in the original series pilot episode, \\"The Cage.\\" It also appeared as home to an alien race in the British television show \\"Blakes 7.\\" The 61 Cygni star system has been featured in computer games and the novels of Isaac Asimov, C. J. Cherryh, and Alastair Reynolds, among others. Interestingly, Hal Clements 1953 novel, \\"Mission of Gravity,\\" was inspired by 1940s claims of a potential third body, such as a large planet, detected in 61 Cygni.","detection_timeline":"To date, no exoplanets have been confirmed around 61 Cygni A. Searches around the star began in the mid-20th century. Measurements of the stars radial velocity over decades have yet to detect a planet and ruled out the possibility of giant planets far from the star. Even so, 61 Cygni A remains an attractive candidate for exoplanet searches, given the location and type of the star. As an orange dwarf star that is so near to Earth, 61 Cygni A is a prime target for direct imaging with future space telescopes.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nRadial velocity measurements over decades have not found planets in the system and placed limits on what might be in the system.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\n61 Cygni A is a prime target for direct imaging, which will enable a search for exoplanets down to the size of Earth, in the stars habitable zone. The two stars in the system 61 Cygni A and B have a wide separation between them, meaning that direct imaging with future space observatories will be little-troubled by the presence of the companion star.","astrometry":"","constellation":"Cygnus","title":"61 Cygni A","subtitle":"61 Cygni A is part of a binary star system in the constellation Cygnus the swan. Both 61 Cygni A and its companion 61 Cygni B are among the closest stars seen in the northern hemisphere. The stars orbit each other every 659 years, making them appear as two of the fastest-moving stars in the sky. Visible in dark skies, the stars are near the limit of what can be seen with the naked eye. Both stars in 61 Cygni are orange dwarfs, intermediate between larger stars like the Sun and smaller red dwarf stars. 61 Cygni A is slightly larger than 61 Cygni B, but it is still smaller, cooler and more magnetically active than the Sun.","can_compare":true},{"id":26692,"planet_ids":[],"exo_id":"61_Cygni_B","st_vj":6.043,"st_optmag":6.043,"st_dist":3.4964,"st_j":6.043,"st_mass":0.63,"dec":38.742044,"st_teff":4107,"st_rad":0.551,"ra":316.730266,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"61_Cygni_B","custom_system_description":null,"custom_star_description":"61 Cygni B is part of a binary star system in the constellation Cygnus the swan. Both 61 Cygni B and its companion 61 Cygni A are among the closest stars seen in the northern hemisphere. The stars orbit each other every 659 years, making them appear as two of the fastest-moving stars in the sky. Visible in dark skies, the stars are near the limit of what can be seen with the naked eye. Both stars in 61 Cygni are orange dwarfs, intermediate between larger stars like the Sun and smaller red dwarf stars. 61 Cygni B is slightly smaller than 61 Cygni A, and it is cooler and more magnetically active than the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"61CygniB","aliases":"HD 201092,HR 8086,GJ 820B","display_name":"61 Cygni B","tagline":"One of a pair of nearby, fast-moving stars","tic_id":"TIC 165602023","pop_culture":"The nearby star system 61 Cygni has been included throughout popular culture as a potential host for planets and life. On the television series \\"Star Trek,\\" it served as the location of the planet Tellar Prime, the homeworld of the Tellarites, and is featured in the original series pilot episode, \\"The Cage.\\" It also appeared as home to an alien race in the British television show \\"Blakes 7.\\" The 61 Cygni star system has been featured in computer games and the novels of Isaac Asimov, C. J. Cherryh, and Alastair Reynolds, among others. Interestingly, Hal Clements 1953 novel, \\"Mission of Gravity,\\" was inspired by 1940s claims of a potential third body, such as a large planet, detected in 61 Cygni.","detection_timeline":"To date, no exoplanets have been confirmed around 61 Cygni B. Searches around the star began in the mid-20th century. Measurements of the stars radial velocity over decades have yet to detect a planet and ruled out the possibility of giant planets far from the star. However, analysis of astrometry from the Gaia spacecraft suggests that there is an unseen object orbiting 61 Cygni B, causing the binary stars motions to be distorted. Estimates suggest that this unseen object is roughly 10 times the mass of Jupiter, making it a potential planet or brown dwarf. Given the location and stellar type of 61 Cygni B, it continues to be actively studied and will be a prime target for direct imaging with future space telescopes.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nRadial velocity measurements over decades have not found planets in the system and placed limits on what might be in the system.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\n61 Cygni B is a prime target for direct imaging, which will enable a search for exoplanets down to the size of Earth, in the stars habitable zone. The two stars in the system 61 Cygni A and B have a wide separation between them, meaning that direct imaging with future space observatories will be little-troubled by the presence of the companion star.","astrometry":"","constellation":"Cygnus","title":"61 Cygni B","subtitle":"61 Cygni B is part of a binary star system in the constellation Cygnus the swan. Both 61 Cygni B and its companion 61 Cygni A are among the closest stars seen in the northern hemisphere. The stars orbit each other every 659 years, making them appear as two of the fastest-moving stars in the sky. Visible in dark skies, the stars are near the limit of what can be seen with the naked eye. Both stars in 61 Cygni are orange dwarfs, intermediate between larger stars like the Sun and smaller red dwarf stars. 61 Cygni B is slightly smaller than 61 Cygni A, and it is cooler and more magnetically active than the Sun.","can_compare":true},{"id":26693,"planet_ids":[],"exo_id":"Lacaille_8760","st_vj":6.69,"st_optmag":6.69,"st_dist":3.9696,"st_j":6.69,"st_mass":0.59,"dec":-38.8673622,"st_teff":3874,"st_rad":0.64,"ra":319.3136211,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Lacaille_8760","custom_system_description":null,"custom_star_description":"AX Microscopii (also known as Lacaille 8760) is the brightest red dwarf star in the night sky and one of the closest stars to the Sun. Located in the constellation Microscopium, this star is generally too faint to see with the naked eye. Smaller and cooler than the Sun, Lacaille 8760 is much redder and more magnetically active, with stellar flares erupting on an almost daily basis. Given its smaller size, Lacaille 8760 will outlive the Sun by tens of billions of years.","custom_star_title":"","custom_system_title":null,"stellar_type":"M","context_description":null,"search_name":"Lacaille8760","aliases":"HD 202560,GJ 825","display_name":"Lacaille 8760","tagline":"The brightest red dwarf in the sky","tic_id":"TIC 159746875","pop_culture":"Lacaille 8760 is mentioned in print materials connected with \\"Aliens,\\" the sequel to the sci-fi film, \\"Alien.\\" It is also part of the Earth Empire in the novelization of the British television series \\"Dr. Who.\\"","detection_timeline":"To date, no exoplanets have been detected around Lacaille 8760. With high-contrast direct imaging, it will become possible to search this star for Earth-sized planets in the stars habitable zone. The prospect of finding an Earth analog around this nearby red dwarf makes it a good target for direct imaging with future space telescopes","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nWith such a magnetically active star, it is difficult to use radial velocity measurements to constrain the presence of planets in the system.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Lacaille 8760 is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Microscopium","title":"Lacaille 8760","subtitle":"AX Microscopii (also known as Lacaille 8760) is the brightest red dwarf star in the night sky and one of the closest stars to the Sun. Located in the constellation Microscopium, this star is generally too faint to see with the naked eye. Smaller and cooler than the Sun, Lacaille 8760 is much redder and more magnetically active, with stellar flares erupting on an almost daily basis. Given its smaller size, Lacaille 8760 will outlive the Sun by tens of billions of years.","can_compare":true},{"id":26694,"planet_ids":[],"exo_id":"Gamma_Pavonis","st_vj":4.229,"st_optmag":4.229,"st_dist":9.2584,"st_j":4.229,"st_mass":1.14,"dec":-65.3661981,"st_teff":6095,"st_rad":1.086,"ra":321.6108541,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Gamma_Pavonis","custom_system_description":null,"custom_star_description":"Gamma Pavonis is a bright star, visible to the naked eye in the southern constellation of Pavo the Peacock. Larger and hotter than the Sun, the star has a yellow-white hue. Compared to the Sun, Gamma Pavonis contains a lower abundance of elements heavier than helium, and it has high levels of magnetic activity.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"GammaPavonis","aliases":"GammaPavonis,HD203608,HR8181,GJ827,HD 203608,HR 8181,GJ 827","display_name":"Gamma Pavonis","tagline":"A bright magnetically active star close enough for future observations","tic_id":"TIC 265488188","pop_culture":"Gamma Pavonis has been referenced throughout popular culture as a potential planet host. Featured in the video game, \\"Halo,\\" Gamma Pavonis is also part of a range of role-playing games and books. In the \\"Undying Mercenaries\\" book series, Gamma Pavonis is home to a planet filled with machine life forms, known as Machine World.","detection_timeline":"To date, no exoplanets have been detected around Gamma Pavonis. As a hot Sun-like star so near to Earth, Gamma Pavonis is a promising target for future exoplanet exploration, particularly with direct imaging. If there are habitable planets in the system, future space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nGamma Pavonis is a magnetically active star, making it challenging for radial velocity planet searches.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Gamma Pavonis is a good target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Pavo","title":"Gamma Pavonis","subtitle":"Gamma Pavonis is a bright star, visible to the naked eye in the southern constellation of Pavo the Peacock. Larger and hotter than the Sun, the star has a yellow-white hue. Compared to the Sun, Gamma Pavonis contains a lower abundance of elements heavier than helium, and it has high levels of magnetic activity.","can_compare":true},{"id":26696,"planet_ids":[],"exo_id":"HD_207129","st_vj":5.575,"st_optmag":5.575,"st_dist":15.5589,"st_j":5.575,"st_mass":1.08,"dec":-47.3036161,"st_teff":5935,"st_rad":1.039,"ra":327.0656298,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_207129","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD207129","aliases":"HR 8323,GJ 838","display_name":"HD 207129","tagline":null,"tic_id":"TIC 147407292","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Grus","title":"HD 207129","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26698,"planet_ids":[],"exo_id":"Tau_Piscis_Austrini","st_vj":4.94,"st_optmag":4.94,"st_dist":18.4579,"st_j":4.94,"st_mass":1.25,"dec":-32.5484084,"st_teff":6364,"st_rad":1.405,"ra":332.5365841,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Tau_Piscis_Austrini","custom_system_description":null,"custom_star_description":"Tau Piscis Austrini is a yellowish-white star visible to the naked eye. It is located in the constellation Piscis Austrinus, commonly known as the southern fish. Compared to the Sun, Tau Piscis Austrini is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity and a higher abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"TauPiscisAustrini","aliases":"TauPiscisAustrini,HD210302,HR8447,GJ9770,HD 210302,HR 8447,GJ 9770","display_name":"Tau Piscis Austrini","tagline":"","tic_id":"TIC 97402436","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around Tau Piscis Austrini. Given its characteristics, Tau Piscis Austrini holds great potential for exoplanet exploration, particularly through future direct imaging. Advanced space telescopes equipped with high-contrast imaging capabilities could potentially reveal Earth-sized exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nTau Piscis Austrini has been monitored in radial velocity studies for over a decade, but no exoplanets have been detected.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a bright nearby star, Tau Piscis Austrini remains a primary target for future direct imaging efforts. Upcoming large space telescopes with direct imaging capabilities will enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will be able to detect larger planets located farther away from the star.","astrometry":"","constellation":"Piscis Austrinus","title":"Tau Piscis Austrini","subtitle":"Tau Piscis Austrini is a yellowish-white star visible to the naked eye. It is located in the constellation Piscis Austrinus, commonly known as the southern fish. Compared to the Sun, Tau Piscis Austrini is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity and a higher abundance of elements heavier than helium.","can_compare":true},{"id":26699,"planet_ids":[],"exo_id":"HD_212330_A","st_vj":5.318,"st_optmag":5.318,"st_dist":20.3398,"st_j":5.318,"st_mass":1.02,"dec":-57.7974559,"st_teff":5660,"st_rad":1.717,"ra":336.2348695,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_212330_A","custom_system_description":null,"custom_star_description":"HD 212330 is a nearby Sun-like star located in the constellation Tucana, bright enough to be seen with the naked eye. It is larger than the Sun and nearly three times as luminous, but its temperature and mass are nearly equal to the Sun. HD 212330 has lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD212330A","aliases":"HD212330,HD212330A,HD212330A,HR8531A,GJ857A,HD 212330,HR 8531 A,GJ 857A","display_name":"HD 212330 A","tagline":"A Sun-like star to explore","tic_id":"TIC 259291108","pop_culture":"","detection_timeline":"No exoplanets have been confirmed around HD 212330 so far. It is a promising candidate for radial velocity monitoring and future direct imaging missions. If there are exoplanets within the star\'s habitable zone, upcoming large space telescopes with high-contrast imaging capabilities could potentially reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nDue to its similarities to the Sun and lower levels of magnetic activity, HD 212330 is a promising candidate for radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image,, HD 212330 is a good target for future direct imaging missions. With upcoming large space telescopes, there is the potential to detect rocky exoplanets as small as Earth within the star\'s habitable zone.","astrometry":"","constellation":"Tucana","title":"HD 212330 A","subtitle":"HD 212330 is a nearby Sun-like star located in the constellation Tucana, bright enough to be seen with the naked eye. It is larger than the Sun and nearly three times as luminous, but its temperature and mass are nearly equal to the Sun. HD 212330 has lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","can_compare":true},{"id":26700,"planet_ids":[],"exo_id":"Upsilon_Aquarii_A","st_vj":5.21,"st_optmag":5.21,"st_dist":23.0205,"st_j":5.21,"st_mass":1.35,"dec":-20.7082158,"st_teff":6605,"st_rad":1.419,"ra":338.6734824,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Upsilon_Aquarii_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"UpsilonAquariiA","aliases":"HD 213845 A,HR 8592 A,GJ 9789A","display_name":"Upsilon Aquarii A","tagline":null,"tic_id":"TIC 69889261","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Aquarius","title":"Upsilon Aquarii A","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26701,"planet_ids":[],"exo_id":"Xi_Pegasi_A","st_vj":4.2,"st_optmag":4.2,"st_dist":16.1509,"st_j":4.2,"st_mass":1.25,"dec":12.1728858,"st_teff":6193,"st_rad":1.852,"ra":341.6732494,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Xi_Pegasi_A","custom_system_description":null,"custom_star_description":"Xi Pegasi A is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Pegasus, it forms part of the neck of the Pegasus. Xi Pegasi A is part of a binary star system, where the other star is a red dwarf. Relative to the Sun, Xi Pegasi A is larger, hotter, and more than four times as luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun. ","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"XiPegasiA","aliases":"XiPegasiA,HD215648A,HR8665,GJ872A,HD 215648 A,HR 8665,GJ 872A","display_name":"Xi Pegasi A","tagline":"","tic_id":"TIC 60716322","pop_culture":"","detection_timeline":"No confirmed exoplanets have been identified around Xi Pegasi A, to date. Exoplanet searches using radial velocities have been conducted, but they have yet to detect a planet. As a bright, nearby Sun-like star, Xi Pegasi A is a promising target for future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will make it possible to search for Earth-sized exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with similar levels of stellar magnetic activity as the Sun, Xi Pegasi A has been a target for radial velocity studies. Observations have been conducted over two decades, but no exoplanets have been detected thus far. Current radial velocity measurements have ruled out the presence of a Jupiter-sized exoplanet within one astronomical unit of the star.\\n","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Pegasus","title":"Xi Pegasi A","subtitle":"Xi Pegasi A is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Pegasus, it forms part of the neck of the Pegasus. Xi Pegasi A is part of a binary star system, where the other star is a red dwarf. Relative to the Sun, Xi Pegasi A is larger, hotter, and more than four times as luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun. ","can_compare":true},{"id":26702,"planet_ids":[],"exo_id":"Fomalhaut_B","st_vj":6.446,"st_optmag":6.446,"st_dist":7.6015,"st_j":6.446,"st_mass":0.72,"dec":-31.565564,"st_teff":4601,"st_rad":0.697,"ra":344.100219,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Fomalhaut_B","custom_system_description":null,"custom_star_description":"Fomalhaut B, also known as TW Piscis Austrini, is an orange dwarf star located in the constellation Piscis Austrinus, representing the southern fish. It is part of a triple-star system and, along with the other stars, symbolizes the mouth of the fish in the constellation. The name Fomalhaut originates from an Arabic phrase meaning \\"mouth of the fish.\\" Relative to the Sun, Fomalhaut B is smaller, cooler, and significantly less luminous. It exhibits higher levels of stellar magnetic activity and has a similar abundance of elements heavier than helium, compared to the Sun. Although there is a candidate detection of a debris disk around Fomalhaut B, further research is required to confirm its existence.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"FomalhautB","aliases":"FomalhautB,HD216803,HR8721,GJ879,HD 216803,HR 8721,GJ 879","display_name":"Fomalhaut B","tagline":"An orange dwarf in a triple system","tic_id":"TIC 206686962","pop_culture":"The Fomalhaut system is mentioned in Isaac Asimov\'s novel \\"Pebble in the Sky,\\" and an exoplanet orbits one of the stars in the Fomalhaut system in Dan Simmons\' novel \\"Hyperion.\\"","detection_timeline":"To date, no exoplanets have been confirmed around Fomalhaut B. Radial velocity studies have excluded the presence of a Jupiter-sized exoplanet within a distance of half an astronomical unit from the star. Given its proximity, Fomalhaut B is an attractive candidate for future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nFomalhaut B has been monitored as part of radial velocity studies, but no exoplanets have been identified thus far. The current survey sensitivity has effectively ruled out the existence of a Jupiter-sized exoplanet within half an astronomical unit of the star. Fomalhaut B remains a promising candidate for future radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Fomalhaut B is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Piscis Austrinus","title":"Fomalhaut B","subtitle":"Fomalhaut B, also known as TW Piscis Austrini, is an orange dwarf star located in the constellation Piscis Austrinus, representing the southern fish. It is part of a triple-star system and, along with the other stars, symbolizes the mouth of the fish in the constellation. The name Fomalhaut originates from an Arabic phrase meaning \\"mouth of the fish.\\" Relative to the Sun, Fomalhaut B is smaller, cooler, and significantly less luminous. It exhibits higher levels of stellar magnetic activity and has a similar abundance of elements heavier than helium, compared to the Sun. Although there is a candidate detection of a debris disk around Fomalhaut B, further research is required to confirm its existence.","can_compare":true},{"id":26704,"planet_ids":[],"exo_id":"HD_219623","st_vj":5.58,"st_optmag":5.58,"st_dist":20.6102,"st_j":5.58,"st_mass":1.18,"dec":53.2134748,"st_teff":6084,"st_rad":1.286,"ra":349.1762648,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_219623","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD219623","aliases":"HR 8853,GJ 4324","display_name":"HD 219623","tagline":null,"tic_id":"TIC 24467943","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Cassiopeia","title":"HD 219623","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26705,"planet_ids":[],"exo_id":"V439_Andromedae","st_vj":6.093,"st_optmag":6.093,"st_dist":13.7662,"st_j":6.093,"st_mass":0.94,"dec":29.0215035,"st_teff":5491,"st_rad":0.889,"ra":1.6532667,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"V439_Andromedae","custom_system_description":null,"custom_star_description":"V439 Andromedae is a nearby Sun-like star situated in the Andromeda constellation. It is slightly smaller and cooler, and it exhibits lower luminosity, relative to the Sun. The star has higher levels of stellar magnetic activity and a greater abundance of elements heavier than helium, compared to the Sun. V439 Andromedae is surrounded by a debris disk located at a distance of 7.5 astronomical units from the star.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"V439Andromedae","aliases":"V439Andromedae,HD166,HR8,GJ5,HD 166,HR 8,GJ 5","display_name":"V439 Andromedae","tagline":"A Sun-like star surrounded by a debris disk","tic_id":"TIC 238432056","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around V439 Andromedae. Given its proximity and Sun-like characteristics, V439 Andromedae is a good candidate for future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth within the star\'s habitable zone.\\n","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nV439 Andromedae, as a nearby star, is a target of radial velocity studies. Despite radial velocity monitoring spanning over two decades, no exoplanets have been identified thus far.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, V439 Andromedae is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Andromeda","title":"V439 Andromedae","subtitle":"V439 Andromedae is a nearby Sun-like star situated in the Andromeda constellation. It is slightly smaller and cooler, and it exhibits lower luminosity, relative to the Sun. The star has higher levels of stellar magnetic activity and a greater abundance of elements heavier than helium, compared to the Sun. V439 Andromedae is surrounded by a debris disk located at a distance of 7.5 astronomical units from the star.","can_compare":true},{"id":26706,"planet_ids":[],"exo_id":"6_Ceti","st_vj":4.895,"st_optmag":4.895,"st_dist":18.8861,"st_j":4.895,"st_mass":1.18,"dec":-15.4679779,"st_teff":6190,"st_rad":1.505,"ra":2.8160752,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"6_Ceti","custom_system_description":null,"custom_star_description":"6 Ceti is a yellowish-white star located in the constellation Cetus, bright enough to be seen with the naked eye. Compared to the Sun, 6 Ceti is larger, hotter, and three times more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"6Ceti","aliases":"6Ceti,HD693,HR33,GJ10,HD 693,HR 33,GJ 10","display_name":"6 Ceti","tagline":"","tic_id":"TIC 289673491","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around 6 Ceti. However, due to its proximity and its similarities to the Sun, 6 Ceti holds great potential for future direct imaging. Large space telescopes equipped with high-contrast imaging capabilities could reveal exoplanets down to Earth size within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nGiven its proximity and magnetic activity levels similar to the Sun, 6 Ceti is an excellent candidate for future radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 6 Ceti is a nearby bright star, it is a prime target for future direct imaging endeavors. Upcoming large space telescopes will have the capacity to use direct imaging techniques, enabling the search for rocky exoplanets as small as Earth in the star\'s habitable zone. These telescopes will also have the capability to detect larger planets located farther away from the star.","astrometry":"","constellation":"Cetus","title":"6 Ceti","subtitle":"6 Ceti is a yellowish-white star located in the constellation Cetus, bright enough to be seen with the naked eye. Compared to the Sun, 6 Ceti is larger, hotter, and three times more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium.","can_compare":true},{"id":26707,"planet_ids":[],"exo_id":"Theta_Sculptoris","st_vj":5.241,"st_optmag":5.241,"st_dist":21.7191,"st_j":5.241,"st_mass":1.33,"dec":-35.1331147,"st_teff":6495,"st_rad":1.375,"ra":2.9334212,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Theta_Sculptoris","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"ThetaSculptoris","aliases":"HD 739,HR 35,GJ 3013","display_name":"Theta Sculptoris","tagline":null,"tic_id":"TIC 70847587","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Sculptor","title":"Theta Sculptoris","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26708,"planet_ids":[],"exo_id":"Zeta_Tucanae","st_vj":4.223,"st_optmag":4.223,"st_dist":8.6071,"st_j":4.223,"st_mass":1.11,"dec":-64.8747937,"st_teff":5932,"st_rad":1.063,"ra":5.0177443,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Zeta_Tucanae","custom_system_description":null,"custom_star_description":"Zeta Tucanae is a bright star visible to the naked eye, found in the southern constellation Tucana, the toucan. Located relatively close to Earth, Zeta Tucanae is a main sequence star that is slightly larger, hotter, and brighter than the Sun. Compared to the Sun, Zeta Tucanae has a lower abundance of elements heavier than helium and exhibits relatively low magnetic activity. The star hosts a cool, dusty debris disk.","custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"ZetaTucanae","aliases":"HD 1581,HR 77,GJ 17","display_name":"Zeta Tucanae","tagline":"A bright star, larger than the Sun, orbited by a dusty disk","tic_id":"TIC 425935521","pop_culture":"In the television series \\"Babylon 5,\\" a planet orbiting Zeta Tucanae serves as the home world of the Centauri Republic. In the novel \\"The Cunning Blood,\\" the star hosts multiple planets, including both a marginally habitable planet and an Earth-like prison planet named Hell.","detection_timeline":"To date, no exoplanets have been detected around Zeta Tucanae. As a bright Sun-like star so near to Earth, Zeta Tucanae is a promising target for future exoplanet exploration, particularly with direct imaging. If there are habitable planets in the system, future space telescopes capable of high contrast imaging would reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Zeta Tucanae is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":null,"constellation":"Tucana","title":"Zeta Tucanae","subtitle":"Zeta Tucanae is a bright star visible to the naked eye, found in the southern constellation Tucana, the toucan. Located relatively close to Earth, Zeta Tucanae is a main sequence star that is slightly larger, hotter, and brighter than the Sun. Compared to the Sun, Zeta Tucanae has a lower abundance of elements heavier than helium and exhibits relatively low magnetic activity. The star hosts a cool, dusty debris disk.","can_compare":true},{"id":26709,"planet_ids":[],"exo_id":"Beta_Hydri","st_vj":2.82,"st_optmag":2.82,"st_dist":7.4588,"st_j":2.82,"st_mass":1.08,"dec":-77.2542461,"st_teff":5806,"st_rad":1.844,"ra":6.4377932,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Beta_Hydri","custom_system_description":null,"custom_star_description":"Beta Hydri is a Sun-like star located in the Southern constellation Hydrus, which represents a male water snake. Visible to the naked eye, it is the brightest star in the constellation, and it represents the tail of the water snake.  As the closest prominent star to the south celestial pole, it is easily recognizable in the Southern sky. Relative to the Sun, Beta Hydri is older, larger, similar in temperature, and over three times more luminous. It has lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"BetaHydri","aliases":"BetaHydri,HD2151,HR98,GJ19,HD 2151,HR 98,GJ 19","display_name":"Beta Hydri","tagline":"","tic_id":"TIC 267211065","pop_culture":"Beta Hydri\'s proximity and Sun-like characteristics have captured the imagination of science fiction writers. It has served as a backdrop for interstellar journeys in novels like \\"Time for the Stars\\" by Robert Heinlein and \\"Old Twentieth\\" by Joe Halderman. In works such as \\"A Canticle for Leibowitz\\" by Walter M. Miller and \\"Daughters of Earth\\" by Judith Merril, Beta Hydri hosts exoplanets where human colonies thrive, and in \\"Calculating God\\" by Robert J. Sawyer, it serves as an exoplanet host where alien life is discovered.","detection_timeline":"No confirmed exoplanets have been identified around Beta Hydri, to date. However, its proximity and low levels of stellar magnetic activity make it a good candidate for radial velocity studies. As a bright, nearby star, Beta Hydri is also a good target star for exoplanet searches with direct imaging from future space telescopes. These future high-contrast imaging capabilities will make it possible to detect Earth-sized exoplanets within Beta Hydris habitable zone, if they exist.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nBeta Hydri\'s proximity and relatively low stellar magnetic activity make it an ideal candidate for radial velocity studies. While previous observations have hinted at potential signals, no confirmed exoplanets have been found.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Hydrus","title":"Beta Hydri","subtitle":"Beta Hydri is a Sun-like star located in the Southern constellation Hydrus, which represents a male water snake. Visible to the naked eye, it is the brightest star in the constellation, and it represents the tail of the water snake.  As the closest prominent star to the south celestial pole, it is easily recognizable in the Southern sky. Relative to the Sun, Beta Hydri is older, larger, similar in temperature, and over three times more luminous. It has lower levels of stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26711,"planet_ids":[],"exo_id":"HD_4391","st_vj":5.795,"st_optmag":5.795,"st_dist":15.0487,"st_j":5.795,"st_mass":0.98,"dec":-47.5519841,"st_teff":5887,"st_rad":0.924,"ra":11.4399705,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_4391","custom_system_description":null,"custom_star_description":"HD 4391 is a nearby Sun-like star situated in the Phoenix constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 4391 is slightly smaller and hotter but has a similar luminosity. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun. HD 4391 is part of a multiple star system and has at least one companion, a red dwarf star.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD4391","aliases":"HD4391,HD4391,HR209,GJ1021,HR 209,GJ 1021","display_name":"HD 4391","tagline":"A nearby Sun-like star","tic_id":"TIC 80431620","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 4391. As a bright nearby Sun-like star, HD 4391 is considered a favorable target for exoplanet exploration. It is well-suited to future direct imaging efforts. If there are exoplanets located within the star\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities could potentially reveal them, even if they are small as Earth.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nHD 4391 is a suitable candidate for future radial velocity studies.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 4391 is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Phoenix","title":"HD 4391","subtitle":"HD 4391 is a nearby Sun-like star situated in the Phoenix constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, HD 4391 is slightly smaller and hotter but has a similar luminosity. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun. HD 4391 is part of a multiple star system and has at least one companion, a red dwarf star.","can_compare":true},{"id":26712,"planet_ids":[],"exo_id":"HD_4628","st_vj":5.729,"st_optmag":5.729,"st_dist":7.4352,"st_j":5.729,"st_mass":0.78,"dec":5.2806137,"st_teff":5007,"st_rad":0.728,"ra":12.0957332,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_4628","custom_system_description":null,"custom_star_description":"HD 4628 is an orange-red dwarf star, located in the constellation Pisces, the pair of fish. Located 24 light-years away, this star is near to the Earth but barely visible to the naked eye. Compared to the Sun, it is smaller, less luminous, cooler, and slightly older. It has relatively low magnetic activity and appears to move quickly across the sky.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"HD4628","aliases":"HD4628,HR222,GJ33,HR 222,HR 222,GJ 33","display_name":"HD 4628","tagline":"A nearby star worth exploring","tic_id":"TIC 257393898","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around HD 4628. Radial velocity surveys have ruled out gas giant planets within a few astronomical units of the star. Nevertheless, HD 4628 is a prime target for exoplanet exploration because it is a relatively bright and nearby star, with properties close to those of the Sun. The potential for discovery is present and relies on future technologies and telescopes to reveal whats currently unseen.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a star with relatively low stellar magnetic activity, HD 4628 has been a good target for radial velocity studies, but to date no planets have been found with this method.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a nearby star, just bright enough to be seen with the naked eye, HD 219134 is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Pisces","title":"HD 4628","subtitle":"HD 4628 is an orange-red dwarf star, located in the constellation Pisces, the pair of fish. Located 24 light-years away, this star is near to the Earth but barely visible to the naked eye. Compared to the Sun, it is smaller, less luminous, cooler, and slightly older. It has relatively low magnetic activity and appears to move quickly across the sky.","can_compare":true},{"id":26713,"planet_ids":[],"exo_id":"Achird","st_vj":3.444,"st_optmag":3.444,"st_dist":5.0098,"st_j":3.444,"st_mass":1.14,"dec":57.8151773,"st_teff":5907,"st_rad":1.068,"ra":12.2762275,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Achird","custom_system_description":null,"custom_star_description":"Eta Cassiopeiae A (also known as Achird) is a nearby yellowish-white star located in the constellation Cassiopeia. It is bright enough to be seen with the naked eye. It is slightly larger, hotter, and more luminous than our Sun, but it has a lower abundance of elements heavier than helium. The star is the dominant member of a binary system that also includes a smaller orange dwarf star, Eta Cassiopeiae B. This system has an eccentric orbit, bringing the stars as close as Neptune to the Sun and as far as three times that distance. This system has been a favorite target of amateur astronomers, as the two stars in the binary pair are easily seen with a small telescope. ","custom_star_title":"Eta Cassiopeiae A","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"Achird","aliases":"EtaCassiopeiaeA,HD4614A,HR219A,GJ34A,Eta Cassiopeiae A,HD 4614 A,HR 219 A,GJ 34A","display_name":"Achird","tagline":"A nearby binary star awaiting exoplanet discovery","tic_id":"TIC 445258206","pop_culture":"Eta Cassiopeiae A has made appearances in science fiction, serving as a host star for planets in novels, games, and even in the \\"Star Trek: Enterprise\\" episode \\"Terra Nova,\\" where it hosts Terra Nova, a fictional extrasolar human colony.","detection_timeline":"To date, no exoplanets have been confirmed around Eta Cassiopeiae A. Due to the presence of the companion star, it is difficult to detect exoplanets using the radial velocity method. However, as a bright nearby star with similarities to our Sun, it is a prime target for future exoplanet exploration with direct imaging. Upcoming large space telescopes, capable of high-contrast imaging, could reveal Earth-sized exoplanets in the star\'s habitable zone. Because of the eccentricity of the orbits of the stars in the system, any exoplanets in this system would need to be located close to the host star for a stable orbit.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nEta Cassiopeia As radial velocity has been monitored for over a decade, but the presence of the companion star makes it more challenging to detect exoplanets with this technique. However, the observations have ruled out gas-giant exoplanets within a few astronomical units of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date. \\n\\nBecause Eta Cassiopeiae A is a nearby bright star, it is a prime target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone. These telescopes will also have the capability to detect larger planets farther from the star.","astrometry":"","constellation":"Cassiopeia","title":"Eta Cassiopeiae A","subtitle":"Eta Cassiopeiae A (also known as Achird) is a nearby yellowish-white star located in the constellation Cassiopeia. It is bright enough to be seen with the naked eye. It is slightly larger, hotter, and more luminous than our Sun, but it has a lower abundance of elements heavier than helium. The star is the dominant member of a binary system that also includes a smaller orange dwarf star, Eta Cassiopeiae B. This system has an eccentric orbit, bringing the stars as close as Neptune to the Sun and as far as three times that distance. This system has been a favorite target of amateur astronomers, as the two stars in the binary pair are easily seen with a small telescope. ","can_compare":true},{"id":26714,"planet_ids":[],"exo_id":"19_Ceti","st_vj":5.176,"st_optmag":5.176,"st_dist":15.923,"st_j":5.176,"st_mass":1.21,"dec":-10.6443289,"st_teff":6208,"st_rad":1.153,"ra":12.5316207,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"19_Ceti","custom_system_description":null,"custom_star_description":"19 Ceti is a nearby yellowish-white star located in the constellation Cetus. It is visible to the naked eye and relatively bright. Compared to the Sun, it is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium relative to the Sun.\\n","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"19Ceti","aliases":"19Ceti,HD4813,HR235,GJ37,HD 4813,HR 235,GJ 37","display_name":"19 Ceti","tagline":"","tic_id":"TIC 3962869","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around 19 Ceti. Due to its brightness and its similarities to the Sun, 19 Ceti is an excellent target for future exoplanet exploration, particularly through direct imaging techniques. Advanced space telescopes equipped with high-contrast imaging capabilities will play a crucial role in the search for exoplanets within the star\'s habitable zone. These telescopes will have the potential to detect both rocky exoplanets similar in size to Earth and larger planets located farther from the star.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nConsidering 19 Ceti\'s proximity and its comparable level of stellar magnetic activity to the Sun, it is well suited for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity and brightness, 19 Ceti is an attractive target for future direct imaging missions. Upcoming large space telescopes will employ direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capability to detect larger exoplanets situated at greater distances from the star.","astrometry":"","constellation":"Cetus","title":"19 Ceti","subtitle":"19 Ceti is a nearby yellowish-white star located in the constellation Cetus. It is visible to the naked eye and relatively bright. Compared to the Sun, it is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium relative to the Sun.\\n","can_compare":true},{"id":26715,"planet_ids":[],"exo_id":"HD_5015","st_vj":4.8,"st_optmag":4.8,"st_dist":18.8007,"st_j":4.8,"st_mass":1.18,"dec":61.123972,"st_teff":6105,"st_rad":1.656,"ra":13.2674852,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_5015","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD5015","aliases":"HR 244,GJ 41","display_name":"HD 5015","tagline":null,"tic_id":"TIC 285544488","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Cassiopeia","title":"HD 5015","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26716,"planet_ids":[],"exo_id":"Nu_Phoenicis","st_vj":4.966,"st_optmag":4.966,"st_dist":15.2609,"st_j":4.966,"st_mass":1.14,"dec":-45.5316646,"st_teff":6110,"st_rad":1.263,"ra":18.7963393,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Nu_Phoenicis","custom_system_description":null,"custom_star_description":"Nu Phoenicis is a nearby yellowish-white star located in the constellation Phoenix. It is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and twice as luminous. It has similar levels of stellar magnetic activity  than the Sun and a higher abundance of elements heavier than helium. Nu Phoenicis hosts a dusty debris disk located 12 astronomical units from the star.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"NuPhoenicis","aliases":"NuPhoenicis,HD7570,HR370,GJ55,HD 7570,HR 370,GJ 55","display_name":"Nu Phoenicis","tagline":"A bright star with a dusty debris disk","tic_id":"TIC 229092427","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Nu Phoenicis. Radial velocity measurements have ruled out the presence of gas giant exoplanets within a few astronomical units of the star. As a bright nearby star, Nu Phoenicis is a good target for exoplanet exploration with future large space telescopes. If there are rocky exoplanets as small as Earth in the stars habitable zone, these upcoming space telescopes could reveal them through direct imaging.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with similar levels of magnetic activity to the Sun, Nu Phoenicis is a good candidate for radial velocity studies. Current detection limits have already ruled out the existence of Jupiter-sized planets within a few astronomical units of the star.","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a bright nearby star,  Nu Phoenicis is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to Earths size within the stars habitable zone. These telescopes will also have the capability to detect larger exoplanets located farther away from the star.\\n","astrometry":"","constellation":"Phoenix","title":"Nu Phoenicis","subtitle":"Nu Phoenicis is a nearby yellowish-white star located in the constellation Phoenix. It is bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and twice as luminous. It has similar levels of stellar magnetic activity  than the Sun and a higher abundance of elements heavier than helium. Nu Phoenicis hosts a dusty debris disk located 12 astronomical units from the star.","can_compare":true},{"id":26717,"planet_ids":[],"exo_id":"Kappa_Tucanae_A","st_vj":4.912,"st_optmag":4.912,"st_dist":23.2606,"st_j":4.912,"st_mass":1.35,"dec":-68.8759448,"st_teff":6436,"st_rad":1.588,"ra":18.9420379,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Kappa_Tucanae_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"KappaTucanaeA","aliases":"HD 7788 A,HR 377 A,GJ 9049A","display_name":"Kappa Tucanae A","tagline":null,"tic_id":"TIC 52194638","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Tucana","title":"Kappa Tucanae A","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26719,"planet_ids":[],"exo_id":"p_Eridani_B","st_vj":5.876,"st_optmag":5.876,"st_dist":8.1965,"st_j":5.876,"st_mass":0.77,"dec":-56.1964481,"st_teff":5111,"st_rad":0.703,"ra":24.9481863,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"p_Eridani_B","custom_system_description":null,"custom_star_description":"p Eridani B is a nearby orange dwarf star located in the constellation Eridanus. It is bright enough to be seen with the naked eye. Compared to the Sun, p Eridani B is smaller, cooler, and less luminous. It exhibits similar levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. p Eridani B is part of the binary system p Eridani, with its slightly larger companion star, p Eridani A.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"pEridaniB","aliases":"pEridaniB,HD10361,HR487,GJ66A,HD 10361,HR 487,GJ 66A","display_name":"p Eridani B","tagline":"The smaller star in a nearby binary system","tic_id":"TIC 231005052","pop_culture":"The p Eridani system is featured in science fiction stories by Larry Niven as a host to several exoplanets. Additionally, it serves as the setting for Absolution Gap, a novel in the \\"Revelation Space\\" series by Alastair Reynolds.","detection_timeline":"To date, no exoplanets have been confirmed around p Eridani B. Given its brightness and proximity, p Eridani B represents a prime target for exoplanet exploration, particularly through future direct imaging missions. Advanced space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with similar levels of magnetic activity to the Sun, p Eridani B is a good candidate for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause p Eridani B is a bright nearby star, it is a prime target for future direct imaging. Upcoming large space telescopes will have the capability to utilize direct imaging techniques to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, these telescopes will be capable of detecting larger exoplanets positioned farther away from the star.","astrometry":"","constellation":"Eridanus","title":"p Eridani B","subtitle":"p Eridani B is a nearby orange dwarf star located in the constellation Eridanus. It is bright enough to be seen with the naked eye. Compared to the Sun, p Eridani B is smaller, cooler, and less luminous. It exhibits similar levels of stellar magnetic activity and has a lower abundance of elements heavier than helium than the Sun. p Eridani B is part of the binary system p Eridani, with its slightly larger companion star, p Eridani A.","can_compare":true},{"id":26720,"planet_ids":[],"exo_id":"p_Eridani_A","st_vj":5.764,"st_optmag":5.764,"st_dist":8.1894,"st_j":5.764,"st_mass":0.78,"dec":-56.1933179,"st_teff":5025,"st_rad":0.775,"ra":24.9492196,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"p_Eridani_A","custom_system_description":null,"custom_star_description":"p Eridani A is a nearby orange dwarf star situated in the constellation Eridanus. It is bright enough to be visible to the naked eye. Compared to the Sun, p Eridani A is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. It is part of the binary system p Eridani, where it has a slightly smaller orange dwarf companion star, p Eridani B.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"pEridaniA","aliases":"pEridaniA,HD10360,HR486,GJ66B,HD 10360,HR 486,GJ 66B","display_name":"p Eridani A","tagline":"A nearby star in a binary system ","tic_id":"TIC 231005905","pop_culture":"The p Eridani system is featured in science fiction stories by Larry Niven as a host to several exoplanets. Additionally, it serves as the setting for a book in the \\"Revelation Space\\" series by Alastair Reynolds.","detection_timeline":"To date, no exoplanets have been confirmed around p Eridani A. Being a bright nearby star, p Eridani A is a prime target for exoplanet exploration, particularly through future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal exoplanets within p Eridani A\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nGiven its proximity, p Eridani A is considered a promising candidate for future radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its brightness and proximity, p Eridani A stands as a prime target for future direct imaging missions. Advanced space telescopes will have the ability to employ direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Furthermore, these telescopes will enable the detection of larger exoplanets positioned at greater distances from the star.","astrometry":"","constellation":"Eridanus","title":"p Eridani A","subtitle":"p Eridani A is a nearby orange dwarf star situated in the constellation Eridanus. It is bright enough to be visible to the naked eye. Compared to the Sun, p Eridani A is smaller, cooler, and less luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium compared to the Sun. It is part of the binary system p Eridani, where it has a slightly smaller orange dwarf companion star, p Eridani B.","can_compare":true},{"id":26722,"planet_ids":[],"exo_id":"107_Piscium","st_vj":5.241,"st_optmag":5.241,"st_dist":7.6439,"st_j":5.241,"st_mass":0.85,"dec":20.2685127,"st_teff":5204,"st_rad":0.828,"ra":25.6240105,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"107_Piscium","custom_system_description":null,"custom_star_description":"107 Piscium is an orange dwarf star in the constellation Pisces, faintly visible to the naked eye. Older than the Sun, the star is smaller and less massive, with a slightly lower abundance of elements heavier than helium. The star has low levels of magnetic activity and rotates slowly.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"107Piscium","aliases":"107Piscium,HD10476,HR493,GJ68,HD 10476,HR 493,GJ 68","display_name":"107 Piscium","tagline":"A nearby star to explore","tic_id":"TIC 113710966","pop_culture":"In Alastair Reynolds\' 2003 novel, \\"Absolution Gap,\\" and in Jack McDevitt\'s novel, \\"Starhawk,\\" 107 Piscium is orbited by a planet.","detection_timeline":"To date, no planets have been detected around 107 Piscium. Previous radial velocity searches have ruled out the presence of a Jovian planet within a few astronomical units of the star. As a relatively bright and nearby star, with properties similar to the Sun, 107 Piscium is a good target for exoplanet exploration. The potential for discovery relies on future technologies and telescopes to reveal whats currently unseen.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a star with low stellar magnetic activity, 107 Piscium has been a good candidate for radial velocity planet searches, and past searches have ruled out a Jupiter-mass planet within a few astronomical units of the star.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a nearby star, just bright enough to be seen with the naked eye, 107 Piscium is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.  ","astrometry":"","constellation":"Pisces","title":"107 Piscium","subtitle":"107 Piscium is an orange dwarf star in the constellation Pisces, faintly visible to the naked eye. Older than the Sun, the star is smaller and less massive, with a slightly lower abundance of elements heavier than helium. The star has low levels of magnetic activity and rotates slowly.","can_compare":true},{"id":26724,"planet_ids":[],"exo_id":"V987_Cassiopeiae","st_vj":5.626,"st_optmag":5.626,"st_dist":10.0411,"st_j":5.626,"st_mass":0.9,"dec":63.8525031,"st_teff":5358,"st_rad":0.834,"ra":26.9368101,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"V987_Cassiopeiae","custom_system_description":null,"custom_star_description":"V987 Cassiopeiae is a nearby orange-yellow star located in the constellation Cassiopeia. It is faintly visible to the naked eye. Compared to the Sun, V987 Cassiopeiae is smaller, cooler, and about half as luminous. It exhibits higher levels of stellar magnetic activity and a slightly higher abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"V987Cassiopeiae","aliases":"V987Cassiopeiae,HD10780,HR511,GJ75,HD 10780,HR 511,GJ 75","display_name":"V987 Cassiopeiae","tagline":"","tic_id":"TIC 373694425","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around V987 Cassiopeiae. The star has undergone radial velocity monitoring, but no exoplanets have been detected. V987 Cassiopeiae, being a bright nearby Sun-like star, presents an excellent opportunity for exoplanet exploration, particularly through future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities may uncover potential exoplanets down to Earth size within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nV987 Cassiopeiae is considered a promising candidate for future radial velocity studies. Over a decade of monitoring has excluded the presence of Jupiter-sized planets within one astronomical unit of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity and brightness, V987 Cassiopeiae is a prime target for future direct imaging missions. Advanced space telescopes will utilize direct imaging techniques to search for exoplanets as small as Earth within the star\'s habitable zone. Moreover, these telescopes will have the capability to detect larger exoplanets located farther away from the star.","astrometry":"","constellation":"Cassiopeia","title":"V987 Cassiopeiae","subtitle":"V987 Cassiopeiae is a nearby orange-yellow star located in the constellation Cassiopeia. It is faintly visible to the naked eye. Compared to the Sun, V987 Cassiopeiae is smaller, cooler, and about half as luminous. It exhibits higher levels of stellar magnetic activity and a slightly higher abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26725,"planet_ids":[],"exo_id":"HD_14412","st_vj":6.336,"st_optmag":6.336,"st_dist":12.8347,"st_j":6.336,"st_mass":0.94,"dec":-25.9456872,"st_teff":5401,"st_rad":0.762,"ra":34.7437699,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_14412","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD14412","aliases":"HR 683,GJ 95","display_name":"HD 14412","tagline":null,"tic_id":"TIC 72748794","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Fornax","title":"HD 14412","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26727,"planet_ids":[],"exo_id":"Theta_Persei_A","st_vj":4.1,"st_optmag":4.1,"st_dist":11.1501,"st_j":4.1,"st_mass":1.21,"dec":49.2284485,"st_teff":6263,"st_rad":1.273,"ra":41.0499442,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Theta_Persei_A","custom_system_description":null,"custom_star_description":"Theta Persei A is a nearby yellowish-white star located in the constellation Perseus. It is visible to the naked eye and is larger, hotter, and more luminous compared to the Sun. Theta Persei A has less stellar magnetic activity than the Sun and has a similar abundance of elements heavier than helium. Theta Persei A is part of the binary star system Theta Persei, along with a red dwarf star, Theta Persei B.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"ThetaPerseiA","aliases":"ThetaPersei,ThetaPerseiA,HD16895A,HR799,GJ107A,Theta Persei,HD 16895 A,HR 799,GJ 107A","display_name":"Theta Persei A","tagline":"A nearby star with an unexplored habitable zone","tic_id":"TIC 302158903","pop_culture":"","detection_timeline":"To date no exoplanets have been confirmed around Theta Persei A. Given its brightness and similarities to the Sun, Theta Persei A is an ideal candidate for future exoplanet exploration using direct imaging. Advanced space telescopes with high-contrast imaging capabilities may reveal exoplanets within the star\'s habitable zone.","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a nearby bright star, Theta Persei A is a prime target for future direct imaging missions. These upcoming large space telescopes will have the capacity to detect exoplanets as small as Earth within the star\'s habitable zone. They will also enable the discovery of larger planets located farther from the star.","astrometry":"","constellation":"Perseus","title":"Theta Persei A","subtitle":"Theta Persei A is a nearby yellowish-white star located in the constellation Perseus. It is visible to the naked eye and is larger, hotter, and more luminous compared to the Sun. Theta Persei A has less stellar magnetic activity than the Sun and has a similar abundance of elements heavier than helium. Theta Persei A is part of the binary star system Theta Persei, along with a red dwarf star, Theta Persei B.","can_compare":true},{"id":26728,"planet_ids":[],"exo_id":"1_Eridani","st_vj":4.465,"st_optmag":4.465,"st_dist":14.2764,"st_j":4.465,"st_mass":1.21,"dec":-18.5726228,"st_teff":6330,"st_rad":1.345,"ra":41.2758283,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"1_Eridani","custom_system_description":null,"custom_star_description":"1 Eridani is a nearby yellowish-white star located in the Eridanus constellation, visible with the naked eye. Compared to the Sun, it is larger, hotter, and more luminous, with a higher stellar magnetic activity and a greater abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"1Eridani","aliases":"1Eridani,HD17206,HR818,GJ111,HD 17206,HR 818,GJ 111","display_name":"1 Eridani","tagline":"A bright star to search for exoplanets with future direct imaging","tic_id":"TIC 326242565","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around 1 Eridani. However, its similarities to the Sun make it an exciting target for future exoplanet research, particularly through direct imaging. With the development of upcoming space telescopes with high-contrast imaging capabilities, rocky exoplanets as small as Earth in the habitable zone of 1 Eridani may be discovered, as well as larger planets farther from the star.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs it is a magnetically active star, 1 Eridani is not a good candidate for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nAs a nearby bright star, 1 Eridani is an ideal target for future direct imaging with upcoming large space telescopes. These telescopes will have the capability to search for exoplanets as small as Earth in the habitable zone of 1 Eridani and may also detect larger planets farther from the star.","astrometry":"","constellation":"Eridanus","title":"1 Eridani","subtitle":"1 Eridani is a nearby yellowish-white star located in the Eridanus constellation, visible with the naked eye. Compared to the Sun, it is larger, hotter, and more luminous, with a higher stellar magnetic activity and a greater abundance of elements heavier than helium.","can_compare":true},{"id":26729,"planet_ids":[],"exo_id":"EP_Eridani","st_vj":6.038,"st_optmag":6.038,"st_dist":10.3605,"st_j":6.038,"st_mass":0.82,"dec":-12.7697133,"st_teff":5199,"st_rad":0.78,"ra":43.1338674,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"EP_Eridani","custom_system_description":null,"custom_star_description":"EP Eridani is a nearby orange dwarf star located in the constellation Eridanus. Relative to the Sun, it is smaller, cooler, and less than half as luminous. EP Eridani exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. The star is surrounded by a dusty debris disk situated at a distance of 18 astronomical units from the host star, which is far outside the habitable zone.\\n","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"EPEridani","aliases":"EPEridani,HD17925,HR857,GJ117,HD 17925,HR 857,GJ 117","display_name":"EP Eridani","tagline":"An orange star surrounded by a debris disk","tic_id":"TIC 30016911","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around EP Eridani. However, the star has been the subject of radial velocity studies and is considered a promising target for future direct imaging efforts. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth, within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nRadial velocity monitoring for over a decade has not led to any exoplanet detections to date.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, EP Eridani is a good target for future direct imaging. Upcoming large space telescopes will use direct imaging to search for exoplanets down to Earth size within the star\'s habitable zone.","astrometry":"","constellation":"Eridanus","title":"EP Eridani","subtitle":"EP Eridani is a nearby orange dwarf star located in the constellation Eridanus. Relative to the Sun, it is smaller, cooler, and less than half as luminous. EP Eridani exhibits higher levels of stellar magnetic activity and has a higher abundance of elements heavier than helium, compared to the Sun. The star is surrounded by a dusty debris disk situated at a distance of 18 astronomical units from the host star, which is far outside the habitable zone.\\n","can_compare":true},{"id":26730,"planet_ids":[],"exo_id":"Iota_Persei","st_vj":4.05,"st_optmag":4.05,"st_dist":10.5774,"st_j":4.05,"st_mass":1.08,"dec":49.6132784,"st_teff":5952,"st_rad":1.404,"ra":47.2667471,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Iota_Persei","custom_system_description":null,"custom_star_description":"Iota Persei is a bright star like the Sun, located relatively close to Earth, in the northern constellation Perseus. Larger and warmer than the Sun, Iota Persei is more than twice as luminous. Visible to the naked eye, it appears yellow-white. It has low levels of magnetic activity, and it has a slightly higher abundance of elements heavier than helium, as compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"IotaPersei","aliases":"IotaPersei,HD19373,HR937,GJ124,HD 19373,HR 937,GJ 124","display_name":"Iota Persei","tagline":"A bright star relatively nearby","tic_id":"TIC 116988032","pop_culture":"Iota Persei has been referenced in science-fiction literature as a potential planet host.","detection_timeline":"To date, no exoplanets have been detected around Iota Persei. As a bright Sun-like star so near to the Earth, Iota Persei is a promising target for future exoplanet exploration, particularly with direct imaging. If there are planets in the habitable zone around this Sun-like star, future space telescopes capable of high contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nIota Persei exhibits low levels of stellar magnetic activity, making it well-suited to radial velocity planet searches.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, Iota Persei is a good target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Perseus","title":"Iota Persei","subtitle":"Iota Persei is a bright star like the Sun, located relatively close to Earth, in the northern constellation Perseus. Larger and warmer than the Sun, Iota Persei is more than twice as luminous. Visible to the naked eye, it appears yellow-white. It has low levels of magnetic activity, and it has a slightly higher abundance of elements heavier than helium, as compared to the Sun.","can_compare":true},{"id":26731,"planet_ids":[],"exo_id":"Dalim","st_vj":3.8,"st_optmag":3.8,"st_dist":13.999,"st_j":3.8,"st_mass":1.25,"dec":-28.987622,"st_teff":6195,"st_rad":1.79,"ra":48.0188742,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Dalim","custom_system_description":null,"custom_star_description":"Alpha Fornacis A, also known as Dalim, is a nearby yellowish-white star located in the constellation Fornax. As the brightest star in its constellation, it represents the base of the furnace and is visible to the naked eye. Alpha Fornacis A is part of the Alpha Fornacis binary system, accompanied by the smaller blue straggler star, Alpha Fornacis B. Compared to the Sun, Alpha Fornacis A is considerably larger, hotter, and shines with over four times the luminosity. It has similar levels of stellar magnetic activity as the Sun, while having a lower abundance of elements heavier than helium. ","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"Dalim","aliases":"AlphaFornacis,HD20010A,HR963A,GJ127A,Alpha Fornacis,HD 20010 A,HR 963 A,GJ 127A","display_name":"Dalim","tagline":"","tic_id":"TIC 88523071","pop_culture":"","detection_timeline":"No confirmed exoplanets have been detected in the vicinity of Alpha Fornacis A to date. As a bright, nearby Sun-like star, it is a promising target for radial velocity studies and for future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will make it possible to search for Earth-sized planets within the habitable zone of Alpha Fornacis A.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAlpha Fornacis A, exhibits stellar magnetic activity levels similar to the Sun, making it a potential target for radial velocity studies.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Fornax","title":"Dalim","subtitle":"Alpha Fornacis A, also known as Dalim, is a nearby yellowish-white star located in the constellation Fornax. As the brightest star in its constellation, it represents the base of the furnace and is visible to the naked eye. Alpha Fornacis A is part of the Alpha Fornacis binary system, accompanied by the smaller blue straggler star, Alpha Fornacis B. Compared to the Sun, Alpha Fornacis A is considerably larger, hotter, and shines with over four times the luminosity. It has similar levels of stellar magnetic activity as the Sun, while having a lower abundance of elements heavier than helium. ","can_compare":true},{"id":26732,"planet_ids":[],"exo_id":"Zeta1_Reticuli","st_vj":5.513,"st_optmag":5.513,"st_dist":12.0447,"st_j":5.513,"st_mass":1.01,"dec":-62.5753201,"st_teff":5710,"st_rad":0.911,"ra":49.4423477,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Zeta1_Reticuli","custom_system_description":null,"custom_star_description":"Zeta1 Reticuli is one of two stars in a wide binary system called Zeta Reticuli, in the southern constellation Reticulum. This star and its companion, Zeta2 Reticuli, are both Sun-like stars, with Zeta2 Reticuli being slightly larger and brighter. Compared to the Sun, Zeta1 Reticuli is slightly smaller and less luminous, with more magnetic activity and a higher abundance of elements heavier than helium. The star is faintly visible to the naked eye.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"Zeta1Reticuli","aliases":"HD 20766,HR 1006,GJ 136","display_name":"Zeta1 Reticuli","tagline":"A Sun-like star in a bright, nearby binary system","tic_id":"TIC 279649057","pop_culture":"The Zeta Reticuli system has played a central role across a variety of media. The sci-fi horror films \\"Alien\\" and \\"Prometheus\\" feature expeditions to Zeta Reticuli. From television to literature, it has been the site of extraterrestrial life and technology. It has been included in the card game Yu-Gi-Oh, lyrics of the Muse song \\"Exo-Politics,\\" and even as part of the backstory for the alien-themed snack, Space Raiders.","detection_timeline":"To date, no exoplanets have been detected in the Zeta Reticuli system. As a star similar to the Sun, located relatively close to the Earth, Zeta1 Reticuli is a promising target for future exoplanet exploration, particularly with direct imaging. If there are planets in the stars habitable zone, future space telescopes capable of high contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby, at a wide separation from its binary companion, and the habitable zone would be far enough from the central star to image, Zeta1 Reticuli is a good target for future direct imaging. Future large space telescopes will be able to search for rocky exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Reticulum","title":"Zeta1 Reticuli","subtitle":"Zeta1 Reticuli is one of two stars in a wide binary system called Zeta Reticuli, in the southern constellation Reticulum. This star and its companion, Zeta2 Reticuli, are both Sun-like stars, with Zeta2 Reticuli being slightly larger and brighter. Compared to the Sun, Zeta1 Reticuli is slightly smaller and less luminous, with more magnetic activity and a higher abundance of elements heavier than helium. The star is faintly visible to the naked eye.","can_compare":true},{"id":26733,"planet_ids":[],"exo_id":"Zeta2_Reticuli","st_vj":5.232,"st_optmag":5.232,"st_dist":12.0394,"st_j":5.232,"st_mass":1.07,"dec":-62.5063624,"st_teff":5847,"st_rad":0.983,"ra":49.553412,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Zeta2_Reticuli","custom_system_description":null,"custom_star_description":"Zeta2 Reticuli is one of two stars in a wide binary system called Zeta Reticuli, in the southern constellation Reticulum. This star and its companion, Zeta1 Reticuli, are both Sun-like stars, with Zeta2 Reticuli being slightly larger and brighter. Although comparable in size and luminosity to the Sun, Zeta2 Reticuli is slightly warmer and more massive. It has a higher abundance of elements heavier than helium, relative to the Sun, and intermediate levels of magnetic activity. The star is faintly visible to the naked eye.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"Zeta2Reticuli","aliases":"HD 20807,HR 1010,GJ 138","display_name":"Zeta2 Reticuli","tagline":"A Sun-like star in a bright, nearby binary system","tic_id":"TIC 279649049","pop_culture":"The Zeta Reticuli system has played a central role across a variety of media. The sci-fi horror films \\"Alien\\" and \\"Prometheus\\" feature expeditions to Zeta Reticuli. From television to literature, it has been the site of extraterrestrial life and technology. It has been included in the card game Yu-Gi-Oh, lyrics of the Muse song \\"Exo-Politics,\\" and even as part of the backstory for the alien-themed snack, Space Raiders.","detection_timeline":"To date, no exoplanets have been detected in the Zeta Reticuli system. As a star so similar to the Sun, located relatively close to Earth, Zeta2 Reticuli is a promising target for future exoplanet exploration, particularly with direct imaging. If there are planets in the stars habitable zone, future space telescopes capable of high contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby, at a wide separation from its binary companion, and the habitable zone would be far enough from the central star to image, Zeta2 Reticuli is a good target for future direct imaging.  Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.  ","astrometry":"","constellation":"Reticulum","title":"Zeta2 Reticuli","subtitle":"Zeta2 Reticuli is one of two stars in a wide binary system called Zeta Reticuli, in the southern constellation Reticulum. This star and its companion, Zeta1 Reticuli, are both Sun-like stars, with Zeta2 Reticuli being slightly larger and brighter. Although comparable in size and luminosity to the Sun, Zeta2 Reticuli is slightly warmer and more massive. It has a higher abundance of elements heavier than helium, relative to the Sun, and intermediate levels of magnetic activity. The star is faintly visible to the naked eye.","can_compare":true},{"id":26734,"planet_ids":[],"exo_id":"Kappa1_Ceti","st_vj":4.85,"st_optmag":4.85,"st_dist":9.2762,"st_j":4.85,"st_mass":0.98,"dec":3.3701986,"st_teff":5709,"st_rad":0.946,"ra":49.8404013,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Kappa1_Ceti","custom_system_description":null,"custom_star_description":"Kappa1 Ceti is a young, nearby star that closely resembles the Sun. It can be seen with the naked eye and exhibits variations in brightness caused by star spots on its surface. Additionally, Kappa1 Ceti emits X-ray flares and has higher levels of stellar magnetic activity compared to the Sun. In terms of size and temperature, it is similar to the Sun, but it has a slightly higher abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"Kappa1Ceti","aliases":"Kappa1Ceti,HD20630,HR996,GJ137,HD 20630,HR 996,GJ 137","display_name":"Kappa1 Ceti","tagline":"A young star very similar to the Sun","tic_id":"TIC 343813545","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around Kappa1 Ceti. Due to its proximity and similarities to the Sun, Kappa1 Ceti holds great promise for future exoplanet exploration using direct imaging. With the aid of upcoming large space telescopes equipped with high-contrast imaging capabilities, scientists may uncover exoplanets down to Earth size within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nRadial velocity studies spanning over two decades have been conducted for Kappa1 Ceti, yet no exoplanets have been detected so far.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nGiven its brightness and proximity, Kappa1 Ceti is an ideal candidate for future direct imaging endeavors. Upcoming large space telescopes will have the capability to detect Earth-sized rocky exoplanets residing within the star\'s habitable zone, as well as larger planets situated farther from the star.","astrometry":"","constellation":"Cetus","title":"Kappa1 Ceti","subtitle":"Kappa1 Ceti is a young, nearby star that closely resembles the Sun. It can be seen with the naked eye and exhibits variations in brightness caused by star spots on its surface. Additionally, Kappa1 Ceti emits X-ray flares and has higher levels of stellar magnetic activity compared to the Sun. In terms of size and temperature, it is similar to the Sun, but it has a slightly higher abundance of elements heavier than helium.","can_compare":true},{"id":26736,"planet_ids":[],"exo_id":"Kappa_Reticuli_A","st_vj":4.703,"st_optmag":4.703,"st_dist":21.7816,"st_j":4.703,"st_mass":1.32,"dec":-62.9375289,"st_teff":6662,"st_rad":1.658,"ra":52.3444893,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Kappa_Reticuli_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"KappaReticuliA","aliases":"HD 22001 A,HR 1083 A,GJ 9118A","display_name":"Kappa Reticuli A","tagline":null,"tic_id":"TIC 262843771","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Reticulum","title":"Kappa Reticuli A","subtitle":"An F-type star, which is  visible from Earth.","can_compare":true},{"id":26738,"planet_ids":[],"exo_id":"10_Tauri","st_vj":4.291,"st_optmag":4.291,"st_dist":13.9204,"st_j":4.291,"st_mass":1.14,"dec":0.4016645,"st_teff":5996,"st_rad":1.623,"ra":54.2182654,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"10_Tauri","custom_system_description":null,"custom_star_description":"10 Tauri is a nearby yellowish-white star located in the constellation Taurus. It is visible to the naked eye. Compared to the Sun, it is larger, slightly hotter, and three times more luminous. It exhibits less stellar magnetic activity than the Sun and has a lower abundance of elements heavier than helium. 10 Tauri is surrounded by a dusty debris disk, with a radius of 14 astronomical units, far enough from the star so that the habitable zone is undisturbed.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"10Tauri","aliases":"10Tauri,HD22484,HR1101,GJ147,HD 22484,HR 1101,GJ 147","display_name":"10 Tauri","tagline":"A large bright star with a dusty debris disk","tic_id":"TIC 311092847","pop_culture":"","detection_timeline":"To date, there have been no exoplanets confirmed around 10 Tauri. Radial velocity studies have been conducted, ruling out the presence of Jupiter-sized exoplanets within one astronomical unit of the star. As a bright nearby star with similarities to the Sun, 10 Tauri is considered a promising target for exoplanet exploration. Future large space telescopes equipped with high- contrast imaging capabilities will enable the direct imaging of rocky exoplanets as small as Earth within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nSince 10 Tauri is a nearby star with less stellar magnetic activity than the Sun, it is well suited for radial velocity studies. It has been monitored for over a decade, but no exoplanets have been detected. These observations have ruled out Jupiter-sized exoplanets within an astronomical unit of the star.\\n","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nDue to its proximity and brightness, 10 Tauri is an excellent candidate for future direct imaging missions. Upcoming large space telescopes will have the capability to use direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capacity to detect larger exoplanets situated farther from the star. Although 10 Tauri has a debris disk, it is located outside the habitable zone and will not affect the direct imaging of rocky exoplanets within this region.\\n","astrometry":"","constellation":"Taurus","title":"10 Tauri","subtitle":"10 Tauri is a nearby yellowish-white star located in the constellation Taurus. It is visible to the naked eye. Compared to the Sun, it is larger, slightly hotter, and three times more luminous. It exhibits less stellar magnetic activity than the Sun and has a lower abundance of elements heavier than helium. 10 Tauri is surrounded by a dusty debris disk, with a radius of 14 astronomical units, far enough from the star so that the habitable zone is undisturbed.","can_compare":true},{"id":26739,"planet_ids":[],"exo_id":"Rana","st_vj":3.537,"st_optmag":3.537,"st_dist":9.0888,"st_j":3.537,"st_mass":0.87,"dec":-9.7633919,"st_teff":5045,"st_rad":2.245,"ra":55.8120856,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Rana","custom_system_description":null,"custom_star_description":"Delta Eridani, also known as Rana, is an orange star located in the constellation Eridanus. It is visible with the naked eye and is the fifth brightest star in this constellation. Compared to the Sun, it is larger, cooler, and almost three times more luminous. It has lower levels of stellar magnetic activity than the Sun and a higher abundance of elements heavier than helium.","custom_star_title":"Delta Eridani","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"Rana","aliases":"DeltaEridani,HD23249,HR1136,GJ150,Delta Eridani,HD 23249,HR 1136,GJ 150","display_name":"Rana","tagline":"","tic_id":"TIC 38511251","pop_culture":"Delta Eridani is used for navigation in the movie \\"Sky Captain and the World of Tomorrow,\\" and is featured in the Star Trek episode \\"The Survivors.\\" In the science fiction novel We Are Legion by Dennis E Taylor, Delta Eridani is where first contact with alien life occurs.","detection_timeline":"To date, no exoplanets have been confirmed around Delta Eridani. Radial velocity studies have ruled out gas-giant exoplanets within a few astronomical units of the star. Delta Eridani is an excellent target for future direct imaging because it is a nearby star with many similarities to the Sun. If exoplanets as small as Earth exist in the star\'s habitable zone, upcoming large space telescopes that are capable of high-contrast imaging could detect them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nDelta Eridani is a nearby star with low levels of stellar magnetic activity, making it a great candidate for radial velocity studies. Despite being monitored for over a decade, no exoplanets have been detected. However, observations have ruled out gas-giant exoplanets within a few astronomical units of the star.\\n","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date. \\n\\nDelta Eridani is a bright nearby star, which makes it an excellent target for future direct imaging. Upcoming large space telescopes will have the capability to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone. These telescopes will also have the potential to detect larger exoplanets farther from the star.","astrometry":"","constellation":"Eridanus","title":"Delta Eridani","subtitle":"Delta Eridani, also known as Rana, is an orange star located in the constellation Eridanus. It is visible with the naked eye and is the fifth brightest star in this constellation. Compared to the Sun, it is larger, cooler, and almost three times more luminous. It has lower levels of stellar magnetic activity than the Sun and a higher abundance of elements heavier than helium.","can_compare":true},{"id":26740,"planet_ids":[],"exo_id":"27_Eridani","st_vj":4.21,"st_optmag":4.21,"st_dist":17.7847,"st_j":4.21,"st_mass":1.33,"dec":-23.2497228,"st_teff":6685,"st_rad":1.678,"ra":56.7120305,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"27_Eridani","custom_system_description":null,"custom_star_description":"27 Eridani is a yellowish-white star located in the constellation Eridanus, bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more than five times as luminous. It has similar levels of stellar magnetic activity and a higher abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"27Eridani","aliases":"27Eridani,HD23754,HR1173,GJ155,HD 23754,HR 1173,GJ 155","display_name":"27 Eridani","tagline":"","tic_id":"TIC 121078878","pop_culture":"","detection_timeline":"No exoplanets have been confirmed around 27 Eridani to date. However, as a bright, nearby Sun-like star, it is a target for exoplanet searches with future direct imaging missions. Upcoming large space telescopes equipped with high-contrast imaging capabilities will make it possible to search for Earth-sized exoplanets within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\n27 Eridani\'s high temperature makes it unsuitable for exoplanet searches using radial velocity measurements.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Eridanus","title":"27 Eridani","subtitle":"27 Eridani is a yellowish-white star located in the constellation Eridanus, bright enough to be seen with the naked eye. Relative to the Sun, it is larger, hotter, and more than five times as luminous. It has similar levels of stellar magnetic activity and a higher abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26741,"planet_ids":[],"exo_id":"HD_25457","st_vj":5.361,"st_optmag":5.361,"st_dist":18.707,"st_j":5.361,"st_mass":1.21,"dec":-0.2689222,"st_teff":6268,"st_rad":1.206,"ra":60.6531011,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_25457","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD25457","aliases":"HR 1249,GJ 159","display_name":"HD 25457","tagline":null,"tic_id":"TIC 9150015","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Eridanus","title":"HD 25457","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26742,"planet_ids":[],"exo_id":"50_Persei","st_vj":5.522,"st_optmag":5.522,"st_dist":21.1919,"st_j":5.522,"st_mass":1.18,"dec":38.0397386,"st_teff":6381,"st_rad":1.242,"ra":62.1525715,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"50_Persei","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"50Persei","aliases":"HD 25998,HR 1278,GJ 9145","display_name":"50 Persei","tagline":null,"tic_id":"TIC 353257675","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Perseus","title":"50 Persei","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26744,"planet_ids":[],"exo_id":"58_Eridani","st_vj":5.489,"st_optmag":5.489,"st_dist":13.24,"st_j":5.489,"st_mass":1.04,"dec":-16.9344557,"st_teff":5833,"st_rad":0.962,"ra":71.9012154,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"58_Eridani","custom_system_description":null,"custom_star_description":"58 Eridani is a star like the Sun located relatively close to Earth. It is faintly visible to the naked eye in the southern constellation Eridanus. Comparable in size, temperature and luminosity to the Sun, the star has a relatively higher abundance of elements heavier than helium. 58 Eridani is a young, magnetically active star, surrounded by a dusty debris disk.","custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"aliases":"HD 30495,HR 1532,GJ 177","display_name":"58 Eridani","tagline":"A bright, young Sun-like star nearby","tic_id":"TIC 117979951","pop_culture":"58 Eridani has been featured in several works, including Ted Chiang\'s short story, \\"Omphalos,\\" and M.D. Cooper\'s \\"Aeon 14\\" series.","detection_timeline":"To date, no exoplanets have been detected around 58 Eridani. As a star similar to the Sun, located relatively close to Earth, 58 Eridani is a promising target for future exoplanet exploration, particularly with direct imaging. If there are planets in the stars habitable zone, future space telescopes capable of high contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nThe magnetic activity of the star makes 58 Eridani a more challenging target for radial velocity planet searches.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is nearby and the habitable zone would be far enough from the central star to image, 58 Eridani is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":null,"constellation":"Eridanus","title":"58 Eridani","subtitle":"58 Eridani is a star like the Sun located relatively close to Earth. It is faintly visible to the naked eye in the southern constellation Eridanus. Comparable in size, temperature and luminosity to the Sun, the star has a relatively higher abundance of elements heavier than helium. 58 Eridani is a young, magnetically active star, surrounded by a dusty debris disk.","can_compare":true},{"id":26745,"planet_ids":[],"exo_id":"Tabit","st_vj":3.184,"st_optmag":3.184,"st_dist":8.0684,"st_j":3.184,"st_mass":1.25,"dec":6.9612745,"st_teff":6443,"st_rad":1.321,"ra":72.4600454,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Tabit","custom_system_description":null,"custom_star_description":"Pi3 Orionis, also known as Tabit, is a hot Sun-like star visible to the naked eye in the constellation Orion, where it is the brightest star in Orions shield. Located relatively nearby, at a distance of 26 light-years, this yellow-white star is larger, hotter, and nearly three times more luminous than the Sun. It has a low level of magnetic activity, nearly equal to the Sun. Pi3 Orionis may be a variable star","custom_star_title":"Pi3 Orionis","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"Tabit","aliases":"Pi3Orionis,HD30652,HR1543,GJ178,Pi3 Orionis,HD 30652,HR 1543,GJ 178","display_name":"Tabit","tagline":"A bright star in Orion worth exploring","tic_id":"TIC 399665349","pop_culture":"In Star Trek non-canon fandom, Pi3 Orionis is located in the Beta-Quadrant near Federation space, but is not part of the Federation. It was visited by Zefram Cochrane (the inventor of warp drive) on his last voyage in 2120.","detection_timeline":"To date, no planets have been detected around Pi3 Orionis. While its low magnetic activity makes the star well suited to radial velocity searches, direct imaging with future space telescopes could reveal as yet unseen Earthlike planets. As a bright nearby star, Pi3 Orionis is a prime target for future exoplanet exploration.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a star with low magnetic activity, Pi3 Orionis has been a target for radial velocity planet searches, but no planets have been detected yet, with massive planets ruled out within a few astronomical units.","transit_planets_prospects":"0 planets have been detected to date around this star with transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a bright nearby star, Pi3 Orionis is a prime target for future direct imaging. future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.  ","astrometry":"","constellation":"Orion","title":"Pi3 Orionis","subtitle":"Pi3 Orionis, also known as Tabit, is a hot Sun-like star visible to the naked eye in the constellation Orion, where it is the brightest star in Orions shield. Located relatively nearby, at a distance of 26 light-years, this yellow-white star is larger, hotter, and nearly three times more luminous than the Sun. It has a low level of magnetic activity, nearly equal to the Sun. Pi3 Orionis may be a variable star","can_compare":true},{"id":26746,"planet_ids":[],"exo_id":"HD_32147","st_vj":6.202,"st_optmag":6.202,"st_dist":8.844,"st_j":6.202,"st_mass":0.75,"dec":-5.7536734,"st_teff":4810,"st_rad":0.776,"ra":75.2041639,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_32147","custom_system_description":null,"custom_star_description":"HD 32147 is a nearby orange dwarf star located in the constellation Eridanus. Compared to the Sun, it is smaller, cooler, and much less luminous. It exhibits similar levels of stellar magnetic activity but has a significantly higher abundance of elements heavier than helium, relative to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"HD32147","aliases":"HD32147,HD32147,HR1614,GJ183,HR 1614,GJ 183","display_name":"HD 32147","tagline":"A nearby star to search for exoplanets","tic_id":"TIC 213041474","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 32147. Radial velocity planet searches have been conducted, ruling out the presence of hot Jupiter exoplanets. As a bright nearby star, HD 32147 is a promising target for future direct imaging. If there are exoplanets within the star\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to reveal them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nHD 32147, being a nearby star with stellar magnetic activity levels similar to the Sun, is suitable for radial velocity studies. It has been monitored for over two decades, but no exoplanets have been detected. These radial velocity measurements have effectively ruled out the presence of Jupiter-sized planets within one astronomical unit of the star.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 32147 is a good target for future direct imaging. Upcoming large space telescopes will be able to search for rocky exoplanets as small as Earth within the star\'s habitable zone. ","astrometry":"","constellation":"Eridanus","title":"HD 32147","subtitle":"HD 32147 is a nearby orange dwarf star located in the constellation Eridanus. Compared to the Sun, it is smaller, cooler, and much less luminous. It exhibits similar levels of stellar magnetic activity but has a significantly higher abundance of elements heavier than helium, relative to the Sun.","can_compare":true},{"id":26747,"planet_ids":[],"exo_id":"Zeta_Doradus_A","st_vj":4.701,"st_optmag":4.701,"st_dist":11.6927,"st_j":4.701,"st_mass":1.14,"dec":-57.4727047,"st_teff":6158,"st_rad":1.064,"ra":76.377732,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Zeta_Doradus_A","custom_system_description":null,"custom_star_description":"Zeta Doradus A is a nearby yellowish-white star located in the constellation Dorado, which represents a swordfish or dolphinfish. It is the sixth brightest star in the constellation and forms the back of the swordfish. Compared to the Sun, it is larger, hotter, and more luminous, and it has more stellar magnetic activity but a lower abundance of elements heavier than helium. Zeta Doradus A is a very young star, with a debris disk orbiting at a radius of seven astronomical units. It is part of the binary system Zeta Doradus, which also includes an orange dwarf star, Zeta Doradus B.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"ZetaDoradusA","aliases":"ZetaDoradusA,HD33262A,HR1674A,GJ189,HD 33262 A,HR 1674 A,GJ 189","display_name":"Zeta Doradus A","tagline":"A young star surrounded by a dusty disk that could have planets","tic_id":"TIC 381949122","pop_culture":"In the novels based on the \\"Halo\\" video game franchise, the Zeta Doradus system features an artificial planet called Onyx that orbits around it. Additionally, in an issue of Marvel\'s \\"Fantastic Four\\" comics, there is a planet called Zeta Doradus that the superheroes visit.","detection_timeline":"To date, no exoplanets have been confirmed around Zeta Doradus A. However, as a bright nearby star, Zeta Doradus A presents a good opportunity for exoplanet exploration, particularly through future direct imaging. If there are rocky exoplanets within the star\'s habitable zone, upcoming large space telescopes equipped with high-contrast imaging capabilities could potentially reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a young star with higher stellar magnetic activity than the Sun, Zeta Doradus A is not well-suited for radial velocity studies. As a result, limits have not been placed on the existence of exoplanets within the system, based on radial velocity measurements.\\n","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause Zeta Doradus A is a bright nearby star, it is a good target for future direct imaging. Upcoming large space telescopes will have the capability to employ direct imaging techniques in the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Moreover, these telescopes will also have the capacity to detect larger exoplanets located farther away from the star.\\n","astrometry":"","constellation":"Dorado","title":"Zeta Doradus A","subtitle":"Zeta Doradus A is a nearby yellowish-white star located in the constellation Dorado, which represents a swordfish or dolphinfish. It is the sixth brightest star in the constellation and forms the back of the swordfish. Compared to the Sun, it is larger, hotter, and more luminous, and it has more stellar magnetic activity but a lower abundance of elements heavier than helium. Zeta Doradus A is a very young star, with a debris disk orbiting at a radius of seven astronomical units. It is part of the binary system Zeta Doradus, which also includes an orange dwarf star, Zeta Doradus B.","can_compare":true},{"id":26748,"planet_ids":[],"exo_id":"104_Tauri","st_vj":4.915,"st_optmag":4.915,"st_dist":15.9172,"st_j":4.915,"st_mass":1.04,"dec":18.6450499,"st_teff":5691,"st_rad":1.594,"ra":76.8625232,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"104_Tauri","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"104Tauri","aliases":"HD 32923,HR 1656,GJ 188","display_name":"104 Tauri","tagline":null,"tic_id":"TIC 27136704","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Taurus","title":"104 Tauri","subtitle":"A G-type star, which is  visible from Earth.","can_compare":true},{"id":26749,"planet_ids":[],"exo_id":"Lambda_Aurigae","st_vj":4.705,"st_optmag":4.705,"st_dist":12.5625,"st_j":4.705,"st_mass":1.08,"dec":40.0990514,"st_teff":5854,"st_rad":1.279,"ra":79.7853144,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Lambda_Aurigae","custom_system_description":null,"custom_star_description":"Lambda Aurigae is a nearby Sun-like star located in the constellation Auriga, bright enough to be visible to the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has less stellar magnetic activity and a higher abundance of elements heavier than helium compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"LambdaAurigae","aliases":"LambdaAurigae,HD34411,HR1729,GJ197,HD 34411,HR 1729,GJ 197","display_name":"Lambda Aurigae","tagline":"A Sun-like star ready for exoplanetary research","tic_id":"TIC 409104974","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Lambda Aurigae. Radial velocity measurements have not revealed any exoplanets, and they should have already detected large gas giants if they were within one astronomical unit of the star. As a bright nearby star like the Sun, Lambda Aurigae is a prime target for exoplanet searches with future direct imaging. If there are exoplanets as small as Earth in the stars habitable zone, upcoming large space telescopes capable of high-contrast imaging could reveal them.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nAs a nearby star with less stellar magnetic activity than the Sun, Lambda Aurigae is a good target for radial velocity monitoring. It has been the subject of studies for over twenty years, but no exoplanets have been detected. Current radial velocity measurements have ruled out large gas giants within an astronomical unit of the star.","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause Lambda Aurigae is a bright nearby star, it is a prime target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for small exoplanets down to the size of Earth in the star\'s habitable zone. These telescopes will also have the capability to detect larger planets farther from the star.","astrometry":"","constellation":"Auriga","title":"Lambda Aurigae","subtitle":"Lambda Aurigae is a nearby Sun-like star located in the constellation Auriga, bright enough to be visible to the naked eye. Relative to the Sun, it is larger, slightly hotter, and more luminous. It has less stellar magnetic activity and a higher abundance of elements heavier than helium compared to the Sun.","can_compare":true},{"id":26750,"planet_ids":[],"exo_id":"111_Tauri","st_vj":5.009,"st_optmag":5.009,"st_dist":14.5792,"st_j":5.009,"st_mass":1.18,"dec":17.3835351,"st_teff":6131,"st_rad":1.182,"ra":81.106097,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"111_Tauri","custom_system_description":null,"custom_star_description":"111 Tauri is a yellowish-white star located in the constellation Taurus, visible to the naked eye. In comparison to the Sun, it is larger, hotter, and more luminous. It exhibits more stellar magnetic activity and a slightly higher abundance of elements heavier than helium. 111 Tauri is a young star and rotates rapidly.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"111Tauri","aliases":"111Tauri,HD35296,HR1780,GJ202,HD 35296,HR 1780,GJ 202","display_name":"111 Tauri","tagline":"","tic_id":"TIC 47346402","pop_culture":"","detection_timeline":"To date, no exoplanets have been detected around 111 Tauri. As a bright nearby star, 111 Tauri represents an excellent target for exoplanet exploration, especially through future direct imaging searches. Advanced space telescopes equipped with high-contrast imaging capabilities hold the potential to reveal Earth-sized exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nDue to its higher level of magnetic activity and being a young, rapidly-rotating star, 111 Tauri is not well suited to radial velocity searches for exoplanets. ","transit_planets_prospects":"","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 111 Tauri is a bright nearby star, it is a prime target for future direct imaging. Upcoming large space telescopes will have the capability to employ direct imaging techniques, enabling the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will be able to detect larger exoplanets located farther away from the star.","astrometry":"","constellation":"Taurus","title":"111 Tauri","subtitle":"111 Tauri is a yellowish-white star located in the constellation Taurus, visible to the naked eye. In comparison to the Sun, it is larger, hotter, and more luminous. It exhibits more stellar magnetic activity and a slightly higher abundance of elements heavier than helium. 111 Tauri is a young star and rotates rapidly.","can_compare":true},{"id":26752,"planet_ids":[],"exo_id":"V538_Aurigae","st_vj":6.2,"st_optmag":6.2,"st_dist":12.2701,"st_j":6.2,"st_mass":0.88,"dec":53.481058,"st_teff":5226,"st_rad":0.843,"ra":85.334732,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"V538_Aurigae","custom_system_description":null,"custom_star_description":"V538 Aurigae is a nearby orange dwarf star located in the constellation Auriga. Compared to the Sun, it is smaller, cooler, and half as luminous. It exhibits higher stellar magnetic activity and has a higher abundance of elements heavier than helium, relative to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"V538Aurigae","aliases":"V538Aurigae,HD37394,HR1925,GJ211,HD 37394,HR 1925,GJ 211","display_name":"V538 Aurigae","tagline":"A nearby star to continue the search for exoplanets around","tic_id":"TIC 311063391","pop_culture":"V538 Aurigae is depicted as hosting an exoplanet with a mysterious giant structure in the novel \\"Purgatory Mount\\" by Adam Roberts.","detection_timeline":"As of now, no exoplanets have been confirmed around V538 Aurigae. Given its proximity, V538 Aurigae is a promising target for future direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth, within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, V538 Aurigae is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone and characterize the planets detected with radial velocity measurements.","astrometry":"","constellation":"Auriga","title":"V538 Aurigae","subtitle":"V538 Aurigae is a nearby orange dwarf star located in the constellation Auriga. Compared to the Sun, it is smaller, cooler, and half as luminous. It exhibits higher stellar magnetic activity and has a higher abundance of elements heavier than helium, relative to the Sun.","can_compare":true},{"id":26753,"planet_ids":[],"exo_id":"Gamma_Leporis_B","st_vj":6.142,"st_optmag":6.142,"st_dist":8.8916,"st_j":6.142,"st_mass":0.81,"dec":-22.4218374,"st_teff":4950,"st_rad":0.719,"ra":86.1105697,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Gamma_Leporis_B","custom_system_description":null,"custom_star_description":"Gamma Leporis B, also known as AK Leporis, is a bright orange dwarf star located in the constellation Lepus. In the constellation, it represents one of the rear feet of the hare. Compared to the Sun, Gamma Leporis B is smaller, cooler, and significantly less luminous. It exhibits higher stellar magnetic activity and a lower abundance of elements heavier than helium, relative to the Sun. Gamma Leporis B forms a visual binary with Gamma Leporis A, which means that they appear close together in the sky but do not orbit each other.","custom_star_title":"","custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"GammaLeporisB","aliases":"GammaLeporisB,HD38392,HR1982,GJ216B,HD 38392,HR 1982,GJ 216B","display_name":"Gamma Leporis B","tagline":"A nearby star to explore","tic_id":"TIC 93279196","pop_culture":"Gamma Leporis B is featured in a tabletop roleplaying game inspired by the \\"Alien\\" franchise, where it was the host of an exoplanet that once sustained life, but was ultimately destroyed by an asteroid impact.","detection_timeline":"To date, no exoplanets have been confirmed around Gamma Leporis B. As a bright nearby star, Gamma Leporis B holds potential for future direct imaging. If there are exoplanets within the star\'s habitable zone, upcoming large space telescopes with high-contrast imaging capabilities will be able to detect them.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nGamma Leporis B is a promising candidate for radial velocity studies. ","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, Gamma Leporis B is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.\\n","astrometry":"","constellation":"Lepus","title":"Gamma Leporis B","subtitle":"Gamma Leporis B, also known as AK Leporis, is a bright orange dwarf star located in the constellation Lepus. In the constellation, it represents one of the rear feet of the hare. Compared to the Sun, Gamma Leporis B is smaller, cooler, and significantly less luminous. It exhibits higher stellar magnetic activity and a lower abundance of elements heavier than helium, relative to the Sun. Gamma Leporis B forms a visual binary with Gamma Leporis A, which means that they appear close together in the sky but do not orbit each other.","can_compare":true},{"id":26754,"planet_ids":[],"exo_id":"Gamma_Leporis_A","st_vj":3.596,"st_optmag":3.596,"st_dist":8.905,"st_j":3.596,"st_mass":1.23,"dec":-22.4483855,"st_teff":6313,"st_rad":1.28,"ra":86.1157942,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Gamma_Leporis_A","custom_system_description":null,"custom_star_description":"Gamma Leporis A is a nearby yellowish-white star located in the constellation Lepus, which represents a hare. The sixth brightest star in the constellation, it is one of the rear feet of the hare and is visible to the naked eye. Relative to the Sun, it is larger, hotter, and more than twice as luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun. Gamma Leporis A forms a visual binary with Gamma Leporis B, which means that although they are not orbiting each other, they appear very close together in the sky, when observed from Earth.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"GammaLeporisA","aliases":"GammaLeporisA,HD38393,HR1983,GJ216A,HD 38393,HR 1983,GJ 216A","display_name":"Gamma Leporis A","tagline":"","tic_id":"TIC 93280676","pop_culture":"Gamma Leporis A makes an appearance in a tabletop roleplaying game based on the Alien franchise, where it serves as the host star for a terraformed planet capable of supporting human life.","detection_timeline":"As of now, no exoplanets have been confirmed around Gamma Leporis A. However, this bright nearby star remains a prime target for exoplanet exploration, especially through future advancements in direct imaging techniques. With upcoming large space telescopes equipped for high-contrast imaging, there will be the potential to reveal exoplanets within the star\'s habitable zone as small as Earth, as well as larger planets located farther from the star.","rv_planets_prospects":"","transit_planets_prospects":"","imaging_planets_prospects":"Because Gamma Leporis A is a bright nearby star, it\'s a prime candidate for future direct imaging. Upcoming large space telescopes will use direct imaging to search for exoplanets down to Earths size within the star\'s habitable zone, as well as larger exoplanets situated at greater distances from the star.","astrometry":"","constellation":"Lepus","title":"Gamma Leporis A","subtitle":"Gamma Leporis A is a nearby yellowish-white star located in the constellation Lepus, which represents a hare. The sixth brightest star in the constellation, it is one of the rear feet of the hare and is visible to the naked eye. Relative to the Sun, it is larger, hotter, and more than twice as luminous. It exhibits higher levels of stellar magnetic activity and has a lower abundance of elements heavier than helium, compared to the Sun. Gamma Leporis A forms a visual binary with Gamma Leporis B, which means that although they are not orbiting each other, they appear very close together in the sky, when observed from Earth.","can_compare":true},{"id":26755,"planet_ids":[],"exo_id":"HD_38858","st_vj":5.973,"st_optmag":5.973,"st_dist":15.2104,"st_j":5.973,"st_mass":1.02,"dec":-4.0946449,"st_teff":5731,"st_rad":0.922,"ra":87.1455844,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_38858","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD38858","aliases":"HR 2007,GJ 1085","display_name":"HD 38858","tagline":null,"tic_id":"TIC 176521059","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Orion","title":"HD 38858","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26756,"planet_ids":[],"exo_id":"Alpha_Mensae_A","st_vj":5.076,"st_optmag":5.076,"st_dist":10.2129,"st_j":5.076,"st_mass":0.96,"dec":-74.753044,"st_teff":5594,"st_rad":0.99,"ra":92.5603024,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Alpha_Mensae_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"AlphaMensaeA","aliases":"HD 43834 A,HR 2261 A,GJ 231A","display_name":"Alpha Mensae A","tagline":null,"tic_id":"TIC 141810080","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Mensa","title":"Alpha Mensae A","subtitle":"A G-type star, which is not visible from Earth.","can_compare":true},{"id":26757,"planet_ids":[],"exo_id":"71_Orionis","st_vj":5.2,"st_optmag":5.2,"st_dist":21.7763,"st_j":5.2,"st_mass":1.29,"dec":19.1564479,"st_teff":6539,"st_rad":1.335,"ra":93.7119848,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"71_Orionis","custom_system_description":null,"custom_star_description":"71 Orionis is a yellowish-white star located in the constellation Orion, visible to the naked eye. It is larger, hotter, and much more luminous than the Sun, and has a higher abundance of elements heavier than helium. It also exhibits more magnetic activity than the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"71Orionis","aliases":"71Orionis,HD43042,HR2220,GJ3390,HD 43042,HR 2220,GJ 3390","display_name":"71 Orionis","tagline":"A nearby star with an unexplored habitable zone","tic_id":"TIC 46125330","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 71 Orionis. Radial velocity measurements have ruled out the presence of exoplanets larger than Jupiter very close to the star. As a nearby bright star with many similarities to the Sun, 71 Orionis is a promising target for future direct imaging. Upcoming large space telescopes capable of high-contrast imaging could reveal exoplanets in the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with more magnetic activity than the Sun, 71 Orionis is a potentially suitable candidate for radial velocity studies. It has been monitored for over a decade, without any exoplanet detections. These observations have ruled out exoplanets larger than Jupiter very close to the star.\\n","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nAs a nearby bright star, 71 Orionis is a good target for future direct imaging. Upcoming large space telescopes will have the capability to detect rocky exoplanets down to the size of Earth in the star\'s habitable zone.","astrometry":"","constellation":"Orion","title":"71 Orionis","subtitle":"71 Orionis is a yellowish-white star located in the constellation Orion, visible to the naked eye. It is larger, hotter, and much more luminous than the Sun, and has a higher abundance of elements heavier than helium. It also exhibits more magnetic activity than the Sun.","can_compare":true},{"id":26758,"planet_ids":[],"exo_id":"74_Orionis","st_vj":5.04,"st_optmag":5.04,"st_dist":19.5879,"st_j":5.04,"st_mass":1.33,"dec":12.2721632,"st_teff":6480,"st_rad":1.364,"ra":94.1109129,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"74_Orionis","custom_system_description":null,"custom_star_description":"74 Orionis is a nearby yellowish-white star located in the constellation Orion. It is bright enough to be visible with the naked eye. Relative to the Sun, it is larger, hotter, and more luminous. It exhibits higher levels of stellar magnetic activity and has a slightly lower abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"74Orionis","aliases":"74Orionis,HD43386,HR2241,GJ9207,HD 43386,HR 2241,GJ 9207","display_name":"74 Orionis","tagline":"A nearby star resembling the Sun","tic_id":"TIC 437886584","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 74 Orionis.  The star is a poor target for radial velocity planet searches.  Being a bright nearby star with similarities to the Sun, 74 Orionis holds potential for future direct imaging, and upcoming large space telescopes will be able to  use direct imaging to search for rocky exoplanets within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected with radial velocities around this star to date. \\n\\nGiven its proximity and higher magnetic activity compared to the Sun, 74 Orionis is not well-suited to radial velocity studies. Existing measurements have not provided conclusive information regarding the possible exoplanets in this system.\\n","transit_planets_prospects":"0 planets have been detected with transits around this star to date.","imaging_planets_prospects":"0 planets have been detected with direct imaging of this star to date.\\n\\nBecause 74 Orionis is a nearby bright star, it presents a good opportunity for future direct imaging. Upcoming large space telescopes will use direct imaging to enable the search for rocky exoplanets as small as Earth within the star\'s habitable zone. Additionally, these telescopes will have the capacity to detect larger exoplanets located farther away from the star.\\n","astrometry":"","constellation":"Orion","title":"74 Orionis","subtitle":"74 Orionis is a nearby yellowish-white star located in the constellation Orion. It is bright enough to be visible with the naked eye. Relative to the Sun, it is larger, hotter, and more luminous. It exhibits higher levels of stellar magnetic activity and has a slightly lower abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26759,"planet_ids":[],"exo_id":"HD_46588_A","st_vj":5.44,"st_optmag":5.44,"st_dist":18.2023,"st_j":5.44,"st_mass":1.18,"dec":79.5648107,"st_teff":6204,"st_rad":1.17,"ra":101.5589581,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_46588_A","custom_system_description":null,"custom_star_description":"HD 46588 is a nearby yellowish-white star located in the constellation Camelopardalis. It is bright enough to be visible to the naked eye. Relative to the Sun, HD 46588 is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. HD 46588 has a companion brown dwarf star, which is located over 1000 astronomical units away from it. ","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD46588A","aliases":"HD46588,HD46588A,HD46588A,HR2401A,GJ9215A,HD 46588,HR 2401 A,GJ 9215A","display_name":"HD 46588 A","tagline":"A Sun-like star with a distant brown dwarf companion","tic_id":"TIC 141523112","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 46588. However, it holds promise as a candidate for future radial velocity searches. Given its proximity and resemblance to the Sun, HD 46588 is a promising target for future direct imaging missions. Advanced space telescopes equipped with high-contrast imaging capabilities have the potential to reveal exoplanets as small as Earth within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nDue to its proximity and stellar magnetic activity level, HD 46588 presents a good opportunity for future radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 46588 A is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zoneHD 46588\'s proximity and brightness make it a favorable candidate for future direct imaging endeavors. Upcoming large space telescopes will have the capability to employ direct imaging techniques, enabling the search for rocky exoplanets as small as Earth within the star\'s habitable zone. ","astrometry":"","constellation":"Camelopardalis","title":"HD 46588 A","subtitle":"HD 46588 is a nearby yellowish-white star located in the constellation Camelopardalis. It is bright enough to be visible to the naked eye. Relative to the Sun, HD 46588 is larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. HD 46588 has a companion brown dwarf star, which is located over 1000 astronomical units away from it. ","can_compare":true},{"id":26760,"planet_ids":[],"exo_id":"56_Aurigae","st_vj":5.252,"st_optmag":5.252,"st_dist":16.6106,"st_j":5.252,"st_mass":1.14,"dec":43.5774246,"st_teff":6066,"st_rad":1.224,"ra":101.6847372,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"56_Aurigae","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"56Aurigae","aliases":"HD 48682,HR 2483,GJ 245","display_name":"56 Aurigae","tagline":null,"tic_id":"TIC 307754027","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Auriga","title":"56 Aurigae","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26761,"planet_ids":[],"exo_id":"HD_50281","st_vj":6.562,"st_optmag":6.562,"st_dist":8.7447,"st_j":6.562,"st_mass":0.79,"dec":-5.1737127,"st_teff":4767,"st_rad":0.687,"ra":103.0752106,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_50281","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"K","context_description":null,"search_name":"HD50281","aliases":"GJ 250A","display_name":"HD 50281","tagline":null,"tic_id":"TIC 282210766","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Monoceros","title":"HD 50281","subtitle":"A K-type star, which is not visible from Earth.","can_compare":true},{"id":26762,"planet_ids":[],"exo_id":"37_Geminorum","st_vj":5.763,"st_optmag":5.763,"st_dist":17.4047,"st_j":5.763,"st_mass":1.08,"dec":25.3756954,"st_teff":5924,"st_rad":1.08,"ra":103.8277765,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"37_Geminorum","custom_system_description":null,"custom_star_description":"37 Geminorum is a nearby Sun-like star in the Gemini constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, 37 Geminorum is slightly larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. Notably, 37 Geminorum was one of the target destinations for the \\"Teen Age Message,\\" a series of radio signals sent to nearby Sun-like stars with the intention of communicating with potential intelligent extraterrestrial life.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"37Geminorum","aliases":"HD 50692,HR 2569,GJ 252","display_name":"37 Geminorum","tagline":"A Sun-like star that will receive radio transmissions from Earth","tic_id":"TIC 80226651","pop_culture":"37 Geminorum was a target star for the active SETI Teen Age Message communication sent from a radar on Earth in 2001. Set to reach the star in 2057, the message includes theremin sounds, making it the first interstellar musical radio message.","detection_timeline":"To date, no exoplanets have been confirmed around 37 Geminorum. As it is a nearby, bright, Sun-like star, 37 Geminorum is an appealing target for future radial velocity measurements and direct imaging. Large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets as small as Earth within the star\'s habitable zone, if they exist.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star exhibiting stellar magnetic activity levels similar to the Sun, 37 Geminorum has promise for future radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, 37 Geminorum is an attractive target for future direct imaging.  Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets as small as Earth within the star\'s habitable zone. \\n","astrometry":"","constellation":"Gemini","title":"37 Geminorum","subtitle":"37 Geminorum is a nearby Sun-like star in the Gemini constellation. It is bright enough to be seen with the naked eye. Relative to the Sun, 37 Geminorum is slightly larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. Notably, 37 Geminorum was one of the target destinations for the \\"Teen Age Message,\\" a series of radio signals sent to nearby Sun-like stars with the intention of communicating with potential intelligent extraterrestrial life.","can_compare":true},{"id":26763,"planet_ids":[],"exo_id":"HD_53705","st_vj":5.56,"st_optmag":5.56,"st_dist":17.0593,"st_j":5.56,"st_mass":1.04,"dec":-43.608035,"st_teff":5790,"st_rad":1.213,"ra":105.9888134,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_53705","custom_system_description":null,"custom_star_description":"HD 53705 is a nearby Sun-like star situated in the constellation Puppis. It is bright enough to be observed with the naked eye. Relative to the Sun, HD 53705 is larger, slightly hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. HD 53705 is part of a binary system with another star, HD 53706, which orbits 480 astronomical units away. This binary system is itself orbiting another distant binary system composed of the stars HD 53680 A and HD 53680 B.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD53705","aliases":"HD53705,HD53705,HD53705,HR2667,GJ9223A,HR 2667,GJ 9223A","display_name":"HD 53705","tagline":"The largest star in a quadruple system","tic_id":"TIC 130645536","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 53705. It is a potential target for future radial velocity studies. Due to its status as a nearby and bright Sun-like star, HD 53705 holds promise as a target for future direct imaging. Upcoming large space telescopes, equipped with high-contrast imaging capabilities, will enable the search for exoplanets as small as Earth, within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAlthough HD 53705 is a good candidate for radial velocity studies due to its proximity and magnetic activity comparable to the Sun, the presence of a companion star in a quadruple system can pose challenges for this detection method.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 53705 is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Puppis","title":"HD 53705","subtitle":"HD 53705 is a nearby Sun-like star situated in the constellation Puppis. It is bright enough to be observed with the naked eye. Relative to the Sun, HD 53705 is larger, slightly hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun. HD 53705 is part of a binary system with another star, HD 53706, which orbits 480 astronomical units away. This binary system is itself orbiting another distant binary system composed of the stars HD 53680 A and HD 53680 B.","can_compare":true},{"id":26764,"planet_ids":[],"exo_id":"HD_55575","st_vj":5.559,"st_optmag":5.559,"st_dist":16.8518,"st_j":5.559,"st_mass":1.14,"dec":47.2399634,"st_teff":5902,"st_rad":1.157,"ra":108.9589132,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_55575","custom_system_description":null,"custom_star_description":"HD 55575 is a nearby yellowish-white star located in the constellation Lynx. It is bright enough to be visible to the naked eye. Relative to the Sun, HD 55575 is slightly larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"G","context_description":null,"search_name":"HD55575","aliases":"HD55575,HD55575,HD55575,HR2721,GJ1095,HR 2721,GJ 1095","display_name":"HD 55575","tagline":"A nearby star ripe for exploration","tic_id":"TIC 156890613","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 55575. However, as a bright nearby star sharing characteristics with the Sun, HD 55575 presents a promising target for future exploration with direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will be able to search for exoplanets, as small as Earth, within the star\'s habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nGiven its proximity and similarity in magnetic activity to the Sun, HD 55575 is a favorable candidate for future radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 55575 is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone and characterize the planets detected with radial velocity measurements.","astrometry":"","constellation":"Lynx","title":"HD 55575","subtitle":"HD 55575 is a nearby yellowish-white star located in the constellation Lynx. It is bright enough to be visible to the naked eye. Relative to the Sun, HD 55575 is slightly larger, hotter, and more luminous. It exhibits similar levels of stellar magnetic activity but has a lower abundance of elements heavier than helium, compared to the Sun.","can_compare":true},{"id":26765,"planet_ids":[],"exo_id":"22_Lyncis","st_vj":5.35,"st_optmag":5.35,"st_dist":20.4021,"st_j":5.35,"st_mass":1.16,"dec":49.6724594,"st_teff":6349,"st_rad":1.292,"ra":112.4831549,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"22_Lyncis","custom_system_description":null,"custom_star_description":"22 Lyncis is a yellowish-white star located in the constellation Lynx, which is bright enough to be seen with the naked eye. Compared to the Sun, it is larger, hotter, and much more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"22Lyncis","aliases":"22Lyncis,HD58855,HR2849,GJ9234,HD 58855,HR 2849,GJ 9234","display_name":"22 Lyncis","tagline":"A nearby star with potential for exoplanets","tic_id":"TIC 328324648","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around 22 Lyncis. However, it is a promising target for future direct imaging missions since it is a bright, nearby star with many similarities to the Sun. Upcoming large space telescopes will have the ability to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone. ","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with similar levels of stellar magnetic to the Sun, 22 Lyncis is a potentially suitable candidate for radial velocity studies.","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause 22 Lyncis is a nearby bright star, it is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone. These telescopes will also have the capability to detect larger exoplanets farther from the star.","astrometry":"","constellation":"Lynx","title":"22 Lyncis","subtitle":"22 Lyncis is a yellowish-white star located in the constellation Lynx, which is bright enough to be seen with the naked eye. Compared to the Sun, it is larger, hotter, and much more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun.","can_compare":true},{"id":26766,"planet_ids":[],"exo_id":"212_Puppis_A","st_vj":5.085,"st_optmag":5.085,"st_dist":18.3274,"st_j":5.085,"st_mass":1.33,"dec":-34.7054399,"st_teff":6525,"st_rad":1.246,"ra":118.0652624,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"212_Puppis_A","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"212PuppisA","aliases":"HD 64379,HR 3079,GJ 292A","display_name":"212 Puppis A","tagline":null,"tic_id":"TIC 150796339","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Puppis","title":"212 Puppis A","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26767,"planet_ids":[],"exo_id":"HD_65907_A","st_vj":5.592,"st_optmag":5.592,"st_dist":16.1718,"st_j":5.592,"st_mass":1.11,"dec":-60.3030719,"st_teff":5997,"st_rad":1.052,"ra":119.4454762,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_65907_A","custom_system_description":null,"custom_star_description":"HD 65907 A is a yellowish-white star located in the Carina constellation that can be seen with the naked eye. It is similar in size and temperature to the Sun, but it is more luminous. HD 65907 A has more stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun. It is also part of a multiple star system that includes at least one companion star.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD65907A","aliases":"HD65907A,HD65907A,HR3138A,GJ294A,HR 3138 A,GJ 294A","display_name":"HD 65907 A","tagline":"A bright nearby star","tic_id":"TIC 372914091","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around HD 65907 A. HD 65907 A is a promising target for future direct imaging, as it is a nearby and bright star that shares many similarities with the Sun. With upcoming large space telescopes that can perform high-contrast imaging, it will become possible to search for Earth-sized planets in the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nHD 65907 A is a good candidate for future radial velocity studies. ","transit_planets_prospects":"0 planets have been detected to date around this star using transits.","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause the star is bright, nearby and the habitable zone would be far enough from the central star to image, HD 65907 A is a good target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone.","astrometry":"","constellation":"Carina","title":"HD 65907 A","subtitle":"HD 65907 A is a yellowish-white star located in the Carina constellation that can be seen with the naked eye. It is similar in size and temperature to the Sun, but it is more luminous. HD 65907 A has more stellar magnetic activity and a lower abundance of elements heavier than helium, compared to the Sun. It is also part of a multiple star system that includes at least one companion star.","can_compare":true},{"id":26768,"planet_ids":[],"exo_id":"Chi_Cancri","st_vj":5.13,"st_optmag":5.13,"st_dist":18.2233,"st_j":5.13,"st_mass":1.25,"dec":27.217705,"st_teff":6269,"st_rad":1.32,"ra":125.0160865,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Chi_Cancri","custom_system_description":null,"custom_star_description":"Chi Cancri is a yellowish-white star located in the constellation Cancer that is visible to the naked eye. Compared to the Sun, it is larger, hotter, and more luminous. It has similar levels of magnetic activity than the Sun and a lower abundance of elements heavier than helium.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"ChiCancri","aliases":"ChiCancri,HD69897,HR3262,GJ303,HD 69897,HR 3262,GJ 303","display_name":"Chi Cancri","tagline":"A nearby star with the potential for habitable exoplanets","tic_id":"TIC 302188141","pop_culture":"","detection_timeline":"Although no exoplanets have been confirmed around Chi Cancri, it is a promising target for exploration. Radial velocity studies have been carried out for over two decades, and planets larger than Jupiter have been ruled out very close to the host star. As a nearby bright star, Chi Cancri is a good candidate for direct imaging with future large space telescopes. These telescopes could reveal rocky exoplanets as small as Earth in the star\'s habitable zone and detect larger exoplanets farther from the star.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with similar levels of magnetic activity to the Sun, Chi Cancri is a good candidate for radial velocity studies. It has been monitored for over two decades, but no exoplanets have been detected. These observations have ruled out planets larger than Jupiter very close to the host star.","transit_planets_prospects":"0 planets have been detected to date around this star using transits","imaging_planets_prospects":"0 planets have been detected to date around this star using direct imaging.\\n\\nBecause Chi Cancri is a nearby bright star, it is a good target for future direct imaging. Upcoming large space telescopes will be able to use direct imaging to search for rocky exoplanets down to the size of Earth in the star\'s habitable zone. These telescopes will also have the capability to detect larger exoplanets farther from the star.","astrometry":"","constellation":"Cancer","title":"Chi Cancri","subtitle":"Chi Cancri is a yellowish-white star located in the constellation Cancer that is visible to the naked eye. Compared to the Sun, it is larger, hotter, and more luminous. It has similar levels of magnetic activity than the Sun and a lower abundance of elements heavier than helium.","can_compare":true},{"id":26769,"planet_ids":[],"exo_id":"HD_219482","st_vj":5.655,"st_optmag":5.655,"st_dist":20.4426,"st_j":5.655,"st_mass":1.25,"dec":-62.0011978,"st_teff":6280,"st_rad":1.16,"ra":349.2403645,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"HD_219482","custom_system_description":null,"custom_star_description":null,"custom_star_title":null,"custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"HD219482","aliases":"HR 8843,GJ 1282","display_name":"HD 219482","tagline":null,"tic_id":"TIC 234968549","pop_culture":null,"detection_timeline":null,"rv_planets_prospects":null,"transit_planets_prospects":null,"imaging_planets_prospects":null,"astrometry":null,"constellation":"Tucana","title":"HD 219482","subtitle":"An F-type star, which is not visible from Earth.","can_compare":true},{"id":26770,"planet_ids":[],"exo_id":"Iota_Piscium","st_vj":4.132,"st_optmag":4.132,"st_dist":13.7137,"st_j":4.132,"st_mass":1.21,"dec":5.626291,"st_teff":6200,"st_rad":1.591,"ra":354.9876724,"system_radius":149597870,"planet_count":0,"status":1,"pl_hostname":"Iota_Piscium","custom_system_description":null,"custom_star_description":"Iota Piscium is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Pisces, it forms part of the tail of one of the fish.  Relative to the Sun, it is significantly larger, hotter, and more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun. There are indications that Iota Piscium is surrounded by a dusty debris disk.","custom_star_title":"","custom_system_title":null,"stellar_type":"F","context_description":null,"search_name":"IotaPiscium","aliases":"IotaPiscium,HD222368,HR8969,GJ904,HD 222368,HR 8969,GJ 904","display_name":"Iota Piscium","tagline":"","tic_id":"TIC 419919445","pop_culture":"","detection_timeline":"To date, no exoplanets have been confirmed around Iota Piscium. Previous radial velocity studies have ruled out the presence of Jupiter-sized exoplanets within one astronomical unit of the star. As a bright, nearby Sun-like star, Iota Piscium is a promising target for future exoplanet searches with direct imaging. Upcoming large space telescopes equipped with high-contrast imaging capabilities will make it possible to search for Earth-sized planets within the stars habitable zone.","rv_planets_prospects":"0 planets have been detected to date around this star using radial velocities.\\n\\nAs a nearby star with magnetic activity levels similar to the Sun, Iota Piscium has been the subject of radial velocity observations for more than twenty years.  While no exoplanets have been detected, the measurements have excluded the existence of Jupiter-sized exoplanets within one astronomical unit of Iota Piscium.","transit_planets_prospects":"","imaging_planets_prospects":"","astrometry":"","constellation":"Pisces","title":"Iota Piscium","subtitle":"Iota Piscium is a nearby yellowish-white star, bright enough to be seen with the naked eye. Located in the constellation Pisces, it forms part of the tail of one of the fish.  Relative to the Sun, it is significantly larger, hotter, and more luminous. It has similar levels of stellar magnetic activity and a lower abundance of elements heavier than helium compared to the Sun. There are indications that Iota Piscium is surrounded by a dusty debris disk.","can_compare":true}]'),_f=JSON.parse('[{"id":11519,"title":"Astrometry","body":"The orbit of a planet can cause a star to move around in space a small amount in relation to nearby stars in the sky, and the observation of this effect is known as astrometry. Accurately detecting the wobble caused by the gravitational pull of planets, especially small ones the size of Earth, is extremely difficult. Scientists must take a series of images of a star and some of the other stars that are near it in the sky. In each picture, they compare the distances between these reference stars and the target star. Astrometry requires extremely precise optics, and is especially hard to do from the Earth\'s surface because our atmosphere distorts and bends light.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:14:18.535-07:00","updated_at":"2017-09-28T13:14:18.535-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:14:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11510,"title":"Transit","body":"If a planet passes directly between a star and an observer\'s line of sight, it blocks out a tiny portion of the star\'s light, thus reducing its apparent brightness.\\r\\n\\r\\nSensitive instruments can detect this periodic dip in brightness. From the period and depth of the transits, the orbit and size of the planetary companions can be calculated. Smaller planets will produce a smaller effect, and vice-versa. A terrestrial planet in an Earth-like orbit, for example, would produce a minute dip in stellar brightness that would last just a few hours.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:09:13.386-07:00","updated_at":"2017-09-28T13:09:13.386-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:08:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11511,"title":"Eclipse Timing Variations","body":"Eclipse timing variations is a method for inferring the existence and properties of an exoplanet in an eclipsing binary star system by detecting the gravitational effects of the planet on the orbit of the binary pair.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:09:43.902-07:00","updated_at":"2017-09-28T13:09:43.902-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:09:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11512,"title":"Imaging","body":"Taking actual pictures of exoplanets is extremely difficult due to how much brighter a star is than its planet. However, specialized optics and clever observation methods have made a handful of exoplanet images possible, with the potential for many more to be made in the future.\\r\\n\\r\\nOne method of direct imaging, coronography, uses a special masking device to block out the light of a star so that the planets orbiting it can be seen more clearly. A similar method involves the deployment of a giant starshade to block a star\'s glare, precisely positioned in space in between a nearby telescope and a star that hosts an exoplanetary system.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:10:23.050-07:00","updated_at":"2017-09-28T13:10:23.050-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:09:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11513,"title":"Microlensing","body":"This method derives from one of the insights of Einstein\'s theory of general relativity: gravity bends space. We normally think of light as traveling in a straight line, but light rays become bent when passing through space that is warped by the presence of a massive object such as a star. This effect has been proven by observations of the Sun\'s gravitational effect on starlight.\\r\\n\\r\\nWhen a planet happens to pass in front of a star along our line of sight, the planet\'s gravity will behave like a lens. This focuses the light rays and causes a temporary sharp increase in brightness and change of the apparent position of the star. Astronomers can use the gravitational microlensing effect to find objects that emit no light or are otherwise undetectable.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:11:02.510-07:00","updated_at":"2017-09-28T13:11:02.510-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:10:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11514,"title":"Orbital Brightness Modulation","body":"This method searches for regular modulations of the brightness of a star due to distortions in its shape from a massive exoplanet on a close-in orbit. Such planets can cause slight tidal distortions to their host stars, giving them as slightly ellipsoidal (stretched) shape and causing changes in apparent brightness, depending on whether the wider or narrower face of the star is oriented toward the observer. ","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:11:30.394-07:00","updated_at":"2017-09-28T13:11:30.394-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:11:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11515,"title":"Pulsar Timing","body":"Pulsar Timing is a method used to detect the first confirmed exoplanets, which orbit a rapidly rotating neutron star known as a pulsar.  As they rotate, pulsars emit intense electromagnetic radiation that is detected on Earth as regular and precisely timed pulses. Small yet consistent variations in the timing of the pulses indicate that the pulsar is wobbling back and forth, orbiting the center of mass of a system with one or more planets. By precisely measuring irregularities in the timing of the pulsars, astronomers can determine both the orbit as well as the mass of the planets.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:12:15.596-07:00","updated_at":"2017-09-28T13:12:15.596-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:12:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11516,"title":"Pulsation Timing Variations","body":"Pulsar Timing is a method used to detect the first confirmed exoplanets, which orbit a rapidly rotating neutron star known as a pulsar.  As they rotate, pulsars emit intense electromagnetic radiation that is detected on Earth as regular and precisely timed pulses. Small yet consistent variations in the timing of the pulses indicate that the pulsar is wobbling back and forth, orbiting the center of mass of a system with one or more planets. By precisely measuring irregularities in the timing of the pulsars, astronomers can determine both the orbit as well as the mass of the planets.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:12:54.420-07:00","updated_at":"2017-09-28T13:12:54.420-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:12:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11517,"title":"Radial Velocity","body":"The radial velocity method measures slight changes in a star\'s velocity as the star and the planet move about their common center of mass. Astronomers can detect these variances by analyzing the spectrum of starlight. In an effect known as Doppler shift, light waves from a star moving toward us are shifted toward the blue end of the spectrum. If the star is moving away, the light waves shift toward the red end of the spectrum.\\r\\n\\r\\nThis happens because the waves become compressed when the star is approaching the observer and spread out when the star is receding. The effect is similar to the change in pitch we hear in a train\'s whistle as it approaches and passes.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:13:23.813-07:00","updated_at":"2017-09-28T13:13:23.813-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:13:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]},{"id":11518,"title":"Transit Timing Variations","body":"If an exoplanet passes in front of its host star along our line of sight, it will normally transit with a fixed, predictable period. But if the planets orbit is affected by interactions with other planets, the perturbed orbits can give rise to transit timing variations. These variations can be used to infer the presence of unseen companions. If the companion also transits,they can be used to provide precise information on the mass of the companion planet.","image_file_name":null,"image_alt":"","link":"","target":"_self","status":1,"created_at":"2017-09-28T13:13:50.793-07:00","updated_at":"2017-09-28T13:13:50.793-07:00","subtitle":"","link_text":"","mobile_image_file_name":null,"publish_date":"2017-09-28T13:13:00.000-07:00","schedule_date":null,"image_src":null,"mobile_image_src":null,"url":null,"classes":["detection_methods"]}]'),ff=JSON.parse('{"HD_17156_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/hd-17156-b.webp","imageList":"./assets/image/thumbnail/exoplanet/hd-17156-b-list.webp"},"GJ_1132_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/gj-1132-b.webp","imageList":"./assets/image/thumbnail/exoplanet/gj-1132-b-list.webp"},"GJ_15_A_b":{"imageList":"./assets/image/thumbnail/exoplanet/gj-15-a-b-list.webp"},"AU_Mic_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/au-mic-b.webp","imageList":"./assets/image/thumbnail/exoplanet/au-mic-b-list.webp"},"TOI-3757_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/toi-3757-b.webp","imageList":"./assets/image/thumbnail/exoplanet/toi-3757-b-list.webp"},"TOI-849_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/toi-849-b.webp","imageList":"./assets/image/thumbnail/exoplanet/toi-849-b-list.webp"},"HIP_65426_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/hip-65426-b.webp","imageList":"./assets/image/thumbnail/exoplanet/hip-65426-b.webp"},"HD_189733_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/hd-189733-b.webp","imageList":"./assets/image/thumbnail/exoplanet/hd-189733-b-list.webp"},"KELT-9_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kelt-9-b.webp","imageList":"./assets/image/thumbnail/exoplanet/kelt-9-b-list.webp"},"Kepler-7_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kepler-7-b.webp","imageList":"./assets/image/thumbnail/exoplanet/kepler-7-b-list.webp"},"Kepler-16_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kepler-16-b.webp","imageList":"./assets/image/thumbnail/exoplanet/kepler-16-b-list.webp"},"Kepler-186_f":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kepler-186-f.webp"},"TRAPPIST-1_e":{"imageOverlay":"./assets/image/thumbnail/exoplanet/trappist-1-e.webp"},"Kepler-22_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kepler-22-b.webp","imageList":"./assets/image/thumbnail/exoplanet/kepler-22-b-list.webp"},"Kepler-452_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/kepler-452-b.webp","imageList":"./assets/image/thumbnail/exoplanet/kepler-452-b-list.webp"},"OGLE-2005-BLG-390L_b":{"imageList":"./assets/image/thumbnail/exoplanet/ogle-2005-blg-390l-b.webp"},"KOI-55_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/koi-55-b.webp","imageList":"./assets/image/thumbnail/exoplanet/koi-55-b-list.webp"},"WASP-12_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/wasp-12-b.webp","imageList":"./assets/image/thumbnail/exoplanet/wasp-12-b-list.webp"},"WASP-96_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/wasp-96-b.wasp","imageList":"./assets/image/thumbnail/exoplanet/wasp-96-b-list.webp"},"WASP-39_b":{"imageOverlay":"./assets/image/thumbnail/exoplanet/wasp-39-b.webp","imageList":"./assets/image/thumbnail/exoplanet/wasp-39-b-list.webp"},"55_Cnc_e":{"imageOverlay":"./assets/image/thumbnail/exoplanet/55-cnc-e.webp","imageList":"./assets/image/thumbnail/exoplanet/55-cnc-e-list.webp"}}'),yf=JSON.parse('{"staticUrl":"eyes.nasa.gov/assets/static","dynamicUrl":"eyes.nasa.gov/assets/dynamic","nasaAPI":"https://science.nasa.gov/wp-json/wp/v2"}'),vf=new Lh(.9791532214288992,.2031230389823101,0,0),bf=class{constructor(t){this._pioneer=t,this._dbArray={},this._dbObj={},this._data={},this._apiData={discoveryMethods:_f},this._systemId=null,this._customNames={K2:"Kepler"},this._fetchJSON=this._fetchJSON.bind(this),this._createExoDatabase=this._createExoDatabase.bind(this),this._fromUTF8Array=this._fromUTF8Array.bind(this),this.init=this.init.bind(this),this.getDB=this.getDB.bind(this),this.getStarInfo=this.getStarInfo.bind(this),this.getSystemInfo=this.getSystemInfo.bind(this),this.getAPIStar=this.getAPIStar.bind(this),this.getAPIPlanet=this.getAPIPlanet.bind(this),this.getAPIPlanets=this.getAPIPlanets.bind(this),this.getAPIDiscovery=this.getAPIDiscovery.bind(this),this.getAPIDiscoveries=this.getAPIDiscoveries.bind(this),this.getObservatory=this.getObservatory.bind(this)}async init(){if(!yf.dynamicUrl)return;const t=yf.dynamicUrl,e=[];let i=null;const s="https://";this._dbArray[X_.DATABASE_NAMES.hwoApiData]=gf,this._dbObj[X_.DATABASE_NAMES.hwoApiData]=gf.reduce(((t,e)=>{const{exo_id:i}=e;return t[i]=e,t})),i=`${s}${t}/exo/db/EyesExoPlanetDatabase.bin`,e.push(this._createExoDatabase(i,X_.DATABASE_NAMES.planets)),i=`${s}${t}/exo/db/EyesExoCandidateDatabase.bin`,e.push(this._createExoDatabase(i,X_.DATABASE_NAMES.candidates)),i=`${s}${t}/exo/db/EyesExoTessCandidateDatabase.bin`,e.push(this._createExoDatabase(i,X_.DATABASE_NAMES.tesscandidates)),await Promise.all(e),i=`${s}${t}/exo/db/EyesExoStarDatabaseCombined.bin`,await this._createExoDatabase(i,X_.DATABASE_NAMES.stars),this._dbObj[X_.DATABASE_NAMES.hwostars]={},this._dbArray[X_.DATABASE_NAMES.hwostars]=this._dbArray[X_.DATABASE_NAMES.stars].filter((t=>{const{exo_id:e,hwo:i}=t;return!!i&&(this._dbObj[X_.DATABASE_NAMES.hwostars][e]={...t,...this._dbObj[X_.DATABASE_NAMES.hwostars][e]||{}},!0)}));try{fetch(`${yf.nasaAPI}/star?featured=1`).then((async t=>{const{headers:e,ok:i}=t;if(!i)return;const s=e.get("x-wp-total"),n=this.dbObj[X_.DATABASE_NAMES.stars],a=this.dbArray[X_.DATABASE_NAMES.stars],r=this.dbArray[X_.DATABASE_NAMES.hwostars],o=this.dbObj[X_.DATABASE_NAMES.hwostars];for(let t=0;t<=Math.floor(s/100);t+=1)(await this._fetchJSON(`${yf.nasaAPI}/star?featured=1&per_page=100&page=${t+1}`)).forEach((t=>{let{acf:e}=t;const{exo_id:i}=e||{};i&&(o[i]={...e,...o[i]}),n[i]&&(n[i]={...e,...n[i]})}));for(let t=0;t<r.length;t+=1){const{exo_id:e}=r[t];r[t]={...r[t],...o[e]}}for(let t=0;t<a.length;t+=1){const{exo_id:e}=a[t];a[t]={...a[t],...n[e]}}}))}catch(t){console.warn("e: ",t)}let n=await this._fetchJSON(`${s}${t}/exo/db/candidateCount.json`);n&&n.count&&(this.keplerCandidateCount=n.count)}setData(t,e){this.dbObj[t]=this.dbObj[t]||{};for(let i=0;i<e.length;i+=1){const{exo_id:s}=e[i];let n={...this.dbObj[t][s],...e[i]};this.dbObj[t][s]=n}this.dbArray[t]=e}async getData(t){if(!t)return null;if(this._data[t])return this._data[t];if(this.dbObj.planets[t]||this.dbObj.stars[t]){let e=t,i="star";if(this.dbObj.planets[t]){i="planet";const s=this.dbObj.planets[t],n=Object.values(this.dbObj.stars).find((t=>{let{hostname:e}=t;return e===s.hostname}));e=n&&n.id?n.id:null}let s=await this._fetchJSON(`${yf.nasaAPI}/star?exo_id=${e}`);if(s={...gf.find((t=>{let{exo_id:i}=t;return i===e}))||{},...s},!s)return console.warn("Empty star data"),null;if("planet"===i){const e=await this._fetchJSON(`${yf.nasaAPI}/exoplanet?exo_id=${t}`);if(e&&e.items)for(let i=0;i<e.items.length;i+=1)if(e.items[i].exo_id===t)return this._data[t]={...this.dbObj.planets[t],...e.items[i]},this._data[t]}else if(this.dbObj.stars[t])return this._data[t]={...this.dbObj.stars[t],...s},this._data[t]}return null}getKeplerCandidateCount(){return this.keplerCandidateCount||"NA"}getAPIStar(){return this._apiData.star||{}}getAPIPlanet(t){return this._apiData&&this._apiData.planets?this._apiData.planets.find((e=>{let{exo_id:i}=e;return i===t})):null}async updateAPIPlanet(t){if(!this._apiData)return null;this._apiData.planets=this._apiData.planets||[];let e=this._apiData.planets.find((e=>{let{exo_id:i}=e;return i===t}));if(!e){const i=await this._fetchJSON(`${yf.nasaAPI}/exoplanet?exo_id=${t}`)||[];i[0]&&(e=i[0].acf,this._apiData.planets.push(e))}return e}getAPIPlanets(){return this._apiData.planets}getObservatory(t){return this._customNames.hasOwnProperty(t)&&(t=this._customNames[t]),mf.find((e=>{let{name:i,exo_id:s}=e;return i===t||s===t}))}getAPIDiscovery(t){if(!t)return null;for(let e=0;e<this._apiData.discoveryMethods.length;e++){let i=this._apiData.discoveryMethods[e];if(i.title.toLowerCase()===t.toLowerCase())return i}return null}getAPIDiscoveries(){return this._apiData.discoveryMethods}getDB(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this._dbArray[t]||[]:this._dbObj[t]||{}}getStarInfo(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this.getDB(X_.DATABASE_NAMES.stars,i)[t];if(!s)for(let i in rf)if(rf[i]&&rf[i].stars){let n=rf[i].stars;for(let a=n.length-1;a>=0;a--)if(n[a].exo_id===t){s=e?this.getDB(X_.DATABASE_NAMES.stars)[i]:{displayName:n[a].displayName,st_optmag:n[a].st_optmag,starType:n[a].starType};break}}return s}getSystemInfo(t){const e=this.getStarInfo(t,!0)||this.getDB(X_.DATABASE_NAMES.planets)[t];if(!e&&this.getDB(X_.DATABASE_NAMES.hwostars)[t]){const{title:e=null}=this.getDB(X_.DATABASE_NAMES.hwoApiData)[t]||{};return e&&(this.getDB(X_.DATABASE_NAMES.hwostars)[t].displayName=e),this.getDB(X_.DATABASE_NAMES.hwostars)[t]}return e&&e.pl_hostname?this.getDB(X_.DATABASE_NAMES.stars)[e.pl_hostname]:e}get dbArray(){return this._dbArray}get dbObj(){return this._dbObj}async _fetchJSON(t){if(!t)return{};const e=t.replace(/\+/g,"%2b");try{return(await fetch(e)).json()}catch(e){console.warn("Warning with",t,e)}return{}}async _createExoDatabase(t,e){if(!t)return;let i=await this._pioneer.getDownloader().download(t,!0);try{if(i&&i.content){this._dbObj[e]=this._dbObj[e]||{},this._dbArray[e]=this._dbArray[e]||[];let t=new dh(i.content),s=t.readInt64(),n=[];if(1163415344===s){let i=t.readUInt16();for(let e=0;e<i;e++){let e=t.readInt16(),i=t.readInt16(),s=t.readString(i,!0);n.push({type:e,key:s})}for(;!t.isAtEnd();){let i={},s=t.readInt16(),a=t.readString(s,!0);i.id=a;for(let e=0;e<n.length;e++){let s=n[e],a=0;switch(s.type){case-1:case 1:a=t.readInt16(),i[s.key]=t.readString(a,!0);break;case 4:i[s.key]=t.readFloat64();break;case 5:i[s.key]=[t.readFloat32(),t.readFloat32()];break;case 8:i[s.key]=[t.readFloat64(),t.readFloat64(),t.readFloat64()];break;default:console.warn(s.type+" is not defined")}}if(i.position&&(i.positionJ2000=new Vh(i.position[2],-i.position[0],i.position[1]),i.positionJ2000.rotate(vf,i.positionJ2000)),e===X_.DATABASE_NAMES.stars){if(!this._dbArray[X_.DATABASE_NAMES.planets])return void console.error("Make sure planet database is ready before pulling stars database");let t=this._dbArray[X_.DATABASE_NAMES.planets];t=t.filter((t=>{let{pl_hostname:e}=t;return e===i.exo_id})),t=t.map((t=>{let{exo_id:e}=t;return e})),i.planets=t}if(e===X_.DATABASE_NAMES.planets){const t="./assets/image/thumbnail/exoplanet";switch(i.plType){case"Terrestrial":i.subtitle="A rocky world outside our solar system",i.imageOverlay=`${t}/terrestrial.webp`,i.imageList=`${t}/terrestrial-list.webp`;break;case"super-Terrestrial":i.subtitle="A potentially rocky world, larger than Earth",i.imageOverlay=`${t}/superearth.webp`,i.imageList=`${t}/superearth-list.webp`;break;case"Jovian":case"sub-Jovian":case"super-Jovian":i.subtitle="A giant planet composed mainly of gas",i.imageOverlay=`${t}/gasgiant.webp`,i.imageList=`${t}/gasgiant-list.webp`;break;case"Neptunian":case"sub-Neptunian":i.subtitle="A Neptune-like giant planet",i.imageOverlay=`${t}/neptunelike.webp`,i.imageList=`${t}/neptunelike-list.webp`;break;default:i.subtitle="Unknown",i.imageOverlay=`${t}/unknown.webp`,i.imageList=`${t}/unknown-list.webp`}}ff[i.id]&&(i.imageOverlay=ff[i.id].imageOverlay||i.imageOverlay,i.imageList=ff[i.id].imageList||i.imageList);const r=Object.keys(i);for(let t=0;t<r.length;t+=1){const e=r[t];"False"!==i[e]&&"True"!==i[e]||(i[e]="True"===i[e])}if(i.hwo){const{aliases:t,search_name:e,title:s}=gf.find((t=>{let{exo_id:e}=t;return e===i.exo_id}))||{};t&&(i.aliases=t),e&&(i.search_name=e),s&&(i.title=s)}this._dbObj[e][i.exo_id]=i,this._dbArray[e].push(i)}}else console.error("Invalid Exo database magic number")}}catch(t){console.warn("e: ",t)}}getDefaultHMODescription(t){const{starType:e,display_name:i,constellation:s,hostname:n,st_optmag:a,st_rad:r,st_teff:o,st_lum:l,st_log_rhk:c,st_met:h}=t;let u=i||n,d="";return"F"===e||"G"===e?d="Sun-like":"M"===e?d="red dwarf":"K"===e&&(d="orange dwarf"),u+=` is ${("K"===e?"an ":"a ")+d} star`,s&&"NA"!==s&&(u+=` located in the constellation ${s}`),a<6.5&&(u+=", bright enough to be seen with the naked eye"),u+=`. Relative to the Sun, it is ${r>1?"larger":"smaller"},`,u+=` ${o>5772?"hotter":"cooler"}, and ${l>0?"more":"less"} luminous.`,u+=` It has ${c>-4.2?"a much higher":-4.8<c&&c<-4.2?"a higher":-4.97<c&&c<-4.8?"similar":"lower"} \n\t\tlevel${c<-4.8?"s":""} of stellar magnetic activity and a `,u+=` ${h>0?"higher":"lower"} abundance of elements heavier than helium compared to the Sun.`,u}_fromUTF8Array(t){let e,i="";for(e=0;e<t.length;e++){var s=t[e];if(s<128)i+=String.fromCharCode(s);else if(s>191&&s<224)i+=String.fromCharCode((31&s)<<6|63&t[e+1]),e+=1;else if(s>223&&s<240)i+=String.fromCharCode((15&s)<<12|(63&t[e+1])<<6|63&t[e+2]),e+=2;else{var n=((7&s)<<18|(63&t[e+1])<<12|(63&t[e+2])<<6|63&t[e+3])-65536;i+=String.fromCharCode(n>>10|55296,1023&n|56320),e+=3}}return i}},xf=class{constructor(t,e){this._pioneer=t,this.getManager=e,this.enableSpout=this.enableSpout.bind(this),this.setUpSpoutCamera=this.setUpSpoutCamera.bind(this),this._scene=this._pioneer.get("main"),this.target=this._scene.get("sun")}enableSpout(t){const{spoutGlobe:e,spoutRenderWidth:i=2048,spoutFontSize:s,spoutLonAngleOffset:n,spoutAlignToNorthPole:a}=X_.getCurrentQueries()||{};this.target=this._scene.getEntity(t)||this._scene.getEntity("sun");const r=this._pioneer.getViewport("spoutViewport")||this._pioneer.addViewport("spoutViewport");r.getDiv().style.display="none",r.getDiv().style.width="100%",r.getDiv().style.height="100%";let o=this.setUpSpoutCamera("true"===e,this.target,n,a);const l=o.getComponentByClass(md)||o.addComponentByClass(md);r.setCamera(l),l.setRenderWidth(i),this._scene.setAmbientLightColor(new vh(1,1,1)),this.setForGlobe("true"===e,l),this.setUpSpoutLabels(s)}setForGlobe(t,e){e.setForGlobe(t,2*this.target?.getExtentsRadius()),e.setNearDistance(.5*this.target?.getExtentsRadius()),this.target.get("atmosphere")?.setExcludedFromCamera(e,!0)}setSpoutTarget(t){this.target=t}setUpSpoutCamera(){let t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._scene.getEntity("sun"),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){t=this._scene.getEntity("spoutCamera")||this._scene.addEntity("spoutCamera"),t.clearControllers(),t.setParent(i),t.setPosition(Vh.Zero),t.setOrientation(Lh.Identity);const e=t.addControllerByClass(Td);e.setPrimaryAlignType("align"),e.setPrimaryAxis(Vh.ZAxis),e.setPrimaryTargetAxis(Vh.ZAxis),n&&i?e.setPrimaryTargetEntity(i.getName()):e.setPrimaryTargetEntity("camera");const a=new Vh;Ah.getXYZFromLLAOnSphere(a,new su(0,hh.degToRad(180+s),1),1),e.setSecondaryAlignType("align"),e.setSecondaryAxis(Vh.XAxis),e.setSecondaryTargetEntity("camera"),e.setSecondaryTargetAxis(a)}else t=this._scene.getEntity("camera");return t}setUpSpoutLabels(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;for(let e=0;e<this._scene.getNumEntities();e++){const i=this._scene.getEntity(e),s=i.get("div");if(s instanceof sd){const e=i.getComponentByClass(rd)??i.addComponentByClass(rd);e.setText(s.getDiv().querySelector(".text")?.innerHTML||s.getDiv()?.textContent||""),e.setColor(new vh(1,1,1,1)),e.setFontSize(t),e.setAlignment(new Fh(0,.5)),e.setPixelOffset(new Fh(-t/4,-1)),e.setExcludedFromCamera(this._scene.get("camera","camera"),!0)}}}};var Sf=i(6515),Tf=i.n(Sf);const wf=JSON.parse('{"GasGiant":{"path":"GasGiant","subtitle":"Current filter: Gas Giant"},"NeptuneLike":{"path":"NeptuneLike","subtitle":"Current filter: Neptune-like"},"SuperEarth":{"path":"SuperEarth","subtitle":"Current filter: Super Earth"},"Terrestrial":{"path":"Terrestrial","subtitle":"Current filter: Terrestrial"},"KeplerConfirmed":{"path":"KeplerConfirmed","subtitle":"Current filter: Kepler Confirmed"},"KeplerCandidates":{"path":"KeplerCandidates","subtitle":"Current filter: Kepler Candidates"},"KeplerAllDiscoveries":{"path":"KeplerAllDiscoveries","subtitle":"Current filter: Kepler All Discoveries"},"TESSConfirmed":{"path":"TESSConfirmed","subtitle":"Current filter: TESS Confirmed"},"TESSCandidates":{"path":"TESSCandidates","subtitle":"Current filter: TESS Candidates"},"TESSAllDiscoveries":{"path":"TESSAllDiscoveries","subtitle":"Current filter: TESS All Discoveries"},"Unknown":{"path":"Unknown","subtitle":"Current filter: Unknown"}}');Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Ef=i(7811),Af=function(t){return t.cloneNode(!0)},If=function(){return"file:"===window.location.protocol},Mf=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&2===i.readyState){var s=i.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var n=(0,Ef.Q)(s).type;if("image/svg+xml"!==n&&"text/plain"!==n)throw new Error("Invalid content type: "+n)}if(4===i.readyState){if(404===i.status||null===i.responseXML)throw new Error(If()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(!(200===i.status||If()&&0===i.status))throw new Error("There was a problem injecting the SVG: "+i.status+" "+i.statusText);e(null,i)}}catch(t){i.abort(),e(t,i)}},i.open("GET",t),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()},Cf=new Map,Nf={},Pf=function(t,e){Nf[t]=Nf[t]||[],Nf[t].push(e)},Rf=function(t,e){if(Cf.has(t)){var i=Cf.get(t);return i instanceof SVGElement?void e(null,Af(i)):i instanceof Error?void e(i):void Pf(t,e)}Cf.set(t,void 0),Pf(t,e),Mf(t,(function(e,i){e?Cf.set(t,e):i.responseXML instanceof Document&&i.responseXML.documentElement&&i.responseXML.documentElement instanceof SVGElement&&Cf.set(t,i.responseXML.documentElement),function(t){for(var e=function(e,i){setTimeout((function(){if(Array.isArray(Nf[t])){var i=Cf.get(t),s=Nf[t][e];i instanceof SVGElement&&s(null,Af(i)),i instanceof Error&&s(i),e===Nf[t].length-1&&delete Nf[t]}}),0)},i=0,s=Nf[t].length;i<s;i++)e(i)}(t)}))},Lf=function(t,e){Mf(t,(function(t,i){t?e(t):i.responseXML instanceof Document&&i.responseXML.documentElement&&i.responseXML.documentElement instanceof SVGElement&&e(null,i.responseXML.documentElement)}))},Of=0,Df=[],kf={},Ff="http://www.w3.org/1999/xlink",Uf=function(t,e,i,s,n,a){var r=t.getAttribute("data-src")||t.getAttribute("src");if(r){if(-1!==Df.indexOf(t))return Df.splice(Df.indexOf(t),1),void(t=null);Df.push(t),t.setAttribute("src",""),(s?Rf:Lf)(r,(function(s,o){if(!o)return Df.splice(Df.indexOf(t),1),t=null,void a(s);var l=t.getAttribute("id");l&&o.setAttribute("id",l);var c=t.getAttribute("title");c&&o.setAttribute("title",c);var h=t.getAttribute("width");h&&o.setAttribute("width",h);var u=t.getAttribute("height");u&&o.setAttribute("height",u);var d=Array.from(new Set(function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),n=0;for(e=0;e<i;e++)for(var a=arguments[e],r=0,o=a.length;r<o;r++,n++)s[n]=a[r];return s}((o.getAttribute("class")||"").split(" "),["injected-svg"],(t.getAttribute("class")||"").split(" ")))).join(" ").trim();o.setAttribute("class",d);var p=t.getAttribute("style");p&&o.setAttribute("style",p),o.setAttribute("data-src",r);var m=[].filter.call(t.attributes,(function(t){return/^data-\w[\w-]*$/.test(t.name)}));if(Array.prototype.forEach.call(m,(function(t){t.name&&t.value&&o.setAttribute(t.name,t.value)})),i){var g,_,f,y,v,b={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(b).forEach((function(t){g=t,f=b[t];for(var e=function(t,e){var i;y=_[t].id,v=y+"-"+ ++Of,Array.prototype.forEach.call(f,(function(t){for(var e=0,s=(i=o.querySelectorAll("["+t+'*="'+y+'"]')).length;e<s;e++){var n=i[e].getAttribute(t);n&&!n.match(new RegExp('url\\("?#'+y+'"?\\)'))||i[e].setAttribute(t,"url(#"+v+")")}}));for(var s=o.querySelectorAll("[*|href]"),n=[],a=0,r=s.length;a<r;a++){var l=s[a].getAttributeNS(Ff,"href");l&&l.toString()==="#"+_[t].id&&n.push(s[a])}for(var c=0,h=n.length;c<h;c++)n[c].setAttributeNS(Ff,"href","#"+v);_[t].id=v},i=0,s=(_=o.querySelectorAll(g+"[id]")).length;i<s;i++)e(i)}))}o.removeAttribute("xmlns:a");for(var x,S,T=o.querySelectorAll("script"),w=[],E=0,A=T.length;E<A;E++)(S=T[E].getAttribute("type"))&&"application/ecmascript"!==S&&"application/javascript"!==S&&"text/javascript"!==S||((x=T[E].innerText||T[E].textContent)&&w.push(x),o.removeChild(T[E]));if(w.length>0&&("always"===e||"once"===e&&!kf[r])){for(var I=0,M=w.length;I<M;I++)new Function(w[I])(window);kf[r]=!0}var C=o.querySelectorAll("style");Array.prototype.forEach.call(C,(function(t){t.textContent+=""})),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink",Ff),n(o),t.parentNode&&t.parentNode.replaceChild(o,t),Df.splice(Df.indexOf(t),1),t=null,a(null,o)}))}else a(new Error("Invalid data-src or src attribute"))},zf=i(7762),jf=i.n(zf),Bf=function(t){function i(){var e;return(e=t.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},e.state=e.initialState,e._isMounted=!1,e.refCallback=function(t){e.container=t},e}a(i,t);var s=i.prototype;return s.renderSVG=function(){var t=this;if(this.container instanceof Node){var i=this.props,s=i.beforeInjection,n=i.evalScripts,a=i.renumerateIRIElements,r=i.src,o=this.props.afterInjection,l=this.props.wrapper,c=document.createElement(l);c.innerHTML=jf().renderToStaticMarkup((0,e.createElement)(l,null,(0,e.createElement)(l,{"data-src":r}))),this.svgWrapper=this.container.appendChild(c.firstChild),function(t,e){var i=void 0===e?{}:e,s=i.afterAll,n=void 0===s?function(){}:s,a=i.afterEach,r=void 0===a?function(){}:a,o=i.beforeEach,l=void 0===o?function(){}:o,c=i.cacheRequests,h=void 0===c||c,u=i.evalScripts,d=void 0===u?"never":u,p=i.renumerateIRIElements,m=void 0===p||p;if(t&&"length"in t)for(var g=0,_=0,f=t.length;_<f;_++)Uf(t[_],d,m,h,l,(function(e,i){r(e,i),t&&"length"in t&&t.length===++g&&n(g)}));else t?Uf(t,d,m,h,l,(function(e,i){r(e,i),n(1),t=null})):n(0)}(this.svgWrapper.firstChild,{afterEach:function(e,i){e&&t.removeSVG(),t._isMounted&&t.setState((function(){return{hasError:!!e,isLoading:!1}}),(function(){o(e,i)}))},beforeEach:s,evalScripts:n,renumerateIRIElements:a})}},s.removeSVG=function(){this.container instanceof Node&&this.svgWrapper instanceof Node&&(this.container.removeChild(this.svgWrapper),this.svgWrapper=null)},s.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},s.componentDidUpdate=function(t){var e=this;(function(t,e){for(var i in t)if(!(i in e))return!0;for(var s in e)if(t[s]!==e[s])return!0;return!1})(t,this.props)&&this.setState((function(){return e.initialState}),(function(){e.removeSVG(),e.renderSVG()}))},s.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},s.render=function(){var t=this.props,i=(t.afterInjection,t.beforeInjection,t.evalScripts,t.fallback),s=t.loading,n=(t.renumerateIRIElements,t.src,t.wrapper),a=P(t,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","wrapper"]),r=n;return(0,e.createElement)(r,Object.assign({},a,{ref:this.refCallback}),this.state.isLoading&&s&&(0,e.createElement)(s,null),this.state.hasError&&i&&(0,e.createElement)(i,null))},i}(e.Component);Bf.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,wrapper:"div"},Bf.propTypes={afterInjection:r.func,beforeInjection:r.func,evalScripts:(0,r.oneOf)(["always","once","never"]),fallback:(0,r.oneOfType)([r.func,r.object,r.string]),loading:(0,r.oneOfType)([r.func,r.object,r.string]),renumerateIRIElements:r.bool,src:r.string.isRequired,wrapper:(0,r.oneOf)(["div","span"])};const Hf=Bf;var Vf=i(5893);class Gf extends e.PureComponent{constructor(t){super(t),this.state={},this.menu=e.createRef()}componentDidMount(){this.sideInterval=setInterval((()=>{let t=this.props.scene.get("camera").getParent();if(t){let e=t.getName();if(!e)return;let i=!1;if("earth"===this.props.controller&&"cameraTarget"===e){let t=this.props.getManager("camera").readCameraAE();if(t){let{azimuth:e,elevation:s}=t;s+="",e>=157.5&&e<=202.5&&(e+="S"),e>=247.5&&e<=292.5&&(e+="W"),(e>=337.5||e<=22.5)&&(e+="N"),e>=67.5&&e<=112.5&&(e+="E"),e>202.5&&e<247.5&&(e+="SW"),e>292.5&&e<337.5&&(e+="NW"),e>22.5&&e<67.5&&(e+="NE"),e>112.5&&e<157.5&&(e+="SE"),i=!0,this.setState({azimuth:e,elevation:s})}}const s=this.props.scene.get("camera"),n=Vh.pool.get();s.getPositionRelativeToEntity(n,Vh.Zero,this.props.scene.get("earth"));const a=X_.convertToDistanceString(n.magnitude()-this.props.scene.get("earth").getOcclusionRadius());this.setState({distanceFromEarth:a,telescope:i}),Vh.pool.release(n),this.props.getManager("scene").setGalaxySpriteAlpha(s)}}),1e3/24)}componentWillUnmount(){this.sideInterval&&clearInterval(this.sideInterval)}render(){const{azimuth:t,elevation:e,distanceFromEarth:i,telescope:s}=this.state;return(0,Vf.jsxs)("div",{id:"sideId",className:"toggle-ui-desktop toggle-ui-mobile",children:[i&&"earth"!==this.props.controller&&(0,Vf.jsxs)("div",{className:"leftInfoPanel",children:[(0,Vf.jsx)("p",{children:"You are"}),(0,Vf.jsx)("div",{className:"dynamicInfo",children:i}),(0,Vf.jsx)("p",{children:"from Earth"})]}),s&&(0,Vf.jsxs)("div",{className:"leftInfoPanel telescope",children:[(0,Vf.jsx)("p",{className:"dynamicInfo",children:"Telescope Bearing"}),(0,Vf.jsxs)("div",{className:"dynamicInfo",children:[(0,Vf.jsx)(Hf,{className:"icon",src:"assets/svg/doubleArrowHorizontal.svg"}),(0,Vf.jsx)("span",{children:t})]}),(0,Vf.jsxs)("div",{className:"dynamicInfo",children:[(0,Vf.jsx)(Hf,{className:"icon",src:"assets/svg/doubleArrowVertical.svg"}),(0,Vf.jsx)("span",{children:e})]})]})]})}}const qf=Gf;var Jf=i(577),Wf=i.n(Jf);class Yf{static async getLocationName(t,e){return null===this._geocoder?"":new Promise(((i,s)=>{this._geocoder.geocode({location:{lat:t,lng:e}},(function(t,e){if("OK"===e&&t[0]){const e={};for(let i=0;i<t[0].address_components.length;i++){const s=t[0].address_components[i];s.types.includes("country")&&(e.country=s.long_name),s.types.includes("administrative_area_level_1")&&(e.adminArea1=s.long_name),s.types.includes("administrative_area_level_2")&&(e.adminArea2=s.long_name),s.types.includes("administrative_area_level_3")&&(e.adminArea3=s.long_name),s.types.includes("administrative_area_level_4")&&(e.adminArea4=s.long_name),s.types.includes("locality")&&(e.locality=s.long_name)}const n=[];e.country&&n.unshift(e.country),e.adminArea1&&n.unshift(e.adminArea1),e.locality&&n.unshift(e.locality),e.adminArea4&&n.length<3&&n.unshift(e.adminArea4),e.adminArea3&&n.length<3&&n.unshift(e.adminArea3),e.adminArea2&&n.length<3&&n.unshift(e.adminArea2),0===n.length&&s("Unknown location"),i(n.join(", "))}else s("Unknown location")}))}))}static async initialize(){const t=document.createElement("script");t.async=!0,t.defer=!0,t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDiZRdV8ZyjHFfy5P6KWfhjIFUoswuajQ",t.onload=()=>{this._geocoder=new google.maps.Geocoder},document.head.appendChild(t)}}Yf._geocoder=null;const $f=Yf;class Xf extends e.PureComponent{constructor(t){super(t),this.state={open:!1,button:null,message:""},this._alertWindow=e.createRef(),this._handleBgClick=this._handleBgClick.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}open(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.open=!0,this.setState(t,(()=>{document.addEventListener("mousedown",this._handleBgClick,!1)}))}close(){this.setState({open:!1},(()=>{document.removeEventListener("mousedown",this._handleBgClick)}))}_handleBgClick(t){if(this._alertWindow.current.contains(t.target))return;const{bgClick:e}=this.state;e&&e()}render(){const{button:t,message:e,open:i}=this.state,{className:s}=this.props;return i?(0,Vf.jsx)("div",{className:"alertDiv"+(s?" "+s:""),children:(0,Vf.jsxs)("div",{ref:this._alertWindow,className:"alertWindow",children:[e&&(0,Vf.jsx)("label",{children:e}),t&&(0,Vf.jsx)("button",{onClick:t.f,children:t.text})]})}):null}}const Kf=Xf,Zf="https://science.nasa.gov",Qf=[{text:"What is an exoplanet?",subText:['An exoplanet is a planet outside our solar system, usually orbiting another star. They are also sometimes called "extrasolar planets," "extra-" implying that they are outside of our solar system.'],link:`${Zf}/exoplanets/what-is-an-exoplanet/`},{text:"What are exoplanets made of?",subText:["The exoplanets for which astronomers are able to measure both their sizes (diameters) and masses, have densities that are suggestive of compositions ranging from very rocky (like Earth and Venus) to very gas-rich (like Jupiter and Saturn). Exoplanets are made up of elements similar to that of the planets in our solar system, but their mixes of those elements may differ. Some planets may be dominated by water or ice, while others are dominated by iron or carbon."]},{text:"Are there any exoplanets like Earth?",subText:['Not yet. We havent found a planet that can support life like Earth. So far, our home is unique in the universe. We have found many Earth-sized rocky exoplanets, some of which are in the habitable zones of their stars. The next step in studying them is to analyze their atmospheres for biosignature" molecules, which may be a sign of life.']},{text:"Are other solar systems like ours?",subText:["Other solar systems, called planetary systems, come in many shapes and sizes. When scientists first started searching for planetary systems, they expected them to look like our solar system, with inner rocky planets and outer cold gas giants and ice planets. But some solar systems pack many planets into very compact orbits with short orbital periods, while others have only a few planets with orbits that last hundreds of years. Some planetary systems have Jupiter-like giants that orbit their star in a few hours, and are hot enough to melt metal. Some exoplanets even orbit multiple stars. So far astronomers have detected relatively few planetary systems with architectures like our solar system."]},{text:"Do exoplanets have stars like our Sun?",subText:["Yes, some do. Kepler-452b is an example of a planet that orbits a star like our sun. Both our sun and Kepler-452 are G dwarf stars, which make up only 3 percent of the stars in the universe. More common are M dwarf stars small red stars that make up 75 percent of all the stars we know.","Other stars in our universe range from massive and hot O-type stars to the small and cool M dwarf stars like TRAPPIST-1 and Proxima Centauri. Scientists have found planets around five star types that range from red, to orange, to bluish-white. Some planets even orbit two or three stars at a time.","(Note: Dwarf is actually the name for a regular-sized adult star, distinguishing them from giant stars. An example of a giant star is Rigel, the blue supergiant found in the constellation Orion)."]},{text:"How do exoplanets get their names?",subText:['Exoplanet names can look long and complicated at first, but they have a logic behind them that is important to scientists cataloging thousands of planets. Lets use HD 189733 b (a blue-ish planet where it may rain glass sideways) as an example. The first part of the name is usually the telescope or survey that found it. In this case "HD" stands for the "Henry Draper Catalogue, a widely-used star catalog. The number 189733 is the order in which the star was catalogued by position (the 189,733rd star added to the catalog). The lowercase letter "b" stands for the planet, in the order in which the planet was found. The first planet found is always named b, with ensuing planets named c, d, e, f and so on.'],link:`${Zf}/exoplanets/how-do-exoplanets-get-their-names/`},{text:"Is there life on other planets?",subText:["Earth is the only planet we know of with life on it...so far. Scientists are searching the galaxy for planets similar to Earth, and signs of life. As we see on Earth, life can adapt to conditions that human beings would consider very harsh (temperature, radiation, salinity, acidity, aridity, etc). So it may be possible that life started on other worlds and adapted to conditions quite alien to what we are used to."],link:`${Zf}/exoplanets/is-there-life-on-other-planets/`},{text:"How many exoplanets are there?",subText:['To date, over 5,000 exoplanets have been discovered and considered "confirmed." However, there are nearly 3,000 other "candidate" exoplanet detections that require further observations in order to say for sure whether or not the exoplanet is real.'],link:`${Zf}/exoplanets/how-many-exoplanets-are-there/`},{text:"Where are exoplanets?",subText:['In a lot of places! Most of the exoplanets discovered so far are in a relatively small region of our galaxy, the Milky Way. ("Small" meaning within thousands of light years of the solar system). That is as far as current telescopes have been able to probe.'],link:`${Zf}/exoplanets/where-are-exoplanets/`},{text:"What is the closest exoplanet to Earth?",subText:['Proxima Centauri b, which is about four light-years away. Its mass is consistent with it being slightly larger than Earth. Based on what we know about exoplanets, and planets in our solar system similar in mass to Earth, it is most likely a rocky planet. Proxima Centauri b orbits in the "habitable zone" of its star, which means it could have liquid water on its surface if it has an atmosphere which could support it.',"Calculations suggest that the one side of the exoplanet Proxima b faces its star all the time, which would make for a very different atmosphere and weather than we have on Earth. Its parent star, Proxima Centauri, is a dim red dwarf star that gives off about 600 times less light than our sun. Proxima Centauri is the closest star to the Earth after our sun, but it is still about 9,000 times further than planet Neptune."]},{text:"How do we find exoplanets?",subText:["The successes of discovering exoplanets in recent decades seem to be telling us that the galaxy is teeming with trillions of exoplanets, but finding them isn't easy. Planets are typically billions of times fainter than the stars they orbit, and they are incredibly distant. The challenges of observing extrasolar planets stem from four basic facts:","PPP Planets don't produce any light of their own, except when theyre recently formed (i.e. young).","PPP They are an enormous distance from us.","PPP They are lost in the blinding glare of their parent stars.","'PPP Their sizes and masses are typically much, much smaller than that of the stars they orbit.","Its pretty rare for astronomers to see an exoplanet through their telescopes the way you might see Mars through a telescope from Earth. Thats called direct imaging, and only a handful of exoplanets have been found this way (and these tend to be young gas giant planets orbiting very far from their stars).","Most exoplanets are found through indirect methods: measuring the dimming of a star that happens to have a planet pass in front of it, or monitoring the spectrum of a star for the tell-tale signs of a planet pulling on its star and causing its light to subtly Doppler shift. NASAs Kepler Space Telescope finds thousands of planets by observing transits, the slight dimming of light from a star when its tiny planet passes between it and our telescopes. Other methods include gravitational lensing, the wobble method, and direct imaging."]},{text:"Will a person ever go to an exoplanet?",subText:["Not anytime soon, given the enormous distances between the stars and the time it would take to travel between them with our current technology. Perhaps one day a robot will visit an exoplanet like the rovers on Mars. But that day too is still very far in the future. First, we have to learn how to travel much faster and further in space than weve ever gone before. Keeping humans alive to complete such a long journey is probably the biggest challenge. Today, NASA is concentrating on the steps to get humans to Mars, which is our next-door neighbor."]},{text:"Will we ever take real images of exoplanets?",subText:["Yes! In recent years, NASA has taken many some images of exoplanets that are light-years away. In the images, the planets sometimes look like faint spots next to blotted out regions (where the bright light of the planet's star has been subtracted). Examples of imaged planets orbit the bright stars Fomalhaut, HR 8799, and Beta Pictoris. The upcoming James Webb Space Telescope and WFIRST missions will image more exoplanets around nearby stars. The big challenge for NASA is to image Earth-like planets orbiting nearby stars, which tend to be about 10 billion times fainter than their stars."]},{text:"How many telescopes are looking for exoplanets?",subText:["There are telescopes in space, on the ground and even in the air that are being used to hunt exoplanets. NASA has three telescopes in space currently studying exoplanets  one observatory dedicated to discovering exoplanets (the Transiting Exoplanet Survey Satellite), and two powerful, general-purpose observatories that conduct a wide range of astronomical observations, including exoplanet science (Hubble Space Telescope, Spitzer Space Telescope). More than two dozen telescopes on the ground are being used to discover and characterize exoplanets, ranging from small robotic observatories to large telescopes like the Keck Observatories in Hawaii. Even SOFIA, NASA's infrared observatory built into a Boeing 747-SP airplane, has conducted some exoplanet observations."]},{text:"Do any exoplanets have rings?",subText:["Rings orbit all of the gas giant planets in our solar system. They range from being very dusty (Jupiter), to very icy (Saturn), to very carbon-rich (Uranus and Neptune). This hints that rings may be common around cold gas giant exoplanets orbiting other stars too. A very large ring system has been detected around one candidate exoplanet, J1407 b; however the rings cover tens of millions of miles. It may be a disk of material forming exomoons rather than ring system similar to Saturn's."]},{text:"Do exoplanets have water on them?",subText:["Scientists have found water molecules in the atmospheres of more than one exoplanet, but some of those planets are very hot and probably not suitable for life as we know it. Scientists have yet to discover liquid water, like oceans or lakes. They are looking for exoplanets with liquid water in an area called the habitable zone around stars."]},{text:"What is the habitable zone or Goldilocks zone?",subText:["The habitable zone is the area around a star where it is not too hot and not too cold for liquid water to exist on the surface of surrounding planets."],link:`${Zf}/exoplanets/what-is-the-habitable-zone-or-goldilocks-zone/`}],ty=[{text:"Why does NASA's planet count differ from other databases?",subText:"Different online databases of exoplanet discoveries have varying criteria for what they count as an exoplanet discovery, and some are more lenient than others. There's no universally accepted 'official' count. NASA's Exoplanet Archive, the database this visualization uses for its exoplanet count, requires that planets be documented in a published scientific paper that's been reviewed and approved by other astronomers. It's more strict than some other online databases."},{text:"I heard about a new exoplanet that isn't listed under 'latest discoveries' in this visualization. Why isn't it listed there?",subText:"A new exoplanet will appear in this visualization once the discovery has been published in a refereed scientific journal and vetted by scientists at the NASA Exoplanet science Institute (NExScI). Otherwise, it will not be shown, even though the discovery may have been announced in a news release or in media reports."},{text:"Why is 2015 considered the 20th anniversary of exoplanet discoveries?",subText:"The year 2015 marks the 20th anniversary of the discovery of 51 Pegasi b, which is widely acknowledged as the first true exoplanet to be identified in orbit around a normal star. However, other planetary bodies outside our solar system were detected earlier than this, including HD 1147672 b (or Latham's Planet) which was initially thought to be a brown dwarf and was only later confirmed to be a planet. Additionally, the existence of so-called 'pulsar planets,' rocky worlds orbiting the stellar remnant of a supernova, were confirmed as early as 1992."},{text:"Why do the planet counts displayed for some planet types in Eyes on Exoplanets differ slightly from the counts shown on the Exoplanet Exploration website?",subText:"In some cases, there is insufficient data to visualize either the planets orbit, radius, or mass, and these planets are omitted from Eyes on Exoplanets. If future astronomical observations fill in the missing gaps, these planets will be included."}];class ey extends e.PureComponent{constructor(t){super(t),this.state={topFAQ:Qf,open:!1,indexTop:null,indexSecond:null},this.open=this.open.bind(this),this.close=this.close.bind(this)}open(){this.setState({open:!0})}close(){this.setState({open:!1})}render(){const{open:t,indexTop:e,indexSecond:i,topFAQ:s}=this.state,{isMobile:n}=this.props;return(0,Vf.jsxs)("div",{className:"faqWindow overlay"+(t?" active scrollable":" hidden"),children:[n?(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})}):(0,Vf.jsx)("button",{className:"headerButton closeButton big",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsxs)("div",{className:"faqTopSection",children:[(0,Vf.jsxs)("div",{className:"faqTitleDiv",children:[(0,Vf.jsx)("h2",{className:"faqTitle",children:"Frequently Asked Questions"}),(0,Vf.jsx)("a",{href:`${Zf}/exoplanets/eyes-on-exoplanets-web/`,target:"_blank",rel:"noopener noreferrer",className:"faqLink small",children:"About Eyes on Exoplanets "})]}),s.map(((t,i)=>(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("a",{href:"#",className:"faqQuestionTitle",onClick:()=>{e===i?this.setState({indexTop:null}):this.setState({indexTop:i})},children:t.text}),e===i&&t.subText.map(((t,e)=>t.indexOf("PPP")>=0?(t=t.replace("PPP",""),(0,Vf.jsx)("ul",{children:(0,Vf.jsx)("li",{className:"faqSubTextList",children:t})},e)):(0,Vf.jsx)("p",{className:"faqSubText"+(t.indexOf("Note:")>=0?" italic":""),children:t},e))),e===i&&t.link&&(0,Vf.jsx)("div",{className:"faqDetailedAnswerContainer",children:(0,Vf.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t.link,className:"faqDetailedAnswer",children:"detailed answer "})})]},i)))]}),(0,Vf.jsx)("div",{className:"faqBottomSection",children:ty.map(((t,e)=>(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("a",{href:"#",className:"faqQuestionTitle",onClick:()=>{i===e?this.setState({indexSecond:null}):this.setState({indexSecond:e})},children:t.text}),i===e&&(0,Vf.jsx)("p",{className:"faqSubText",children:t.subText})]},e)))}),(0,Vf.jsx)("div",{className:"faqDoneDiv",children:(0,Vf.jsx)("button",{className:"faqDone",onClick:this.close,children:"Close"})})]})}}const iy=ey;var sy=i(1768);class ny extends e.PureComponent{constructor(t){super(t),this.neverShow=e.createRef(),this.faq=e.createRef(),this.closeHelper=this.closeHelper.bind(this),this.state={hide:!1,open:!!t.default}}componentDidMount(){let t=sy.ZP.load("hideHelper");"true"===t||!0===t?this.setState({hide:!0,open:!1}):this.setState({hide:!1})}closeHelper(){sy.ZP.save("hideHelper",this.neverShow.current.checked),this.setState({open:!1})}render(){let{open:t,hide:e}=this.state,{isMobile:i}=this.props;return(0,Vf.jsxs)("div",{children:[!i&&(0,Vf.jsxs)("div",{className:"helperFooterButton",onClick:()=>{this.setState({open:!t})},children:[(0,Vf.jsx)("label",{children:"What am I looking at"}),(0,Vf.jsx)(Hf,{className:"svg svgWhite helperSVG",src:"assets/svg/faq.svg"})]}),t&&(0,Vf.jsx)("section",{className:"helperDiv",children:(0,Vf.jsx)("div",{style:{height:window.innerHeight,display:"flex"},children:(0,Vf.jsxs)("div",{className:i?"helperContentMobileDiv scrollable":"helperContentDiv",children:[(0,Vf.jsx)("button",{className:"headerButton closeButton helperClose",onClick:this.closeHelper,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsx)("label",{className:"helperTitle",children:"Did you know?"}),(0,Vf.jsxs)("label",{className:"helperLabel",children:["On average, it is estimated that there is at least one planet for every star in the galaxy. That means there's something on the order of billions of planets in our galaxy alone, many in Earth's size range. These planets outside of our solar system are known as ",(0,Vf.jsx)("label",{style:{color:"white"},children:"Exoplanets"}),"."]}),(0,Vf.jsx)("label",{className:"helperLabel",children:"Highlighted stars are known to have, or have good prospects for, orbiting exoplanets. Once you click the Explore Now button below, you will be able to select any of the highlighted stars to learn more about these confirmed planets and compare them to our solar system or navigate through the filters."}),(0,Vf.jsx)("div",{style:{textAlign:"center"},children:(0,Vf.jsx)("button",{className:"helperExploreButton",onClick:this.closeHelper,children:"Explore Now"})}),(0,Vf.jsx)("div",{className:"helperImageDiv",children:(0,Vf.jsx)("img",{alt:"4-stars-centered",src:"assets/image/generic/4-stars-centered.png",onClick:this.closeHelper})}),(0,Vf.jsxs)("div",{style:{textAlign:"center"},children:[(0,Vf.jsx)("input",{ref:this.neverShow,type:"checkbox",id:"box-1",checked:e,onChange:()=>{this.setState({hide:!e})}}),(0,Vf.jsx)("label",{htmlFor:"box-1",children:"Please do not show this upon next visit."}),(0,Vf.jsx)("button",{className:"helperFAQ",onClick:()=>{this.closeHelper(),this.faq.current.open()},children:"Eyes on Exoplanets FAQ"})]})]})})}),(0,Vf.jsx)(iy,{ref:this.faq,isMobile:i})]})}}const ay=ny;class ry extends e.PureComponent{constructor(t){super(t),this.state={open:!1,showLabels:!0,showUI:!0,lightOn:!1,sprite:0},this._settingsRef=e.createRef(),this._handleBgClick=this._handleBgClick.bind(this),this._createSettingEntry=this._createSettingEntry.bind(this),this._showUI=this._showUI.bind(this),this._showLabels=this._showLabels.bind(this),this._toggleLight=this._toggleLight.bind(this),this._setSprite=this._setSprite.bind(this),this.handleProps=this.handleProps.bind(this),this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}handleProps(){let t=this.props.getManager("scene").isLightOn();t!==this.state.lightOn&&this.setState({lightOn:t})}toggle(){this.state.open?this.close():this.open()}open(){this.setState({open:!0},(()=>{this.props.isMobile||document.addEventListener("click",this._handleBgClick,!1)}))}close(){this.setState({open:!1},(()=>{this.props.isMobile||document.removeEventListener("click",this._handleBgClick)}))}_handleBgClick(t){let{toggleButton:e}=this.props;e.current&&e.current.contains(t.target)||this._settingsRef.current&&this._settingsRef.current.contains(t.target)||this.close()}_createSettingEntry(t){let{className:e="",titleClass:i="",entry:s=null,checkStatus:n=!1,onChange:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Vf.jsxs)("div",{className:"settingsEntry "+e,children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{className:i,children:t})}),null===s?(0,Vf.jsx)("div",{style:{textAlign:"right"},children:(0,Vf.jsxs)("label",{className:"switch",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:n,onChange:a}),(0,Vf.jsx)("span",{className:"slider round"})]})}):s]})}_showLabels(t){let e=t.currentTarget.checked;this.setState({showLabels:e});for(let t=0;t<this.props.scene.getNumEntities();t++){let i=this.props.scene.getEntity(t).getComponentByType("div");i&&i.getDiv()&&i.setEnabled(e)}}_showUI(){const{isMobile:t}=this.props,{showUI:e}=this.state,i=t?"toggle-ui-mobile":"toggle-ui-desktop",s=document.getElementsByClassName(i);if(s){for(let t=0;t<s.length;t++)s[t].style.opacity=e?0:1;this.setState({showUI:!e})}}_toggleLight(t){let e=t.currentTarget.checked;this.setState({lightOn:e},(()=>{this.props.getManager("scene").toggleLight()}))}_setSprite(t){let e=parseInt(t.currentTarget.getAttribute("value"));this.setState({sprite:e},(()=>{this.props.getManager("scene").setStarSprite(this.state.sprite)}))}render(){let{open:t,showLabels:e,showUI:i,lightOn:s,sprite:n}=this.state;const{isMobile:a}=this.props;return(0,Vf.jsxs)("div",{className:"settings"+(a?" overlay":"")+(t?" active":" hidden"),ref:this._settingsRef,children:[a&&(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})}),this._createSettingEntry("SETTINGS",{className:"first",titleClass:"settingsTitle",entry:!a&&(0,Vf.jsx)("button",{className:"headerButton closeButton small panelButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})}),this._createSettingEntry("Show labels",{checkStatus:e,onChange:this._showLabels}),this._createSettingEntry("Show user interface",{checkStatus:i,onChange:this._showUI}),a?this._createSettingEntry("Flood lighting",{checkStatus:s,onChange:this._toggleLight}):null,this._createSettingEntry("Star symbol",{className:"last",entry:(0,Vf.jsx)("div",{style:{textAlign:"right"},children:(0,Vf.jsx)("div",{style:{display:"flex"},children:[0,1].map((t=>(0,Vf.jsx)("div",{className:"settingsSubSVG _"+t+(n===t?" active":""),value:t,onClick:this._setSprite},t)))})})}),(0,Vf.jsx)("div",{className:"footerSettingsSquare"})]})}}const oy=ry;class ly extends e.PureComponent{constructor(t){super(t),this.state={open:!0,on:!0,valid:!1},this._update=this._update.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.toggle=this.toggle.bind(this)}componentDidMount(){this.mounted=!0,this.props.pioneer.addCallback(this._update,!0),this.props.isMobile&&this.setState({open:!1}),this.handleProps()}componentWillUnmount(){this.props.pioneer.removeCallback(this._update),this.mounted=!1}handleProps(){const{getManager:t,id:e}=this.props||{};let i=!1;if(e){let s=t("content").getDB(X_.DATABASE_NAMES.stars)[e];if(!s){const i=t("content").getDB(X_.DATABASE_NAMES.hwostars,!0);for(let t=0;t<i?.length;t+=1)i[t].exo_id===e&&(s=i[t])}s&&s.habZone&&Array.isArray(s.habZone)&&2===s.habZone.length&&(i=s.habZone[0]*s.habZone[1]!=0)}this.setState({valid:i})}_update(){if(!this.mounted)return;const t=this.props.getManager("scene").isHabzoneOn();this.state&&this.state.on!==t&&this.setState({on:t})}open(){this.setState({open:!0})}close(t){t.stopPropagation(),this.setState({open:!1})}toggle(){this.setState({on:!this.state.on},(()=>{const t=this.props.getManager("scene").setHabzone(this.state.on);try{this.props.getManager("camera").flyToObject(t,"system",this.state.on)}catch(t){}}))}render(){const{open:t,on:e,valid:i}=this.state,{isMobile:s}=this.props;return i?(0,Vf.jsx)("div",{className:"hzDiv toggle-ui-desktop toggle-ui-mobile "+(t?"":" minimized"),onClick:s?this.open:null,children:(0,Vf.jsxs)("div",{className:"content",children:[(0,Vf.jsxs)("label",{className:"checkboxSquare",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:e,onChange:this.toggle}),(0,Vf.jsx)("span",{className:"checkboxMark"+(e?" checked":"")}),"Habitable Zone"]}),s&&(0,Vf.jsx)("button",{className:"closeButton small panelButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})]})}):null}}const cy=ly;class hy extends e.PureComponent{constructor(t){super(t),this.state={open:!1,tabIndex:0,listIndices:{},panelIndex:null},this._panel=e.createRef(),this.open=this.open.bind(this),this.close=this.close.bind(this),this.handleProps=this.handleProps.bind(this),this._handleBgClick=this._handleBgClick.bind(this),this._openPanel=this._openPanel.bind(this),this._closePanel=this._closePanel.bind(this),this._getPanelContent=this._getPanelContent.bind(this),this._getSubpanelContent=this._getSubpanelContent.bind(this),this._handleSelection=this._handleSelection.bind(this),this._createSettingEntry=this._createSettingEntry.bind(this)}componentDidMount(){this.handleProps()}handleProps(){let{tabs:t,tabIndex:e}=this.props,{listIndices:i}=this.state,s={};e!==this.state.tabIndex&&(s.tabIndex=e);let n=t[e];n&&Array.isArray(n.list)&&(n.list.length<=1?s.panelIndex=null:s.panelIndex=e);let a=!1;for(let e=t.length-1;e>=0;e--){let n=t[e];"listIndex"in n&&i[e]!==n.listIndex&&(i[e]=n.listIndex,a=!0,s.panelIndex=null)}a&&(s.listIndices=i),X_.isEmptyObj(s)||this.setState(s)}open(){this.setState({open:!0},(()=>{document.addEventListener("touchstart",this._handleBgClick,!1),document.addEventListener("click",this._handleBgClick,!1)}))}close(){this.setState({open:!1},(()=>{document.addEventListener("touchstart",this._handleBgClick,!1),document.removeEventListener("click",this._handleBgClick)}))}_handleBgClick(t){"main"===t.target.id&&this.close()}_openPanel(t){this.setState({panelIndex:t})}_closePanel(){this.setState({panelIndex:null})}_getPanelContent(t){if("settings"===t){let{tabs:t}=this.props;return t.map(((t,e)=>this._createSettingEntry(t.text,e,{checkStatus:t.checkStatus,onChange:t.tabFunction})))}return this._getSubpanelContent()}_getSubpanelContent(){let{tabIndex:t,panelIndex:e,listIndices:i}=this.state,{tabs:s,info:n}=this.props;if(null===e)return s.map(((e,i)=>{let s=e.text[0].toLowerCase(),a=e.list&&e.list.length>1;if(e.list&&0===e.list.length)return null;let r="compare"!==s&&t===i?" current":"";if(e.text&&Array.isArray(e.text)&&n&&n.controller)for(let t=0;t<e.text.length;t+=1)r=e.text[t].toLowerCase()===n.controller.toLowerCase()?" current":" ";return(0,Vf.jsxs)("li",{className:"menuItem "+s+r,onClick:()=>{a?this._openPanel(i):e.tabFunction&&this._handleSelection(e.tabFunction)},children:[(0,Vf.jsx)("div",{className:"icon"}),e.text.join(" "),a?(0,Vf.jsx)("div",{className:"arrowBox",children:(0,Vf.jsx)("span",{className:"arrowRight"})}):null]},i)}));{let n=s[e];return n&&Array.isArray(n.list)?n.list.map(((s,a)=>{let r="compare"===n.text[0].toLowerCase();return(0,Vf.jsx)("li",{className:"menuItem"+(t!==e&&!r||i[e]!==a?"":" current"),onClick:()=>{r||(t=e),i[e]=a,this.setState({tabIndex:t,listIndices:i}),this._handleSelection(n.listFunction,s)},children:n.listRenderFunction?n.listRenderFunction(s):s},a)})):null}}_handleSelection(t,e){t&&(t(e),this.close())}_createSettingEntry(t,e){let{checkStatus:i=!1,onChange:s=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,Vf.jsxs)("div",{className:"settingsEntry",children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{children:t})}),(0,Vf.jsx)("div",{style:{textAlign:"right"},children:(0,Vf.jsxs)("label",{className:"switch",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:i,onChange:s}),(0,Vf.jsx)("span",{className:"slider round"})]})})]},e)}render(){let{open:t,panelIndex:e}=this.state,{title:i,type:s}=this.props;return(0,Vf.jsxs)("div",{ref:this._panel,className:"rightPanel"+(t?" active scrollable":" hidden"),onClick:this._handleBgClick,children:[(0,Vf.jsxs)("div",{className:"headerBar",children:[(0,Vf.jsx)("div",{className:"headerLeft",children:null===e?(0,Vf.jsx)("div",{className:"title",children:i}):(0,Vf.jsx)("button",{className:"headerButton",onClick:this._closePanel,children:(0,Vf.jsx)("span",{className:"buttonIcon arrowLeft"})})}),(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton small panelButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})]}),(0,Vf.jsx)("ul",{className:"menuOptions",children:this._getPanelContent(s)})]})}}const uy=hy;class dy extends e.Component{constructor(t){super(t),this.state={open:!1},this.close=this.close.bind(this),this.open=this.open.bind(this)}open(){this.setState({open:!0})}close(){this.setState({open:!1})}render(){if(!this.state.open)return null;const{getManager:t}=this.props;let e=X_.isEmptyObj(t("content").getDB("stars"))?null:Object.keys(t("content").getDB("stars")).length,i=X_.isEmptyObj(t("content").getDB("planets"))?null:t("content").getDB("planets",!0).length,s=t("content").getKeplerCandidateCount()||null,n=X_.isEmptyObj(t("content").getDB("tesscandidates"))?null:t("content").getDB("tesscandidates",!0).length;return e=X_.numberToComma(e),i=X_.numberToComma(i),s=X_.numberToComma(s+n),(0,Vf.jsxs)("div",{className:"explore overlay scrollable",children:[this.props.isMobile?(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})}):(0,Vf.jsx)("button",{className:"headerButton closeButton big",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsx)("section",{className:"header",children:(0,Vf.jsx)("header",{children:(0,Vf.jsx)("h1",{children:"Milky Way"})})}),(0,Vf.jsxs)("section",{className:"content-page",children:[(0,Vf.jsx)("figure",{className:"image",children:(0,Vf.jsx)("img",{alt:"universe",src:"assets/image/generic/universe.jpg"})}),(0,Vf.jsxs)("div",{className:"stats block",children:[(0,Vf.jsx)("div",{className:"title",children:"Discoveries"}),(0,Vf.jsxs)("div",{className:"data-block first",children:[(0,Vf.jsx)("div",{className:"count",children:i}),(0,Vf.jsx)("div",{className:"label",children:"confirmed"})]}),(0,Vf.jsx)("div",{className:"separator first"}),(0,Vf.jsxs)("div",{className:"data-block",children:[(0,Vf.jsx)("div",{className:"count",children:s}),(0,Vf.jsx)("div",{className:"label",children:"nasa candidates"})]}),(0,Vf.jsx)("div",{className:"separator last"}),(0,Vf.jsxs)("div",{className:"data-block last",children:[(0,Vf.jsx)("div",{className:"count",children:e}),(0,Vf.jsx)("div",{className:"label",children:"plantary systems"})]})]}),(0,Vf.jsxs)("div",{className:"content small block",children:[(0,Vf.jsx)("h2",{children:"The Milky Way"}),(0,Vf.jsx)("div",{className:"subtitle",children:(0,Vf.jsxs)("p",{children:["From ",(0,Vf.jsx)("a",{href:"https://science.nasa.gov/",target:"_blank",rel:"noopener noreferrer",children:"NASAs Science Mission Directorate website"})]})}),(0,Vf.jsx)("p",{children:"Our galaxy, the Milky Way, is typical: it has hundreds of billions of stars, enough gas and dust to make billions more stars, and at least ten times as much dark matter as all the stars and gas put together. And its all held together by gravity."}),(0,Vf.jsx)("p",{children:"Like more than two-thirds of the known galaxies, the Milky Way has a spiral shape. At the center of the spiral, a lot of energy and, occasionally, vivid flares are being generated. Based on the immense gravity that would be required to explain the movement of stars and the energy expelled, the astronomers conclude that the center of the Milky Way is a supermassive black hole."}),(0,Vf.jsx)("p",{children:"Other galaxies have elliptical shapes, and a few have unusual shapes like toothpicks or rings. The Hubble Ultra Deep Field (HUDF) shows this diversity. Hubble observed a tiny patch of sky (one-tenth the diameter of the moon) for one million seconds (11.6 days) and found approximately 10,000 galaxies, of all sizes, shapes, and colors. From the ground, we see very little in this spot, which is in the constellation Fornax."}),(0,Vf.jsx)("h3",{children:"Formation"}),(0,Vf.jsx)("p",{children:"After the Big Bang, the Universe was composed of radiation and subatomic particles. What happened next is up for debate - did small particles slowly team up and gradually form stars, star clusters, and eventually galaxies? Or did the Universe first organize as immense clumps of matter that later subdivided into galaxies?"}),(0,Vf.jsx)("h3",{children:"Collisions"}),(0,Vf.jsx)("p",{children:"The shapes of galaxies are influenced by their neighbors, and, often, galaxies collide. The Milky Way is itself on a collision course with our nearest neighbor, the Andromeda galaxy. Even though it is the same age as the Milky Way, Hubble observations reveal that the stars in Andromeda's halo are much younger than those in the Milky Way. From this and other evidence, astronomers infer that Andromeda has already smashed into at least one and maybe several other galaxies."})]})]}),(0,Vf.jsx)("div",{className:"close-button",children:(0,Vf.jsx)("button",{onClick:this.close,children:"Close"})})]})}}const py=dy,my=["A","F","L","M","O","S"];class gy extends e.PureComponent{constructor(t){super(t),this.state={open:t.open,location:t.location,telescope:!1,explore:!1,constellations:!1,onlyVisibleStars:!1,onlyHWOStars:!1,expandButton:!1,title:"",subtitle:"",imgSrc:"",OBSERVATORY:mf,paragraphs:[]},this._assetsBaseUrl="assets/",this._imgBaseUrl=this._assetsBaseUrl+"image/generic/",this._subTitles={star:t=>{let{type:e,optmag:i}=t,s="";return s="Unknown"===e?"A star of unknown type,":(my.indexOf(e)>=0?"An ":"A ")+e+"-type star,",s+=" which is ",!isNaN(i)&&i<6.5?s+="visible with the unaided eye from Earth":s+=" too faint to be seen with the unaided eye from Earth","M"===e&&(s="An M-type star. The most common type of star  which is much redder, cooler, and dimmer than the Sun."),s},system:t=>{let{planetCount:e,type:i,position:s}=t;return e+(0==e||e>1?" planets":" planet")+" orbiting "+("Unknown"===i?"a star of unknown type, ":(my.indexOf(i)>=0?"an ":"a ")+i+"-type star, ")+X_.convertToDistanceString(X_.calculateRawDistance(s)-this.props.scene.get("earth").getOcclusionRadius())+" from Earth."},planet:{neptunian:"A Neptune-like giant planet",jovian:"A giant planet composed mainly of gas",superearth:"A potentially rocky world, larger than Earth",terrestrial:"A rocky world outside our solar system",unknown:""},earth:t=>t?null:"Choose a location to see field of stars from that part of Earth at the current time",filterPlanet:t=>X_.numberToComma(t)+" planets | "},this._filterInfo={GasGiant:t=>({title:"Gas Giants",subtitle:this._subTitles.filterPlanet(t)+this._subTitles.planet.jovian,imgSrc:this._imgBaseUrl+"gasgiant.webp",paragraphs:["This planet belongs to a class known as gas giants, similar to Jupiter or Saturn in our solar system. These planets are typically made of the two lightest and most common elementshydrogen and heliumbut may have dense cores of heavier elements. They lack a solid, well-defined surface and are consider unpromising targets in the search for life."]}),NeptuneLike:t=>({title:"Neptune-like",subtitle:this._subTitles.filterPlanet(t)+this._subTitles.planet.neptunian,imgSrc:this._imgBaseUrl+"neptune-like.webp",paragraphs:["This planet is a Neptunian world, similar to Uranus or Neptune in our solar system. It is larger than a rocky world but smaller than a gas giant. This type of planet typically has a thick, gaseous atmosphere made of hydrogen and helium, with increasing temperatures and pressure toward the core. This planet is unlikey to be hospitable to life due to the high temperature and pressure deep in its thick atmosphere."]}),SuperEarth:t=>({title:"Super Earth",subtitle:this._subTitles.filterPlanet(t)+this._subTitles.planet.superearth,imgSrc:this._imgBaseUrl+"terrestrial.webp",paragraphs:["Super Earths are exotic planets unlike any in our solar system. They are more massive than Earth yet lighter than gas giants like Neptune, and they can be made of gas, rock or a combination of both. There are about 70 known to circle stars beyond our sun, and NASA's Kepler mission has detected hundreds of candidates."]}),Terrestrial:t=>({title:"Terrestrial",subtitle:this._subTitles.filterPlanet(t)+this._subTitles.planet.terrestrial,imgSrc:this._imgBaseUrl+"terrestrial.webp",paragraphs:["Terrestrial planets are rocky, with iron-rich cores, like Mercury, Venus, Earth and Mars in our solar system. These four innermost planets in our solar system demonstrate how terrestrial planets can have a variety of atmospheres and surface conditions. A terrestrial planet that is located in a stars habitable zone may have the right conditions for liquid water, which is considered a prerequisite for life as we know it."]}),MilkyWay:(t,e)=>({title:"Milky Way Galaxy",subtitle:t&&e?X_.numberToComma(t)+" solar systems | "+X_.numberToComma(e)+" confirmed planets":"",imgSrc:this._imgBaseUrl+"milkywaythumbnail.png",paragraphs:["Our Sun and all the planets around it are part of a galaxy known as the Milky Way. Our galaxy is about 100,000 light-years in diameter and contains hundreds of billions of stars, along with enough gas and dust to make billions more stars.","A galaxy is a large group of stars, gas, and dust bound together by gravity. The total number of galaxies contained in the observable universe is estimated to be in the hundreds of billions. Like more than two-thirds of the known galaxies, the Milky Way has a spiral shape, organized into arms of giant stars that illuminate interstellar gas and dust."],explore:!0}),Kepler:(t,e)=>{let i=X_.MISSIONS.filter((t=>"sc_kepler_space_telescope"===t.id))[0];return Object.assign(i,{subtitle:(t&&t.length>0?X_.numberToComma(t.length)+" confirmed planets":"")+(e>0?" | "+X_.numberToComma(e)+" candidates":""),imgSrc:this._assetsBaseUrl+i.img})},TESS:(t,e)=>{let i=X_.MISSIONS.filter((t=>"sc_tess"===t.id))[0];return Object.assign(i,{subtitle:(t&&t.length>0?X_.numberToComma(t.length)+" confirmed planets":"")+(e&&e.length>0?" | "+X_.numberToComma(e.length)+" candidates":""),imgSrc:this._assetsBaseUrl+i.img})}},this.mobilePanel=e.createRef(),this.explorePanel=e.createRef(),this._update=this._update.bind(this),this._getFilterInfo=this._getFilterInfo.bind(this),this._getViewInfo=this._getViewInfo.bind(this),this._getTelescopeDisplay=this._getTelescopeDisplay.bind(this),this._toggleHWOStars=this._toggleHWOStars.bind(this),this._toggleVisibleStars=this._toggleVisibleStars.bind(this),this._toggleConstellations=this._toggleConstellations.bind(this),this._changeLocation=this._changeLocation.bind(this),this._openPanel=this._openPanel.bind(this)}componentDidMount(){this.props.pioneer.addCallback(this._update,!0),this.mounted=!0,this.handleProps()}componentWillUnmount(){this.props.pioneer.removeCallback(this._update),this.mounted=!1}_update(){if(!this.mounted)return;let t=this.props.scene.get("camera").getParent();if(t){const e="cameraTarget"===t.getName();this.state.telescope!==e&&this.setState({telescope:e},this.handleProps)}}async handleProps(){if(!this.props)return;const{info:t,location:e}=this.props,{title:i,telescope:s,OBSERVATORY:n}=this.state;let a,r={};switch(t.controller){case"star":if(a=t.id?this.props.getManager("content").getStarInfo(t.id):null,!a){const e=this.props.getManager("content").getDB(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<e?.length;i+=1)t.id===e[i].exo_id&&(a=e[i])}a&&(r=await this._getViewInfo(a.displayName,"star",{type:a.starType,st_optmag:a.st_optmag,optmag:a.st_optmag})),r.open=!1,this.props.getManager("content").getDB(X_.DATABASE_NAMES.hwostars,!0).filter((e=>e&&t&&e.exo_id===t.id)).length>0&&(r.expandButton=!0);break;case"system":a=t.id?this.props.getManager("content").getDB("stars")[t.id]:null,a&&(r=await this._getViewInfo(a.displayName,"system",{planetCount:a.planet_count,type:a.starType,position:a.position})),r.open=!1;break;case"planet":a=t.id?this.props.getManager("content").getDB("planets")[t.id]:null,a&&i!==a.displayName&&(r=await this._getViewInfo(a.displayName,"planet",{...a,category:a.plType,ratio:a.pl_rade})),r.expandButton=!0,r.open=!1;break;case"spacecraft":switch(t.id){case"sc_kepler_space_telescope":r=Object.assign(r,this._getFilterInfo(wf.KeplerAllDiscoveries.path));break;case"sc_tess":r=Object.assign(r,this._getFilterInfo(wf.TESSAllDiscoveries.path));break;default:a=t.id?X_.MISSIONS.filter((e=>e.id===t.id))[0]:null,a&&(r=Object.assign(r,a),r.imgSrc=this._assetsBaseUrl+a.img)}r.expandButton=!0;break;case"earth":r=await this._getViewInfo(s?null:"View from Earth","earth"),r.open=!1;break;default:if(t.category)r.expandButton=!0,r=Object.assign(r,this._getFilterInfo(t.category));else if(t.observatory){let{observatory:e}=t;e=e.replace(/_/g," "),r.expandButton=!0;for(let t=n.length-1;t>=0;t--){let i=n[t];if(i.display_name===e){r.title=i.display_name,r.subtitle=i.by,r.imgSrc=i.imageList,r.paragraphs=[i.description];break}}}}"expandButton"in r||(r.expandButton=!1),"explore"in r||(r.explore=!1),s||(r.constellations=!1,r.onlyVisibleStars=!1,r.onlyHWOStars=!1),e!==this.state.location&&(r.location=e),X_.isEmptyObj(r)||this.setState(r,(()=>{s||(this.props.getManager("scene").toggleConstellations(!1),"earth"===t.controller&&(this.props.getManager("scene").setFilter(),this.props.getManager("scene").starFade(!0,1e3)))}))}_getFilterInfo(t){let e;switch(t){case wf.KeplerConfirmed.path:case wf.KeplerCandidates.path:case wf.KeplerAllDiscoveries.path:{let t=this.props.getManager("content").getKeplerCandidateCount(),e=this.props.getManager("content").getDB("planets",!0);return e=e.filter((t=>"Kepler"===t.pl_facility||"K2"===t.pl_facility)),this._filterInfo.Kepler(e,t)}case wf.TESSConfirmed.path:case wf.TESSCandidates.path:case wf.TESSAllDiscoveries.path:{let t=this.props.getManager("content").getDB("tesscandidates",!0),e=this.props.getManager("content").getDB("planets",!0);return e=e.filter((t=>t.pl_facility.indexOf("TESS")>=0)),this._filterInfo.TESS(e,t)}case wf.GasGiant.path:case wf.NeptuneLike.path:case wf.SuperEarth.path:case wf.Terrestrial.path:return e=this.props.getManager("scene").planetCount,this._filterInfo[t](e);default:e=this.props.getManager("scene").planetCount;const i=this.props.getManager("content").getDB("stars",!0).filter((t=>t?.planet_count)).length;return this._filterInfo.MilkyWay(i,e)}}async _getViewInfo(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={title:t};switch(e){case"star":s.subtitle=this._subTitles.star(i);break;case"system":s.subtitle=this._subTitles.system(i);break;case"planet":switch(i.category){case"Neptunian":case"sub-Neptunian":case"Neptune-like":s.subtitle=this._subTitles.planet.neptunian;break;case"Jovian":case"sub-Jovian":case"super-Jovian":case"Gas Giant":s.subtitle=this._subTitles.planet.jovian;break;case"super-Terrestrial":case"Super Earth":s.subtitle=this._subTitles.planet.superearth;break;case"Terrestrial":s.subtitle=this._subTitles.planet.terrestrial;break;default:s.subtitle=this._subTitles.planet.unknown}const{exo_id:t}=i;if(t){await this.props.getManager("content").updateAPIPlanet(t);const{subtitle:e}=this.props.getManager("content").getAPIPlanet(t)||{};s.subtitle=e||s.subtitle}break;case"earth":s.subtitle=this._subTitles.earth(this.state.telescope)}return s}_getTelescopeDisplay(t,e,i){return this.props.isMobile?(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)(uy,{ref:this.mobilePanel,title:"View Options",type:"settings",tabs:[{text:"Future Target Stars",checkStatus:t,tabFunction:this._toggleHWOStars},{text:"Stars visible to the naked eye",checkStatus:e,tabFunction:this._toggleVisibleStars},{text:"Constellations",checkStatus:i,tabFunction:this._toggleConstellations}]}),(0,Vf.jsx)("button",{className:"rightPanelToggle",onClick:this._openPanel,children:(0,Vf.jsx)("span",{className:"rightPanelToggleIcon view"})})]}):(0,Vf.jsxs)("div",{className:"telescopeDisplay",children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{style:{paddingRight:"15px"},children:"Display"})}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("label",{className:"checkboxSquare",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:t,onChange:this._toggleHWOStars}),(0,Vf.jsx)("span",{className:"checkboxMark"+(t?" checked":"")}),"Future Target Stars"]}),(0,Vf.jsxs)("label",{className:"checkboxSquare",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:e,onChange:this._toggleVisibleStars}),(0,Vf.jsx)("span",{className:"checkboxMark"+(e?" checked":"")}),"Stars visible to the naked eye"]}),(0,Vf.jsxs)("label",{className:"checkboxSquare",children:[(0,Vf.jsx)("input",{type:"checkbox",checked:i,onChange:this._toggleConstellations}),(0,Vf.jsx)("span",{className:"checkboxMark"+(i?" checked":"")}),"Constellations"]})]})]})}_toggleHWOStars(){const{onlyVisibleStars:t}=this.state,e=!this.state.onlyHWOStars;this.setState({onlyHWOStars:e},(()=>{const i=[];e&&i.push({db:"stars",field:"hwo",value:1,op:"="}),t?i.push({db:"stars",field:"visible",value:!0,op:"="}):i.push({db:"stars",field:"displayName",value:""}),this.props.getManager("scene").setFilter(i),this.props.starField.starFade(!0,1e3)}))}_toggleVisibleStars(){const{onlyHWOStars:t}=this.state;let e=!this.state.onlyVisibleStars;this.setState({onlyVisibleStars:e},(()=>{const i=[];t&&i.push({db:"stars",field:"hwo",value:1,op:"="}),e?i.push({db:"stars",field:"visible",value:!0,op:"="}):i.push({db:"stars",field:"displayName",value:""}),this.props.getManager("scene").setFilter(i),this.props.starField.starFade(!0,1e3)}))}_toggleConstellations(){let t=!this.state.constellations;this.setState({constellations:t},(()=>{this.props.getManager("scene").toggleConstellations(t)}))}_changeLocation(){this.setState({telescope:!1,constellations:!1},(()=>{this.props.getManager("scene").toggleConstellations(!1),this.props.getManager("camera").flyToEarth(),this.handleProps()}))}_openPanel(){this.mobilePanel.current.open()}renderText(t,e){return(0,Vf.jsxs)("div",{className:"text",children:[t.map(((t,e)=>(0,Vf.jsx)("p",{style:{color:"#acacac"},children:t},t+e))),e&&(0,Vf.jsx)("img",{alt:"eox_explore_icon",className:"exploreImg",src:"assets/image/generic/eox_explore_icon.png",onClick:()=>{this.explorePanel.current.open()}})]})}render(){let{open:t,telescope:e,location:i,constellations:s,onlyVisibleStars:n,onlyHWOStars:a,expandButton:r,title:o,subtitle:l,paragraphs:c,explore:h,imgSrc:u}=this.state;const{isMobile:d,info:p}=this.props,m=this.props.getManager("content").getDB(X_.DATABASE_NAMES.hwostars,!0),g="planet"===p.controller||m.filter((t=>!(!t||!p||t.exo_id!==p.id))).length>0;return(0,Vf.jsxs)("div",{className:"toggle-ui-desktop toggle-ui-mobile",children:[e&&this._getTelescopeDisplay(a,n,s),(0,Vf.jsxs)("div",{id:"footerTitleId",className:"info-panel"+(t?" active scrollable":" hidden")+(e?" telescope":""),children:[(0,Vf.jsxs)("div",{className:"content",children:[(0,Vf.jsxs)("div",{className:"header",children:[(0,Vf.jsx)("h1",{id:"entryTitleId",className:"title",children:o}),r&&(0,Vf.jsx)("button",{className:"expand",onClick:()=>{if(g)this.props.openDetailPanel();else{let t=!this.state.open;this.setState({open:t}),this.props.onPanelChange(t)}},children:(0,Vf.jsx)("span",{className:"buttonIcon"+(g?" plus":t?" down":" up")})}),l&&(0,Vf.jsx)("div",{id:"entrySubtitleId",className:"subtitle",children:l})]}),t&&(0,Vf.jsxs)(Vf.Fragment,{children:[!this.props.isLandscape&&(0,Vf.jsx)(Vf.Fragment,{children:(0,Vf.jsxs)("div",{className:"container",children:[(0,Vf.jsx)("div",{className:"image",children:(0,Vf.jsx)("img",{src:u})}),this.renderText(c,h)]})}),this.props.isLandscape&&(0,Vf.jsxs)("div",{className:"landsclapeInfo",children:[(0,Vf.jsx)("div",{className:"image",children:(0,Vf.jsx)("img",{src:u})}),this.renderText(c,h)]})]})]}),e&&(0,Vf.jsxs)("div",{className:"telescopeDiv",children:[(0,Vf.jsxs)("div",{className:"telescopeChangeLocation",children:[(0,Vf.jsx)("button",{className:"backButton",onClick:this._changeLocation,children:(0,Vf.jsx)(Hf,{className:"svg svgBlue",src:"assets/svg/back.svg"})}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"locationLabel",children:"Location:"}),(0,Vf.jsx)("label",{children:i})]}),(0,Vf.jsx)("button",{className:"changeLocationButton",onClick:this._changeLocation,children:"CHANGE LOCATION"})]}),!d&&this._getTelescopeDisplay(a,n,s)]})]}),(0,Vf.jsx)(py,{ref:this.explorePanel,getManager:this.props.getManager,isMobile:d})]})}}const _y=gy;class fy extends e.PureComponent{constructor(t){super(t),this.state={init:!1,lightOn:!1,panelIsOpen:!1,showHoverDiv:!1,hoverPosition:{x:-999,y:-999}},window.exoUI?window.exoUI.footer=this:window.exoUI={footer:this},this.mousePosition={x:-999,y:-999},this.isHoverOverEarth=!1,this.mouseOverInterval=0,this.faq=e.createRef(),this.settingsToggle=e.createRef(),this.settings=e.createRef(),this.infoPanel=e.createRef(),this.habZone=e.createRef(),this.alert=e.createRef(),this.hoverDiv=e.createRef(),this._update=this._update.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._updateMousePosition=this._updateMousePosition.bind(this),this._toggleLight=this._toggleLight.bind(this),this._generateFooterNav=this._generateFooterNav.bind(this),this._handleFooterButton=this._handleFooterButton.bind(this),this.handleProps=this.handleProps.bind(this),this.handlePanelChange=this.handlePanelChange.bind(this),$f.initialize()}componentDidMount(){this.props.pioneer.addCallback(this._update,!0),this.mounted=!0,window.addEventListener("mousemove",this._mouseMoveHandler,!1),this.mouseOverInterval=setInterval(this._updateMousePosition,20),window.addEventListener?window.addEventListener("message",this.handleMessage.bind(this),!1):window.attachEvent&&window.attachEvent("onmessage",this.handleMessage.bind(this)),this.handleProps()}handleMessage(t){if(!t||!t.data||!t.data.type)return;let{type:e,text:i}=t.data;switch(e){case"hideFooter":document.getElementById("footerBarId").style.display="none",document.getElementById("dropUpId").style.bottom="10px",document.getElementById("footerTitleId").style.bottom="0px";break;case"hideSide":document.getElementById("sideId").style.display="none";break;case"changeTitle":document.getElementById("entryTitleId").innerText=i;break;case"changeSubtitle":document.getElementById("entrySubtitleId").innerText=i}}componentWillUnmount(){this.mounted=!1,this.props.pioneer.removeCallback(this._update),clearInterval(this.mouseOverInterval),window.removeEventListener("mousemove",this._mouseMoveHandler)}_update(){this.mounted&&(this.isHoverOverEarth&&!this.isAlertVisible||this.setState({showHoverDiv:!1}),this.isHoverOverEarth=!1)}setHoverPosition(t){this.alert.current.state.open||(this.setState({showHoverDiv:t,hoverPosition:this.mousePosition}),this.isHoverOverEarth=t)}async _mouseMoveHandler(t){let e=t||window.event;this.state.showHoverDiv&&(e.clientX===this.mousePosition.x&&this.clientY===this.mousePosition.y||(this.mousePosition={x:e.clientX,y:e.clientY}))}_updateMousePosition(){this.setState({hoverPosition:this.mousePosition})}_toggleLight(){let t=!this.state.lightOn;this.setState({lightOn:t},(()=>{this.props.getManager("scene").toggleLight()}))}handleProps(){let{info:t,starField:e,getManager:i}=this.props;if(!t)return;let s={},n=null,a=[];if(i("scene").showKeplerCandidates(!1),i("scene").showTESSCandidates(!1),"star"===t.controller){let e=t.id?i("content").getStarInfo(t.id):null;if(!e){const s=i("content").getDB(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<s?.length;i+=1)t.id===s[i].exo_id&&(e=s[i])}if(e){let t=i("content").getDB("stars",!0);if(t=t.filter((t=>t.starType===e.starType&&t.exo_id!==e.exo_id)),t.length>3){let e=[];for(let i=0;i<3;i++)e.push(t.splice(Math.random()*(t.length-1),1).pop());t=e}({footerTitle:n,footerButtons:a}=this._generateFooterNav("star",{title:e.starType,buttons:t}))}}else if("planet"===t.controller&&t.id){let e=t.id?i("content").getDB("planets")[t.id]:null;if(e){switch(e.plType){case"Neptunian":case"sub-Neptunian":({footerTitle:n,footerButtons:a}=this._generateFooterNav("planet",[{text:"Neptune-likes",params:'["Planet Types", "Neptune-like"]'},{text:e.pl_discmethod+" Discoveries",params:`["Detection Method", "${e.pl_discmethod}"]`}]));break;case"Gas Giant":case"Jovian":case"super-Jovian":case"sub-Jovian":({footerTitle:n,footerButtons:a}=this._generateFooterNav("planet",[{text:"Gas Giants",params:'["Planet Types", "Gas Giant"]'},{text:e.pl_discmethod+" Discoveries",params:`["Detection Method", "${e.pl_discmethod}"]`}]));break;case"Terrestrial":({footerTitle:n,footerButtons:a}=this._generateFooterNav("planet",[{text:"Terrestrials",params:'["Planet Types", "Terrestrial"]'},{text:e.pl_discmethod+" Discoveries",params:`["Detection Method", "${e.pl_discmethod}"]`}]));break;case"super-Terrestrial":case"Super Earth":({footerTitle:n,footerButtons:a}=this._generateFooterNav("planet",[{text:"Super Earths",params:'["Planet Types", "Super Earth"]'},{text:e.pl_discmethod+" Discoveries",params:`["Detection Method", "${e.pl_discmethod}"]`}]));break;case"Unknown":({footerTitle:n,footerButtons:a}=this._generateFooterNav("planet",[{text:"Unknowns",params:'["Planet Types", "Unknown"]'},{text:e.pl_discmethod+" Discoveries",params:`["Detection Method", "${e.pl_discmethod}"]`}]))}a&&a.length<=3&&e.displayName.indexOf("Kepler")>=0&&a.push({text:"Kepler Discoveries",type:"page",params:'["Kepler Discoveries"]',f:this._handleFooterButton})}}else if("spacecraft"===t.controller&&t.id)({footerTitle:n,footerButtons:a}=this._generateFooterNav("mission",t));else if("earth"===t.controller)({footerTitle:n,footerButtons:a}=this._generateFooterNav("main"));else if(t.category){switch(({footerTitle:n,footerButtons:a}=this._generateFooterNav("main")),i("camera").goToGalaxyView(),t.category){case"all":break;case wf.GasGiant.path:i("scene").setFilter([{db:"planets",field:"visType",value:"Gas Giant"},{db:"planets",field:"visType",value:"Hot Jupiter"}]);break;case wf.NeptuneLike.path:i("scene").setFilter([{db:"planets",field:"visType",value:"Neptune-like"}]);break;case wf.SuperEarth.path:i("scene").setFilter([{db:"planets",field:"plType",value:"super-Terrestrial"}]);break;case wf.Terrestrial.path:i("scene").setFilter([{db:"planets",field:"plType",value:"Terrestrial",op:"="},{db:"planets",field:"plType",value:"Small",op:"="}]);break;case wf.Unknown.path:i("scene").setFilter([{db:"planets",field:"plType",value:"Unknown",op:"="}]);break;case wf.KeplerConfirmed.path:case wf.KeplerCandidates.path:case wf.KeplerAllDiscoveries.path:switch(t.category){case wf.KeplerConfirmed.path:i("scene").setFilter([{db:"planets",field:"pl_facility",value:"Kepler"},{db:"planets",field:"pl_facility",value:"K2"}]);break;case wf.KeplerCandidates.path:i("scene").showKeplerCandidates(!0),i("scene").setFilter([{db:"planets",field:"pl_facility",value:"NA",op:"="}]);break;case wf.KeplerAllDiscoveries.path:i("scene").showKeplerCandidates(!0),i("scene").setFilter([{db:"planets",field:"pl_facility",value:"Kepler"},{db:"planets",field:"pl_facility",value:"K2"}])}break;case wf.TESSConfirmed.path:case wf.TESSCandidates.path:case wf.TESSAllDiscoveries.path:switch(t.category){case wf.TESSConfirmed.path:i("scene").setFilter([{db:"planets",field:"pl_facility",value:"TESS"}]);break;case wf.TESSCandidates.path:i("scene").showTESSCandidates(!0),i("scene").setFilter([{db:"planets",field:"pl_facility",value:"NA",op:"="}]);break;case wf.TESSAllDiscoveries.path:i("scene").showTESSCandidates(!0),i("scene").setFilter([{db:"planets",field:"pl_facility",value:"TESS"}])}break;default:console.warn("Category is not recognized:",t.category)}e&&e.starFade(!0,1e3)}else if(t.observatory){({footerTitle:n,footerButtons:a}=this._generateFooterNav("main"));let{observatory:s}=t;switch(s=s.replace(/_/g," "),s){case"XO Project":s="XO";break;case"KELT-North":case"KELT-South":s="KELT";break;case"SuperWASP-North":case"SuperWASP-South":s="SuperWASP"}i("scene").setFilter([{db:"planets",field:"pl_facility",value:s}]),e&&e.starFade(!0,1e3)}s.lightOn=i("scene").isLightOn();const{planetCount:r}=i("scene");r&&(s.init=!0),s=Object.assign(s,{footerTitle:n,footerButtons:a}),this.setState(s,(()=>{this.infoPanel&&this.infoPanel.current&&this.infoPanel.current.handleProps(),this.habZone&&this.habZone.current&&this.habZone.current.handleProps()}))}_generateFooterNav(t,e){let i="",s=[];switch(t){case"main":i="VIEW FROM",s=[{text:"SPACE",type:"path",f:this._handleFooterButton},{text:"EARTH",type:"path",params:"earth",f:this._handleFooterButton}];break;case"mission":i="MISSIONS",s=X_.MISSIONS.filter((t=>t.id!==e.id)).map((t=>({text:t.name,type:"path",params:`spacecraft/${t.id}`,f:this._handleFooterButton})));break;case"planet":i="MORE PLANETS LIKE THIS",s=e.map((t=>({text:t.text,type:"page",params:t.params,f:this._handleFooterButton})));break;case"star":i="MORE SYSTEMS WITH "+e.title+" STARS",s=e.buttons.map((t=>({text:t.displayName,type:"path",params:`system/${t.id}`,f:this._handleFooterButton})))}return{footerTitle:i,footerButtons:s}}_handleFooterButton(t){switch(t.currentTarget.dataset.type){case"path":{let e=t.currentTarget.dataset.params||"/";"/"===e&&this.props.resetHomeView(),this.props.MainPathChanged(e);break}case"page":{let e=JSON.parse(t.currentTarget.dataset.params);this.props.openGalleryPage(...e);break}}}handlePanelChange(t){this.setState({panelIsOpen:t})}getLocationName(t,e){let i=this.props.getManager("camera").formatLatLon(t,e);return $f.getLocationName(t,e).then((t=>t)).catch((()=>i.lat+", "+i.lon))}async pickedLocation(t){const{getManager:e}=this.props;let i=this.props.scene.get("earth"),{latitude:s,longitude:n}=e("camera").getLatLon(t,i),a=await this.getLocationName(s,n);this.setState({location:a},(()=>{this.alert.current.open({message:(0,Vf.jsx)("p",{className:"location",children:this.state.location}),bgClick:this.alert.current.close,button:{text:"Go",f:()=>{this.alert.current.close(),e("camera").flyToSurface(i,t),setTimeout((()=>{this.handleProps()}),1e3)}}})}))}convertLatLonToPosition(t,e){t=hh.degToRad(t),e=hh.degToRad(e);const i=this.props.scene.get("earth").get("spheroid").getSpheroid();let s=new Vh,n=new su(t,e);return i.xyzFromLLA(s,n),s}render(){let{info:t,isMobile:e,isLandscape:i,pioneer:s,scene:n,getManager:a,openDetailPanel:r}=this.props,{lightOn:o,location:l,panelIsOpen:c,showHoverDiv:h,footerTitle:u,footerButtons:d}=this.state,p=(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)(Kf,{ref:this.alert}),"planet"===t.controller&&(0,Vf.jsx)("div",{className:"hypotheticalVisualization",children:(0,Vf.jsx)("label",{children:"Hypothetical visualization"})},Math.random()),"system"===t.controller&&(0,Vf.jsx)(cy,{ref:this.habZone,isMobile:e,pioneer:s,getManager:a,id:t.id}),(0,Vf.jsx)(_y,{ref:this.infoPanel,pioneer:s,scene:n,starField:this.props.starField,open:c,onPanelChange:this.handlePanelChange,isMobile:e,isLandscape:i,location:l,getManager:a,openDetailPanel:r,info:t})]});return e?(0,Vf.jsx)("div",{children:p}):(h&&this.hoverDiv.current?(this.hoverDiv.current.style.display="block",this.hoverDiv.current.style.left=this.mousePosition.x+"px",this.hoverDiv.current.style.top=this.mousePosition.y+"px"):this.hoverDiv.current&&(this.hoverDiv.current.style.display="none"),(0,Vf.jsxs)(Vf.Fragment,{children:[h&&t&&"earth"===t.controller&&(0,Vf.jsx)("div",{id:"earthHoverDiv",ref:this.hoverDiv,children:(0,Vf.jsxs)("span",{className:"hover_message",children:[(0,Vf.jsx)("span",{className:"target_image",children:(0,Vf.jsx)(Hf,{src:"assets/svg/crosshairs_circle.svg"})}),(0,Vf.jsx)("h3",{className:"hover_text",children:"Click anywhere on the globe"})]})}),(0,Vf.jsxs)("footer",{id:"footerId",children:[p,(0,Vf.jsxs)("div",{id:"footerBarId",className:"footerBar",children:[u&&(0,Vf.jsx)("label",{className:"footerLink",children:u}),d&&d.map(((e,i)=>{let s=!1;return t&&t.controller&&("SPACE"===e.text&&"home"===t.controller||"EARTH"===e.text&&"earth"===t.controller)&&(s=!0),(0,Vf.jsx)("button",{"data-type":e.type,"data-params":e.params,className:s?"footerButton footerButtonActive":"footerButton",onClick:e.f,children:e.text},i)})),(0,Vf.jsxs)("div",{className:"footerBarRight",children:[(0,Vf.jsx)(ay,{default:t&&"home"===t.controller}),(0,Vf.jsx)("div",{className:"footerSVGDiv",children:(0,Vf.jsx)(Hf,{className:o?"svg svgWhite footerSVG":"svg svgBlue footerSVG",src:"assets/svg/light.svg",onClick:this._toggleLight})}),(0,Vf.jsx)("div",{ref:this.settingsToggle,className:"footerSVGDiv",children:(0,Vf.jsxs)("div",{className:"settingOverlayDiv",children:[(0,Vf.jsx)(oy,{ref:this.settings,pioneer:s,scene:n,toggleButton:this.settingsToggle,getManager:a}),(0,Vf.jsx)(Hf,{className:"svg svgBlue footerSVG",src:"assets/svg/settings.svg",onClick:()=>{this.settings.current.toggle()}})]})}),(0,Vf.jsx)("div",{className:"footerSVGDiv",children:(0,Vf.jsx)(Hf,{className:"svg svgBlue footerSVG",src:"assets/svg/faq.svg",onClick:()=>{this.faq.current.open()}})}),(0,Vf.jsx)("div",{className:"footerSVGDiv",onClick:()=>{let{fullScreen:t}=this.state;this.setState({fullScreen:!t}),Wf().toggle()},children:(0,Vf.jsx)("span",{className:"fullscreen"+(this.state.fullScreen?" on":"")})})]}),(0,Vf.jsx)(iy,{ref:this.faq,isMobile:e})]})]})]}))}}const yy=fy;var vy=i(4070),by=i.n(vy);class xy extends e.Component{constructor(t){super(t),this.maxResultCount=10,this.fusePlanet=new(by())([],{shouldSort:!0,threshold:.5,location:0,distance:1,maxPatternLength:32,minMatchCharLength:3,keys:["aliases","search_name","displayName","title"]}),this.fuseStar=new(by())([],{shouldSort:!0,threshold:.5,location:0,distance:1,maxPatternLength:32,minMatchCharLength:3,keys:["aliases","search_name","displayName","title"]}),this.state={open:!1,closeMenu:t.closeMenu,searchResult:[]},this._ignoreClick=!1,this._placeholderText="Type a name or a partial name of a planet or star.",this.searchMainRef=e.createRef(),this.searchRef=e.createRef(),this._selectSearchInputClick=this._selectSearchInputClick.bind(this),this._onItemSelect=this._onItemSelect.bind(this),this._clearSearch=this._clearSearch.bind(this),this._renderResults=this._renderResults.bind(this),this.open=this.open.bind(this)}componentDidMount(){this.updateDatabases(),document.addEventListener("click",this._selectSearchInputClick,!1)}componentWillUnmount(){document.removeEventListener("click",this._selectSearchInputClick)}_selectSearchInputClick(t){this._ignoreClick?this._ignoreClick=!1:this.searchMainRef.current&&this.searchMainRef.current.contains(t.target)||this.state.searchResult&&0!==this.state.searchResult.length||this.setState({open:!1})}updateDatabases(){this.searchableStars=this.props.getManager("content").getDB("stars",!0).filter((t=>{if(!t||!t.displayName)return!1;const{position:e=[-1,-1,-1]}=t;return-1!==e[0]&&0!==e[0]})),this.searchablePlanets=this.props.getManager("content").getDB("planets",!0).filter((t=>{if(!t||!t.displayName)return!1;const{pl_hostname:e}=t,i=this.searchableStars.find((t=>t.pl_hostname===e));return Boolean(i)})),this.fuseStar.list=this.searchableStars,this.fusePlanet.list=this.searchablePlanets}findName(t,e){const i=t.replace(/-|_|\s/g,"").toLowerCase(),s=e.replace(/-|_|\s/g,"").toLowerCase();return i.indexOf(s)>=0}searchDB(t){if(!t)return void this.setState({searchResult:[],searchText:null});let e=[],i=[];e=this.searchablePlanets?.filter((e=>{const{displayName:i}=e;return this.findName(i,t)})),e.sort(((t,e)=>t.displayName<e.displayName?-1:t.displayName>e.displayName?1:0)),e.sort(((t,e)=>t.displayName.length-e.displayName.length));let s=!0;e&&0!==e.length||(s=!1,e=this.fusePlanet.search(t));const n=this.props.getManager("content").getDB("stars");e=e.filter((t=>!!(t&&t.displayName&&t.pl_hostname)&&n[t.pl_hostname])),i=this.searchableStars?.filter((e=>{const{displayName:i,aliases:s,search_name:n}=e||{};let a=this.findName(i,t);return s&&!a&&(a=this.findName(s,t)),n&&!a&&(a=this.findName(n,t)),a})),i.sort(((t,e)=>t.displayName<e.displayName?-1:t.displayName>e.displayName?1:0)),i.sort(((t,e)=>t.displayName.length-e.displayName.length));let a=!0;i&&0!==i.length||(a=!1,i=this.fuseStar.search(t)),e=e.map((t=>{let{plType:e,displayName:i,pl_hostname:s,date:n,position:a,exo_id:r}=t;return e=e.indexOf("Jovian")>=0?"Gas Giant":e,e=e.indexOf("super-Terrestrial")>=0?"Super Earth":e,e=e.indexOf("Neptunian")>=0?"Neptune-like":e,{exo_id:r,position:a,displayName:i,pl_hostname:s,path:"planet/",content:{"Planet Type":e,"Discovery Date":n}}})),i=i.map((t=>({exo_id:t.exo_id,displayName:t.displayName,position:t.position,path:"system/",content:{"Star Type":t.starType,Planets:t.planet_count}})));let r=[];!s&&!a||s&&a?r=[...i.slice(0,Math.floor(this.maxResultCount/2)),...e.slice(0,Math.floor(this.maxResultCount/2))]:s?r=e.slice(0,Math.floor(this.maxResultCount)):a&&(r=i.slice(0,Math.floor(this.maxResultCount)));for(let t=0;t<r.length;t++){let e=r[t].position||[0,0,0];if(r[t].pl_hostname){let i=this.props.getManager("content").getDB("stars",!0);for(let s=0;s<i.length;s++)i[s].pl_hostname===r[t].pl_hostname&&(e=i[s].position)}r[t].content["Distance from Earth"]=X_.convertToDistanceString(X_.calculateRawDistance(e)-this.props.scene.get("earth").getOcclusionRadius())}const o={};for(let t=0;t<r.length;t+=1){const{pl_hostname:e,exo_id:i}=r[t];e?r.find((t=>{let{exo_id:i}=t;return i===e}))||(o[i]=r[t]):o[i]={...r[t],planets:r.filter((t=>{let{pl_hostname:e}=t;return e===i}))}}const l=[],c=Object.keys(o);for(let t=0;t<c.length;t+=1){const e=c[t],{planets:i,...s}=o[e];s&&l.push(s),i?.length&&l.push(...i)}this.setState({searchResult:l,searchText:t})}_onItemSelect(t){const{path:e,exo_id:i}=t;this.props.closeMenu&&this.props.closeMenu(),this._clearSearch(),this.props.MainPathChanged(`${e}${i}`)}_clearSearch(){this.searchRef.current.value=null,this.setState({searchText:null,searchResult:[],open:!1})}open(){this._ignoreClick=!0,this.setState({open:!0},(()=>{this.updateDatabases()}))}_renderResults(t){return t&&t.length?t.map((t=>{const{content:e,exo_id:i,displayName:s}=t;return(0,Vf.jsxs)("div",{className:"searchGridEntry",onClick:()=>{this._onItemSelect(t)},children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{style:{color:"#9AA9FB",margin:0},children:s})}),Object.keys(e).map((t=>(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("label",{className:"searchGridKey",children:[t,":"]}),(0,Vf.jsx)("label",{className:"searchGridValue",children:e[t]})]},`${i}-${t}`)))]},i)})):(0,Vf.jsx)("div",{className:"searchGridEntry",children:(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{className:"noResult",children:"No planet / star with known positions"})})})}componentDidUpdate(t,e,i){!e.open&&this.state.open&&this.searchRef.current&&this.searchRef.current.focus(),t.isMobile&&this.state.searchResult&&this.state.searchResult.length>0&&window.scroll(0,0)}render(){const{open:t,searchText:e,searchResult:i}=this.state,{isMobile:s}=this.props;let n=s&&e?.length;return(0,Vf.jsxs)("div",{className:"searchContainer"+(n?" overlay":""),ref:this.searchMainRef,children:[(0,Vf.jsxs)("div",{style:{display:s?"block":t?"unset":"none"},children:[n&&(0,Vf.jsxs)("div",{className:"headerBar",children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("label",{className:"title",children:"Search"})}),(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this._clearSearch,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})]}),(0,Vf.jsxs)("div",{className:"searchBox"+(e?.length?" hasResult":""),children:[(0,Vf.jsx)("input",{ref:this.searchRef,autoComplete:"off",id:"searchInputId",className:"searchInput",placeholder:s?"":this._placeholderText,onChange:t=>{this.searchDB(t.target.value)},type:"text"}),e?(0,Vf.jsx)(Hf,{className:"svg svgBlue cancelSVG",src:"assets/svg/cancel.svg",onClick:this._clearSearch}):(0,Vf.jsx)(Hf,{className:"svg svgWhite searchSVG",src:"assets/svg/search.svg",onClick:this.open}),e?.length&&(0,Vf.jsx)("div",{className:"searchResultBox scrollable",children:(0,Vf.jsx)("div",{className:"searchResultScrollBox",children:this._renderResults(i)})})]})]}),!s&&(0,Vf.jsx)(Hf,{className:"svg svgGray searchSVG toggle",style:{display:t?"none":"block"},src:"assets/svg/search.svg",onClick:this.open}),s&&!e?.length&&(0,Vf.jsx)("div",{className:"info",children:(0,Vf.jsx)("label",{children:this._placeholderText})})]})}}const Sy=xy;class Ty extends e.PureComponent{constructor(t){super(t),this._resetHomeView=this._resetHomeView.bind(this)}_resetHomeView(){this.props.MainPathChanged("/"),this.props.resetHomeView()}render(){const{isMobile:t,scene:e,openMenuOverlay:i,openPlanetBrowser:s,MainPathChanged:n,getManager:a}=this.props;return(0,Vf.jsxs)("div",{className:"headerBar toggle-ui-desktop",children:[(0,Vf.jsxs)("div",{className:"headerLeft toggle-ui-mobile",children:[(0,Vf.jsx)("a",{className:"nasa_logo",href:"https://www.nasa.gov",title:"visit nasa.gov",target:"_blank",rel:"noopener noreferrer"}),(0,Vf.jsx)("button",{className:"brand_logo",title:"Eyes on Exoplanets home",onClick:this._resetHomeView,children:"Eyes on Exoplanets"})]}),(0,Vf.jsx)("div",{className:"headerRight",children:t?(0,Vf.jsx)("button",{className:"headerButton",onClick:i,children:(0,Vf.jsx)("span",{className:"menuIcon"})}):(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsxs)("button",{className:"headerButton galaxyIcon",onClick:this._resetHomeView,children:[(0,Vf.jsx)(Hf,{className:"galaxySVG",src:"assets/svg/galaxy_icon.svg"}),"home"]}),(0,Vf.jsx)("button",{className:"headerButton",onClick:s,children:"browse destinations"}),(0,Vf.jsxs)("div",{className:"missionMenu",children:[(0,Vf.jsx)("button",{className:"headerButton",children:"missions"}),(0,Vf.jsxs)("div",{className:"missionMenuNav",children:[(0,Vf.jsx)("div",{className:"missionMenuContentSquare"}),(0,Vf.jsx)("div",{className:"missionMenuContent",children:X_.MISSIONS.map(((t,e)=>(0,Vf.jsx)("label",{onClick:()=>{n(`spacecraft/${t.id}`)},children:t.name},e)))})]})]}),(0,Vf.jsx)(Sy,{isMobile:t,getManager:a,scene:e,MainPathChanged:n})]})})]})}}const wy=Ty;class Ey extends e.PureComponent{constructor(t){super(t),this.state={loading:!1}}render(){return this.state.loading?(0,Vf.jsx)("div",{className:"loading",children:(0,Vf.jsxs)("div",{className:"loading-roller",children:[(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{}),(0,Vf.jsx)("div",{})]})}):null}}const Ay=Ey;class Iy extends e.PureComponent{constructor(t){super(t),this.state={open:!1},this.faq=e.createRef(),this.settings=e.createRef(),this._handleNavSelection=this._handleNavSelection.bind(this),this.handleProps=this.handleProps.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}handleProps(){this.settings&&this.settings.current&&this.settings.current.handleProps()}open(){this.setState({open:!0})}close(){this.setState({open:!1})}_handleNavSelection(t){this.close();let e,i=t.currentTarget.dataset.id;switch(i){case"earth":e="earth";break;case"home":case"space":e="/",this.props.resetHomeView();break;default:e="spacecraft/"+i}this.props.MainPathChanged(e)}render(){let{open:t}=this.state;const{isMobile:e}=this.props;return e&&(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("div",{className:"mainMenu overlay"+(t?" active scrollable":" hidden"),children:[(0,Vf.jsxs)("div",{className:"headerBar",children:[(0,Vf.jsxs)("div",{className:"headerLeft",children:[(0,Vf.jsx)("a",{className:"nasa_logo",href:"https://www.nasa.gov",title:"visit nasa.gov",target:"_blank"}),(0,Vf.jsx)("button",{className:"brand_logo",title:"Eyes on Exoplanets home",onClick:()=>{this.props.MainPathChanged("/"),this.close()},children:"Eyes on Exoplanets"})]}),(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton",onClick:()=>{this.close()},children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})]}),(0,Vf.jsx)("nav",{className:"siteNav",children:(0,Vf.jsxs)("ul",{children:[(0,Vf.jsxs)("li",{className:"navItem",children:[(0,Vf.jsxs)("div",{className:"headerButton galaxyIcon","data-id":"home",onClick:this._handleNavSelection,children:[(0,Vf.jsx)(Hf,{className:"galaxySVG",src:"assets/svg/galaxy_icon.svg"}),(0,Vf.jsx)("span",{className:"iconText",children:"home"})]}),(0,Vf.jsxs)("ul",{className:"subNav",children:[(0,Vf.jsx)("li",{"data-id":"space",onClick:this._handleNavSelection,children:"Space"}),(0,Vf.jsx)("li",{"data-id":"earth",onClick:this._handleNavSelection,children:"Earth"})]})]}),(0,Vf.jsx)("li",{className:"navItem",onClick:()=>{this.props.openPlanetBrowser(),this.close()},children:"Browse Destinations"}),(0,Vf.jsxs)("li",{className:"navItem",children:["Missions",(0,Vf.jsx)("ul",{className:"subNav",children:X_.MISSIONS.map((t=>(0,Vf.jsx)("li",{"data-id":t.id,onClick:this._handleNavSelection,children:t.name},t.name+t.id+Math.random())))})]}),(0,Vf.jsx)("li",{className:"navItem",onClick:()=>{this.settings.current.open()},children:"Settings"}),(0,Vf.jsx)("li",{className:"navItem",onClick:()=>{this.faq.current.open()},children:"Help"})]})}),t&&(0,Vf.jsx)(Sy,{isMobile:e,closeMenu:this.close,getManager:this.props.getManager,MainPathChanged:this.props.MainPathChanged,scene:this.props.scene})]}),(0,Vf.jsx)(oy,{ref:this.settings,pioneer:this.props.pioneer,scene:this.props.scene,isMobile:e,getManager:this.props.getManager}),(0,Vf.jsx)(iy,{ref:this.faq,isMobile:e})]})}}const My=Iy;class Cy extends e.PureComponent{constructor(t){super(t),this.state={dropDownIndex:0,hoverIndex:0,listIndex:0,tabIndex:0}}componentDidMount(){this.handleProps()}handleProps(){let t=this.props.tabIndex||0,e=this.props.tabs[t].listIndex||0;this.setState({tabIndex:this.props.tabIndex,listIndex:e})}render(){let{title:t,tabs:e,isMobile:i}=this.props,{dropDownIndex:s,hoverIndex:n,listIndex:a,tabIndex:r}=this.state;return e?i?null:(0,Vf.jsxs)("div",{id:"dropUpId",className:"dropUp toggle-ui-desktop",children:[(0,Vf.jsxs)("div",{style:{display:"flex"},children:[(0,Vf.jsx)("div",{className:"titleLine"}),(0,Vf.jsx)("label",{className:"titleText",children:t}),(0,Vf.jsx)("div",{className:"titleLine"})]}),(0,Vf.jsxs)("div",{style:{display:"flex",position:"relative"},children:[e.map(((t,e)=>{let i="tab "+(e===r?"active":"inactive");if(t.invalid)return null;if(t.list&&t.list.length>0)i+=" notempty";else if(t.list&&0===t.list.length)return null;return(0,Vf.jsxs)("div",{className:i,onMouseOver:()=>{this.setState({hoverIndex:e})},onClick:()=>{this.setState({dropDownIndex:0}),t.tabFunction&&t.tabFunction(t)},children:[(0,Vf.jsx)(Hf,{className:"icon "+(e===r?"active":"inactive"),src:t.svgPath}),t.text.map(((t,e)=>(0,Vf.jsx)("label",{children:t},t+e+Math.random()))),t.list&&t.list.length>1&&(0,Vf.jsx)("div",{className:"more"})]},e+Math.random())})),n>=0&&e[n]&&e[n].list&&e[n].list.length>1?(0,Vf.jsx)("div",{className:"list",children:e[n].list.map(((t,i)=>{let s=t;return e[n].listRenderFunction&&(s=e[n].listRenderFunction(s)),(0,Vf.jsx)("button",{className:"item "+(i===a?"active":""),onClick:()=>{e[n].listFunction&&(this.setState({dropDownIndex:0}),e[n].listFunction(t))},children:s},s+i+Math.random())}))}):null]}),(0,Vf.jsxs)("div",{className:"compare",children:[e[r]&&e[r].subtitle&&"text"===e[r].subtitleFormat&&(0,Vf.jsx)("label",{style:{color:"#9299b5"},children:e[r].subtitle}),e[r]&&e[r].subtitle&&"button"===e[r].subtitleFormat&&(0,Vf.jsx)("button",{className:"compareSolarSystem",onClick:()=>{e[r].subtitleFunction&&e[r].subtitleFunction(e[r].subtitle)},children:e[r].subtitle}),e[r]&&"dropdown"===e[r].subtitleFormat&&e[r].subtitleOptions&&(0,Vf.jsx)("select",{className:"dropdownInfo",disabled:e[r].subtitleHide,style:{opacity:e[r].subtitleHide?0:1},value:s,onChange:t=>{if(e[r].subtitleOptions){let i=e[r].subtitleOptions;for(let e=0;e<i.length;e++)if(i[e].text===t.target.value){this.setState({dropDownIndex:t.target.value}),i[e].f&&i[e].f(t.target.value);break}}},children:e[r].subtitleOptions.map(((t,e)=>(0,Vf.jsx)("option",{value:t.text,children:t.text},t.text+e+Math.random())))})]})]}):null}}const Ny=Cy;class Py extends e.PureComponent{constructor(t){super(t),this.state={planets:[],tabIndex:0,compareSC:"None",compareSS:!1},this._mobilePanelSC=e.createRef(),this._mobilePanelObj=e.createRef(),this.dropup=e.createRef(),this._resetCompare=this._resetCompare.bind(this),this._handleCompareSC=this._handleCompareSC.bind(this),this._compareSC=this._compareSC.bind(this),this._compareObj=this._compareObj.bind(this),this._goToObject=this._goToObject.bind(this),this._openPanel=this._openPanel.bind(this),this._getPanelContentSC=this._getPanelContentSC.bind(this),this._getPanelContentCmp=this._getPanelContentCmp.bind(this)}componentDidMount(){this.handleProps()}componentWillUnmount(){const{getManager:t}=this.props;t("comparison").resetAll()}handleProps(){let{info:t,getManager:e}=this.props;if(!t)return;let i={},s=[];switch(t.controller){case"planet":i.tabIndex=0;break;case"system":i.tabIndex=1;break;case"star":i.tabIndex=2;break;case"spacecraft":i.tabIndex=0,s.push("_mobilePanelSC")}if(t.id){let n=0,a=0,r=e("content").getDB(X_.DATABASE_NAMES.stars)[t.id],o=e("content").getDB(X_.DATABASE_NAMES.planets)[t.id];!r&&o&&(r=e("content").getDB(X_.DATABASE_NAMES.stars)[o.pl_hostname]);let l=r;for(let i in rf)if(rf[i].stars){(i===t.id||"planet"===t.controller&&i===o.pl_hostname)&&(l=rf[i].stars);for(let s=0;s<rf[i].stars.length;s++)if(rf[i].stars[s].exo_id===t.id){l=rf[i].stars,a=s,r=e("content").getDB(X_.DATABASE_NAMES.stars)[i];break}}if(r){for(let e=0;e<r.planets.length;e++)if(r.planets[e]===t.id){n=e;break}i.planets=r.planets.sort(),i.stars=l,i.listIndex=n,i.starListIndex=a,s.push("dropup"),s.push("_mobilePanelObj")}else"star"===t.controller&&(i.planets=[])}this.setState(i,(()=>{this._resetCompare(),s.forEach((t=>{this[t]&&this[t].current&&this[t].current.handleProps()}))}))}_resetCompare(){const{getManager:t}=this.props;this.setState({compareSC:"None",compareSS:!1},t("comparison").resetAll)}_handleCompareSC(t){let e=t.target.value;this.setState({compareSC:e},(()=>{this._compareSC(this.props.info.id,e)}))}async _compareSC(t,e){const{getManager:i}=this.props;"None"===e?(i("comparison").reset(),this.props.MainPathChanged(`spacecraft/${t}`)):await i("comparison").compare(t,e)}async _compareObj(t,e,i){const{getManager:s}=this.props;if("None"===e)this._resetCompare();else switch(i){case"planet":await s("comparison").comparePlanet(t,e);break;case"system":this.setState({compareSS:!0},(()=>{s("comparison").compareSystem(this.state.compareSS,t)}));break;case"star":await s("comparison").compare(t,e)}}_goToObject(t,e){if(!this.props||!e)return;const{getManager:i}=this.props;let s=null;switch(t){case"planet":if(i("content").getDB(X_.DATABASE_NAMES.planets)[e])s=e;else if(i("content").getDB(X_.DATABASE_NAMES.stars)[e]){let t=i("content").getDB(X_.DATABASE_NAMES.stars)[e];s=t.planets.length>0?t.planets[0]:null}else for(let t in rf)if(rf[t].stars){let n=rf[t].stars;for(let a=0;a<n.length;a++)if(n[a].exo_id===e){let e=i("content").getDB(X_.DATABASE_NAMES.stars)[t];s=e.planets.length>0?e.planets[0]:null}}break;case"system":case"star":if(rf[e]&&rf[e].stars)s="system"===t?e:rf[e].stars[0].exo_id;else if(i("content").getDB(X_.DATABASE_NAMES.stars)[e])s=e;else if(i("content").getDB(X_.DATABASE_NAMES.hwostars)[e])s=e;else if(i("content").getDB(X_.DATABASE_NAMES.planets)[e])s=i("content").getDB(X_.DATABASE_NAMES.planets)[e].pl_hostname,"star"===t&&rf[s]&&rf[s].stars&&rf[s].stars[0]&&rf[s].stars[0].exo_id&&(s=rf[s].stars[0].exo_id);else{const t=i(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<t?.length;i+=1)t[i].exo_id===e&&(s=e)}if(!s)for(let i in rf)if(rf[i].stars){let n=rf[i].stars;for(let a=0;a<n.length;a++)if(n[a].exo_id===e){s="system"===t?i:e;break}}}"system"===t?i("comparison").reset():this._resetCompare(),this.props.MainPathChanged(`${t}/${s}`)}_openPanel(t){switch(t.currentTarget.id){case"compareBtnSC":this._mobilePanelSC.current.open();break;case"compareBtnObj":this._mobilePanelObj.current.open()}}_getPanelContentSC(t){return t?(0,Vf.jsxs)("div",{className:"toggle-ui-mobile",children:[(0,Vf.jsx)(uy,{ref:this._mobilePanelSC,title:"View Options",tabs:[{text:["Compare"],listIndex:2,list:[{id:"scientist",text:"Compare to Scientist"},{id:"school_bus",text:"Compare to School Bus"},{id:"None",text:"Compare to None"}],listRenderFunction:t=>t.text,listFunction:t=>{this._compareSC(this.props.info.id,t.id)}}]}),(0,Vf.jsx)("button",{id:"compareBtnSC",className:"rightPanelToggle",onClick:this._openPanel,children:(0,Vf.jsx)("span",{className:"rightPanelToggleIcon view"})})]}):(0,Vf.jsx)("div",{className:"dropUp toggle-ui-desktop",children:(0,Vf.jsxs)("select",{className:"dropdownInfo",value:this.state.compareSC,onChange:this._handleCompareSC,children:[(0,Vf.jsx)("option",{value:"None",children:"COMPARE SIZE"}),(0,Vf.jsx)("option",{value:"scientist",children:"SCIENTIST"}),(0,Vf.jsx)("option",{value:"school_bus",children:"SCHOOL BUS"})]})})}_getPanelContentCmp(t){let e=[],i=this.props.info.id;switch(t){case"planet":e=[{id:"jupiter_fake",text:"Compare to Jupiter"},{id:"earth_fake",text:"Compare to Earth"},{id:"None",text:"Compare to None"}];break;case"system":e=[{id:i,text:"Compare to Our Solar System"},{id:"None",text:"Compare to None"}];break;case"star":e=[{id:"sun_fake",text:"Compare to Sun"},{id:"None",text:"Compare to None"}]}return{text:["Compare"],listIndex:e.length-1,list:e,listRenderFunction:t=>t.text,listFunction:e=>{this._compareObj(i,e.id,t)}}}render(){let{planets:t,tabIndex:e,listIndex:i,starListIndex:s,compareSS:n,stars:a}=this.state,{info:r,isMobile:o,getManager:l}=this.props;return"spacecraft"===r.controller?this._getPanelContentSC(o):o?(0,Vf.jsxs)("div",{className:"toggle-ui-mobile",children:[(0,Vf.jsx)(uy,{ref:this._mobilePanelObj,title:"View Options",tabIndex:e,...this.props,tabs:[{list:t,listIndex:i,text:["Planet"],listRenderFunction:t=>{let e=l("content").getDB(X_.DATABASE_NAMES.planets)[t]||null;return e?e.displayName:e},listFunction:t=>{let e=l("content").getDB(X_.DATABASE_NAMES.planets)[t]||null;e&&e.id&&(this._resetCompare(),this.props.MainPathChanged(`planet/${e.id}`))},tabFunction:()=>{this._goToObject("planet",r.id)}},{text:["System"],tabFunction:()=>{this._goToObject("system",r.id)}},{list:a,listIndex:s,text:["Star"],listRenderFunction:t=>t.displayName,listFunction:t=>{this.props.MainPathChanged(`star/${t.exo_id}`)},tabFunction:()=>{this._goToObject("star",r.id)}},this._getPanelContentCmp(r.controller)]}),(0,Vf.jsx)("button",{id:"compareBtnObj",className:"rightPanelToggle",onClick:this._openPanel,children:(0,Vf.jsx)("span",{className:"rightPanelToggleIcon view"})})]},r.id+"mobile"):(0,Vf.jsx)(Ny,{ref:this.dropup,isMobile:o,title:"VIEW",tabIndex:e,tabs:[{svgPath:"assets/svg/planet.svg",list:t,listIndex:i,invalid:!t||0===t.length,text:["Planet"],subtitleHide:!r.id||!l("content").getDB(X_.DATABASE_NAMES.planets)[r.id]||!l("content").getDB("planets")[r.id].pl_rade,subtitleFormat:"dropdown",subtitleOptions:[{text:"COMPARE",f:async t=>{await l("comparison").comparePlanet(r.id)}},{text:"COMPARE TO EARTH",f:async t=>{await l("comparison").comparePlanet(r.id,"earth_fake")}},{text:"COMPARE TO JUPITER",f:async t=>{await l("comparison").comparePlanet(r.id,"jupiter_fake")}}],listRenderFunction:t=>{let e=l("content").getDB(X_.DATABASE_NAMES.planets)[t]||null;return e?e.displayName:e},listFunction:t=>{let e=l("content").getDB(X_.DATABASE_NAMES.planets)[t]||null;e&&e.id&&(this._resetCompare(),this.props.MainPathChanged(`planet/${e.id}`))},tabFunction:()=>{this._goToObject("planet",r.id)}},{svgPath:"assets/svg/system.svg",text:["System"],subtitle:"COMPARE TO OUR SOLAR SYSTEM",subtitleFormat:"button",subtitleFunction:t=>{this.setState({compareSS:!n},(()=>{l("comparison").compareSystem(this.state.compareSS,r.id)}))},tabFunction:()=>{this._goToObject("system",r.id)}},{svgPath:"assets/svg/star.svg",list:a,listIndex:s,text:["Star"],subtitleFormat:"dropdown",subtitleOptions:[{text:"COMPARE",f:t=>{l("comparison").reset(),l("camera").flyToObject(r.id,"star")}},{text:"COMPARE TO SUN",f:async t=>{let e=null;if(l("content").getDB(X_.DATABASE_NAMES.stars)[r.id])e=r.id;else for(let t in rf)if(rf[t]&&rf[t].stars){let i=rf[t].stars;for(let t=0;t<i.length;t++)if(i[t].exo_id===r.id){e=r.id;break}}if(!e){const t=l("content").getDB(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<t?.length;i+=1)t[i].exo_id===r.id&&(e=r.id)}e&&await l("comparison").compare(e,"sun_fake")}}],listRenderFunction:t=>t.displayName,listFunction:t=>{this.props.MainPathChanged(`star/${t.exo_id}`)},tabFunction:()=>{this._goToObject("star",r.id)}}]},Math.random()+"_dropuptab")}}const Ry=Py;function Ly(t,e){return function(){return t.apply(e,arguments)}}const{toString:Oy}=Object.prototype,{getPrototypeOf:Dy}=Object,ky=(By=Object.create(null),t=>{const e=Oy.call(t);return By[e]||(By[e]=e.slice(8,-1).toLowerCase())}),Fy=t=>(t=t.toLowerCase(),e=>ky(e)===t),Uy=t=>e=>typeof e===t,{isArray:zy}=Array,jy=Uy("undefined");var By;const Hy=Fy("ArrayBuffer"),Vy=Uy("string"),Gy=Uy("function"),qy=Uy("number"),Jy=t=>null!==t&&"object"==typeof t,Wy=t=>{if("object"!==ky(t))return!1;const e=Dy(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},Yy=Fy("Date"),$y=Fy("File"),Xy=Fy("Blob"),Ky=Fy("FileList"),Zy=Fy("URLSearchParams");function Qy(t,e,{allOwnKeys:i=!1}={}){if(null==t)return;let s,n;if("object"!=typeof t&&(t=[t]),zy(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{const n=i?Object.getOwnPropertyNames(t):Object.keys(t),a=n.length;let r;for(s=0;s<a;s++)r=n[s],e.call(null,t[r],r,t)}}function tv(t,e){e=e.toLowerCase();const i=Object.keys(t);let s,n=i.length;for(;n-- >0;)if(s=i[n],e===s.toLowerCase())return s;return null}const ev="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,iv=t=>!jy(t)&&t!==ev,sv=(nv="undefined"!=typeof Uint8Array&&Dy(Uint8Array),t=>nv&&t instanceof nv);var nv;const av=Fy("HTMLFormElement"),rv=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),ov=Fy("RegExp"),lv=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),s={};Qy(i,((i,n)=>{let a;!1!==(a=e(i,n,t))&&(s[n]=a||i)})),Object.defineProperties(t,s)},cv="abcdefghijklmnopqrstuvwxyz",hv="0123456789",uv={DIGIT:hv,ALPHA:cv,ALPHA_DIGIT:cv+cv.toUpperCase()+hv},dv=Fy("AsyncFunction"),pv={isArray:zy,isArrayBuffer:Hy,isBuffer:function(t){return null!==t&&!jy(t)&&null!==t.constructor&&!jy(t.constructor)&&Gy(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||Gy(t.append)&&("formdata"===(e=ky(t))||"object"===e&&Gy(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Hy(t.buffer),e},isString:Vy,isNumber:qy,isBoolean:t=>!0===t||!1===t,isObject:Jy,isPlainObject:Wy,isUndefined:jy,isDate:Yy,isFile:$y,isBlob:Xy,isRegExp:ov,isFunction:Gy,isStream:t=>Jy(t)&&Gy(t.pipe),isURLSearchParams:Zy,isTypedArray:sv,isFileList:Ky,forEach:Qy,merge:function t(){const{caseless:e}=iv(this)&&this||{},i={},s=(s,n)=>{const a=e&&tv(i,n)||n;Wy(i[a])&&Wy(s)?i[a]=t(i[a],s):Wy(s)?i[a]=t({},s):zy(s)?i[a]=s.slice():i[a]=s};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&Qy(arguments[t],s);return i},extend:(t,e,i,{allOwnKeys:s}={})=>(Qy(e,((e,s)=>{i&&Gy(e)?t[s]=Ly(e,i):t[s]=e}),{allOwnKeys:s}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject:(t,e,i,s)=>{let n,a,r;const o={};if(e=e||{},null==t)return e;do{for(n=Object.getOwnPropertyNames(t),a=n.length;a-- >0;)r=n[a],s&&!s(r,t,e)||o[r]||(e[r]=t[r],o[r]=!0);t=!1!==i&&Dy(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},kindOf:ky,kindOfTest:Fy,endsWith:(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const s=t.indexOf(e,i);return-1!==s&&s===i},toArray:t=>{if(!t)return null;if(zy(t))return t;let e=t.length;if(!qy(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},forEachEntry:(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},matchAll:(t,e)=>{let i;const s=[];for(;null!==(i=t.exec(e));)s.push(i);return s},isHTMLForm:av,hasOwnProperty:rv,hasOwnProp:rv,reduceDescriptors:lv,freezeMethods:t=>{lv(t,((e,i)=>{if(Gy(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const s=t[i];Gy(s)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(t,e)=>{const i={},s=t=>{t.forEach((t=>{i[t]=!0}))};return zy(t)?s(t):s(String(t).split(e)),i},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:tv,global:ev,isContextDefined:iv,ALPHABET:uv,generateString:(t=16,e=uv.ALPHA_DIGIT)=>{let i="";const{length:s}=e;for(;t--;)i+=e[Math.random()*s|0];return i},isSpecCompliantForm:function(t){return!!(t&&Gy(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),i=(t,s)=>{if(Jy(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[s]=t;const n=zy(t)?[]:{};return Qy(t,((t,e)=>{const a=i(t,s+1);!jy(a)&&(n[e]=a)})),e[s]=void 0,n}}return t};return i(t,0)},isAsyncFn:dv,isThenable:t=>t&&(Jy(t)||Gy(t))&&Gy(t.then)&&Gy(t.catch)};function mv(t,e,i,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),n&&(this.response=n)}pv.inherits(mv,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pv.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gv=mv.prototype,_v={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{_v[t]={value:t}})),Object.defineProperties(mv,_v),Object.defineProperty(gv,"isAxiosError",{value:!0}),mv.from=(t,e,i,s,n,a)=>{const r=Object.create(gv);return pv.toFlatObject(t,r,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),mv.call(r,t.message,e,i,s,n),r.cause=t,r.name=t.name,a&&Object.assign(r,a),r};const fv=mv;function yv(t){return pv.isPlainObject(t)||pv.isArray(t)}function vv(t){return pv.endsWith(t,"[]")?t.slice(0,-2):t}function bv(t,e,i){return t?t.concat(e).map((function(t,e){return t=vv(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}const xv=pv.toFlatObject(pv,{},null,(function(t){return/^is[A-Z]/.test(t)})),Sv=function(t,e,i){if(!pv.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const s=(i=pv.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!pv.isUndefined(e[t])}))).metaTokens,n=i.visitor||c,a=i.dots,r=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&pv.isSpecCompliantForm(e);if(!pv.isFunction(n))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(pv.isDate(t))return t.toISOString();if(!o&&pv.isBlob(t))throw new fv("Blob is not supported. Use a Buffer instead.");return pv.isArrayBuffer(t)||pv.isTypedArray(t)?o&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,i,n){let o=t;if(t&&!n&&"object"==typeof t)if(pv.endsWith(i,"{}"))i=s?i:i.slice(0,-2),t=JSON.stringify(t);else if(pv.isArray(t)&&function(t){return pv.isArray(t)&&!t.some(yv)}(t)||(pv.isFileList(t)||pv.endsWith(i,"[]"))&&(o=pv.toArray(t)))return i=vv(i),o.forEach((function(t,s){!pv.isUndefined(t)&&null!==t&&e.append(!0===r?bv([i],s,a):null===r?i:i+"[]",l(t))})),!1;return!!yv(t)||(e.append(bv(n,i,a),l(t)),!1)}const h=[],u=Object.assign(xv,{defaultVisitor:c,convertValue:l,isVisitable:yv});if(!pv.isObject(t))throw new TypeError("data must be an object");return function t(i,s){if(!pv.isUndefined(i)){if(-1!==h.indexOf(i))throw Error("Circular reference detected in "+s.join("."));h.push(i),pv.forEach(i,(function(i,a){!0===(!(pv.isUndefined(i)||null===i)&&n.call(e,i,pv.isString(a)?a.trim():a,s,u))&&t(i,s?s.concat(a):[a])})),h.pop()}}(t),e};function Tv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function wv(t,e){this._pairs=[],t&&Sv(t,this,e)}const Ev=wv.prototype;Ev.append=function(t,e){this._pairs.push([t,e])},Ev.toString=function(t){const e=t?function(e){return t.call(this,e,Tv)}:Tv;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Av=wv;function Iv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mv(t,e,i){if(!e)return t;const s=i&&i.encode||Iv,n=i&&i.serialize;let a;if(a=n?n(e,i):pv.isURLSearchParams(e)?e.toString():new Av(e,i).toString(s),a){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}const Cv=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pv.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Nv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pv={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Av,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rv="undefined"!=typeof window&&"undefined"!=typeof document,Lv=(Ov="undefined"!=typeof navigator&&navigator.product,Rv&&["ReactNative","NativeScript","NS"].indexOf(Ov)<0);var Ov;const Dv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,kv={...t,...Pv},Fv=function(t){function e(t,i,s,n){let a=t[n++];if("__proto__"===a)return!0;const r=Number.isFinite(+a),o=n>=t.length;return a=!a&&pv.isArray(s)?s.length:a,o?(pv.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!r):(s[a]&&pv.isObject(s[a])||(s[a]=[]),e(t,i,s[a],n)&&pv.isArray(s[a])&&(s[a]=function(t){const e={},i=Object.keys(t);let s;const n=i.length;let a;for(s=0;s<n;s++)a=i[s],e[a]=t[a];return e}(s[a])),!r)}if(pv.isFormData(t)&&pv.isFunction(t.entries)){const i={};return pv.forEachEntry(t,((t,s)=>{e(function(t){return pv.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),s,i,0)})),i}return null},Uv={transitional:Nv,adapter:["xhr","http"],transformRequest:[function(t,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,n=pv.isObject(t);if(n&&pv.isHTMLForm(t)&&(t=new FormData(t)),pv.isFormData(t))return s?JSON.stringify(Fv(t)):t;if(pv.isArrayBuffer(t)||pv.isBuffer(t)||pv.isStream(t)||pv.isFile(t)||pv.isBlob(t))return t;if(pv.isArrayBufferView(t))return t.buffer;if(pv.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Sv(t,new kv.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,s){return kv.isNode&&pv.isBuffer(t)?(this.append(e,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((a=pv.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Sv(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return n||s?(e.setContentType("application/json",!1),function(t,e,i){if(pv.isString(t))try{return(0,JSON.parse)(t),pv.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Uv.transitional,i=e&&e.forcedJSONParsing,s="json"===this.responseType;if(t&&pv.isString(t)&&(i&&!this.responseType||s)){const i=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw fv.from(t,fv.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kv.classes.FormData,Blob:kv.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pv.forEach(["delete","get","head","post","put","patch"],(t=>{Uv.headers[t]={}}));const zv=Uv,jv=pv.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bv=Symbol("internals");function Hv(t){return t&&String(t).trim().toLowerCase()}function Vv(t){return!1===t||null==t?t:pv.isArray(t)?t.map(Vv):String(t)}function Gv(t,e,i,s,n){return pv.isFunction(s)?s.call(this,e,i):(n&&(e=i),pv.isString(e)?pv.isString(s)?-1!==e.indexOf(s):pv.isRegExp(s)?s.test(e):void 0:void 0)}class qv{constructor(t){t&&this.set(t)}set(t,e,i){const s=this;function n(t,e,i){const n=Hv(e);if(!n)throw new Error("header name must be a non-empty string");const a=pv.findKey(s,n);(!a||void 0===s[a]||!0===i||void 0===i&&!1!==s[a])&&(s[a||e]=Vv(t))}const a=(t,e)=>pv.forEach(t,((t,i)=>n(t,i,e)));return pv.isPlainObject(t)||t instanceof this.constructor?a(t,e):pv.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?a((t=>{const e={};let i,s,n;return t&&t.split("\n").forEach((function(t){n=t.indexOf(":"),i=t.substring(0,n).trim().toLowerCase(),s=t.substring(n+1).trim(),!i||e[i]&&jv[i]||("set-cookie"===i?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)})),e})(t),e):null!=t&&n(e,t,i),this}get(t,e){if(t=Hv(t)){const i=pv.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}(t);if(pv.isFunction(e))return e.call(this,t,i);if(pv.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Hv(t)){const i=pv.findKey(this,t);return!(!i||void 0===this[i]||e&&!Gv(0,this[i],i,e))}return!1}delete(t,e){const i=this;let s=!1;function n(t){if(t=Hv(t)){const n=pv.findKey(i,t);!n||e&&!Gv(0,i[n],n,e)||(delete i[n],s=!0)}}return pv.isArray(t)?t.forEach(n):n(t),s}clear(t){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const n=e[i];t&&!Gv(0,this[n],n,t,!0)||(delete this[n],s=!0)}return s}normalize(t){const e=this,i={};return pv.forEach(this,((s,n)=>{const a=pv.findKey(i,n);if(a)return e[a]=Vv(s),void delete e[n];const r=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}(n):String(n).trim();r!==n&&delete e[n],e[r]=Vv(s),i[r]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return pv.forEach(this,((i,s)=>{null!=i&&!1!==i&&(e[s]=t&&pv.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=(this[Bv]=this[Bv]={accessors:{}}).accessors,i=this.prototype;function s(t){const s=Hv(t);e[s]||(function(t,e){const i=pv.toCamelCase(" "+e);["get","set","has"].forEach((s=>{Object.defineProperty(t,s+i,{value:function(t,i,n){return this[s].call(this,e,t,i,n)},configurable:!0})}))}(i,t),e[s]=!0)}return pv.isArray(t)?t.forEach(s):s(t),this}}qv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pv.reduceDescriptors(qv.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),pv.freezeMethods(qv);const Jv=qv;function Wv(t,e){const i=this||zv,s=e||i,n=Jv.from(s.headers);let a=s.data;return pv.forEach(t,(function(t){a=t.call(i,a,n.normalize(),e?e.status:void 0)})),n.normalize(),a}function Yv(t){return!(!t||!t.__CANCEL__)}function $v(t,e,i){fv.call(this,null==t?"canceled":t,fv.ERR_CANCELED,e,i),this.name="CanceledError"}pv.inherits($v,fv,{__CANCEL__:!0});const Xv=$v,Kv=kv.hasStandardBrowserEnv?{write(t,e,i,s,n,a){const r=[t+"="+encodeURIComponent(e)];pv.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),pv.isString(s)&&r.push("path="+s),pv.isString(n)&&r.push("domain="+n),!0===a&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Zv(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Qv=kv.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function s(i){let s=i;return t&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=s(window.location.href),function(t){const e=pv.isString(t)?s(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return!0};function tb(t,e){let i=0;const s=function(t,e){t=t||10;const i=new Array(t),s=new Array(t);let n,a=0,r=0;return e=void 0!==e?e:1e3,function(o){const l=Date.now(),c=s[r];n||(n=l),i[a]=o,s[a]=l;let h=r,u=0;for(;h!==a;)u+=i[h++],h%=t;if(a=(a+1)%t,a===r&&(r=(r+1)%t),l-n<e)return;const d=c&&l-c;return d?Math.round(1e3*u/d):void 0}}(50,250);return n=>{const a=n.loaded,r=n.lengthComputable?n.total:void 0,o=a-i,l=s(o);i=a;const c={loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:l||void 0,estimated:l&&r&&a<=r?(r-a)/l:void 0,event:n};c[e?"download":"upload"]=!0,t(c)}}const eb="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,i){let s=t.data;const n=Jv.from(t.headers).normalize();let a,r,{responseType:o,withXSRFToken:l}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}if(pv.isFormData(s))if(kv.hasStandardBrowserEnv||kv.hasStandardBrowserWebWorkerEnv)n.setContentType(!1);else if(!1!==(r=n.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];n.setContentType([t||"multipart/form-data",...e].join("; "))}let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",i=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";n.set("Authorization","Basic "+btoa(e+":"+i))}const u=Zv(t.baseURL,t.url);function d(){if(!h)return;const s=Jv.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(t,e,i){const s=i.config.validateStatus;i.status&&s&&!s(i.status)?e(new fv("Request failed with status code "+i.status,[fv.ERR_BAD_REQUEST,fv.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}((function(t){e(t),c()}),(function(t){i(t),c()}),{data:o&&"text"!==o&&"json"!==o?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:s,config:t,request:h}),h=null}if(h.open(t.method.toUpperCase(),Mv(u,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(d)},h.onabort=function(){h&&(i(new fv("Request aborted",fv.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new fv("Network Error",fv.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const s=t.transitional||Nv;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(new fv(e,s.clarifyTimeoutError?fv.ETIMEDOUT:fv.ECONNABORTED,t,h)),h=null},kv.hasStandardBrowserEnv&&(l&&pv.isFunction(l)&&(l=l(t)),l||!1!==l&&Qv(u))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&Kv.read(t.xsrfCookieName);e&&n.set(t.xsrfHeaderName,e)}void 0===s&&n.setContentType(null),"setRequestHeader"in h&&pv.forEach(n.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),pv.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&"json"!==o&&(h.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",tb(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",tb(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=e=>{h&&(i(!e||e.type?new Xv(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(u);p&&-1===kv.protocols.indexOf(p)?i(new fv("Unsupported protocol "+p+":",fv.ERR_BAD_REQUEST,t)):h.send(s||null)}))},ib={http:null,xhr:eb};pv.forEach(ib,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const sb=t=>`- ${t}`,nb=t=>pv.isFunction(t)||null===t||!1===t,ab=t=>{t=pv.isArray(t)?t:[t];const{length:e}=t;let i,s;const n={};for(let a=0;a<e;a++){let e;if(i=t[a],s=i,!nb(i)&&(s=ib[(e=String(i)).toLowerCase()],void 0===s))throw new fv(`Unknown adapter '${e}'`);if(s)break;n[e||"#"+a]=s}if(!s){const t=Object.entries(n).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let i=e?t.length>1?"since :\n"+t.map(sb).join("\n"):" "+sb(t[0]):"as no adapter specified";throw new fv("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s};function rb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xv(null,t)}function ob(t){return rb(t),t.headers=Jv.from(t.headers),t.data=Wv.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ab(t.adapter||zv.adapter)(t).then((function(e){return rb(t),e.data=Wv.call(t,t.transformResponse,e),e.headers=Jv.from(e.headers),e}),(function(e){return Yv(e)||(rb(t),e&&e.response&&(e.response.data=Wv.call(t,t.transformResponse,e.response),e.response.headers=Jv.from(e.response.headers))),Promise.reject(e)}))}const lb=t=>t instanceof Jv?{...t}:t;function cb(t,e){e=e||{};const i={};function s(t,e,i){return pv.isPlainObject(t)&&pv.isPlainObject(e)?pv.merge.call({caseless:i},t,e):pv.isPlainObject(e)?pv.merge({},e):pv.isArray(e)?e.slice():e}function n(t,e,i){return pv.isUndefined(e)?pv.isUndefined(t)?void 0:s(void 0,t,i):s(t,e,i)}function a(t,e){if(!pv.isUndefined(e))return s(void 0,e)}function r(t,e){return pv.isUndefined(e)?pv.isUndefined(t)?void 0:s(void 0,t):s(void 0,e)}function o(i,n,a){return a in e?s(i,n):a in t?s(void 0,i):void 0}const l={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(t,e)=>n(lb(t),lb(e),!0)};return pv.forEach(Object.keys(Object.assign({},t,e)),(function(s){const a=l[s]||n,r=a(t[s],e[s],s);pv.isUndefined(r)&&a!==o||(i[s]=r)})),i}const hb={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{hb[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const ub={};hb.transitional=function(t,e,i){function s(t,e){return"[Axios v1.6.8] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,n,a)=>{if(!1===t)throw new fv(s(n," has been removed"+(e?" in "+e:"")),fv.ERR_DEPRECATED);return e&&!ub[n]&&(ub[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,n,a)}};const db={assertOptions:function(t,e,i){if("object"!=typeof t)throw new fv("options must be an object",fv.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const a=s[n],r=e[a];if(r){const e=t[a],i=void 0===e||r(e,a,t);if(!0!==i)throw new fv("option "+a+" must be "+i,fv.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new fv("Unknown option "+a,fv.ERR_BAD_OPTION)}},validators:hb},pb=db.validators;class mb{constructor(t){this.defaults=t,this.interceptors={request:new Cv,response:new Cv}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const i=e.stack?e.stack.replace(/^.+\n/,""):"";t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+i):t.stack=i}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=cb(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:n}=e;void 0!==i&&db.assertOptions(i,{silentJSONParsing:pb.transitional(pb.boolean),forcedJSONParsing:pb.transitional(pb.boolean),clarifyTimeoutError:pb.transitional(pb.boolean)},!1),null!=s&&(pv.isFunction(s)?e.paramsSerializer={serialize:s}:db.assertOptions(s,{encode:pb.function,serialize:pb.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=n&&pv.merge(n.common,n[e.method]);n&&pv.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete n[t]})),e.headers=Jv.concat(a,n);const r=[];let o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let h,u=0;if(!o){const t=[ob.bind(this),void 0];for(t.unshift.apply(t,r),t.push.apply(t,l),h=t.length,c=Promise.resolve(e);u<h;)c=c.then(t[u++],t[u++]);return c}h=r.length;let d=e;for(u=0;u<h;){const t=r[u++],e=r[u++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=ob.call(this,d)}catch(t){return Promise.reject(t)}for(u=0,h=l.length;u<h;)c=c.then(l[u++],l[u++]);return c}getUri(t){return Mv(Zv((t=cb(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}pv.forEach(["delete","get","head","options"],(function(t){mb.prototype[t]=function(e,i){return this.request(cb(i||{},{method:t,url:e,data:(i||{}).data}))}})),pv.forEach(["post","put","patch"],(function(t){function e(e){return function(i,s,n){return this.request(cb(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}mb.prototype[t]=e(),mb.prototype[t+"Form"]=e(!0)}));const gb=mb;class _b{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;for(;e-- >0;)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const s=new Promise((t=>{i.subscribe(t),e=t})).then(t);return s.cancel=function(){i.unsubscribe(e)},s},t((function(t,s,n){i.reason||(i.reason=new Xv(t,s,n),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new _b((function(e){t=e})),cancel:t}}}const fb=_b,yb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yb).forEach((([t,e])=>{yb[e]=t}));const vb=yb,bb=function t(e){const i=new gb(e),s=Ly(gb.prototype.request,i);return pv.extend(s,gb.prototype,i,{allOwnKeys:!0}),pv.extend(s,i,null,{allOwnKeys:!0}),s.create=function(i){return t(cb(e,i))},s}(zv);bb.Axios=gb,bb.CanceledError=Xv,bb.CancelToken=fb,bb.isCancel=Yv,bb.VERSION="1.6.8",bb.toFormData=Sv,bb.AxiosError=fv,bb.Cancel=bb.CanceledError,bb.all=function(t){return Promise.all(t)},bb.spread=function(t){return function(e){return t.apply(null,e)}},bb.isAxiosError=function(t){return pv.isObject(t)&&!0===t.isAxiosError},bb.mergeConfig=cb,bb.AxiosHeaders=Jv,bb.formToJSON=t=>Fv(pv.isHTMLForm(t)?new FormData(t):t),bb.getAdapter=ab,bb.HttpStatusCode=vb,bb.default=bb;const xb=bb;class Sb extends e.Component{constructor(t){super(t),this.state={galleriesByName:{}},this._touchStartX=null,this._touchStartY=null,this._oldX=null,this._element=null,this._isDragging=!1,this._imgBaseUrl="./assets/image/generic/",this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchScroll=this._handleTouchScroll.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleDragStart=this._handleDragStart.bind(this),this._handleScroll=this._handleScroll.bind(this),this._onMouseClick=this._onMouseClick.bind(this),this._handleDragEnd=this._handleDragEnd.bind(this),this._handleMouseOut=this._handleMouseOut.bind(this)}componentDidMount(){let t=document.getElementsByClassName("planet-browser-body")[0];t.addEventListener("touchstart",this._handleTouchStart,{passive:!1}),t.addEventListener("touchmove",this._handleTouchScroll,{passive:!1}),t.addEventListener("touchend",this._handleTouchEnd,{passive:!1}),t.addEventListener("mousedown",this._handleMouseDown,{passive:!1}),t.addEventListener("mousemove",this._handleMouseMove,{passive:!1}),t.addEventListener("mouseup",this._handleMouseUp,{passive:!1}),t.addEventListener("mouseout",this._handleMouseOut,{passive:!1}),t.addEventListener("click",this._onMouseClick,!1)}componentWillUnmount(){let t=document.getElementsByClassName("planet-browser-body")[0];t.removeEventListener("touchstart",this._handleTouchStart),t.removeEventListener("touchmove",this._handleTouchScroll),t.removeEventListener("touchend",this._handleTouchEnd),t.removeEventListener("mousedown",this._handleMouseDown),t.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),t.removeEventListener("mouseup",this._handleMouseOut),t.removeEventListener("click",this._onMouseClick)}_handleMouseDown(t){this._touchStartX=t.clientX,this._touchStartY=t.clientY,this._handleDragStart(t)}_handleTouchStart(t){this._touchStartX=t.touches[0].clientX,this._touchStartY=t.touches[0].clientY,this._handleDragStart(t)}_handleDragStart(t){let e=document.getElementsByClassName("gallery");for(let i=0;i<e.length;i++){let s=e[i];if(!s.classList.contains("expanded")&&(s===t.target||s.contains(t.target))){if(this._element=s,this._element.childElementCount<=1)return void(this._element=null);let t=window.getComputedStyle(s),e=t.transform||t.webkitTransform||t.mozTransform,i=e.match(/^matrix3d\((.+)\)$/);i?this._oldX=parseFloat(i[1].split(", ")[13]):(i=e.match(/^matrix\((.+)\)$/),this._oldX=i?parseFloat(i[1].split(", ")[4]):0);break}}}_handleMouseMove(t){if(!this._element||!this._touchStartX)return;let e=t.clientX,i=t.clientY;this._handleScroll(t,e,i)}_handleTouchScroll(t){if(!this._element||!this._touchStartX||t.touches.length>1)return;let e=t.touches[0].clientX,i=t.touches[0].clientY;this._handleScroll(t,e,i)}_handleScroll(t,e,i){this._isDragging=!0;let s=e-this._touchStartX,n=Math.abs(this._touchStartY-i);if(Math.abs(s)>n&&this._element){t.stopPropagation(),n<50&&t.preventDefault();let e=this._oldX+s,i=-(this._element.childNodes.length-1.5)*this._element.childNodes[0].offsetWidth;e>0?e=0:e<i&&(e=i),this._element.style.transform="translate3D("+e+"px, 0px, 0px)"}}_handleMouseUp(){this._handleDragEnd()}_handleTouchEnd(){this._isDragging=!1,this._handleDragEnd()}_handleDragEnd(){this._touchStartX=null,this._touchStartY=null,this._oldX=null,this._element=null}_handleMouseOut(){this._isDragging=!1,this._handleDragEnd()}_onMouseClick(){this._isDragging=!1}render(){let{galleryPage:t,getManager:e}=this.props;const i=t=>t.expandedByDefault||t.expanded,s=t=>t.expandable,n=t=>(t.expanded||t.expandedByDefault?t.items:t.items.slice(0,5)).filter((i=>{if(t&&e&&e("content")&&e("content").getDB("stars")){const t=e("content").getDB("stars")[i.exo_id]||e("content").getDB("stars")[i.pl_hostname];if(t&&t.position&&(-1===t.position[0]||0===t.position[0]))return!1}return!0}));let a=null;return(0,Vf.jsx)("div",{className:"planet-browser-body",children:t.map(((r,o)=>(void 0!==r.unExpandText&&(a=r.unExpandText),(0,Vf.jsxs)("section",{className:o===t.length-1?"last":"",onMouseOut:this._handleMouseOut,children:[(0,Vf.jsx)("header",{className:"category_header",children:(0,Vf.jsxs)("div",{className:"gallery-header",children:[(0,Vf.jsxs)("h2",{className:"gallery_title",children:[r.displayName," "]}),r.displayInfo&&!i(r)&&(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:r.displayInfo})]}),r.subHeader&&(0,Vf.jsx)("span",{className:"subheader",children:r.subHeader}),i(r)?(0,Vf.jsx)("div",{className:"toggle-expand back",onClick:this.props.unExpandGallery,children:a}):s(r)?(0,Vf.jsx)("div",{className:"toggle-expand more",onClick:()=>this.props.expandGallery(r),children:"view all "}):(0,Vf.jsx)("div",{})]})}),(0,Vf.jsx)("div",{className:"gallery"+(i(r)?" expanded":""),style:{transform:"translate3D(0)"},children:n(r).map(((t,i)=>{let{short_description:s,imageList:n,exo_id:a}=t||{};if(!a)return null;const{display_name:o,noSubtitle:l,starType:c,planet_type:h,hwo:u}=t;if(u){const t=e("content").getDB(X_.DATABASE_NAMES.hwoApiData)[a];t&&(s=t.custom_star_description)}if(s&&(s=s.replace("<p>",""),s=s.replace("</p>","")),!n){const t=e("content").getDB("planets")[a];n=t?t.imageList:null}return(0,Vf.jsx)("div",{className:"gallery-item",children:(0,Vf.jsxs)("div",{className:"gallery-item-content"+("Browse planets by observatory"===r.displayName?" flex":""),children:[(0,Vf.jsx)("div",{onClick:()=>{t&&this.props&&this.props.onPictureClick&&this.props.onPictureClick(t)},className:"image",children:(0,Vf.jsxs)("div",{className:"image-container",children:[r.showHover&&s&&(0,Vf.jsx)("div",{className:"rollover",children:(0,Vf.jsx)("div",{className:"inner",children:(0,Vf.jsx)("p",{children:s})})}),n&&(0,Vf.jsx)("img",{draggable:"false",src:`${n}`,alt:`${o}`})]})}),(0,Vf.jsx)("div",{className:"title-container",children:(0,Vf.jsxs)("div",{className:"inner-title-container",children:[(0,Vf.jsx)("div",{className:"title "+(l?"no-subtitle":""),children:o}),!r.noSubtitle&&(0,Vf.jsx)("div",{className:"subtitle",children:"Where We Explore Stars"===r.displayName?c:h})]})})]})},a)}))}),i(r)&&r.isDisplayingMoreButton&&(0,Vf.jsx)("button",{className:"more-button",onClick:()=>this.props.getMorePages(r),children:"more"})]},r.displayName+o+Math.random()))))})}}Sb.propTypes={galleryPage:o().array};const Tb=Sb,wb={THUMBNAILS:{square:{F:"F_sq.png",G:"G_sq.png",K:"K_sq.png",M:"M_sq.png"},rect:{F:"F_rect.png",G:"G_rect.png",K:"K_rect.png",M:"M_rect.png"}},METHODS:{radial:{header:"Radial Velocity",icon:"radial-velocity.svg",works:"When a planet orbits a star, it exerts a gravitational tug on the star, causing the stars velocity to change. The radial velocity method searches for these velocity changes, which show up as slight shifts in the wavelength or spectral color of the stars light. Carried out using telescopes on the ground, this method was the first used to detect exoplanets around Sun-like stars and is often used to confirm planets found with other methods.",more:"Radial velocity measurements require a precise accounting of changes in the systems starlight. The motions of gas in the atmosphere of the star, known as its stellar or magnetic activity, can make it challenging to tell if the shifts in the stars radial velocity come from a planet companion or the star itself. The more magnetic activity that a star has, the more challenging it is to detect planets with this method. Larger planets are easier to detect with current radial velocity technologies, but as they improve, smaller planets may be uncovered."},transit:{header:"Transit",icon:"transit.svg",works:"If a planet passes between Earth and its host star, it blocks some of the star's light, like an eclipse. For that brief period of time, the star appears dimmer. It's a tiny change, but it's enough to clue astronomers into the presence of an exoplanet around the star. By measuring these dips in stellar brightness with telescopes on the ground and in space, astronomers have discovered  thousands of exoplanets. This method reveals the radius of the planet and can also be used to study the planets atmosphere.",more:"Success with the transit method requires looking at stars for long periods of time, to spot any repeated dips, but also requires a certain amount of luck  that the planets orbit takes it across the face of the star, as seen from Earth. Because of the luck involved in that geometry, it is difficult to predict or improve the chances of finding a planet with a transit, apart from observing it for a longer period of time."},imaging:{header:"Imaging",icon:"imaging.svg",works:"Direct imaging involves taking pictures of planets  the only method that looks directly at the planet, rather than changes in starlight. Taking pictures of planets is extremely difficult because exoplanets are so far away and are millions of times dimmer than the stars they orbit. To see the planet and overcome the challenge of how bright the star is, astronomers use techniques to remove the stars glare. By blocking this starlight, with techniques like a coronagraph or starshade, direct imaging can be used to find planets.",more:"So far only large planets, far from their host stars, have been found with direct imaging. Finding planets that are smaller and closer to their bright stars is more challenging, and rapidly advancing technology is working toward this goal. Direct imaging may eventually be used to look at details on planets, such as atmospheres, oceans, and land surfaces."},microlensing:{header:"Microlensing",icon:"micro-lensing.svg",prospect:"0 planets have been detected to date around this star using microlensing.",works:"The gravity from heavy objects warps the space around them, so light rays passing nearby will bend. The light behaves as if it were going through the lens of a magnifying glass. This means that when a planet passes in front of a faraway star, the planets gravity causes lensing and the star temporarily appears brighter. In the microlensing method of planet detection, astronomers search for these fleeting flashes across the sky, as indications of an exoplanet.",more:"Microlensing has been used to discover distant and, in principle, even free-floating planets not orbiting any star. As with the transit method, it is difficult to predict or improve the chances that a planetary system will have the right configuration to be detected with microlensing."},astrometry:{header:"Astrometry",prospect:"0 planets have been detected to date around this star using astrometry.",icon:"astrometry.svg",works:"When a planet orbits a star, its gravity can perturb (or alter) the motion of the star. The stars resulting motion can be visible as changes to its position in the sky. Astrometry uses precise measurements of a stars movement over time to find planets. The stars position in the sky can appear to change by such a small amount that it can be difficult to detect planets with astrometry, especially relatively small ones the size of Earth.",more:"To date, a handful of planets have been detected by space missions focused on astrometry of Milky Way stars. As observations of these systems grow more precise and frequent, more planets will be discovered using the astrometric technique. Unique to this method, astrometry can even be used to collect accurate data about a planets mass and orbit."}},INFO:{output:"The power output of a star is also called its luminosity, which is the rate at which the star emits energy. Think of a lightbulb, with power measured in watts (abbreviated W). The higher the number, the more power the bulb emits and the brighter it will appear. The Suns power output is roughly 380 million billion billion watts. A stars luminosity, and how it compares to the Sun, is important for exoplanet exploration because it sets a planets temperature and whether it will be temperate enough, like Earth, for liquid water and life.",temprature:"From the center of a star to the outer layers of its atmosphere, its temperature varies. With such a range of temperatures, astronomers use a quantity known as the stars effective temperature.  Effective temperature roughly corresponds to the temperature in the star's atmosphere, where much of the light we see is emitted. Sometimes the effective temperature is called the surface temperature, but that name can be misleading because a star does not have a solid surface. The Suns effective temperature is 5,772 Kelvin, which is 5,499 degrees Celsius and 9,930 degrees Fahrenheit.",magnitude:"Astronomers use the term visual magnitude to describe how bright a star is. Note that the magnitude scale is upside down; the smaller the value, the brighter the star. The Sun has a visual magnitude of -26.7, and the human eye can perceive brightnesses down to a visual magnitude of roughly 6.5. For reference, Sirius is the brightest star in the night sky, and it has a visual magnitude of -1.46.",habzone:"For a planet, the habitable zone is the distance from a star that allows liquid water to persist on its surface, as long as that planet has a suitable atmosphere. Every star has a habitable zone, but where that zone lies is different for stars of varying sizes and brightness. Habitable zones are important in exoplanet exploration because they indicate where conditions might be just right for life to exist on a planet. The Earth lies within the habitable zone of the Sun. In the search for life beyond Earth, astronomers tend to focus on habitable zones."}};let Eb=null;const Ab="order=asc&orderby=display_name",Ib={Featured:[{url:`${yf.nasaAPI}/exoplanet?category=featured_eox&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Featured",displayName:"Featured Discoveries"},{url:`${yf.nasaAPI}/exoplanet?category=travel_bureau&${Ab}`,showHover:!0,expandable:!1,displayName:"Travel Bureau"},{url:`${yf.nasaAPI}/exoplanet?category=weirdest_eox&${Ab}`,showHover:!0,expandable:!0,expandedByDefault:!1,unExpandText:" Featured",displayName:"Weirdest Planets"}],Stars:[{showHover:!0,expandable:!1,expandedByDefault:!0,displayName:"Where We Explore Stars"}],"Planet Types":[{url:`${yf.nasaAPI}/exoplanet?planet_type=Gas+Giant&${Ab}`,showHover:!0,expandable:!0,noSubtitle:!0,unExpandText:" Planet Types",displayName:"Gas Giant",displayInfo:"These planets belong to a class known as gas giants, similar to Jupiter or Saturn in our solar system."},{url:`${yf.nasaAPI}/exoplanet?planet_type=Neptune-like&${Ab}`,showHover:!0,expandable:!0,noSubtitle:!0,unExpandText:" Planet Types",displayName:"Neptune-like",displayInfo:"These planets are Neptunian worlds, similar to Uranus or Neptune in our solar system."},{url:`${yf.nasaAPI}/exoplanet?planet_type=Super+Earth&${Ab}`,showHover:!0,expandable:!0,noSubtitle:!0,unExpandText:" Planet Types",displayName:"Super Earth",displayInfo:"Super Earths are exotic planets unlike any in our solar systemmore massive than Earth yet lighter than gas giants like Neptune, and they can be made of gas, rock or a combination of both."},{url:`${yf.nasaAPI}/exoplanet?planet_type=Terrestrial&${Ab}`,showHover:!0,expandable:!0,noSubtitle:!0,unExpandText:" Planet Types",displayName:"Terrestrial",displayInfo:"Terrestrial planets are rocky, with iron-rich cores, like Mercury, Venus, Earth and Mars in our solar system."},{url:`${yf.nasaAPI}/exoplanet?planet_type=Unknown&${Ab}`,showHover:!0,expandable:!0,noSubtitle:!0,unExpandText:" Planet Types",displayName:"Unknown"}],"Mission Discoveries":[{url:`${yf.nasaAPI}/exoplanet?pl_kepflag=1&${Ab}`,showHover:!0,expandable:!0,displayName:"Kepler Discoveries",unExpandText:" Mission Discoveries"},{url:`${yf.nasaAPI}/exoplanet?pl_facility=Transiting+Exoplanet+Survey+Satellite+(TESS)&${Ab}`,showHover:!0,expandable:!0,displayName:"TESS Discoveries",unExpandText:" Mission Discoveries"}],"Detection Method":[{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Astrometry&${Ab}`,showHover:!0,unExpandText:" Detection Method",displayName:"Astrometry"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Eclipse+Timing+Variations&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Eclipse Timing Variations"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Imaging&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Imaging"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Microlensing&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Microlensing"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Orbital+Brightness+Modulation&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Orbital Brightness Modulation"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Astrometry&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Pulsar Timing"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Pulsar+Timing&${Ab}`,showHover:!0,unExpandText:" Detection Method",displayName:"Pulsation Timing Variations"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Radial+Velocity&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Radial Velocity"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Transit&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Transit"},{url:`${yf.nasaAPI}/exoplanet?pl_discmethod=Transit+Timing+Variations&${Ab}`,showHover:!0,expandable:!0,unExpandText:" Detection Method",displayName:"Transit Timing Variations"}],Observatory:[{showHover:!1,expandable:!1,expandedByDefault:!0,displayName:"Browse planets by observatory",unpaginated:!0,formatItems:t=>(t.forEach((t=>{t.noSubtitle=!0})),null===Eb&&(Eb={},t.forEach((t=>{Eb[t.exo_id]=[{displayName:t.name,showHover:!0,expandable:!1,expandedByDefault:!0,Text:" All Observatories"}]}))),t)}]};class Mb extends e.Component{constructor(t){super(t);const{browseDestination:e,browseLocation:i,getManager:s}=t;let n=!1;this._categories=Object.keys(Ib);let a=this._categories[0];if("browse_destination"===e){n=!0;for(let t in this._categories){const e=this._categories[t];if(i?.includes(e.replaceAll(" ","_"))){a=e;break}}}this.state={open:n,activeCategory:a,activeGalleryPageName:a,activeGalleryPage:[],lastExpandedPageNumber:1},this.hwoStarData=s("content").getDB(X_.DATABASE_NAMES.hwostars,!0),this.hwoStarApi=s("content").getDB(X_.DATABASE_NAMES.hwoApiData,!0),this.open=this.open.bind(this),this.close=this.close.bind(this),this.activateGalleryPage=this.activateGalleryPage.bind(this),this.expandGallery=this.expandGallery.bind(this),this.unExpandGallery=this.unExpandGallery.bind(this),this.getMorePages=this.getMorePages.bind(this),this.onPictureClick=this.onPictureClick.bind(this)}componentDidMount(){this.activateGalleryPage(this.state.activeGalleryPageName)}fetchActiveGalleryPage(t,e){let i=t?t[this.state.activeGalleryPageName]:void 0;if(void 0===i){i=mf;const{activeGalleryPageName:t}=this.state,s=this.props.getManager("content").getDB("planets",!0).filter((e=>{let{pl_facility:i}=e;return i===t}));s.sort(((t,e)=>{var i=t.displayName.toUpperCase(),s=e.displayName.toUpperCase();return i<s?-1:i>s?1:0}));const n=[];return s.forEach((t=>{let{exo_id:e}=t;n.push(this.props.getManager("content").updateAPIPlanet(e))})),void Promise.all(n).then((()=>{const i=[{items:s.map((t=>{const e=this.props.getManager("content").getAPIPlanet(t.exo_id),{planet_type:i=t.planet_type,description:s,displayName:n=t.displayName}=e||{};return{...t,planet_type:i,description:s,display_name:n}})),displayName:t,expandable:s.length>5,isDisplayingMoreButton:s.length%30==0&&s.length>0,noSubtitle:!1,expandedByDefault:!0,showHover:!0}];this.setState({activeGalleryPage:i,activeGalleryPageName:t},(()=>{e&&e()}))}))}1===i.length&&this.setState({lastExpandedPageNumber:1});let s=i.map((t=>t.url?t.unpaginated?t.url:t.url+`&per_page=${t.expandedByDefault,30}&page=1`:null));s=s.filter((t=>!!t));const{lastExpandedPageNumber:n}=this.state;xb.all(s.map((t=>xb.get(t)))).then((t=>{this.setState({activeGalleryPage:t.map(((t,e)=>{let s=i[e].formatItems?i[e].formatItems:t=>(t||{}).map((t=>{let{acf:e}=t;return e}));const{headers:a}=t||{},r=a.get("x-wp-totalpages")||1;let o=s(t.data)||[],l=!1;return o.length>5&&(l=!0),{...i[e],expandable:l,items:o,isDisplayingMoreButton:o.length%30==0&&o.length>0&&r>n}}))},(()=>{e&&e()}))}))}activateGalleryPage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ib,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.needsToGetContent=!0;let s=this.state.activeCategory;-1!==this._categories.indexOf(t)&&(s=t),this.setState({activeCategory:s,activeGalleryPage:[],lastExpandedPageNumber:1,activeGalleryPageName:t},(()=>{Object.keys(Ib).includes(t)&&this.updateBrowseDestinationUrl(),this.fetchActiveGalleryPage(e,i)}))}expandGalleryByNameType(t,e){if(Ib[t])for(let i=0;i<Ib[t].length;i++)if(Ib[t][i].displayName===e)return void this.activateGalleryPage(t,Ib,(()=>{this.setState({open:!0},(()=>{this.expandGallery(Ib[t][i])}))}))}expandGallery(t){let e=t.unpaginated?t.url:t.url+`&per_page=30&page=${this.state.lastExpandedPageNumber}`;xb.get(e).then((e=>{this.setState({activeGalleryPage:[{...t,expanded:!0,items:e.data.map((t=>{let{acf:e}=t;return e})),isDisplayingMoreButton:e.data.length%30==0&&e.data.length>0}],lastExpandedPageNumber:this.state.lastExpandedPageNumber+1})}))}getMorePages(t){let e=t.unpaginated?t.url:t.url+`&per_page=30&page=${this.state.lastExpandedPageNumber}`,i=t.items||[];xb.get(e).then((e=>{this.setState({activeGalleryPage:[{...t,expanded:!0,items:i.concat(e.data.map((t=>{let{acf:e}=t;return e}))),isDisplayingMoreButton:e.data.length%30==0&&e.data.length>0}],lastExpandedPageNumber:this.state.lastExpandedPageNumber+1})}))}unExpandGallery(){this.fetchActiveGalleryPage(Ib),this.setState({lastExpandedPageNumber:1})}updateBrowseDestinationUrl(){const{open:t,activeGalleryPageName:e}=this.state,{href:i}=window.location;if(i){const s=i.split("?browse_destination=");window.location=s[0],t&&(window.location+=`?browse_destination=${e.replaceAll(" ","_")}`)}}onPictureClick(t){if("Observatory"===this.state.activeGalleryPageName)this.activateGalleryPage(t.exo_id,Eb);else if(t.pl_hostname&&this.props.getManager("content").getDB("planets")[t.exo_id])this.setState({open:!1}),this.props.MainPathChanged(`planet/${t.exo_id}`);else for(let e=0;e<this.hwoStarData?.length;e+=1)this.hwoStarData[e].exo_id===t.exo_id&&this.setState({open:!1},(()=>{this.props.MainPathChanged(`star/${t.exo_id}`)}))}open(){this.setState({open:!0},(()=>{this.updateBrowseDestinationUrl()}))}close(){this.setState({open:!1},(()=>{this.updateBrowseDestinationUrl()}))}render(){let{open:t,activeCategory:e,activeGalleryPage:i,activeGalleryPageName:s,isDisplayingMoreButton:n}=this.state;const{isMobile:a,getManager:r}=this.props;if("Observatory"===s)i=[{displayName:"Browse planets by observatory",expandable:!1,noSubtitle:!0,expandedByDefault:!0,isDisplayingMoreButton:!1,showHover:!1,items:mf}];else if("Stars"===s){let t=this.hwoStarData;t=t?.map((t=>{let e=t.displayName,i="",s="";for(let s=0;s<this.hwoStarApi?.length;s+=1)t.exo_id===this.hwoStarApi[s].exo_id&&(e=this.hwoStarApi[s].title,i=this.hwoStarApi[s].custom_star_description||this.props.getManager("content").getDefaultHMODescription(t));return s="F"===t.starType||"G"===t.starType?"Sun-like":"K"===t.starType?"orange dwarf":"M"===t.starType?"red dwarf":"unknown",{...t,description:i,categories:[],display_name:e,exo_id:t.exo_id,starType:s,local:!0,imageList:`./assets/image/exostar/${wb.THUMBNAILS.square[t.starType]}`}})),t=t?.sort(((t,e)=>(t?.st_dist||t?.positionJ2000?.magnitude())-(e?.st_dist||e?.positionJ2000?.magnitude()))),i=[{displayName:"Where We Explore Stars",expandable:!1,noSubtitle:!1,expandedByDefault:!0,subHeader:"Stars with the best prospects of discovering Earth-like planets with direct imaging.",isDisplayingMoreButton:!1,showHover:!0,items:t}]}return(0,Vf.jsxs)("div",{className:"planet-browser scrollable overlay",style:t?{display:"block"}:{display:"none"},children:[a?(0,Vf.jsxs)("header",{className:"category-bar",children:[(0,Vf.jsx)("div",{className:"category-select",children:(0,Vf.jsx)("select",{className:"dropdown",value:e,onChange:t=>{this.activateGalleryPage(t.target.value)},children:this._categories.map(((t,e)=>(0,Vf.jsx)("option",{value:t,className:"category",children:t},e)))})}),(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})})]}):(0,Vf.jsxs)("header",{className:"category-bar",children:[(0,Vf.jsx)("button",{className:"headerButton closeButton big",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsx)("ul",{className:"categories",children:this._categories.map(((t,i)=>(0,Vf.jsx)("li",{className:"category "+(t===e?"active":""),onClick:()=>{this.activateGalleryPage(t)},children:t},i)))})]}),(0,Vf.jsx)(Tb,{getManager:r,galleryPage:i,expandGallery:this.expandGallery,unExpandGallery:this.unExpandGallery,getMorePages:this.getMorePages,onPictureClick:this.onPictureClick,isDisplayingMoreButton:n})]})}}const Cb=Mb;var Nb=i(488),Pb=i.n(Nb),Rb=i(653);class Lb extends e.PureComponent{render(){const{data:t,side:e,type:i,title:s,objectName:n}=this.props;return(0,Vf.jsx)("div",{className:"card "+e+" "+t.class,children:(0,Vf.jsxs)("div",{className:"container",children:[(0,Vf.jsx)("div",{className:"title",children:s}),(0,Vf.jsxs)("div",{className:i+"-info",children:[(0,Vf.jsxs)("div",{className:"names",children:[(0,Vf.jsx)("span",{className:`object exo${i}color`,children:n}),(0,Vf.jsx)("span",{className:`to ${i}color`,children:t.title})]}),(0,Vf.jsxs)("div",{className:"circles",children:[(0,Vf.jsx)("div",{className:(t.size.larger?"exo":"")+i+"color larger"}),(0,Vf.jsx)("div",{className:(t.size.larger?"":"exo")+i+"color smaller",style:{width:t.size.relativeOffset+"%",height:t.size.relativeOffset+"%",left:(100-t.size.relativeOffset)/2+"%",bottom:(100-t.size.relativeOffset)/2+"%"}})]})]}),(0,Vf.jsxs)("div",{className:"facts",children:[t.mass.value>0&&(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"MASS"}),(0,Vf.jsx)("span",{className:"value",children:t.mass.display})]}),t.size.value>0&&(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"RADIUS"}),(0,Vf.jsxs)("span",{className:"value",children:[t.size.display," ",t.size.showEstimate?"(estimate)":""]})]})]})]})})}}const Ob=Lb;class Db extends e.PureComponent{constructor(t){super(t),this.state={ready:!1,speed:0,time:0,speedText:"Million miles per hour",timeText:"Years"},this.close=this.close.bind(this),this.updateTravel=this.updateTravel.bind(this),this.planetInfo=null,this.starInfo=null,this.APIData=null,this.data=null,this.observatories=null,this.sizeRatio=.2,this.massRatio=1/15,this.activeTravelMode="auto",this.hourToYear=114155e-9,this.kmToMiles=.621371,this.map={displayName:{api:"display_name",db:"displayName"},subtitle:{api:"subtitle"},description:{api:"description"},long_description:{api:"long_description"},imageURL:{api:"image"},discoveryYear:{api:"discovery_date",db:"pl_disc"},discoveryMethod:{api:"pl_discmethod",db:"pl_discmethod"},discoveryFacility:{api:"pl_facility",db:"pl_facility"},planetType:{api:"planet_type",db:"visType"},orbitalRadius:{db:"semiMajor"},orbitalPeriod:{db:"pl_orbper"},orbitalPeriodDisplay:{db:"period_display"},orbitalEccentricity:{db:"pl_orbeccen"},orbitalEccentricityLimit:{db:"pl_eccenlim"},orbitalDistance:{db:"semiMajor"},parentStarName:{api:"pl_hostname",db:"pl_hostname"},parentStarType:{db:"starType"},radiusToJupiter:{db:"pl_radj"},radiusToEarth:{db:"pl_rade"},massToJupiter:{db:"pl_massj"},massToEarth:{db:"pl_masse"},massDisplay:{api:"mass_display",db:"mass_display"},massToJupiterBest:{db:"pl_bmassj"},massToEarthBest:{db:"pl_bmasse"},massToSun:{db:"st_mass"},radiusToSun:{db:"st_rad"},showEstimate:{db:"fpl_radreflink"},starPosition:{db:"position"}},this.travelInfo=new Map([["auto",{speed:60,unit:"mi/h",div:e.createRef(),text:"Auto"}],["train",{speed:120,unit:"mi/h",div:e.createRef(),text:"Bullet train"}],["jet",{speed:600,unit:"mi/h",div:e.createRef(),text:"Jet"}],["voyager",{speed:38e3,unit:"mi/h",div:e.createRef(),text:"Voyager"}],["lightspeed",{speed:670616629,unit:"mi/h",div:e.createRef(),text:"Light speed"}]]),(0,q_.autoPlay)(!0)}componentDidMount(){const{getManager:t,info:e}=this.props;if(!t||!e||!e.id)return void this.close();const{id:i}=e;this.APIData=t("content").getAPIPlanet(i),this.planetInfo=t("content").getDB("planets")[i],this.planetInfo&&(this.starInfo=t("content").getDB("stars")[this.planetInfo.pl_hostname]),t("content").updateAPIPlanet(i).then((()=>{this.APIData=t("content").getAPIPlanet(i)||{},this.planetInfo=this.planetInfo,Object.keys(this.APIData).forEach((t=>{("string"==typeof this.APIData[t]||this.APIData[t]instanceof String)&&0===this.APIData[t].length&&delete this.APIData[t]})),this.planetInfo={...this.planetInfo||{},...this.APIData},this.data=this.generateDataObj(),this.setState({ready:!0},(()=>{this.updateTravel(null)}))})).catch((t=>{console.warn(t),this.setState({ready:!0},(()=>{this.updateTravel(null)}))}))}close(){this.props.closeDetailPanel()}generateDataObj(){let t=this.get("massToJupiterBest")||this.get("massToJupiter"),e="Jupiter";(t<=this.massRatio||this.isSuperEarth()||this.isTerrestrial())&&(t=this.get("massToEarthBest")||this.get("massToEarth"),e="Earth");let i=this.get("radiusToJupiter"),s="Jupiter";(i<=this.sizeRatio||this.isSuperEarth()||this.isTerrestrial())&&(i=this.get("radiusToEarth"),s="Earth");let n=i+" x "+s,a=this.get("massToSun"),r=this.get("radiusToSun"),o="Our Sun",l=r+" x "+o,c=0,h=this.get("orbitalEccentricityLimit");h<=0||this.isUnknown(h)?(c=this.get("orbitalEccentricity"),(c<=0||this.isUnknown(c))&&(c=0)):c="< "+this.get("orbitalEccentricityLimit");let u=this.get("description")||this.get("short_description")||this.get("derived_description");u&&(u=Pb()(u,{replace:t=>{if(null===t.parent){if("text"===t.type&&void 0!==t.children)return(0,Vf.jsx)("p",{children:(0,Nb.domToReact)(t.children)});if("text"===t.type&&!this.isBlank(t.data))return t.data}return u}}));let d="",p="";return""!==this.get("subtitle")?(d=this.get("subtitle"),p=this.get("displayName")):(d=this.get("displayName"),p=null),{info:{displayName:p,subtitle:d,imageURL:this.get("imageURL"),description:u,long_description:this.get("long_description"),discoveryYear:this.get("discoveryYear"),discoveryMethod:this.get("discoveryMethod"),discoveryFacility:this.get("discoveryFacility"),discoveryFacilityImage:this.getObservatoryImage(this.get("discoveryFacility")),planetType:this.get("planetType"),parentStarName:this.get("parentStarName"),parentStarType:this.get("parentStarType",{db:"star"})},orbital:{radius:this.get("orbitalRadius"),period:"NA"===this.get("orbitalPeriod")?"N/A":this.get("orbitalPeriodDisplay"),eccentricity:c,distance:this.get("orbitalDistance")},compare:{planet:{title:s,class:(r<=0?" center":"")+(i<=0?" hidden":""),mass:{value:t,to:e,display:this.get("massDisplay")},size:{value:i,to:s,display:n,larger:i>=1,relativeOffset:i<1?100*i:100/i,showEstimate:1===parseInt(this.get("showEstimate"))}},star:{title:o,class:(i<=0?" center":"")+(r<=0?" hidden":""),mass:{value:a,to:o,display:a+" x "+o},size:{value:r,to:o,display:l,larger:r>=1,relativeOffset:r<1?100*r:100/r}}}}}get(t){let{db:e="planet"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t,s=t;if(void 0!==this.map[t]&&(i=this.map[t].api,s=this.map[t].db),"subtitle"===t)return this.planetInfo[t];if(this.APIData&&void 0!==this.APIData[i])return this.APIData[i];if("imageURL"===t){const{imageOverlay:t}=this.planetInfo||{};return t}return"star"===e?this.starInfo?this.starInfo[s]:"":this.planetInfo&&this.planetInfo[s]?this.planetInfo[s]:null}getObservatoryImage(t){const{imageList:e}=this.props.getManager("content").getObservatory(t)||{};return e}getDiscoveryMethodText(t){return this.props.getManager("content").getAPIDiscovery(t)?this.props.getManager("content").getAPIDiscovery(t).body:""}getTravelTime(t,e){let{unit:i="km/y"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0;return s=t/e,"mi/h"===i?(s*=this.hourToYear,s*=this.kmToMiles):"km/h"===i&&(s*=this.hourToYear),s}updateTravel(t){let e="auto";null!==t&&(e=t.currentTarget.dataset.id);let i=X_.calculateRawDistance(this.get("starPosition",{db:"star"})),s=this.travelInfo.get(e),n=this.getTravelTime(i,s.speed,{unit:s.unit});n=this.formatTravelData(n,{outputUnit:"y",inputUnit:"y"});let a=this.formatTravelData(s.speed,{outputUnit:"mi/h",inputUnit:s.unit});this.setState({speedText:a.label,timeText:n.label}),this.animate({speed:a.value,time:n.value},500),this.travelInfo.get(this.activeTravelMode).div.current&&(this.travelInfo.get(this.activeTravelMode).div.current.classList.remove("active"),this.activeTravelMode=e,this.travelInfo.get(this.activeTravelMode).div.current.classList.add("active"))}formatTravelData(t){let{outputUnit:e="y",inputUnit:i="y"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={value:t,label:""};"km/h"===i&&"mi/h"===e?t*=this.kmToMiles:"km/y"===i&&"mi/h"===e&&(t*=this.hourToYear,t*=this.kmToMiles);let n="years";return"mi/h"===e?n="miles per hour":"km/h"===e&&(n="km per hour"),t>=1e9?(s.value=Math.round(t/1e9),s.label="Billion "+n):t>=1e6?(s.value=Math.round(t/1e6),s.label="Million "+n):t>=1e3?(s.value=Math.round(t/1e3),s.label="Thousand "+n):(s.value=Math.round(t),s.label=this.capitalize(n)),s}animate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new q_.Tween({speed:this.state.speed,time:this.state.time}).to({speed:t.speed,time:t.time},e).on("update",(t=>{let{speed:e,time:i}=t;this.setState({speed:Math.round(e),time:Math.round(i)})})).start()}checkPlural(t,e){return e>=2?t+"s":t}formatNumber(t){return 0===t?t.toFixed(1):(Math.round(100*t)/100).toFixed(2)}capitalize(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}isBlank(t){return!t||""===t||!/\w/g.test(t)}isUnknown(t){return"NA"===(t=String(t).toUpperCase())||"N/A"===t||"NULL"===t}isSuperEarth(){return!(!this.get("planetType")||!["super-terrestrial","super earth"].includes(this.get("planetType").toLowerCase()))}isTerrestrial(){return!(!this.get("planetType")||!["terrestrial"].includes(this.get("planetType").toLowerCase()))}generateDescription(){let t="a";["A","O"].includes(this.data.info.parentStarType.toUpperCase())&&(t="an");let e=this.data.info.planetType.toLowerCase();this.isSuperEarth()&&(e="super Earth");let i="";return i+=this.data.info.displayName+" is a ",i+=e+" exoplanet that orbits ",i+=t+" "+this.data.info.parentStarType+"-type star. ",this.data.compare.planet.mass.value<=0?i+="Its mass is unknown, ":i+="Its mass is "+this.data.compare.planet.mass.value+" "+this.data.compare.planet.mass.to+", ",i+="it takes "+this.data.orbital.period+" days to complete one orbit of its star ",i+="and is "+this.data.orbital.distance+" AU from its star. ",i+="Its discovery was announced in "+this.data.info.discoveryYear+".",i}scanDebug(){let t=this.props.getManager("content").getDB("planets");var e=[];for(var i in t){var s=t[i].plType;-1===e.indexOf(s)?(console.warn("Found new Key, Value = "+s),e.push(s)):console.warn("Key was already found, Value = "+s)}for(var n in e)for(var a in t)if(e[n]===t[a].plType){console.log("          Sample Datapoint: "+t[a].displayName);break}}render(){return this.state.ready&&this.data?(0,Vf.jsxs)("div",{className:"detail-overlay explore overlay scrollable",children:[this.props.isMobile?(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})}):(0,Vf.jsx)("button",{className:"headerButton closeButton big",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsx)("section",{className:"top-feature-area",children:(0,Vf.jsxs)("header",{children:[this.data.info.displayName&&(0,Vf.jsx)("div",{className:"object-name",children:this.data.info.displayName}),(0,Vf.jsx)("h1",{children:this.data.info.subtitle})]})}),(0,Vf.jsx)("section",{className:"content-page",children:(0,Vf.jsxs)("article",{className:"content",children:[(0,Vf.jsxs)("figure",{className:"image",children:[(0,Vf.jsx)("img",{src:this.data.info.imageURL}),(0,Vf.jsx)("figcaption",{children:"Artist's concept"})]}),(0,Vf.jsxs)("div",{className:"planet-info block small",children:[(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"DISCOVERED"}),(0,Vf.jsx)("span",{className:"value",children:this.data.info.discoveryYear})]}),(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"PLANET TYPE"}),(0,Vf.jsx)("span",{className:"value",children:this.data.info.planetType})]}),(0,Vf.jsx)("div",{className:"description",children:this.APIData&&(0,Rb.ZP)(this.APIData.long_description||this.data.info.long_description||this.APIData.description||this.data.info.description)})]}),(0,Vf.jsxs)("div",{className:"planet-facts block",children:[(0,Vf.jsxs)("div",{className:"fact first",children:[(0,Vf.jsxs)("div",{className:"key",children:["ORBITAL",(0,Vf.jsx)("br",{}),"RADIUS"]}),(0,Vf.jsxs)("div",{className:"value",children:[this.data.orbital.radius,(0,Vf.jsx)("span",{children:"AU"})]})]}),(0,Vf.jsxs)("div",{className:"fact second",children:[(0,Vf.jsxs)("div",{className:"key",children:["ORBITAL",(0,Vf.jsx)("br",{}),"PERIOD"]}),(0,Vf.jsx)("div",{className:"value",children:this.data.orbital.period})]}),(0,Vf.jsxs)("div",{className:"fact last",children:[(0,Vf.jsxs)("div",{className:"key",children:["ORBITAL",(0,Vf.jsx)("br",{}),"ECCENTRICITY"]}),(0,Vf.jsx)("div",{className:"value",children:this.data.orbital.eccentricity})]})]}),(0,Vf.jsxs)("div",{className:"size-compare block",children:[(0,Vf.jsx)(Ob,{data:this.data.compare.planet,side:"left",type:"planet",title:"Planet Comparison",objectName:this.data.info.displayName}),(0,Vf.jsx)(Ob,{data:this.data.compare.star,side:"right",type:"star",title:"Star Comparison",objectName:this.data.info.parentStarName})]}),(0,Vf.jsxs)("div",{className:"time-compare block small",children:[(0,Vf.jsx)("h2",{children:"How long to Travel Here from Earth?"}),(0,Vf.jsxs)("div",{className:"data-readouts",children:[(0,Vf.jsxs)("div",{className:"col",children:[(0,Vf.jsx)("div",{className:"title",children:"TRAVEL SPEED"}),(0,Vf.jsx)("div",{className:"value",children:this.state.speed}),(0,Vf.jsx)("div",{className:"units",children:this.state.speedText})]}),(0,Vf.jsxs)("div",{className:"col",children:[(0,Vf.jsx)("div",{className:"title",children:"TRAVEL TIME"}),(0,Vf.jsx)("div",{className:"value",children:this.state.time}),(0,Vf.jsx)("div",{className:"units",children:this.state.timeText})]})]}),(0,Vf.jsx)("div",{className:"options",children:(0,Vf.jsx)("div",{className:"container",children:Array.from(this.travelInfo).map((t=>{let e=t[0],i=t[1];return(0,Vf.jsxs)("button",{"data-id":e,className:e,ref:i.div,onClick:this.updateTravel,children:[(0,Vf.jsx)("div",{className:"icon"}),(0,Vf.jsx)("div",{className:"label",children:i.text})]},e)}))})})]}),(0,Vf.jsxs)("div",{className:"detection-method block small",children:[(0,Vf.jsxs)("h2",{children:["Detection Method: ",(0,Vf.jsx)("br",{})," ",this.data.info.discoveryMethod]}),(0,Vf.jsx)("div",{className:"blurb",children:this.getDiscoveryMethodText(this.data.info.discoveryMethod)})]}),(0,Vf.jsxs)("div",{className:"discovery-location block",children:[(0,Vf.jsx)("h2",{children:"Observed By"}),this.data.info.discoveryFacilityImage&&(0,Vf.jsx)("div",{className:"image",children:(0,Vf.jsx)("img",{src:this.data.info.discoveryFacilityImage})}),(0,Vf.jsx)("div",{className:"name",children:this.data.info.discoveryFacility})]})]})}),(0,Vf.jsx)("div",{className:"close-button",children:(0,Vf.jsx)("button",{onClick:this.close,children:"Close"})})]}):null}}const kb=Db;class Fb extends e.PureComponent{render(){const{data:t,side:e,type:i,title:s,objectName:n,toObject:a,info:r}=this.props;return(0,Vf.jsx)("div",{className:"whereweexplore card "+e+" "+t.class,children:(0,Vf.jsxs)("div",{className:"container",children:[(0,Vf.jsx)("div",{className:"title",children:s}),(0,Vf.jsxs)("div",{className:i+"-info",children:[(0,Vf.jsxs)("div",{className:"names",children:[(0,Vf.jsx)("span",{className:"object exostarcolor",children:n}),(0,Vf.jsx)("span",{className:"to starcolor",children:a})]}),(0,Vf.jsxs)("div",{className:"circles",children:[(0,Vf.jsx)("div",{className:"larger "+(t.size.larger?"exostarcolor":"starcolor")}),(0,Vf.jsx)("div",{className:"smaller "+(t.size.larger?"starcolor":"exostarcolor"),style:{width:t.size.relativeOffset+"%",height:t.size.relativeOffset+"%",left:(100-t.size.relativeOffset)/2+"%",bottom:(100-t.size.relativeOffset)/2+"%"}})]})]}),(0,Vf.jsxs)("div",{className:"facts",children:[t.massDisplay&&(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"MASS"}),(0,Vf.jsx)("span",{className:"value",children:t.massDisplay})]}),t.sizeDisplay&&(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"RADIUS"}),(0,Vf.jsx)("span",{className:"value",children:t.sizeDisplay})]})]}),r&&(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:r})]})]})})}}const Ub=Fb,zb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PGNsaXBQYXRoIGlkPSJpMCI+PHBhdGggZD0iTTEwLDAgTDEyLjkzODkyNjMsNS45NTQ5MTUwMyBMMTkuNTEwNTY1Miw2LjkwOTgzMDA2IEwxNC43NTUyODI2LDExLjU0NTA4NSBMMTUuODc3ODUyNSwxOC4wOTAxNjk5IEwxMCwxNSBMNC4xMjIxNDc0OCwxOC4wOTAxNjk5IEw1LjI0NDcxNzQyLDExLjU0NTA4NSBMMC40ODk0MzQ4MzcsNi45MDk4MzAwNiBMNy4wNjEwNzM3NCw1Ljk1NDkxNTAzIEwxMCwwIFoiPjwvcGF0aD48L2NsaXBQYXRoPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAgMS4wKSI+PGcgY2xpcC1wYXRoPSJ1cmwoI2kwKSI+PHBvbHlnb24gcG9pbnRzPSIwLjQ4OTQzNDgzNywwIDE5LjUxMDU2NTIsMCAxOS41MTA1NjUyLDE4LjA5MDE2OTkgMC40ODk0MzQ4MzcsMTguMDkwMTY5OSAwLjQ4OTQzNDgzNywwIiBzdHJva2U9Im5vbmUiIGZpbGw9IiNGRTlCMzQiPjwvcG9seWdvbj48L2c+PC9nPjwvc3ZnPg==",jb=[148886716.08557412,253241861.41313583];class Bb extends e.PureComponent{render(){const{side:t="right",title:e,objectName:i,toObject:s,info:n,orbitalRadius:a,habzone:r}=this.props;if(!r)return null;let o=null,l=null;r[1]>jb[1]?(l=[jb[0]/r[1],jb[1]/r[1]],o=[r[0]/r[1],1]):(l=[r[0]/jb[1],r[1]/jb[1]],o=[jb[0]/jb[1],1]);const c={hbLarge:{borderWidth:Math.round(131*(o[1]-o[0])/2*1)+"px"},hbSmall:{borderWidth:Math.round(131*(l[1]-l[0])/2*1)+"px",width:Math.round(l[1]/o[1]*100)+"%",height:Math.round(l[1]/o[1]*100)+"%"}};return l=[l[0].toFixed(2),l[1].toFixed(2)],o=[o[0].toFixed(2),o[1].toFixed(2)],(0,Vf.jsx)("div",{className:"whereweexplore habzone card "+t+" center",children:(0,Vf.jsxs)("div",{className:"container",children:[(0,Vf.jsx)("div",{className:"title",children:e}),(0,Vf.jsxs)("div",{className:"star-info",children:[(0,Vf.jsxs)("div",{className:"names larger",children:[(0,Vf.jsx)("span",{className:"object",children:i}),(0,Vf.jsx)("span",{className:"to",children:s})]}),(0,Vf.jsx)("div",{className:"circles",children:(0,Vf.jsxs)("div",{className:"habzoneArea",children:[(0,Vf.jsx)("div",{className:"largehabzone "+(r[1]>jb[1]?" exostar":" solarsystem"),style:c.hbLarge,children:(0,Vf.jsx)("div",{className:"star",children:(0,Vf.jsx)("img",{src:zb})})}),(0,Vf.jsx)("div",{className:"smallhabzone "+(r[1]>jb[1]?" solarsystem":" exostar"),style:c.hbSmall,children:(0,Vf.jsx)("div",{className:"star",children:(0,Vf.jsx)("img",{src:zb})})})]})})]}),(0,Vf.jsx)("div",{className:"facts",children:a&&(0,Vf.jsxs)("div",{className:"fact",style:{display:"block",textAlign:"center"},children:[(0,Vf.jsx)("span",{className:"key",children:"EARTH EQUIVALENT ORBITAL RADIUS"}),(0,Vf.jsx)("span",{className:"value",children:parseFloat(a).toFixed(2)+" x Earth-Sun Distance"})]})}),n&&(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:n})]})]})})}}const Hb=Bb;class Vb extends e.PureComponent{constructor(t){super(t),this.state={activeMethod:0,distance:"",planet:{},star:{},methods:[]},this.close=this.close.bind(this),this.handleProps=this.handleProps.bind(this),this.contentManager=t.getManager("content")}componentDidMount(){const{info:t}=this.props;if(!t||!t.id)return null;const e={};this.lastId=t.id,this.exoStars=this.contentManager.getDB(X_.DATABASE_NAMES.stars,!1),this.exoPlanets=this.contentManager.getDB(X_.DATABASE_NAMES.planets,!1),this.hwoStars=this.contentManager.getDB(X_.DATABASE_NAMES.hwostars,!0);for(let i=0;i<this.hwoStars?.length;i+=1)if(this.hwoStars[i].exo_id===t.id){const{magnitude:t,sy_dist:s,starType:n,tic_id:a,target_group:r,Astrometry:o,displayName:l}=this.hwoStars[i];let c=[];const h=Object.keys(this.exoStars);for(let t=0;t<h.length;t+=1)this.exoStars[h[t]].tic_id===a&&(c=this.exoStars[h[t]].planets,c=c?.filter((t=>!!this.exoPlanets[t])),c=c.map((t=>this.exoPlanets[t])));const u=Math.max(0,c.filter((t=>{let{discoverymethod:e}=t;return e===wb.METHODS.radial.header})).length),d=Math.max(0,c.filter((t=>{let{discoverymethod:e}=t;return e===wb.METHODS.transit.header})).length),p=Math.max(0,c.filter((t=>{let{discoverymethod:e}=t;return e===wb.METHODS.imaging.header})).length);let m=1===p?"1 planet has":`${p} planets have`;m+=" been detected to date around this star using direct imaging. Because the star is ",t<6.5&&(m+="bright"),t<6.5&&s<30&&(m+=", "),s<30&&(m+="nearby"),m+=" and the habitable zone would be far enough from the central star to image,",m+=` ${l} is a `,"A"===r?m+="prime":"B"!==r&&"C"!==r||(m+="good"),m+=" target for future direct imaging. Future large space telescopes will be able to search for exoplanets down to Earth size in the stars habitable zone",c.length>0?m+=" and characterize the planets previously detected.":m+=".";const g=[{tab:{text:wb.METHODS.radial.header,icon:wb.METHODS.radial.icon},content:{header:wb.METHODS.radial.header,prospects:(1===u?u+" planet has":u+" planets have")+" been detected to date around this star using radial velocities."||wb.METHODS.radial.prospect,works:wb.METHODS.radial.works,more:wb.METHODS.radial.more}},{tab:{text:wb.METHODS.transit.header,icon:wb.METHODS.transit.icon},content:{header:wb.METHODS.transit.header,prospects:(1===d?d+" planet has":d+" planets have")+" been detected to date around this star using transits."||wb.METHODS.transit.prospect,works:wb.METHODS.transit.works,more:wb.METHODS.transit.more}},{tab:{text:wb.METHODS.imaging.header,icon:wb.METHODS.imaging.icon},content:{header:wb.METHODS.imaging.header,prospects:m||wb.METHODS.imaging.prospect,works:wb.METHODS.imaging.works,more:wb.METHODS.imaging.more}},{tab:{text:wb.METHODS.microlensing.header,icon:wb.METHODS.microlensing.icon},content:{header:wb.METHODS.microlensing.header,prospects:wb.METHODS.microlensing.prospect,works:wb.METHODS.microlensing.works,more:wb.METHODS.microlensing.more}},{tab:{text:wb.METHODS.astrometry.header,icon:wb.METHODS.astrometry.icon},content:{header:wb.METHODS.astrometry.header,prospects:wb.METHODS.astrometry.prospect+(o||""),works:wb.METHODS.astrometry.works,more:wb.METHODS.astrometry.more}}];let _="A ";t<6.5&&(_+="bright"),t<6.5&&s<30&&(_+=", "),s<30&&(_+="nearby"),_+=" ";let f="";"F"===n||"G"===n?f="Sun-like":"M"===n?f="red dwarf":"K"===n&&(f="orange dwarf"),_+=`${f} star`,_+=c?.length>0?" harboring planets":" with good prospects for finding planets with future direct imaging",e.methods=g,e.tagline=_,e.planetCount=c.length,e.displayName=l,e.description=this.contentManager.getDefaultHMODescription(this.hwoStars[i]),e.timeline="With high-contrast direct imaging, it will become possible to search this star for Earth-sized planets. The prospect of finding an Earth analog around this bright, nearby Sun-like star makes it a good target for direct imaging with future space telescopes.",e.rv=u,e.transit=this.hwoStars[i]["Transit planets & prospects"],e.imaging=this.hwoStars[i]["Imaging planets & prospects"],e.astrometry=o;break}for(let i=0;i<this.hwoStars?.length;i+=1)this.hwoStars[i].exo_id===t.id&&(e.habzone=this.hwoStars[i].habZone,e.imageURL=wb.THUMBNAILS.rect[this.hwoStars[i].starType]||null,e.orbitalRadius=this.hwoStars[i].st_eei_orbsep,e.starType=this.hwoStars[i].starType,e.tempratue=this.hwoStars[i].st_teff,e.output=this.hwoStars[i].st_lum,e.magnitude=this.hwoStars[i].sy_vmag,e.radius=this.hwoStars[i].st_rad,e.mass=this.hwoStars[i].st_mass,e.distance=(3.261564*this.hwoStars[i].sy_dist).toFixed(0));if(this.hwoApiData=this.contentManager.getDB(X_.DATABASE_NAMES.hwoApiData,!1),0===Object.keys(this.hwoApiData).length)this.contentManager.getData(t.id).then((async i=>{try{this.hwoApiData[i.exo_id]=i,this.contentManager.setData(X_.DATABASE_NAMES.hwoApiData,this.hwoApiData);const s=this.assembleCustomContent(t.id);for(let t in s)e[t]=s[t]||e[t];this.setState({...e})}catch(t){console.warn("e: ",t)}})).catch((t=>{console.error("fetch:",t)}));else{const i=this.assembleCustomContent(t.id);for(let t in i)e[t]=i[t]||e[t]}this.setState({...e})}assembleCustomContent(t){return{displayName:this.hwoApiData[t]?.title?.length>0?this.hwoApiData[t]?.title:null,tagline:this.hwoApiData[t]?.tagline,description:this.hwoApiData[t]?.custom_star_description,popCulture:this.hwoApiData[t]?.pop_culture,timeline:this.hwoApiData[t]?.detection_timeline,rvProspect:this.hwoApiData[t]?.rv_planets_prospects,transitProspect:this.hwoApiData[t]?.transit_planets_prospects,imagingProspect:this.hwoApiData[t]?.imaging_planets_prospects,astrometryProspect:this.hwoApiData[t]?.astrometry,microlensingProspect:this.hwoApiData[t]?.microlensing}}handleProps(){const{info:t}=this.props;this.lastId!==t.id&&this.close()}close(){this.props.closeDetailPanel()}render(){const{info:t}=this.props;if(!t||!t.id)return null;const{mass:e,methods:i,displayName:s,activeMethod:n,imageURL:a,starType:r,habzone:o,tagline:l,planetCount:c,orbitalRadius:h,description:u,radius:d,distance:p,popCulture:m,timeline:g,tempratue:_,output:f,magnitude:y,rvProspect:v,transitProspect:b,imagingProspect:x,astrometryProspect:S,microlensingProspect:T}=this.state;return(0,Vf.jsxs)("div",{className:"detail-overlay explore overlay scrollable whereweexplore",children:[this.props.isMobile?(0,Vf.jsx)("div",{className:"headerBar",children:(0,Vf.jsx)("div",{className:"headerRight",children:(0,Vf.jsx)("button",{className:"headerButton closeButton",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})})})}):(0,Vf.jsx)("button",{className:"headerButton closeButton big",onClick:this.close,children:(0,Vf.jsx)("span",{className:"buttonIcon close"})}),(0,Vf.jsx)("section",{className:"top-feature-area",children:(0,Vf.jsxs)("header",{children:[s&&(0,Vf.jsx)("div",{className:"object-name",children:s}),(0,Vf.jsx)("h1",{children:l})]})}),(0,Vf.jsx)("section",{className:"content-page",children:(0,Vf.jsxs)("article",{className:"content",children:[a&&(0,Vf.jsxs)("figure",{className:"image",children:[(0,Vf.jsx)("div",{children:(0,Vf.jsx)("img",{src:`assets/image/exostar/${a}`,alt:`Star Type ${r}`})}),(0,Vf.jsx)("figcaption",{children:"Artist's concept"})]}),(0,Vf.jsxs)("div",{className:"planet-info block small",children:[(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"STAR TYPE"}),(0,Vf.jsx)("span",{className:"value",children:r})]}),(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"DISTANCE"}),(0,Vf.jsxs)("span",{className:"value",children:[p," light-years away"]})]}),(0,Vf.jsxs)("div",{className:"fact",children:[(0,Vf.jsx)("span",{className:"key",children:"CONFIRMED PLANETS"}),(0,Vf.jsx)("span",{className:"value",children:c})]}),(0,Vf.jsx)("div",{className:"description",style:{paddingTop:10},children:(0,Rb.ZP)(u)}),m&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("h3",{children:"Pop Culture"}),(0,Vf.jsx)("div",{className:"description",children:(0,Rb.ZP)(m)})]})]}),!isNaN(f)&&!isNaN(_)&&!isNaN(y)&&(0,Vf.jsxs)("div",{className:"planet-facts block whereweexplore",children:[(0,Vf.jsxs)("div",{className:"fact first",children:[(0,Vf.jsx)("div",{className:"key",children:"STELLAR POWER OUTPUT"}),(0,Vf.jsxs)("div",{className:"value",children:[Math.pow(10,parseFloat(f)).toFixed(2)," x Our Sun"]}),(0,Vf.jsxs)("div",{className:"sub",children:["Sun: 3.8 x 10",(0,Vf.jsx)("sup",{children:"26"})," W"]}),(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:wb.INFO.output})]})]}),(0,Vf.jsxs)("div",{className:"fact second",children:[(0,Vf.jsx)("div",{className:"key",children:"STELLAR TEMPERATURE"}),(0,Vf.jsxs)("div",{className:"value",children:[parseFloat(_).toFixed(0)," K"]}),(0,Vf.jsx)("div",{className:"sub",children:"Sun: 5772 K"}),(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:wb.INFO.temprature})]})]}),(0,Vf.jsxs)("div",{className:"fact last",children:[(0,Vf.jsx)("div",{className:"key",children:"VISUAL MAGNITUDE"}),(0,Vf.jsx)("div",{className:"value",children:parseFloat(y).toFixed(2)}),(0,Vf.jsx)("div",{className:"sub",children:"Sun: -26.7"}),(0,Vf.jsxs)("span",{className:"info_tip",children:[(0,Vf.jsx)("div",{className:"info_icon",children:(0,Vf.jsx)("span",{className:"info_image"})}),(0,Vf.jsx)("div",{className:"info_text",children:wb.INFO.magnitude})]})]})]}),(0,Vf.jsxs)("div",{className:"size-compare block",children:[f&&d&&(0,Vf.jsx)(Ub,{data:{massDisplay:`${parseFloat(e).toFixed(2)} x Our Sun`,sizeDisplay:`${parseFloat(d).toFixed(2)} x Our Sun`,class:d<=0?" center":"",size:{value:d,larger:d>=1,relativeOffset:d<1?100*d:100/d}},side:"left",type:"star",title:"Star Comparison",toObject:"Our Sun",objectName:s}),(0,Vf.jsx)(Hb,{habzone:o,info:wb.INFO.habzone,orbitalRadius:h,title:"Habitable Zone Comparison",toObject:"Solar System",objectName:s})]}),(0,Vf.jsxs)("div",{className:"time-compare block small",children:[(0,Vf.jsx)("div",{className:"options",children:(0,Vf.jsx)("div",{className:"container"})}),g?.length>0&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("h2",{children:"Exploration and Planetary Discovery"}),(0,Vf.jsx)("div",{className:"description",children:(0,Rb.ZP)(g)})]}),i&&i.length>0&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("h2",{children:"How to detect a planet in this system?"}),(0,Vf.jsx)("div",{className:"methods",children:i.map(((t,e)=>{const{tab:i,content:s}=t;let{prospects:a}=s||{};switch(i.text){case wb.METHODS.radial.header:a=v||a;break;case wb.METHODS.transit.header:a=b||a;break;case wb.METHODS.imaging.header:a=x||a;break;case wb.METHODS.microlensing.header:a=T||a;break;case wb.METHODS.astrometry.header:a=S||a}const r=a?.split(".");let o=r,l=null;return r?.length>1&&(o=r[0]+".",l=r.splice(1).join(".")),[(0,Vf.jsx)("div",{className:"tab tab"+(e+1)+(e===n?" active":" inactive"),onClick:()=>{this.setState({activeMethod:e})},children:(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)(Hf,{className:"svg svgBlue",src:`assets/svg/${i.icon}`}),(0,Vf.jsx)("span",{children:i.text})]})},"method_tab"+e),(0,Vf.jsxs)("div",{className:"panel"+(e===n?" active":" hidden"),children:[s.header&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("span",{className:"title",children:"METHOD"}),(0,Vf.jsx)("span",{className:"header",children:s.header})]}),s.prospects&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("span",{className:"title",children:"PLANETS & PROSPECTS"}),o&&(0,Vf.jsx)("span",{className:"text prospect",children:(0,Rb.ZP)(o)}),l&&(0,Vf.jsx)("span",{className:"text",children:(0,Rb.ZP)(l)})]}),s.works&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("span",{className:"title",children:"HOW IT WORKS"}),(0,Vf.jsx)("span",{className:"text",children:s.works})]}),s.more&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("span",{className:"title",children:"MORE"}),(0,Vf.jsx)("span",{className:"text",children:s.more})]})]},"method_content"+e)]}))})]})]})]})}),(0,Vf.jsx)("div",{className:"close-button",children:(0,Vf.jsx)("button",{onClick:this.close,children:"Close"})})]})}}const Gb=Vb,qb=[{svgPath:"assets/svg/planet.svg",list:[{text:"PLANET TYPES"}],text:["Planet","Type"]},{svgPath:"assets/svg/missions.svg",list:[{text:"Kepler Discoveries"},{text:"TESS Discoveries"}],text:["Missions"]},{svgPath:"assets/svg/observatory.svg",list:mf.map((t=>{let{display_name:e}=t;return e})),text:["Observatory"]}];class Jb extends e.PureComponent{constructor(t){super(t),this.state={open:!1,index:0,item:{},activeLink:""},this._handleSelection=this._handleSelection.bind(this),this._getContent=this._getContent.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}_handleSelection(t){let e=t.currentTarget.dataset.id;this.setState({activeLink:e}),this.props.MainPathChanged(e)}_getContent(){let{index:t,item:e}=this.state;switch(t){case 0:return{header:"REFINE BY PLANET TYPE",buttons:[{text:"All",link:"/"},{text:"Gas Giant",link:`filter/${wf.GasGiant.path}`},{text:"Neptune-like",link:`filter/${wf.NeptuneLike.path}`},{text:"Super Earth",link:`filter/${wf.SuperEarth.path}`},{text:"Terrestrial",link:`filter/${wf.Terrestrial.path}`}]};case 1:return{header:"DISCOVERIES",buttons:[{text:"All",link:"Kepler Discoveries"===e.text?`filter/${wf.KeplerAllDiscoveries.path}`:`filter/${wf.TESSAllDiscoveries.path}`},{text:"Confirmed",link:"Kepler Discoveries"===e.text?`filter/${wf.KeplerConfirmed.path}`:`filter/${wf.TESSConfirmed.path}`},{text:"Candidates",link:"Kepler Discoveries"===e.text?`filter/${wf.KeplerCandidates.path}`:`filter/${wf.TESSCandidates.path}`}]};default:return{}}}open(t,e,i){this.setState({open:!0,activeLink:i,index:t,item:e},(()=>{this.props.setParentState({centerOpen:!0})}))}close(){this.setState({open:!1},(()=>{this.props.setParentState({centerOpen:!1}),this.props.MainPathChanged("/")}))}render(){const{open:t,activeLink:e}=this.state,{header:i,buttons:s}=this._getContent();return(0,Vf.jsxs)("div",{className:"centerController toggle-ui-desktop "+(t?"":" hidden"),children:[(0,Vf.jsx)(Hf,{className:"svg svgBlue centerClose",src:"assets/svg/cancel.svg",onClick:()=>{this.close()}}),i&&(0,Vf.jsx)("div",{children:i}),s&&(0,Vf.jsx)("div",{className:"filters",children:s.map(((t,i)=>(0,Vf.jsx)("button",{"data-id":t.link,className:e===t.link?"centerActiveButton":"centerInactiveButton",onClick:this._handleSelection,children:t.text},i)))})]})}}const Wb=Jb;class Yb extends e.PureComponent{constructor(t){if(super(t),mf)for(let t=0;t<qb.length;t++)qb[t].text&&qb[t].text.indexOf("Observatory")>=0&&(qb[t].list=[],mf.forEach((e=>{qb[t].list.indexOf(e.display_name)<0&&qb[t].list.push(e.display_name)})),qb[t].list.sort(),qb[t].list.unshift("All Observatories"));this.state={isReady:!1,centerOpen:!1,data:qb,tabIndex:0,listIndex:[0,0,0]},this.mobilePanel=e.createRef(),this.mobileHelperPanel=e.createRef(),this.alert=e.createRef(),this.dropup=e.createRef(),this.filterModal=e.createRef(),this._getTabsContent=this._getTabsContent.bind(this),this._openPanel=this._openPanel.bind(this),this._openHelper=this._openHelper.bind(this),this.setState=this.setState.bind(this),this.reset=this.reset.bind(this)}componentDidMount(){this.handleProps()}handleProps(){let{data:t}=this.state,{info:e,earthTipShown:i,setParentState:s}=this.props;if(!e)return;let n=null,a=0,r=[0,0,0],o=this.state.centerOpen;if("home"===e.controller&&"all"!==e.category||(o=!1,this.filterModal&&this.filterModal.current&&this.filterModal.current.close()),"earth"===e.controller&&(i||this.alert.current.open({message:(0,Vf.jsxs)("p",{children:["Click anywhere",(0,Vf.jsx)("br",{}),"on the globe"]}),button:{text:"GOT IT",f:()=>{this.alert.current.close(),s({earthTipShown:!0})}}})),e.category&&t[0].list){let i=t[0].list;for(let t=0;t<i.length;t++)i&&i.link&&i.link.indexOf(e.category)>=0&&(r[0]=t);switch(e.category){case wf.GasGiant.path:n="Current filter: Gas Giant";break;case wf.NeptuneLike.path:n="Current filter: Neptune-like";break;case wf.SuperEarth.path:n="Current filter: Super Earth";break;case wf.Terrestrial.path:n="Current filter: Terrestrial";break;case wf.KeplerConfirmed.path:a=1,r[1]=0,n="Current filter: Kepler Confirmed";break;case wf.KeplerCandidates.path:a=1,r[1]=0,n="Current filter: Kepler Candidates";break;case wf.KeplerAllDiscoveries.path:a=1,r[1]=0,n="Current filter: Kepler All Discoveries";break;case wf.TESSConfirmed.path:a=1,r[1]=1,n="Current filter: TESS Confirmed";break;case wf.TESSCandidates.path:a=1,r[1]=1,n="Current filter: TESS Candidates";break;case wf.TESSAllDiscoveries.path:a=1,r[1]=1,n="Current filter: TESS All Discoveries";break;default:n="Current filter: All Planet Types"}}if(e.observatory){a=2;let i=e.observatory.replace(/_/g," "),s=t[2].list;for(let t=0;t<s.length;t++)if(s[t]===i){r[2]=t;break}n="Current filter: "+i}this.setState({subtitle:n,listIndex:r,tabIndex:a,centerOpen:o,isReady:!0},(()=>{this.dropup&&this.dropup.current&&this.dropup.current.handleProps(),this.mobilePanel&&this.mobilePanel.current&&this.mobilePanel.current.handleProps()}))}_getTabsContent(t,e){let{data:i}=this.state;const{MainPathChanged:s}=this.props;return[{svgPath:i[0].svgPath,listIndex:t[0],subtitle:e,subtitleFormat:"text",text:i[0].text,tabFunction:()=>{s("/"),this.filterModal.current.open(0,"PLANET TYPES","/")}},{svgPath:i[1].svgPath,subtitle:e,subtitleFormat:"text",listIndex:t[1],list:i[1].list,text:i[1].text,listRenderFunction:t=>t.text,listFunction:t=>{let e="";t&&"Kepler Discoveries"===t.text?(e=`filter/${wf.KeplerAllDiscoveries.path}`,s(e)):t&&"TESS Discoveries"===t.text&&(e=`filter/${wf.TESSAllDiscoveries.path}`,s(e)),this.filterModal.current.open(1,t,e)}},{svgPath:i[2].svgPath,listIndex:t[2],list:i[2].list,text:i[2].text,listRenderFunction:t=>t,listFunction:t=>{let e=t.replace(/ /g,"_");s("All_Observatories"===e?"/":`facility/${e}`)}}]}_openPanel(){this.mobilePanel.current.open()}_openHelper(){this.mobileHelperPanel.current.setState({open:!0})}reset(){this.filterModal.current&&this.filterModal.current.close(),this.props.getManager("scene").setFilter(),this.props.getManager("scene").starFade(!0)}render(){let{isReady:t,listIndex:e,subtitle:i,tabIndex:s,centerOpen:n}=this.state,{info:a,isMobile:r,MainPathChanged:o}=this.props;if(a&&"earth"===a.controller)return(0,Vf.jsx)(Kf,{ref:this.alert,className:"telescope"});if(!t)return null;let l=(0,Vf.jsx)(Wb,{ref:this.filterModal,setParentState:this.setState,MainPathChanged:o});return r?(0,Vf.jsxs)("div",{className:"toggle-ui-mobile",children:[(0,Vf.jsx)(ay,{isMobile:!0,ref:this.mobileHelperPanel,default:a&&"home"===a.controller,openFAQ:()=>{this.faq.current.open()}}),(0,Vf.jsx)(uy,{ref:this.mobilePanel,title:"Filter Galaxy",tabIndex:s,tabs:this._getTabsContent(e,i)}),!n&&(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("button",{className:"rightPanelToggle",onClick:this._openPanel,children:(0,Vf.jsx)("span",{className:"rightPanelToggleIcon"})}),(0,Vf.jsx)("button",{className:"rightPanelHelperToggle",onClick:this._openHelper,children:(0,Vf.jsx)("span",{className:"rightPanelHelperToggleIcon"})})]}),l]}):(0,Vf.jsxs)("div",{children:[!n&&(0,Vf.jsx)(Ny,{ref:this.dropup,isMobile:r,title:"FILTER",tabIndex:s,tabs:this._getTabsContent(e,i)}),l]})}}const $b=Yb;class Xb extends e.PureComponent{constructor(t){super(t),this.state={isMobile:this.isMobile(),isLandscape:this.isLandscape(),ready:!1,loading:!1,linkPath:"/",earthTipShown:!1,detailPanel:!1},this._pioneerRef=e.createRef(),this.planetBrowser=e.createRef(),this.homeController=e.createRef(),this.exoController=e.createRef(),this.footer=e.createRef(),this.detailOverlay=e.createRef(),this.wweOverlay=e.createRef(),this.menuOverlay=e.createRef(),this.link=e.createRef(),this.loading=e.createRef(),this.history=null,this.currentRoute=null,this.lastRoute=null,this.queryValues={},this._pioneer=null,this._scene=null,this._camera=null,this._managerTypes={sceneManager:cf,cameraManager:uf,comparisonManager:pf,contentManager:bf,spoutManager:xf},this._managers={},this._starfield=null,this._createScene=this._createScene.bind(this),this._createViewportAndCamera=this._createViewportAndCamera.bind(this),this._initExo=this._initExo.bind(this),this._addPlacemarks=this._addPlacemarks.bind(this),this.setState=this.setState.bind(this),this.MainPathChanged=this.MainPathChanged.bind(this),this.isMobile=this.isMobile.bind(this),this.isLandscape=this.isLandscape.bind(this),this.openPlanetBrowser=this.openPlanetBrowser.bind(this),this.openMenuOverlay=this.openMenuOverlay.bind(this),this.openDetailPanel=this.openDetailPanel.bind(this),this.closeDetailPanel=this.closeDetailPanel.bind(this),this.openGalleryPage=this.openGalleryPage.bind(this),this.resetHomeView=this.resetHomeView.bind(this),this.getManager=this.getManager.bind(this),this.setURLQueries=this.setURLQueries.bind(this),window.exoUI?window.exoUI.app=this:window.exoUI={app:this}}async componentDidMount(){this.loading.current.setState({loading:!0}),this._pioneer=new Su(this._pioneerRef.current),yf&&(this._pioneer.getDownloader().setReplacement("STATIC_ASSETS_URL","https://"+yf.staticUrl),this._pioneer.getDownloader().setReplacement("DYNAMIC_ASSETS_URL","https://"+yf.dynamicUrl)),this._pioneer.setTime(gh.now()),this._pioneer.setTimeRate(1),await this._createScene(),await this._createViewportAndCamera();let t=this._addManager("content","contentManager",this._pioneer,yf);await t.init();let e=this._addManager("camera","cameraManager",this._pioneer,this._scene,yf),i=this._addManager("scene","sceneManager",this._pioneer,this._scene,e,this.isMobile),s=this._addManager("comparison","comparisonManager",this._pioneer,this._scene,this._planets),n=this._addManager("spout","spoutManager",this._pioneer,this.getManager);i.setContentManager(t),i.setPathChangeHandler(this.MainPathChanged),e.setContentManager(t),e.setSpoutManager(n),s.setContentManager(t),s.setCameraManager(e),this._initExo(),this._scrollable=!1,window.addEventListener("touchstart",(t=>{this._scrollable=!1;let e=t.target;for(;null!==e.parentElement;){if(e.classList.contains("scrollable")){this._scrollable=!0;break}e=e.parentElement}}),!1),window.addEventListener("touchmove",(t=>{this._scrollable||t.preventDefault()}),{passive:!1}),window.addEventListener("touchend",(t=>{this._scrollable=!1}));let a=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${a}px`),window.addEventListener("resize",(t=>{let e=this.isMobile();this.state.isMobile,this.isLandscape(),this.state.isLandscape;let i=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${i}px`),e&&window.scroll(0,0)})),await this._pioneer.waitUntilNextFrame(),this.setState({ready:!0}),this.loading.current.setState({loading:!1}),this._setupSpout()}setURLQueries(t){const e=t.match(/\w+(?==)(?!=&)(?!=-)/g),i=t.match(/(?<==)\w+/g);e?.forEach(((t,e)=>{const s=null!==i[e]&&!isNaN(i[e]);this.queryValues[t]=s?parseFloat(i[e]):i[e]})),X_.setCurrentQueries(this.queryValues)}_setupSpout(){const{spout:t}=this.queryValues||{};if("true"===t){const t=this.history.location.pathname.split("/")[2];this.getManager("spout").enableSpout(t)}window.getVersion=()=>H_,window.pioneer=this._pioneer,window.app=this}getVersion(){return H_}_addManager(t,e){let i=this._managerTypes[e];if(void 0===this._managers[t]){for(var s=arguments.length,n=new Array(s>2?s-2:0),a=2;a<s;a++)n[a-2]=arguments[a];this._managers[t]=new i(...n)}return this._managers[t]}async _createScene(){this._scene=this._pioneer.addScene("main"),xp.createGroup("stars",this._scene),xp.createGroup("planets",this._scene),this._addPlacemarks(),xp.create("sun",this._scene,{nameSuffix:"_fake"}),xp.createGroup("planets",this._scene,{nameSuffix:"_fake"});let t=new vh(.87,.72,.04);this._planets=[this._scene.get("mercury_fake"),this._scene.get("venus_fake"),this._scene.get("earth_fake"),this._scene.get("mars_fake"),this._scene.get("jupiter_fake"),this._scene.get("saturn_fake"),this._scene.get("uranus_fake"),this._scene.get("neptune_fake")];const e=this._scene.get("sun");e.getComponentByType("lightSource")&&e.getComponentByType("lightSource").setEnabled(!1);const i=this._scene.get("sun_fake");i.getComponentByType("lightSource")&&i.getComponentByType("lightSource").setEnabled(!1);const s=i.getComponentByType("atmosphere");s&&s.setScaleHeight(2e4);let n=i.get("div");n.getDiv().classList.add("sun","fake"),n.setFadeWhenCloseToCamera(!1),i.removeController(i.get("fixed")),i.setEnabled(!1),this._planets.forEach((e=>{let i=e.getComponentByType("trail");i.setColor(t),i.setEnabled(!1);let s=e.getComponentByType("div");s.getDiv().style.color="#dbb50a",s.setEnabled(!1),e.get("dynamo",0).getEntity().setParent(null),e.setEnabled(!1)})),xp.create("scientist",this._scene).setEnabled(!1),xp.create("school_bus",this._scene).setEnabled(!1);const a=this._scene.get("milky_way");return this._milkyway=a.addComponent("sprite"),this._milkyway.setTextureUrl("assets/image/generic/MilkyWay.png"),this._milkyway.setSize(new Fh(12e17,12e17)),this._milkyway.setTransparent(!0),this._milkyway.setBlending("additive"),X_.MISSIONS.forEach((t=>{xp.create(t.id,this._scene)})),await this._scene.getLoadedPromise(),this._pioneer.waitUntilNextFrame()}async _createViewportAndCamera(){await bp.createFullSizeViewportAndCamera(this._scene),this._camera=this._scene.get("camera"),this._floodLight=this._camera.addComponent("lightSource"),this._floodLight.setEnabled(!1);let t=this._scene.addEntity("cameraTarget"),e=t.addController("fixed");const i=this._scene.get("earth");e.getEntity().setParent(i),e.setPosition(Vh.Zero),e.setOrientation(Lh.Identity),t.addController("rotateByEntityOrientation").setRotatingOrientation(!0)}_initExo(){let t=this._managers.content.dbObj;if(t.stars&&!X_.isEmptyObj(t.stars)){this._pioneer.registerComponentType("Exostarfield",K_),this._pioneer.registerComponentType("constellations",Cp),this._pioneer.registerControllerType("keplerianorbit",G_),this._pioneer.registerComponentType("annulus",Mp),this.sun=this._scene.get("sun"),this.sun.getComponentByType("div").getDiv().classList.add("sun"),this._starfield=this.sun.addComponent("Exostarfield","ExoMainstarfield"),this._starfield.init(t.stars,t.planets,this._managers.scene.updateLabel);let e=this.sun.addComponent("Exostarfield","ExoKeplercandidatefield");e.setInteractable(!1),e.init(this._managers.content.getDB("candidates"));let i=this.sun.addComponent("Exostarfield","ExoTESScandidatefield");i.setInteractable(!1),i.init(this._managers.content.getDB("tesscandidates"))}}_addPlacemarks(){const t=this._scene.get("earth"),e=this._scene.addEntity("placemarks");e.setParent(t),e.setCanOcclude(!1),e.setOcclusionRadius(t.getOcclusionRadius());const i=e.addController("fixed");i.setPosition(Vh.Zero),i.setOrientation(Lh.Identity),e.addController("rotateByEntityOrientation");const s=Object.keys(Tf());for(let i=0;i<s.length;i+=1){const n=s[i],{text:a,latLng:r}=Tf()[n],o=10,l=t.getComponentByClass(dd),c=Ep.addPlacemark(n,n,l,r[0],r[1],o);c.setParent(e);const h=c.get("div").getDiv();c.get("div").setAlignment(new Fh(.5,.5)),h.id=n,h.classList.add("placemark"),h.classList.remove("pioneer-label-div"),h.innerHTML=`<div class="pin"><img class="no-drag" src="assets/svg/map_marker.svg"></div><div class="content">${a}</div>`}}getManager(t){return void 0!==this._managers[t]?this._managers[t]:null}isMobile(){return window.matchMedia("(max-width: 64em)").matches}isLandscape(){return window.matchMedia("(orientation: landscape)").matches&&window.matchMedia("(max-height: 32em)").matches}openGalleryPage(t,e){e?this.planetBrowser.current.expandGalleryByNameType(t,e):(this.planetBrowser.current.open(),this.planetBrowser.current.activateGalleryPage(t))}openPlanetBrowser(){this.planetBrowser.current.open()}openMenuOverlay(){this.menuOverlay.current.open()}openDetailPanel(){window.parent.postMessage('{"message": "infoPanel", "open": 1}',"*"),this.setState({detailPanel:!0})}closeDetailPanel(){window.parent.postMessage('{"message": "infoPanel", "open": 0}',"*"),this.setState({detailPanel:!1})}resetHomeView(){this.homeController.current&&this.homeController.current.reset()}get pioneer(){return this._pioneer}get scene(){return this._scene}get camera(){return this._camera}MainPathChanged(t){if(!t||this.lastPath===t)return;this.lastPath=t,t="."===t[0]?t.substr(1):t;let e="./";if(e="."===e[0]?e.substr(1):e,(t="/"===t?e:e+t)&&this.getManager("content")&&this.getManager("content").getDB("planets")&&this.getManager("content").getDB("stars")){const e=t.split("/"),i=e.indexOf("planet");if(i>=0&&i+1<e.length){const t=this.getManager("content").getDB("planets")[e[i+1]];if(!t)return;if(!this.getManager("content").getDB("stars")[t.pl_hostname])return}let s=e.indexOf("star");if(s<0&&(s=e.indexOf("system")),s>=0&&s+1<e.length){for(let i in rf)if(rf[i].stars)for(let n=0;n<rf[i].stars.length;n++)if(rf[i].stars[n].exo_id===e[s+1])return this.history.push(t),void this.scene.getLoadedPromise().then((()=>{this._setupSpout()}));const i=this.getManager("content").getDB(X_.DATABASE_NAMES.hwostars,!0);for(let n=0;n<i?.length;n+=1)if(i[n].exo_id===e[s+1])return this.history.push(t),void this.scene.getLoadedPromise().then((()=>{this._setupSpout()}));if(!this.getManager("content").getDB(X_.DATABASE_NAMES.stars)[e[s+1]])return}}this.history.push("/"===t?t+this.location.search:t),this.scene.getLoadedPromise().then((()=>{this._setupSpout()}))}_propagateProps(t){let e=!!this.lastInfo;if(this.lastInfo)for(let i in this.lastInfo)this.lastInfo[i]!==t[i]&&(e=!0);e&&setTimeout((()=>{["homeController","exoController","footer","menuOverlay","wweOverlay"].map((t=>{this[t]&&this[t].current&&this[t].current.handleProps()}))}),300)}async checkLoading(t){if(!this.getManager)return null;const e=this.getManager("scene").getObjectById(t);if(!e||!e.get("model"))return null;const i=e.get("model");i.setForceLoaded(!0),this.loading&&this.loading.current&&this.loading.current.setState({loading:!0}),await i.getLoadedPromise(),this.loading&&this.loading.current&&this.loading.current.setState({loading:!1})}render(){const t=(0,Vf.jsx)("div",{className:"pioneer",ref:this._pioneerRef,style:{position:"absolute"}});let e=null,{isMobile:i,isLandscape:s,ready:n,earthTipShown:a,detailPanel:r}=this.state;if(n){const t=this.getManager("scene").getObjectById("earth"),n={isMobile:i,isLandscape:s,MainPathChanged:this.MainPathChanged,getManager:this.getManager},o={pioneer:this._pioneer,scene:this._scene};e=(0,Vf.jsx)(V,{children:(0,Vf.jsx)(H,{path:"/",render:e=>{null===this.history&&(this.history=e.history),this.location=e.location;let{pathname:s}=e.location,l=s?s.split("/"):[];l=l.filter((t=>t&&t.length>0));let c={};this.getManager("scene").select(null),this.getManager("scene").updateLabel(null);let h=0===l.length?"home":l[0];this.lastRoute=this.currentRoute,this.currentRoute=h,this.getManager("scene").toggleConstellations(!1);const u=this.getManager("content").getDB("stars",!0),d=this.getManager("content").getDB("planets",!0);switch(h){case"home":case"earth":break;case"filter":wf[l[1]]||(console.warn(`Filter ${l[1]} not found. Redirecting home...`),h="home");break;case"facility":mf.map((t=>{let{display_name:e}=t;return e.replace(/ /g,"_")})).includes(l[1])||(console.warn(`Facility ${l[1]} not found. Redirecting home...`),h="home");break;case"spacecraft":X_.MISSIONS.map((t=>{let{id:e}=t;return e})).includes(l[1])||(console.warn(`Mission ${l[1]} not found. Redirecting home...`),h="home");break;case"star":case"system":{const{position:t=[-1,-1,-1]}=u.find((t=>{let{exo_id:e}=t;return e===l[1]}))||{};let e=-1===t[0];for(let t in rf)if(rf[t].stars)for(let i=0;i<rf[t].stars.length;i++)if(rf[t].stars[i].exo_id===l[1]){e=!1;break}e&&(console.warn(`System / star ${l[1]} (or its position) not found. Redirecting home...`),h="home")}break;case"planet":{const{pl_hostname:t}=d.find((t=>{let{exo_id:e}=t;return e===l[1]}))||{},{position:e=[-1,-1,0]}=u.find((e=>{let{exo_id:i}=e;return i===t}))||{};-1===e[0]&&(console.warn(`Planet ${l[1]} (or its hosting star position) not found. Redirecting home...`),h="home")}break;default:console.warn("Path is not found. Redirecting home..."),h="home"}switch(this.sun?.getComponentByType("lightSource")?.setEnabled(!0),h){case"home":c.category="all",c.controller=h,this.getManager("scene").showPlacemarks(!1),this.getManager("scene").setFilter(),this.getManager("camera").goToGalaxyView().then((()=>{this.getManager("scene").hideExoSystem(),this.getManager("scene").cleanExoSystems(),this.getManager("scene").deleteExoSystem(),this.getManager("scene").starFade(!0,2e3),this._propagateProps(c)})).catch((t=>{console.warn("e: ",t)}));break;case"earth":if(t){const e=t.getComponentByType("spheroidLOD");if(e){const t=e.getTextureNames();if(t&&Array.isArray(t))for(let i=0;i<t.length;i++){const s=e.getTextureUrl(t[i]);e.setTexture(t[i],s,e.getTextureSizes(t[i]))}}}c.controller=h,["system","planet","star"].indexOf(this.lastRoute)>=0&&this.getManager("scene").setFilter();const e=[];for(let t=0;t<this._scene.getNumLightSources();t+=1){const i=this._scene.getLightSource(t).getEntity().getName();"sun"!==i&&"camera"!==i&&e.push(i)}for(let t=0;t<e.length;t+=1){const i=this._scene.get(e[t]);i?.getComponentByType("lightSource")?.setEnabled(!1)}this.getManager("camera").flyToEarth().then((()=>{this.getManager("scene").hideExoSystem(),this.getManager("scene").showPlacemarks(!0),this.getManager("scene").cleanExoSystems(),this.getManager("scene").deleteExoSystem(),this.getManager("scene").starFade(!0,1e3)})).catch((t=>{console.warn("e: ",t)}));break;case"filter":c.controller="home",c.category=l[1],this.getManager("scene").showPlacemarks(!1),this.getManager("scene").hideExoSystem(),["system","planet","star"].indexOf(this.lastRoute)>=0&&(this.getManager("scene").setFilter(),this.getManager("camera").goToGalaxyView()),this.getManager("scene").cleanExoSystems(),this.getManager("scene").deleteExoSystem(),this._starfield.starFade(!0,1e3),this._propagateProps(c);break;case"facility":c.controller="home",c.observatory=l[1],this.getManager("scene").showPlacemarks(!1),this.getManager("scene").hideExoSystem(),this.getManager("camera").goToGalaxyView(),["system","planet","star"].indexOf(this.lastRoute)>=0&&this.getManager("scene").setFilter(),this.getManager("scene").cleanExoSystems(),this.getManager("scene").deleteExoSystem(),this.getManager("scene").starFade(!0,1e3),this._propagateProps(c);break;case"spacecraft":c.controller=h,c.id=l[1],this.getManager("scene").showPlacemarks(!1),["system","planet","star","earth"].indexOf(this.lastRoute)>=0&&this.getManager("scene").setFilter(),this._pioneer.setTime(gh.now()),this.getManager("camera").flyToObject(c.id,h).then((()=>{this.getManager("scene").hideExoSystem(),this.getManager("scene").cleanExoSystems(),this.getManager("scene").deleteExoSystem(),this.getManager("scene").starFade(!0,1e3),this.checkLoading(c.id),this._propagateProps(c)})).catch((t=>{console.warn("e: ",t)}));break;case"system":c.controller=h,c.id=l[1],this.getManager("scene").showPlacemarks(!1),this.getManager("scene").setExoSystem(c.id),this.getManager("scene").showExoSystem(),this.getManager("scene").setHabzone(!0),this.getManager("scene").starFade(!1,1e3),this.getManager("camera").flyToObject(c.id,h).then((()=>{this.getManager("scene").cleanExoSystems(),this._propagateProps(c)})).catch((t=>{console.warn("e: ",t)}));break;case"star":case"planet":this.sun?.getComponentByType("lightSource")?.setEnabled(!1),c.controller=h,c.id=l[1],this.getManager("scene").showPlacemarks(!1),this.getManager("scene").setExoSystem(c.id),this.getManager("scene").showExoSystem(),this.getManager("scene").setHabzone(!1),this.getManager("scene").starFade(!1,1e3),this.getManager("camera").flyToObject(c.id,h).then((()=>{this.getManager("scene").cleanExoSystems(),this._propagateProps(c)})).catch((t=>{console.warn("e: ",t)}))}this._propagateProps(c),this.lastInfo=c;const p=this.getManager("content").getDB(X_.DATABASE_NAMES.hwostars,!0),m="star"===c.controller&&p.filter((t=>t&&c&&t.exo_id===c.id)).length>0;this.setURLQueries(e.location?.search);let g="",_="";return Object.keys(this.queryValues).includes("browse_destination")&&(g="browse_destination",_=this.queryValues[g]),(0,Vf.jsxs)("div",{className:"ui",children:[(0,Vf.jsx)(wy,{openPlanetBrowser:this.openPlanetBrowser,openMenuOverlay:this.openMenuOverlay,resetHomeView:this.resetHomeView,...n,...o}),(0,Vf.jsx)(Cb,{ref:this.planetBrowser,browseDestination:g,browseLocation:_,openPlanetBrowser:this.openPlanetBrowser,...n},`${g}_${_}`),(0,Vf.jsxs)("div",{children:["home"===c.controller||"earth"===c.controller?(0,Vf.jsx)($b,{ref:this.homeController,info:c,getManager:this.getManager,openPlanetBrowser:this.openPlanetBrowser,earthTipShown:a,setParentState:this.setState,...n}):(0,Vf.jsx)(Ry,{ref:this.exoController,info:c,...n}),(0,Vf.jsx)(qf,{id:c.id,controller:c.controller,getManager:this.getManager,...o}),(0,Vf.jsx)(yy,{ref:this.footer,info:c,starField:this._starfield,openDetailPanel:this.openDetailPanel,openGalleryPage:this.openGalleryPage,resetHomeView:this.resetHomeView,...n,...o}),(0,Vf.jsx)("div",{className:"toggle-ui-desktop",children:r&&(m?(0,Vf.jsx)(Gb,{ref:this.wweOverlay,info:c,closeDetailPanel:this.closeDetailPanel,...n}):(0,Vf.jsx)(kb,{ref:this.detailOverlay,info:c,closeDetailPanel:this.closeDetailPanel,...n}))})]}),i&&(0,Vf.jsx)(My,{ref:this.menuOverlay,openPlanetBrowser:this.openPlanetBrowser,resetHomeView:this.resetHomeView,...n,...o})]})}})})}return(0,Vf.jsxs)("div",{children:[t,e,(0,Vf.jsx)(Ay,{ref:this.loading})]})}}const Kb=Xb;document.addEventListener("DOMContentLoaded",(()=>{s.render((0,Vf.jsx)(Kb,{}),document.getElementById("exo"))}))})()})();